module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=538)}([function(e,t,n){"use strict";e.exports=n(294)},function(e,t){e.exports=require("path")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(333);t.GitProcess=r.GitProcess,t.GitTaskCancelResult=r.GitTaskCancelResult;var i=n(175);t.GitError=i.GitError,t.RepositoryDoesNotExistErrorCode=i.RepositoryDoesNotExistErrorCode,t.GitNotFoundErrorCode=i.GitNotFoundErrorCode},function(e,t,n){var r;
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(i.apply(null,r));else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?e.exports=i:void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";e.exports={...n(69),...n(162),...n(165),...n(263),...n(265),...n(271),...n(28),...n(280),...n(282),...n(114),...n(40),...n(73)};const r=n(8);Object.getOwnPropertyDescriptor(r,"promises")&&Object.defineProperty(e.exports,"promises",{get:()=>r.promises})},function(e,t,n){e.exports=n(352)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var r=c(n(422)),i=c(n(498)),o=c(n(524)),s=c(n(525)),a=c(n(526)),l=c(n(527));function c(e){return e&&e.__esModule?e:{default:e}}t.hover=s.default,t.handleHover=s.default,t.handleActive=a.default,t.loop=l.default;var u=t.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];var a=(0,r.default)(n),l=(0,i.default)(e,a);return(0,o.default)(l)};t.default=u},function(e,t){e.exports=require("child_process")},function(e,t){e.exports=require("fs")},function(e,t,n){(function(){t.Emitter=n(298),t.Disposable=n(116),t.CompositeDisposable=n(299)}).call(this)},function(e,t){e.exports=require("electron")},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(345),t)},function(e,t){e.exports=require("url")},function(e,t,n){(function(e){e.exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e){return void 0===e}function a(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function l(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function c(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Et(e,t,n,r,!0).utc()}function d(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function f(e){if(null==e._isValid){var t=d(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function m(e){var t=p(NaN);return null!=e?h(d(t),e):d(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var g=r.momentProperties=[];function y(e,t){var n,r,i;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=d(t)),s(t._locale)||(e._locale=t._locale),g.length>0)for(n=0;n<g.length;n++)s(i=t[r=g[n]])||(e[r]=i);return e}var v=!1;function b(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,r.updateOffset(this),v=!1)}function w(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function C(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function S(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=C(t)),n}function E(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&S(e[r])!==S(t[r]))&&s++;return s+o}function k(e){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function x(e,t){var n=!0;return h((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){for(var i,o=[],s=0;s<arguments.length;s++){if(i="","object"==typeof arguments[s]){for(var a in i+="\n["+s+"] ",arguments[0])i+=a+": "+arguments[0][a]+", ";i=i.slice(0,-2)}else i=arguments[s];o.push(i)}k(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var D,_={};function T(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),_[e]||(k(t),_[e]=!0)}function R(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(e,t){var n,r=h({},e);for(n in t)u(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},h(r[n],e[n]),h(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)u(e,n)&&!u(t,n)&&o(e[n])&&(r[n]=h({},r[n]));return r}function O(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,D=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)u(e,t)&&n.push(t);return n};var P={};function I(e,t){var n=e.toLowerCase();P[n]=P[n+"s"]=P[t]=e}function M(e){return"string"==typeof e?P[e]||P[e.toLowerCase()]:void 0}function F(e){var t,n,r={};for(n in e)u(e,n)&&(t=M(n))&&(r[t]=e[n]);return r}var N={};function B(e,t){N[e]=t}function L(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var H=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,U=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,j={},W={};function z(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(W[e]=i),t&&(W[t[0]]=function(){return L(i.apply(this,arguments),t[1],t[2])}),n&&(W[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function G(e,t){return e.isValid()?(t=q(t,e.localeData()),j[t]=j[t]||function(e){var t,n,r,i=e.match(H);for(t=0,n=i.length;t<n;t++)W[i[t]]?i[t]=W[i[t]]:i[t]=(r=i[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,o="";for(r=0;r<n;r++)o+=R(i[r])?i[r].call(t,e):i[r];return o}}(t),j[t](e)):e.localeData().invalidDate()}function q(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(U.lastIndex=0;n>=0&&U.test(e);)e=e.replace(U,r),U.lastIndex=0,n-=1;return e}var V=/\d/,$=/\d\d/,K=/\d{3}/,Y=/\d{4}/,Z=/[+-]?\d{6}/,X=/\d\d?/,Q=/\d\d\d\d?/,J=/\d\d\d\d\d\d?/,ee=/\d{1,3}/,te=/\d{1,4}/,ne=/[+-]?\d{1,6}/,re=/\d+/,ie=/[+-]?\d+/,oe=/Z|[+-]\d\d:?\d\d/gi,se=/Z|[+-]\d\d(?::?\d\d)?/gi,ae=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,le={};function ce(e,t,n){le[e]=R(t)?t:function(e,r){return e&&n?n:t}}function ue(e,t){return u(le,e)?le[e](t._strict,t._locale):new RegExp(he(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i}))))}function he(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var pe={};function de(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),a(t)&&(r=function(e,n){n[t]=S(e)}),n=0;n<e.length;n++)pe[e[n]]=r}function fe(e,t){de(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function me(e,t,n){null!=t&&u(pe,e)&&pe[e](t,n._a,n,e)}function ge(e){return ye(e)?366:365}function ye(e){return e%4==0&&e%100!=0||e%400==0}z("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),z(0,["YY",2],0,(function(){return this.year()%100})),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),I("year","y"),B("year",1),ce("Y",ie),ce("YY",X,$),ce("YYYY",te,Y),ce("YYYYY",ne,Z),ce("YYYYYY",ne,Z),de(["YYYYY","YYYYYY"],0),de("YYYY",(function(e,t){t[0]=2===e.length?r.parseTwoDigitYear(e):S(e)})),de("YY",(function(e,t){t[0]=r.parseTwoDigitYear(e)})),de("Y",(function(e,t){t[0]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return S(e)+(S(e)>68?1900:2e3)};var ve,be=we("FullYear",!0);function we(e,t){return function(n){return null!=n?(Se(this,e,n),r.updateOffset(this,t),this):Ce(this,e)}}function Ce(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Se(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ye(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ee(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Ee(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,r=(t%(n=12)+n)%n;return e+=(t-r)/12,1===r?ye(e)?29:28:31-r%7%2}ve=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},z("M",["MM",2],"Mo",(function(){return this.month()+1})),z("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),z("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),I("month","M"),B("month",8),ce("M",X),ce("MM",X,$),ce("MMM",(function(e,t){return t.monthsShortRegex(e)})),ce("MMMM",(function(e,t){return t.monthsRegex(e)})),de(["M","MM"],(function(e,t){t[1]=S(e)-1})),de(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[1]=i:d(n).invalidMonth=e}));var ke=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,xe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),De="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function _e(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=ve.call(this._shortMonthsParse,s))?i:null:-1!==(i=ve.call(this._longMonthsParse,s))?i:null:"MMM"===t?-1!==(i=ve.call(this._shortMonthsParse,s))||-1!==(i=ve.call(this._longMonthsParse,s))?i:null:-1!==(i=ve.call(this._longMonthsParse,s))||-1!==(i=ve.call(this._shortMonthsParse,s))?i:null}function Te(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=S(t);else if(!a(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ee(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Re(e){return null!=e?(Te(this,e),r.updateOffset(this,!0),this):Ce(this,"Month")}var Ae=ae,Oe=ae;function Pe(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=he(r[t]),i[t]=he(i[t]);for(t=0;t<24;t++)o[t]=he(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Ie(e,t,n,r,i,o,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,i,o,s),a}function Me(e){var t;if(e<100&&e>=0){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function Fe(e,t,n){var r=7+t-n;return-(7+Me(e,0,r).getUTCDay()-t)%7+r-1}function Ne(e,t,n,r,i){var o,s,a=1+7*(t-1)+(7+n-r)%7+Fe(e,r,i);return a<=0?s=ge(o=e-1)+a:a>ge(e)?(o=e+1,s=a-ge(e)):(o=e,s=a),{year:o,dayOfYear:s}}function Be(e,t,n){var r,i,o=Fe(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?r=s+Le(i=e.year()-1,t,n):s>Le(e.year(),t,n)?(r=s-Le(e.year(),t,n),i=e.year()+1):(i=e.year(),r=s),{week:r,year:i}}function Le(e,t,n){var r=Fe(e,t,n),i=Fe(e+1,t,n);return(ge(e)-r+i)/7}function He(e,t){return e.slice(t,7).concat(e.slice(0,t))}z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),I("week","w"),I("isoWeek","W"),B("week",5),B("isoWeek",5),ce("w",X),ce("ww",X,$),ce("W",X),ce("WW",X,$),fe(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=S(e)})),z("d",0,"do","day"),z("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),z("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),z("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),I("day","d"),I("weekday","e"),I("isoWeekday","E"),B("day",11),B("weekday",11),B("isoWeekday",11),ce("d",X),ce("e",X),ce("E",X),ce("dd",(function(e,t){return t.weekdaysMinRegex(e)})),ce("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),ce("dddd",(function(e,t){return t.weekdaysRegex(e)})),fe(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:d(n).invalidWeekday=e})),fe(["d","e","E"],(function(e,t,n,r){t[r]=S(e)}));var Ue="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),je="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),We="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function ze(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=ve.call(this._weekdaysParse,s))?i:null:"ddd"===t?-1!==(i=ve.call(this._shortWeekdaysParse,s))?i:null:-1!==(i=ve.call(this._minWeekdaysParse,s))?i:null:"dddd"===t?-1!==(i=ve.call(this._weekdaysParse,s))||-1!==(i=ve.call(this._shortWeekdaysParse,s))||-1!==(i=ve.call(this._minWeekdaysParse,s))?i:null:"ddd"===t?-1!==(i=ve.call(this._shortWeekdaysParse,s))||-1!==(i=ve.call(this._weekdaysParse,s))||-1!==(i=ve.call(this._minWeekdaysParse,s))?i:null:-1!==(i=ve.call(this._minWeekdaysParse,s))||-1!==(i=ve.call(this._weekdaysParse,s))||-1!==(i=ve.call(this._shortWeekdaysParse,s))?i:null}var Ge=ae,qe=ae,Ve=ae;function $e(){function e(e,t){return t.length-e.length}var t,n,r,i,o,s=[],a=[],l=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(r),a.push(i),l.push(o),c.push(r),c.push(i),c.push(o);for(s.sort(e),a.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)a[t]=he(a[t]),l[t]=he(l[t]),c[t]=he(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Ke(){return this.hours()%12||12}function Ye(e,t){z(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Ze(e,t){return t._meridiemParse}z("H",["HH",2],0,"hour"),z("h",["hh",2],0,Ke),z("k",["kk",2],0,(function(){return this.hours()||24})),z("hmm",0,0,(function(){return""+Ke.apply(this)+L(this.minutes(),2)})),z("hmmss",0,0,(function(){return""+Ke.apply(this)+L(this.minutes(),2)+L(this.seconds(),2)})),z("Hmm",0,0,(function(){return""+this.hours()+L(this.minutes(),2)})),z("Hmmss",0,0,(function(){return""+this.hours()+L(this.minutes(),2)+L(this.seconds(),2)})),Ye("a",!0),Ye("A",!1),I("hour","h"),B("hour",13),ce("a",Ze),ce("A",Ze),ce("H",X),ce("h",X),ce("k",X),ce("HH",X,$),ce("hh",X,$),ce("kk",X,$),ce("hmm",Q),ce("hmmss",J),ce("Hmm",Q),ce("Hmmss",J),de(["H","HH"],3),de(["k","kk"],(function(e,t,n){var r=S(e);t[3]=24===r?0:r})),de(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),de(["h","hh"],(function(e,t,n){t[3]=S(e),d(n).bigHour=!0})),de("hmm",(function(e,t,n){var r=e.length-2;t[3]=S(e.substr(0,r)),t[4]=S(e.substr(r)),d(n).bigHour=!0})),de("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=S(e.substr(0,r)),t[4]=S(e.substr(r,2)),t[5]=S(e.substr(i)),d(n).bigHour=!0})),de("Hmm",(function(e,t,n){var r=e.length-2;t[3]=S(e.substr(0,r)),t[4]=S(e.substr(r))})),de("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=S(e.substr(0,r)),t[4]=S(e.substr(r,2)),t[5]=S(e.substr(i))}));var Xe,Qe=we("Hours",!0),Je={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:xe,monthsShort:De,week:{dow:0,doy:6},weekdays:Ue,weekdaysMin:We,weekdaysShort:je,meridiemParse:/[ap]\.?m?\.?/i},et={},tt={};function nt(e){return e?e.toLowerCase().replace("_","-"):e}function rt(t){var n=null;if(!et[t]&&void 0!==e&&e&&e.exports)try{n=Xe._abbr,!function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}(),it(n)}catch(e){}return et[t]}function it(e,t){var n;return e&&((n=s(t)?st(e):ot(e,t))?Xe=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Xe._abbr}function ot(e,t){if(null!==t){var n,r=Je;if(t.abbr=e,null!=et[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=et[e]._config;else if(null!=t.parentLocale)if(null!=et[t.parentLocale])r=et[t.parentLocale]._config;else{if(null==(n=rt(t.parentLocale)))return tt[t.parentLocale]||(tt[t.parentLocale]=[]),tt[t.parentLocale].push({name:e,config:t}),null;r=n._config}return et[e]=new O(A(r,t)),tt[e]&&tt[e].forEach((function(e){ot(e.name,e.config)})),it(e),et[e]}return delete et[e],null}function st(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Xe;if(!i(e)){if(t=rt(e))return t;e=[e]}return function(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=nt(e[o]).split("-")).length,n=(n=nt(e[o+1]))?n.split("-"):null;t>0;){if(r=rt(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&E(i,n,!0)>=t-1)break;t--}o++}return Xe}(e)}function at(e){var t,n=e._a;return n&&-2===d(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>Ee(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,d(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),d(e)._overflowWeeks&&-1===t&&(t=7),d(e)._overflowWeekday&&-1===t&&(t=8),d(e).overflow=t),e}function lt(e,t,n){return null!=e?e:null!=t?t:n}function ct(e){var t,n,i,o,s,a=[];if(!e._d){for(i=function(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,r,i,o,s,a,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,s=4,n=lt(t.GG,e._a[0],Be(kt(),1,4).year),r=lt(t.W,1),((i=lt(t.E,1))<1||i>7)&&(l=!0);else{o=e._locale._week.dow,s=e._locale._week.doy;var c=Be(kt(),o,s);n=lt(t.gg,e._a[0],c.year),r=lt(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o}r<1||r>Le(n,o,s)?d(e)._overflowWeeks=!0:null!=l?d(e)._overflowWeekday=!0:(a=Ne(n,r,i,o,s),e._a[0]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(s=lt(e._a[0],i[0]),(e._dayOfYear>ge(s)||0===e._dayOfYear)&&(d(e)._overflowDayOfYear=!0),n=Me(s,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=i[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Me:Ie).apply(null,a),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(d(e).weekdayMismatch=!0)}}var ut=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ht=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pt=/Z|[+-]\d\d(?::?\d\d)?/,dt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ft=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],mt=/^\/?Date\((\-?\d+)/i;function gt(e){var t,n,r,i,o,s,a=e._i,l=ut.exec(a)||ht.exec(a);if(l){for(d(e).iso=!0,t=0,n=dt.length;t<n;t++)if(dt[t][1].exec(l[1])){i=dt[t][0],r=!1!==dt[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=ft.length;t<n;t++)if(ft[t][1].exec(l[3])){o=(l[2]||" ")+ft[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!pt.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=i+(o||"")+(s||""),Ct(e)}else e._isValid=!1}var yt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function vt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}var bt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function wt(e){var t,n,r,i,o,s,a,l=yt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(l){var c=(t=l[4],n=l[3],r=l[2],i=l[5],o=l[6],s=l[7],a=[vt(t),De.indexOf(n),parseInt(r,10),parseInt(i,10),parseInt(o,10)],s&&a.push(parseInt(s,10)),a);if(!function(e,t,n){return!e||je.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(d(n).weekdayMismatch=!0,n._isValid=!1,!1)}(l[1],c,e))return;e._a=c,e._tzm=function(e,t,n){if(e)return bt[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(l[8],l[9],l[10]),e._d=Me.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),d(e).rfc2822=!0}else e._isValid=!1}function Ct(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],d(e).empty=!0;var t,n,i,o,s,a=""+e._i,l=a.length,c=0;for(i=q(e._f,e._locale).match(H)||[],t=0;t<i.length;t++)o=i[t],(n=(a.match(ue(o,e))||[])[0])&&((s=a.substr(0,a.indexOf(n))).length>0&&d(e).unusedInput.push(s),a=a.slice(a.indexOf(n)+n.length),c+=n.length),W[o]?(n?d(e).empty=!1:d(e).unusedTokens.push(o),me(o,n,e)):e._strict&&!n&&d(e).unusedTokens.push(o);d(e).charsLeftOver=l-c,a.length>0&&d(e).unusedInput.push(a),e._a[3]<=12&&!0===d(e).bigHour&&e._a[3]>0&&(d(e).bigHour=void 0),d(e).parsedDateParts=e._a.slice(0),d(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),ct(e),at(e)}else wt(e);else gt(e)}function St(e){var t=e._i,n=e._f;return e._locale=e._locale||st(e._l),null===t||void 0===n&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),w(t)?new b(at(t)):(l(t)?e._d=t:i(n)?function(e){var t,n,r,i,o;if(0===e._f.length)return d(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Ct(t),f(t)&&(o+=d(t).charsLeftOver,o+=10*d(t).unusedTokens.length,d(t).score=o,(null==r||o<r)&&(r=o,n=t));h(e,n||t)}(e):n?Ct(e):function(e){var t=e._i;s(t)?e._d=new Date(r.now()):l(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=mt.exec(e._i);null===t?(gt(e),!1===e._isValid&&(delete e._isValid,wt(e),!1===e._isValid&&(delete e._isValid,r.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):i(t)?(e._a=c(t.slice(0),(function(e){return parseInt(e,10)})),ct(e)):o(t)?function(e){if(!e._d){var t=F(e._i);e._a=c([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),ct(e)}}(e):a(t)?e._d=new Date(t):r.createFromInputFallback(e)}(e),f(e)||(e._d=null),e))}function Et(e,t,n,r,s){var a,l={};return!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||i(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=n,l._i=e,l._f=t,l._strict=r,(a=new b(at(St(l))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function kt(e,t,n,r){return Et(e,t,n,r,!1)}r.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var xt=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=kt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()})),Dt=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=kt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}));function _t(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return kt();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Tt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Rt(e){var t=F(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===ve.call(Tt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<Tt.length;++r)if(e[Tt[r]]){if(n)return!1;parseFloat(e[Tt[r]])!==S(e[Tt[r]])&&(n=!0)}return!0}(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=st(),this._bubble()}function At(e){return e instanceof Rt}function Ot(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Pt(e,t){z(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+L(~~(e/60),2)+t+L(~~e%60,2)}))}Pt("Z",":"),Pt("ZZ",""),ce("Z",se),ce("ZZ",se),de(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Mt(se,e)}));var It=/([\+\-]|\d\d)/gi;function Mt(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(It)||["-",0,0],i=60*r[1]+S(r[2]);return 0===i?0:"+"===r[0]?i:-i}function Ft(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(w(e)||l(e)?e.valueOf():kt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):kt(e).local()}function Nt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Bt(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Lt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ht=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ut(e,t){var n,r,i,o,s,l,c=e,h=null;return At(e)?c={ms:e._milliseconds,d:e._days,M:e._months}:a(e)?(c={},t?c[t]=e:c.milliseconds=e):(h=Lt.exec(e))?(n="-"===h[1]?-1:1,c={y:0,d:S(h[2])*n,h:S(h[3])*n,m:S(h[4])*n,s:S(h[5])*n,ms:S(Ot(1e3*h[6]))*n}):(h=Ht.exec(e))?(n="-"===h[1]?-1:1,c={y:jt(h[2],n),M:jt(h[3],n),w:jt(h[4],n),d:jt(h[5],n),h:jt(h[6],n),m:jt(h[7],n),s:jt(h[8],n)}):null==c?c={}:"object"==typeof c&&("from"in c||"to"in c)&&(o=kt(c.from),s=kt(c.to),i=o.isValid()&&s.isValid()?(s=Ft(s,o),o.isBefore(s)?l=Wt(o,s):((l=Wt(s,o)).milliseconds=-l.milliseconds,l.months=-l.months),l):{milliseconds:0,months:0},(c={}).ms=i.milliseconds,c.M=i.months),r=new Rt(c),At(e)&&u(e,"_locale")&&(r._locale=e._locale),r}function jt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Wt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function zt(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(T(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Gt(this,Ut(n="string"==typeof n?+n:n,r),e),this}}function Gt(e,t,n,i){var o=t._milliseconds,s=Ot(t._days),a=Ot(t._months);e.isValid()&&(i=null==i||i,a&&Te(e,Ce(e,"Month")+a*n),s&&Se(e,"Date",Ce(e,"Date")+s*n),o&&e._d.setTime(e._d.valueOf()+o*n),i&&r.updateOffset(e,s||a))}Ut.fn=Rt.prototype,Ut.invalid=function(){return Ut(NaN)};var qt=zt(1,"add"),Vt=zt(-1,"subtract");function $t(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Kt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=st(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Yt=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function Zt(){return this._locale}function Xt(e,t){return(e%t+t)%t}function Qt(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-126227808e5:new Date(e,t,n).valueOf()}function Jt(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-126227808e5:Date.UTC(e,t,n)}function en(e,t){z(0,[e,e.length],0,t)}function tn(e,t,n,r,i){var o;return null==e?Be(this,r,i).year:(t>(o=Le(e,r,i))&&(t=o),nn.call(this,e,t,n,r,i))}function nn(e,t,n,r,i){var o=Ne(e,t,n,r,i),s=Me(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}z(0,["gg",2],0,(function(){return this.weekYear()%100})),z(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),en("gggg","weekYear"),en("ggggg","weekYear"),en("GGGG","isoWeekYear"),en("GGGGG","isoWeekYear"),I("weekYear","gg"),I("isoWeekYear","GG"),B("weekYear",1),B("isoWeekYear",1),ce("G",ie),ce("g",ie),ce("GG",X,$),ce("gg",X,$),ce("GGGG",te,Y),ce("gggg",te,Y),ce("GGGGG",ne,Z),ce("ggggg",ne,Z),fe(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=S(e)})),fe(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),z("Q",0,"Qo","quarter"),I("quarter","Q"),B("quarter",7),ce("Q",V),de("Q",(function(e,t){t[1]=3*(S(e)-1)})),z("D",["DD",2],"Do","date"),I("date","D"),B("date",9),ce("D",X),ce("DD",X,$),ce("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),de(["D","DD"],2),de("Do",(function(e,t){t[2]=S(e.match(X)[0])}));var rn=we("Date",!0);z("DDD",["DDDD",3],"DDDo","dayOfYear"),I("dayOfYear","DDD"),B("dayOfYear",4),ce("DDD",ee),ce("DDDD",K),de(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=S(e)})),z("m",["mm",2],0,"minute"),I("minute","m"),B("minute",14),ce("m",X),ce("mm",X,$),de(["m","mm"],4);var on=we("Minutes",!1);z("s",["ss",2],0,"second"),I("second","s"),B("second",15),ce("s",X),ce("ss",X,$),de(["s","ss"],5);var sn,an=we("Seconds",!1);for(z("S",0,0,(function(){return~~(this.millisecond()/100)})),z(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),z(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),z(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),z(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),z(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),z(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),I("millisecond","ms"),B("millisecond",16),ce("S",ee,V),ce("SS",ee,$),ce("SSS",ee,K),sn="SSSS";sn.length<=9;sn+="S")ce(sn,re);function ln(e,t){t[6]=S(1e3*("0."+e))}for(sn="S";sn.length<=9;sn+="S")de(sn,ln);var cn=we("Milliseconds",!1);z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var un=b.prototype;function hn(e){return e}un.add=qt,un.calendar=function(e,t){var n=e||kt(),i=Ft(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",s=t&&(R(t[o])?t[o].call(this,n):t[o]);return this.format(s||this.localeData().calendar(o,this,kt(n)))},un.clone=function(){return new b(this)},un.diff=function(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=Ft(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=M(t)){case"year":o=$t(this,r)/12;break;case"month":o=$t(this,r);break;case"quarter":o=$t(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:C(o)},un.endOf=function(e){var t;if(void 0===(e=M(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?Jt:Qt;switch(e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-Xt(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-Xt(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-Xt(t,1e3)-1}return this._d.setTime(t),r.updateOffset(this,!0),this},un.format=function(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=G(this,e);return this.localeData().postformat(t)},un.from=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||kt(e).isValid())?Ut({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},un.fromNow=function(e){return this.from(kt(),e)},un.to=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||kt(e).isValid())?Ut({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},un.toNow=function(e){return this.to(kt(),e)},un.get=function(e){return R(this[e=M(e)])?this[e]():this},un.invalidAt=function(){return d(this).overflow},un.isAfter=function(e,t){var n=w(e)?e:kt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=M(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},un.isBefore=function(e,t){var n=w(e)?e:kt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=M(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},un.isBetween=function(e,t,n,r){var i=w(e)?e:kt(e),o=w(t)?t:kt(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))},un.isSame=function(e,t){var n,r=w(e)?e:kt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=M(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},un.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},un.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},un.isValid=function(){return f(this)},un.lang=Yt,un.locale=Kt,un.localeData=Zt,un.max=Dt,un.min=xt,un.parsingFlags=function(){return h({},d(this))},un.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:N[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=F(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(R(this[e=M(e)]))return this[e](t);return this},un.startOf=function(e){var t;if(void 0===(e=M(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?Jt:Qt;switch(e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Xt(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=Xt(t,6e4);break;case"second":t=this._d.valueOf(),t-=Xt(t,1e3)}return this._d.setTime(t),r.updateOffset(this,!0),this},un.subtract=Vt,un.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},un.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},un.toDate=function(){return new Date(this.valueOf())},un.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?G(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):R(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",G(n,"Z")):G(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},un.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},un.toJSON=function(){return this.isValid()?this.toISOString():null},un.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},un.unix=function(){return Math.floor(this.valueOf()/1e3)},un.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},un.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},un.year=be,un.isLeapYear=function(){return ye(this.year())},un.weekYear=function(e){return tn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},un.isoWeekYear=function(e){return tn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},un.quarter=un.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},un.month=Re,un.daysInMonth=function(){return Ee(this.year(),this.month())},un.week=un.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},un.isoWeek=un.isoWeeks=function(e){var t=Be(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},un.weeksInYear=function(){var e=this.localeData()._week;return Le(this.year(),e.dow,e.doy)},un.isoWeeksInYear=function(){return Le(this.year(),1,4)},un.date=rn,un.day=un.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},un.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},un.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},un.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},un.hour=un.hours=Qe,un.minute=un.minutes=on,un.second=un.seconds=an,un.millisecond=un.milliseconds=cn,un.utcOffset=function(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Mt(se,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=Nt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?Gt(this,Ut(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Nt(this)},un.utc=function(e){return this.utcOffset(0,e)},un.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Nt(this),"m")),this},un.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Mt(oe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},un.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?kt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},un.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},un.isLocal=function(){return!!this.isValid()&&!this._isUTC},un.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},un.isUtc=Bt,un.isUTC=Bt,un.zoneAbbr=function(){return this._isUTC?"UTC":""},un.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},un.dates=x("dates accessor is deprecated. Use date instead.",rn),un.months=x("months accessor is deprecated. Use month instead",Re),un.years=x("years accessor is deprecated. Use year instead",be),un.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),un.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),(e=St(e))._a){var t=e._isUTC?p(e._a):kt(e._a);this._isDSTShifted=this.isValid()&&E(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var pn=O.prototype;function dn(e,t,n,r){var i=st(),o=p().set(r,t);return i[n](o,e)}function fn(e,t,n){if(a(e)&&(t=e,e=void 0),e=e||"",null!=t)return dn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=dn(e,r,n,"month");return i}function mn(e,t,n,r){"boolean"==typeof e?(a(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,a(t)&&(n=t,t=void 0),t=t||"");var i,o=st(),s=e?o._week.dow:0;if(null!=n)return dn(t,(n+s)%7,r,"day");var l=[];for(i=0;i<7;i++)l[i]=dn(t,(i+s)%7,r,"day");return l}pn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return R(r)?r.call(t,n):r},pn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},pn.invalidDate=function(){return this._invalidDate},pn.ordinal=function(e){return this._ordinal.replace("%d",e)},pn.preparse=hn,pn.postformat=hn,pn.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return R(i)?i(e,t,n,r):i.replace(/%d/i,e)},pn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return R(n)?n(t):n.replace(/%s/i,t)},pn.set=function(e){var t,n;for(n in e)R(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},pn.months=function(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||ke).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone},pn.monthsShort=function(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ke.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},pn.monthsParse=function(e,t,n){var r,i,o;if(this._monthsParseExact)return _e.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},pn.monthsRegex=function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||Pe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=Oe),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},pn.monthsShortRegex=function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||Pe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=Ae),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},pn.week=function(e){return Be(e,this._week.dow,this._week.doy).week},pn.firstDayOfYear=function(){return this._week.doy},pn.firstDayOfWeek=function(){return this._week.dow},pn.weekdays=function(e,t){var n=i(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?He(n,this._week.dow):e?n[e.day()]:n},pn.weekdaysMin=function(e){return!0===e?He(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},pn.weekdaysShort=function(e){return!0===e?He(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},pn.weekdaysParse=function(e,t,n){var r,i,o;if(this._weekdaysParseExact)return ze.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},pn.weekdaysRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||$e.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Ge),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},pn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||$e.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},pn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||$e.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ve),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},pn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},pn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},it("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===S(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=x("moment.lang is deprecated. Use moment.locale instead.",it),r.langData=x("moment.langData is deprecated. Use moment.localeData instead.",st);var gn=Math.abs;function yn(e,t,n,r){var i=Ut(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function vn(e){return e<0?Math.floor(e):Math.ceil(e)}function bn(e){return 4800*e/146097}function wn(e){return 146097*e/4800}function Cn(e){return function(){return this.as(e)}}var Sn=Cn("ms"),En=Cn("s"),kn=Cn("m"),xn=Cn("h"),Dn=Cn("d"),_n=Cn("w"),Tn=Cn("M"),Rn=Cn("Q"),An=Cn("y");function On(e){return function(){return this.isValid()?this._data[e]:NaN}}var Pn=On("milliseconds"),In=On("seconds"),Mn=On("minutes"),Fn=On("hours"),Nn=On("days"),Bn=On("months"),Ln=On("years"),Hn=Math.round,Un={ss:44,s:45,m:45,h:22,d:26,M:11};function jn(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}var Wn=Math.abs;function zn(e){return(e>0)-(e<0)||+e}function Gn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Wn(this._milliseconds)/1e3,r=Wn(this._days),i=Wn(this._months);e=C(n/60),t=C(e/60),n%=60,e%=60;var o=C(i/12),s=i%=12,a=r,l=t,c=e,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",h=this.asSeconds();if(!h)return"P0D";var p=h<0?"-":"",d=zn(this._months)!==zn(h)?"-":"",f=zn(this._days)!==zn(h)?"-":"",m=zn(this._milliseconds)!==zn(h)?"-":"";return p+"P"+(o?d+o+"Y":"")+(s?d+s+"M":"")+(a?f+a+"D":"")+(l||c||u?"T":"")+(l?m+l+"H":"")+(c?m+c+"M":"")+(u?m+u+"S":"")}var qn=Rt.prototype;return qn.isValid=function(){return this._isValid},qn.abs=function(){var e=this._data;return this._milliseconds=gn(this._milliseconds),this._days=gn(this._days),this._months=gn(this._months),e.milliseconds=gn(e.milliseconds),e.seconds=gn(e.seconds),e.minutes=gn(e.minutes),e.hours=gn(e.hours),e.months=gn(e.months),e.years=gn(e.years),this},qn.add=function(e,t){return yn(this,e,t,1)},qn.subtract=function(e,t){return yn(this,e,t,-1)},qn.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=M(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+bn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(wn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},qn.asMilliseconds=Sn,qn.asSeconds=En,qn.asMinutes=kn,qn.asHours=xn,qn.asDays=Dn,qn.asWeeks=_n,qn.asMonths=Tn,qn.asQuarters=Rn,qn.asYears=An,qn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12):NaN},qn._bubble=function(){var e,t,n,r,i,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*vn(wn(a)+s),s=0,a=0),l.milliseconds=o%1e3,e=C(o/1e3),l.seconds=e%60,t=C(e/60),l.minutes=t%60,n=C(t/60),l.hours=n%24,s+=C(n/24),i=C(bn(s)),a+=i,s-=vn(wn(i)),r=C(a/12),a%=12,l.days=s,l.months=a,l.years=r,this},qn.clone=function(){return Ut(this)},qn.get=function(e){return e=M(e),this.isValid()?this[e+"s"]():NaN},qn.milliseconds=Pn,qn.seconds=In,qn.minutes=Mn,qn.hours=Fn,qn.days=Nn,qn.weeks=function(){return C(this.days()/7)},qn.months=Bn,qn.years=Ln,qn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var r=Ut(e).abs(),i=Hn(r.as("s")),o=Hn(r.as("m")),s=Hn(r.as("h")),a=Hn(r.as("d")),l=Hn(r.as("M")),c=Hn(r.as("y")),u=i<=Un.ss&&["s",i]||i<Un.s&&["ss",i]||o<=1&&["m"]||o<Un.m&&["mm",o]||s<=1&&["h"]||s<Un.h&&["hh",s]||a<=1&&["d"]||a<Un.d&&["dd",a]||l<=1&&["M"]||l<Un.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,jn.apply(null,u)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},qn.toISOString=Gn,qn.toString=Gn,qn.toJSON=Gn,qn.locale=Kt,qn.localeData=Zt,qn.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Gn),qn.lang=Yt,z("X",0,0,"unix"),z("x",0,0,"valueOf"),ce("x",ie),ce("X",/[+-]?\d+(\.\d{1,3})?/),de("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),de("x",(function(e,t,n){n._d=new Date(S(e))})),r.version="2.24.0",t=kt,r.fn=un,r.min=function(){var e=[].slice.call(arguments,0);return _t("isBefore",e)},r.max=function(){var e=[].slice.call(arguments,0);return _t("isAfter",e)},r.now=function(){return Date.now?Date.now():+new Date},r.utc=p,r.unix=function(e){return kt(1e3*e)},r.months=function(e,t){return fn(e,t,"months")},r.isDate=l,r.locale=it,r.invalid=m,r.duration=Ut,r.isMoment=w,r.weekdays=function(e,t,n){return mn(e,t,n,"weekdays")},r.parseZone=function(){return kt.apply(null,arguments).parseZone()},r.localeData=st,r.isDuration=At,r.monthsShort=function(e,t){return fn(e,t,"monthsShort")},r.weekdaysMin=function(e,t,n){return mn(e,t,n,"weekdaysMin")},r.defineLocale=ot,r.updateLocale=function(e,t){if(null!=t){var n,r,i=Je;null!=(r=rt(e))&&(i=r._config),t=A(i,t),(n=new O(t)).parentLocale=et[e],et[e]=n,it(e)}else null!=et[e]&&(null!=et[e].parentLocale?et[e]=et[e].parentLocale:null!=et[e]&&delete et[e]);return et[e]},r.locales=function(){return D(et)},r.weekdaysShort=function(e,t,n){return mn(e,t,n,"weekdaysShort")},r.normalizeUnits=M,r.relativeTimeRounding=function(e){return void 0===e?Hn:"function"==typeof e&&(Hn=e,!0)},r.relativeTimeThreshold=function(e,t){return void 0!==Un[e]&&(void 0===t?Un[e]:(Un[e]=t,"s"===e&&(Un.ss=t-1),!0))},r.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=un,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()}).call(this,n(34)(e))},,function(e,t,n){"use strict";var r=n(108),i="object"==typeof self&&self&&self.Object===Object&&self,o=r.a||i||Function("return this")();t.a=o},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(295)},function(e,t,n){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),s=r||i||o,a=s&&(r?document.documentMode||6:+(o||i)[1]),l=!o&&/WebKit\//.test(e),c=l&&/Qt\/\d+\.\d+/.test(e),u=!o&&/Chrome\//.test(e),h=/Opera\//.test(e),p=/Apple Computer/.test(navigator.vendor),d=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),f=/PhantomJS/.test(e),m=p&&(/Mobile\/\w+/.test(e)||navigator.maxTouchPoints>2),g=/Android/.test(e),y=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),v=m||/Mac/.test(t),b=/\bCrOS\b/.test(e),w=/win/i.test(t),C=h&&e.match(/Version\/(\d*\.\d*)/);C&&(C=Number(C[1])),C&&C>=15&&(h=!1,l=!0);var S=v&&(c||h&&(null==C||C<12.11)),E=n||s&&a>=9;function k(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var x,D=function(e,t){var n=e.className,r=k(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}};function _(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function T(e,t){return _(e).appendChild(t)}function R(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function A(e,t,n,r){var i=R(e,t,n,r);return i.setAttribute("role","presentation"),i}function O(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function P(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function I(e,t){var n=e.className;k(t).test(n)||(e.className+=(n?" ":"")+t)}function M(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!k(n[r]).test(t)&&(t+=" "+n[r]);return t}x=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var F=function(e){e.select()};function N(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function B(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function L(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,s=i||0;;){var a=e.indexOf("\t",o);if(a<0||a>=t)return s+(t-o);s+=a-o,s+=n-s%n,o=a+1}}m?F=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:s&&(F=function(e){try{e.select()}catch(e){}});var H=function(){this.id=null,this.f=null,this.time=0,this.handler=N(this.onTimeout,this)};function U(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}H.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},H.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var j={toString:function(){return"CodeMirror.Pass"}},W={scroll:!1},z={origin:"*mouse"},G={origin:"+move"};function q(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var s=o-r;if(o==e.length||i+s>=t)return r+Math.min(s,t-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=t)return r}}var V=[""];function $(e){for(;V.length<=e;)V.push(K(V)+" ");return V[e]}function K(e){return e[e.length-1]}function Y(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function Z(){}function X(e,t){var n;return Object.create?n=Object.create(e):(Z.prototype=e,n=new Z),t&&B(t,n),n}var Q=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function J(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Q.test(e))}function ee(e,t){return t?!!(t.source.indexOf("\\w")>-1&&J(e))||t.test(e):J(e)}function te(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ne=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function re(e){return e.charCodeAt(0)>=768&&ne.test(e)}function ie(e,t,n){for(;(n<0?t>0:t<e.length)&&re(e.charAt(t));)t+=n;return t}function oe(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}var se=null;function ae(e,t,n){var r;se=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:se=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:se=i)}return null!=r?r:se}var le=function(){var e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,t=/[stwN]/,n=/[LRr]/,r=/[Lb1n]/,i=/[1n]/;function o(e,t,n){this.level=e,this.from=t,this.to=n}return function(s,a){var l="ltr"==a?"L":"R";if(0==s.length||"ltr"==a&&!e.test(s))return!1;for(var c,u=s.length,h=[],p=0;p<u;++p)h.push((c=s.charCodeAt(p))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(c):1424<=c&&c<=1524?"R":1536<=c&&c<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(c-1536):1774<=c&&c<=2220?"r":8192<=c&&c<=8203?"w":8204==c?"b":"L");for(var d=0,f=l;d<u;++d){var m=h[d];"m"==m?h[d]=f:f=m}for(var g=0,y=l;g<u;++g){var v=h[g];"1"==v&&"r"==y?h[g]="n":n.test(v)&&(y=v,"r"==v&&(h[g]="R"))}for(var b=1,w=h[0];b<u-1;++b){var C=h[b];"+"==C&&"1"==w&&"1"==h[b+1]?h[b]="1":","!=C||w!=h[b+1]||"1"!=w&&"n"!=w||(h[b]=w),w=C}for(var S=0;S<u;++S){var E=h[S];if(","==E)h[S]="N";else if("%"==E){var k=void 0;for(k=S+1;k<u&&"%"==h[k];++k);for(var x=S&&"!"==h[S-1]||k<u&&"1"==h[k]?"1":"N",D=S;D<k;++D)h[D]=x;S=k-1}}for(var _=0,T=l;_<u;++_){var R=h[_];"L"==T&&"1"==R?h[_]="L":n.test(R)&&(T=R)}for(var A=0;A<u;++A)if(t.test(h[A])){var O=void 0;for(O=A+1;O<u&&t.test(h[O]);++O);for(var P="L"==(A?h[A-1]:l),I=P==("L"==(O<u?h[O]:l))?P?"L":"R":l,M=A;M<O;++M)h[M]=I;A=O-1}for(var F,N=[],B=0;B<u;)if(r.test(h[B])){var L=B;for(++B;B<u&&r.test(h[B]);++B);N.push(new o(0,L,B))}else{var H=B,U=N.length,j="rtl"==a?1:0;for(++B;B<u&&"L"!=h[B];++B);for(var W=H;W<B;)if(i.test(h[W])){H<W&&(N.splice(U,0,new o(1,H,W)),U+=j);var z=W;for(++W;W<B&&i.test(h[W]);++W);N.splice(U,0,new o(2,z,W)),U+=j,H=W}else++W;H<B&&N.splice(U,0,new o(1,H,B))}return"ltr"==a&&(1==N[0].level&&(F=s.match(/^\s+/))&&(N[0].from=F[0].length,N.unshift(new o(0,0,F[0].length))),1==K(N).level&&(F=s.match(/\s+$/))&&(K(N).to-=F[0].length,N.push(new o(0,u-F[0].length,u)))),"rtl"==a?N.reverse():N}}();function ce(e,t){var n=e.order;return null==n&&(n=e.order=le(e.text,t)),n}var ue=[],he=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||ue).concat(n)}};function pe(e,t){return e._handlers&&e._handlers[t]||ue}function de(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=U(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function fe(e,t){var n=pe(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function me(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),fe(e,n||t.type,e,t),Ce(t)||t.codemirrorIgnore}function ge(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==U(n,t[r])&&n.push(t[r])}function ye(e,t){return pe(e,t).length>0}function ve(e){e.prototype.on=function(e,t){he(this,e,t)},e.prototype.off=function(e,t){de(this,e,t)}}function be(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function we(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Ce(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Se(e){be(e),we(e)}function Ee(e){return e.target||e.srcElement}function ke(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),v&&e.ctrlKey&&1==t&&(t=3),t}var xe,De,_e=function(){if(s&&a<9)return!1;var e=R("div");return"draggable"in e||"dragDrop"in e}();function Te(e){if(null==xe){var t=R("span","");T(e,R("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(xe=t.offsetWidth<=1&&t.offsetHeight>2&&!(s&&a<8))}var n=xe?R("span",""):R("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Re(e){if(null!=De)return De;var t=T(e,document.createTextNode("AA")),n=x(t,0,1).getBoundingClientRect(),r=x(t,1,2).getBoundingClientRect();return _(e),!(!n||n.left==n.right)&&(De=r.right-n.right<3)}var Ae,Oe=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),t+=s+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Pe=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Ie="oncopy"in(Ae=R("div"))||(Ae.setAttribute("oncopy","return;"),"function"==typeof Ae.oncopy),Me=null,Fe={},Ne={};function Be(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Fe[e]=t}function Le(e){if("string"==typeof e&&Ne.hasOwnProperty(e))e=Ne[e];else if(e&&"string"==typeof e.name&&Ne.hasOwnProperty(e.name)){var t=Ne[e.name];"string"==typeof t&&(t={name:t}),(e=X(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Le("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Le("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function He(e,t){t=Le(t);var n=Fe[t.name];if(!n)return He(e,"text/plain");var r=n(e,t);if(Ue.hasOwnProperty(t.name)){var i=Ue[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var s in t.modeProps)r[s]=t.modeProps[s];return r}var Ue={};function je(e,t){B(t,Ue.hasOwnProperty(e)?Ue[e]:Ue[e]={})}function We(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function ze(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Ge(e,t,n){return!e.startState||e.startState(t,n)}var qe=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Ve(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function $e(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,(function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i})),r}function Ke(e,t,n){var r=[];return e.iter(t,n,(function(e){r.push(e.text)})),r}function Ye(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function Ze(e){if(null==e.parent)return null;for(var t=e.parent,n=U(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function Xe(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var s=0;s<e.lines.length;++s){var a=e.lines[s].height;if(t<a)break;t-=a}return n+s}function Qe(e,t){return t>=e.first&&t<e.first+e.size}function Je(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function et(e,t,n){if(void 0===n&&(n=null),!(this instanceof et))return new et(e,t,n);this.line=e,this.ch=t,this.sticky=n}function tt(e,t){return e.line-t.line||e.ch-t.ch}function nt(e,t){return e.sticky==t.sticky&&0==tt(e,t)}function rt(e){return et(e.line,e.ch)}function it(e,t){return tt(e,t)<0?t:e}function ot(e,t){return tt(e,t)<0?e:t}function st(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function at(e,t){if(t.line<e.first)return et(e.first,0);var n=e.first+e.size-1;return t.line>n?et(n,Ve(e,n).text.length):function(e,t){var n=e.ch;return null==n||n>t?et(e.line,t):n<0?et(e.line,0):e}(t,Ve(e,t.line).text.length)}function lt(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=at(e,t[r]);return n}qe.prototype.eol=function(){return this.pos>=this.string.length},qe.prototype.sol=function(){return this.pos==this.lineStart},qe.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},qe.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},qe.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},qe.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},qe.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},qe.prototype.skipToEnd=function(){this.pos=this.string.length},qe.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},qe.prototype.backUp=function(e){this.pos-=e},qe.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=L(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?L(this.string,this.lineStart,this.tabSize):0)},qe.prototype.indentation=function(){return L(this.string,null,this.tabSize)-(this.lineStart?L(this.string,this.lineStart,this.tabSize):0)},qe.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},qe.prototype.current=function(){return this.string.slice(this.start,this.pos)},qe.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},qe.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},qe.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var ct=function(e,t){this.state=e,this.lookAhead=t},ut=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function ht(e,t,n,r){var i=[e.state.modeGen],o={};wt(e,t.text,e.doc.mode,n,(function(e,t){return i.push(e,t)}),o,r);for(var s=n.state,a=function(r){n.baseTokens=i;var a=e.state.overlays[r],l=1,c=0;n.state=!0,wt(e,t.text,a.mode,n,(function(e,t){for(var n=l;c<e;){var r=i[l];r>e&&i.splice(l,1,e,i[l+1],r),l+=2,c=Math.min(e,r)}if(t)if(a.opaque)i.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;n<l;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+t}}),o),n.state=s,n.baseTokens=null,n.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)a(l);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function pt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=dt(e,Ze(t)),i=t.text.length>e.options.maxHighlightLength&&We(e.doc.mode,r.state),o=ht(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function dt(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new ut(r,!0,t);var o=function(e,t,n){for(var r,i,o=e.doc,s=n?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=o.first)return o.first;var l=Ve(o,a-1),c=l.stateAfter;if(c&&(!n||a+(c instanceof ct?c.lookAhead:0)<=o.modeFrontier))return a;var u=L(l.text,null,e.options.tabSize);(null==i||r>u)&&(i=a-1,r=u)}return i}(e,t,n),s=o>r.first&&Ve(r,o-1).stateAfter,a=s?ut.fromSaved(r,s,o):new ut(r,Ge(r.mode),o);return r.iter(o,t,(function(n){ft(e,n.text,a);var r=a.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?a.save():null,a.nextLine()})),n&&(r.modeFrontier=a.line),a}function ft(e,t,n,r){var i=e.doc.mode,o=new qe(t,e.options.tabSize,n);for(o.start=o.pos=r||0,""==t&&mt(i,n.state);!o.eol();)gt(i,o,n.state),o.start=o.pos}function mt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=ze(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function gt(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=ze(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}ut.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},ut.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},ut.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ut.fromSaved=function(e,t,n){return t instanceof ct?new ut(e,We(e.mode,t.state),n,t.lookAhead):new ut(e,We(e.mode,t),n)},ut.prototype.save=function(e){var t=!1!==e?We(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ct(t,this.maxLookAhead):t};var yt=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function vt(e,t,n,r){var i,o,s=e.doc,a=s.mode,l=Ve(s,(t=at(s,t)).line),c=dt(e,t.line,n),u=new qe(l.text,e.options.tabSize,c);for(r&&(o=[]);(r||u.pos<t.ch)&&!u.eol();)u.start=u.pos,i=gt(a,u,c.state),r&&o.push(new yt(u,i,We(s.mode,c.state)));return r?o:new yt(u,i,c.state)}function bt(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2])}return e}function wt(e,t,n,r,i,o,s){var a=n.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,c=0,u=null,h=new qe(t,e.options.tabSize,r),p=e.options.addModeClass&&[null];for(""==t&&bt(mt(n,r.state),o);!h.eol();){if(h.pos>e.options.maxHighlightLength?(a=!1,s&&ft(e,t,r,h.pos),h.pos=t.length,l=null):l=bt(gt(n,h,r.state,p),o),p){var d=p[0].name;d&&(l="m-"+(l?d+" "+l:d))}if(!a||u!=l){for(;c<h.start;)i(c=Math.min(h.start,c+5e3),u);u=l}h.start=h.pos}for(;c<h.pos;){var f=Math.min(h.pos,c+5e3);i(f,u),c=f}}var Ct=!1,St=!1;function Et(e,t,n){this.marker=e,this.from=t,this.to=n}function kt(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function xt(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Dt(e,t){if(t.full)return null;var n=Qe(e,t.from.line)&&Ve(e,t.from.line).markedSpans,r=Qe(e,t.to.line)&&Ve(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,s=0==tt(t.from,t.to),a=function(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],s=o.marker;if(null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new Et(s,o.from,a?null:o.to))}}return r}(n,i,s),l=function(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],s=o.marker;if(null==o.to||(s.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new Et(s,a?null:o.from-t,null==o.to?null:o.to-t))}}return r}(r,o,s),c=1==t.text.length,u=K(t.text).length+(c?i:0);if(a)for(var h=0;h<a.length;++h){var p=a[h];if(null==p.to){var d=kt(l,p.marker);d?c&&(p.to=null==d.to?null:d.to+u):p.to=i}}if(l)for(var f=0;f<l.length;++f){var m=l[f];null!=m.to&&(m.to+=u),null==m.from?kt(a,m.marker)||(m.from=u,c&&(a||(a=[])).push(m)):(m.from+=u,c&&(a||(a=[])).push(m))}a&&(a=_t(a)),l&&l!=a&&(l=_t(l));var g=[a];if(!c){var y,v=t.text.length-2;if(v>0&&a)for(var b=0;b<a.length;++b)null==a[b].to&&(y||(y=[])).push(new Et(a[b].marker,null,null));for(var w=0;w<v;++w)g.push(y);g.push(l)}return g}function _t(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Tt(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Rt(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function At(e){return e.inclusiveLeft?-1:0}function Ot(e){return e.inclusiveRight?1:0}function Pt(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=tt(r.from,i.from)||At(e)-At(t);if(o)return-o;var s=tt(r.to,i.to)||Ot(e)-Ot(t);return s||t.id-e.id}function It(e,t){var n,r=St&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!n||Pt(n,i.marker)<0)&&(n=i.marker);return n}function Mt(e){return It(e,!0)}function Ft(e){return It(e,!1)}function Nt(e,t){var n,r=St&&e.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!n||Pt(n,o.marker)<0)&&(n=o.marker)}return n}function Bt(e,t,n,r,i){var o=Ve(e,t),s=St&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=tt(c.from,n)||At(l.marker)-At(i),h=tt(c.to,r)||Ot(l.marker)-Ot(i);if(!(u>=0&&h<=0||u<=0&&h>=0)&&(u<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?tt(c.to,n)>=0:tt(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?tt(c.from,r)<=0:tt(c.from,r)<0)))return!0}}}function Lt(e){for(var t;t=Mt(e);)e=t.find(-1,!0).line;return e}function Ht(e,t){var n=Ve(e,t),r=Lt(n);return n==r?t:Ze(r)}function Ut(e,t){if(t>e.lastLine())return t;var n,r=Ve(e,t);if(!jt(e,r))return t;for(;n=Ft(r);)r=n.find(1,!0).line;return Ze(r)+1}function jt(e,t){var n=St&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&Wt(e,t,r))return!0}}function Wt(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return Wt(e,r.line,kt(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&Wt(e,t,i))return!0}function zt(e){for(var t=0,n=(e=Lt(e)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==n)break;t+=a.height}return t}function Gt(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=Mt(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=Ft(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,n+=(r=o.to.line).text.length-o.to.ch}return n}function qt(e){var t=e.display,n=e.doc;t.maxLine=Ve(n,n.first),t.maxLineLength=Gt(t.maxLine),t.maxLineChanged=!0,n.iter((function(e){var n=Gt(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)}))}var Vt=function(e,t,n){this.text=e,Rt(this,t),this.height=n?n(this):1};function $t(e){e.parent=null,Tt(e)}Vt.prototype.lineNo=function(){return Ze(this)},ve(Vt);var Kt={},Yt={};function Zt(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?Yt:Kt;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Xt(e,t){var n=A("span",null,null,l?"padding-right: .1px":null),r={pre:A("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,s=void 0;r.pos=0,r.addToken=Jt,Re(e.display.measure)&&(s=ce(o,e.doc.direction))&&(r.addToken=en(r.addToken,s)),r.map=[],nn(o,r,pt(e,o,t!=e.display.externalMeasured&&Ze(o))),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=M(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=M(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Te(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var a=r.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return fe(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=M(r.pre.className,r.textClass||"")),r}function Qt(e){var t=R("span","","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Jt(e,t,n,r,i,o,l){if(t){var c,u=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=""),r+=o,n=" "==o}return r}(t,e.trailingSpace):t,h=e.cm.state.specialChars,p=!1;if(h.test(t)){c=document.createDocumentFragment();for(var d=0;;){h.lastIndex=d;var f=h.exec(t),m=f?f.index-d:t.length-d;if(m){var g=document.createTextNode(u.slice(d,d+m));s&&a<9?c.appendChild(R("span",[g])):c.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!f)break;d+=m+1;var y=void 0;if("\t"==f[0]){var v=e.cm.options.tabSize,b=v-e.col%v;(y=c.appendChild(R("span",$(b),"cm-tab"))).setAttribute("role","presentation"),y.setAttribute("cm-text","\t"),e.col+=b}else"\r"==f[0]||"\n"==f[0]?((y=c.appendChild(R("span","\r"==f[0]?"":"","cm-invalidchar"))).setAttribute("cm-text",f[0]),e.col+=1):((y=e.cm.options.specialCharPlaceholder(f[0])).setAttribute("cm-text",f[0]),s&&a<9?c.appendChild(R("span",[y])):c.appendChild(y),e.col+=1);e.map.push(e.pos,e.pos+1,y),e.pos++}}else e.col+=t.length,c=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,c),s&&a<9&&(p=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||r||i||p||o||l){var w=n||"";r&&(w+=r),i&&(w+=i);var C=R("span",[c],w,o);if(l)for(var S in l)l.hasOwnProperty(S)&&"style"!=S&&"class"!=S&&C.setAttribute(S,l[S]);return e.content.appendChild(C)}e.content.appendChild(c)}}function en(e,t){return function(n,r,i,o,s,a,l){i=i?i+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+r.length;;){for(var h=void 0,p=0;p<t.length&&!((h=t[p]).to>c&&h.from<=c);p++);if(h.to>=u)return e(n,r,i,o,s,a,l);e(n,r.slice(0,h.to-c),i,o,null,a,l),o=null,r=r.slice(h.to-c),c=h.to}}}function tn(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function nn(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var s,a,l,c,u,h,p,d=i.length,f=0,m=1,g="",y=0;;){if(y==f){l=c=u=a="",p=null,h=null,y=1/0;for(var v=[],b=void 0,w=0;w<r.length;++w){var C=r[w],S=C.marker;if("bookmark"==S.type&&C.from==f&&S.widgetNode)v.push(S);else if(C.from<=f&&(null==C.to||C.to>f||S.collapsed&&C.to==f&&C.from==f)){if(null!=C.to&&C.to!=f&&y>C.to&&(y=C.to,c=""),S.className&&(l+=" "+S.className),S.css&&(a=(a?a+";":"")+S.css),S.startStyle&&C.from==f&&(u+=" "+S.startStyle),S.endStyle&&C.to==y&&(b||(b=[])).push(S.endStyle,C.to),S.title&&((p||(p={})).title=S.title),S.attributes)for(var E in S.attributes)(p||(p={}))[E]=S.attributes[E];S.collapsed&&(!h||Pt(h.marker,S)<0)&&(h=C)}else C.from>f&&y>C.from&&(y=C.from)}if(b)for(var k=0;k<b.length;k+=2)b[k+1]==y&&(c+=" "+b[k]);if(!h||h.from==f)for(var x=0;x<v.length;++x)tn(t,0,v[x]);if(h&&(h.from||0)==f){if(tn(t,(null==h.to?d+1:h.to)-f,h.marker,null==h.from),null==h.to)return;h.to==f&&(h=!1)}}if(f>=d)break;for(var D=Math.min(d,y);;){if(g){var _=f+g.length;if(!h){var T=_>D?g.slice(0,D-f):g;t.addToken(t,T,s?s+l:l,u,f+T.length==y?c:"",a,p)}if(_>=D){g=g.slice(D-f),f=D;break}f=_,u=""}g=i.slice(o,o=n[m++]),s=Zt(n[m++],t.cm.options)}}else for(var R=1;R<n.length;R+=2)t.addToken(t,i.slice(o,o=n[R]),Zt(n[R+1],t.cm.options))}function rn(e,t,n){this.line=t,this.rest=function(e){for(var t,n;t=Ft(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}(t),this.size=this.rest?Ze(K(this.rest))-n+1:1,this.node=this.text=null,this.hidden=jt(e,t)}function on(e,t,n){for(var r,i=[],o=t;o<n;o=r){var s=new rn(e.doc,Ve(e.doc,o),o);r=o+s.size,i.push(s)}return i}var sn=null,an=null;function ln(e,t){var n=pe(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);sn?r=sn.delayedCallbacks:an?r=an:(r=an=[],setTimeout(cn,0));for(var o=function(e){r.push((function(){return n[e].apply(null,i)}))},s=0;s<n.length;++s)o(s)}}function cn(){var e=an;an=null;for(var t=0;t<e.length;++t)e[t]()}function un(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?dn(e,t):"gutter"==o?mn(e,t,n,r):"class"==o?fn(e,t):"widget"==o&&gn(e,t,r)}t.changes=null}function hn(e){return e.node==e.text&&(e.node=R("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),s&&a<8&&(e.node.style.zIndex=2)),e.node}function pn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Xt(e,t)}function dn(e,t){var n=t.text.className,r=pn(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,fn(e,t)):n&&(t.text.className=n)}function fn(e,t){!function(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=hn(t);t.background=r.insertBefore(R("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?hn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function mn(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=hn(t);t.gutterBackground=R("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var s=hn(t),a=t.gutter=R("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),s.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(R("div",Je(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.display.gutterSpecs.length;++l){var c=e.display.gutterSpecs[l].className,u=o.hasOwnProperty(c)&&o[c];u&&a.appendChild(R("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[c]+"px; width: "+r.gutterWidth[c]+"px"))}}}function gn(e,t,n){t.alignable&&(t.alignable=null);for(var r=k("CodeMirror-linewidget"),i=t.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,r.test(i.className)&&t.node.removeChild(i);vn(e,t,n)}function yn(e,t,n,r){var i=pn(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),fn(e,t),mn(e,t,n,r),vn(e,t,r),t.node}function vn(e,t,n){if(bn(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)bn(e,t.rest[r],t,n,!1)}function bn(e,t,n,r,i){if(t.widgets)for(var o=hn(n),s=0,a=t.widgets;s<a.length;++s){var l=a[s],c=R("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),wn(l,c,n,r),e.display.input.setUneditable(c),i&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),ln(l,"redraw")}}function wn(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Cn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!O(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),T(t.display.measure,R("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Sn(e,t){for(var n=Ee(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function En(e){return e.lineSpace.offsetTop}function kn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function xn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=T(e.measure,R("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Dn(e){return 50-e.display.nativeBarWidth}function _n(e){return e.display.scroller.clientWidth-Dn(e)-e.display.barWidth}function Tn(e){return e.display.scroller.clientHeight-Dn(e)-e.display.barHeight}function Rn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(Ze(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function An(e,t,n,r){return In(e,Pn(e,t),n,r)}function On(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[ur(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Pn(e,t){var n=Ze(t),r=On(e,n);r&&!r.text?r=null:r&&r.changes&&(un(e,r,n,or(e)),e.curOp.forceUpdate=!0),r||(r=function(e,t){var n=Ze(t=Lt(t)),r=e.display.externalMeasured=new rn(e.doc,t,n);r.lineN=n;var i=r.built=Xt(e,r);return r.text=i.pre,T(e.display.lineMeasure,i.pre),r}(e,t));var i=Rn(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function In(e,t,n,r,i){t.before&&(n=-1);var o,l=n+(r||"");return t.cache.hasOwnProperty(l)?o=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,n){var r=e.options.lineWrapping,i=r&&_n(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,n,r){var i,o=Nn(t.map,n,r),l=o.node,c=o.start,u=o.end,h=o.collapse;if(3==l.nodeType){for(var p=0;p<4;p++){for(;c&&re(t.line.text.charAt(o.coverStart+c));)--c;for(;o.coverStart+u<o.coverEnd&&re(t.line.text.charAt(o.coverStart+u));)++u;if((i=s&&a<9&&0==c&&u==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():Bn(x(l,c,u).getClientRects(),r)).left||i.right||0==c)break;u=c,c-=1,h="right"}s&&a<11&&(i=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Me)return Me;var t=T(e,R("span","x")),n=t.getBoundingClientRect(),r=x(t,0,1).getBoundingClientRect();return Me=Math.abs(n.left-r.left)>1}(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}(e.display.measure,i))}else{var d;c>0&&(h=r="right"),i=e.options.lineWrapping&&(d=l.getClientRects()).length>1?d["right"==r?d.length-1:0]:l.getBoundingClientRect()}if(s&&a<9&&!c&&(!i||!i.left&&!i.right)){var f=l.parentNode.getClientRects()[0];i=f?{left:f.left,right:f.left+ir(e.display),top:f.top,bottom:f.bottom}:Fn}for(var m=i.top-t.rect.top,g=i.bottom-t.rect.top,y=(m+g)/2,v=t.view.measure.heights,b=0;b<v.length-1&&!(y<v[b]);b++);var w=b?v[b-1]:0,C=v[b],S={left:("right"==h?i.right:i.left)-t.rect.left,right:("left"==h?i.left:i.right)-t.rect.left,top:w,bottom:C};return i.left||i.right||(S.bogus=!0),e.options.singleCursorHeightPerLine||(S.rtop=m,S.rbottom=g),S}(e,t,n,r)).bogus||(t.cache[l]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var Mn,Fn={left:0,right:0,top:0,bottom:0};function Nn(e,t,n){for(var r,i,o,s,a,l,c=0;c<e.length;c+=3)if(a=e[c],l=e[c+1],t<a?(i=0,o=1,s="left"):t<l?o=1+(i=t-a):(c==e.length-3||t==l&&e[c+3]>t)&&(i=(o=l-a)-1,t>=l&&(s="right")),null!=i){if(r=e[c+2],a==l&&n==(r.insertLeft?"left":"right")&&(s=n),"left"==n&&0==i)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)r=e[2+(c-=3)],s="left";if("right"==n&&i==l-a)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)r=e[(c+=3)+2],s="right";break}return{node:r,start:i,end:o,collapse:s,coverStart:a,coverEnd:l}}function Bn(e,t){var n=Fn;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function Ln(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Hn(e){e.display.externalMeasure=null,_(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Ln(e.display.view[t])}function Un(e){Hn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function jn(){return u&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Wn(){return u&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function zn(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=Cn(e.widgets[n]));return t}function Gn(e,t,n,r,i){if(!i){var o=zn(t);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var s=zt(t);if("local"==r?s+=En(e.display):s-=e.display.viewOffset,"page"==r||"window"==r){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==r?0:Wn());var l=a.left+("window"==r?0:jn());n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function qn(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=jn(),i-=Wn();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:r-s.left,top:i-s.top}}function Vn(e,t,n,r,i){return r||(r=Ve(e.doc,t.line)),Gn(e,r,An(e,r,t.ch,i),n)}function $n(e,t,n,r,i,o){function s(t,s){var a=In(e,i,t,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,Gn(e,r,a,n)}r=r||Ve(e.doc,t.line),i||(i=Pn(e,r));var a=ce(r,e.doc.direction),l=t.ch,c=t.sticky;if(l>=r.text.length?(l=r.text.length,c="before"):l<=0&&(l=0,c="after"),!a)return s("before"==c?l-1:l,"before"==c);function u(e,t,n){return s(n?e-1:e,1==a[t].level!=n)}var h=ae(a,l,c),p=se,d=u(l,h,"before"==c);return null!=p&&(d.other=u(l,p,"before"!=c)),d}function Kn(e,t){var n=0;t=at(e.doc,t),e.options.lineWrapping||(n=ir(e.display)*t.ch);var r=Ve(e.doc,t.line),i=zt(r)+En(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function Yn(e,t,n,r,i){var o=et(e,t,n);return o.xRel=i,r&&(o.outside=r),o}function Zn(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return Yn(r.first,0,null,-1,-1);var i=Xe(r,n),o=r.first+r.size-1;if(i>o)return Yn(r.first+r.size-1,Ve(r,o).text.length,null,1,1);t<0&&(t=0);for(var s=Ve(r,i);;){var a=er(e,s,i,t,n),l=Nt(s,a.ch+(a.xRel>0||a.outside>0?1:0));if(!l)return a;var c=l.find(1);if(c.line==i)return c;s=Ve(r,i=c.line)}}function Xn(e,t,n,r){r-=zn(t);var i=t.text.length,o=oe((function(t){return In(e,n,t-1).bottom<=r}),i,0);return{begin:o,end:i=oe((function(t){return In(e,n,t).top>r}),o,i)}}function Qn(e,t,n,r){return n||(n=Pn(e,t)),Xn(e,t,n,Gn(e,t,In(e,n,r),"line").top)}function Jn(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function er(e,t,n,r,i){i-=zt(t);var o=Pn(e,t),s=zn(t),a=0,l=t.text.length,c=!0,u=ce(t,e.doc.direction);if(u){var h=(e.options.lineWrapping?nr:tr)(e,t,n,o,u,r,i);a=(c=1!=h.level)?h.from:h.to-1,l=c?h.to:h.from-1}var p,d,f=null,m=null,g=oe((function(t){var n=In(e,o,t);return n.top+=s,n.bottom+=s,!!Jn(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(f=t,m=n),!0)}),a,l),y=!1;if(m){var v=r-m.left<m.right-r,b=v==c;g=f+(b?0:1),d=b?"after":"before",p=v?m.left:m.right}else{c||g!=l&&g!=a||g++,d=0==g?"after":g==t.text.length?"before":In(e,o,g-(c?1:0)).bottom+s<=i==c?"after":"before";var w=$n(e,et(n,g,d),"line",t,o);p=w.left,y=i<w.top?-1:i>=w.bottom?1:0}return Yn(n,g=ie(t.text,g,1),d,y,r-p)}function tr(e,t,n,r,i,o,s){var a=oe((function(a){var l=i[a],c=1!=l.level;return Jn($n(e,et(n,c?l.to:l.from,c?"before":"after"),"line",t,r),o,s,!0)}),0,i.length-1),l=i[a];if(a>0){var c=1!=l.level,u=$n(e,et(n,c?l.from:l.to,c?"after":"before"),"line",t,r);Jn(u,o,s,!0)&&u.top>s&&(l=i[a-1])}return l}function nr(e,t,n,r,i,o,s){var a=Xn(e,t,r,s),l=a.begin,c=a.end;/\s/.test(t.text.charAt(c-1))&&c--;for(var u=null,h=null,p=0;p<i.length;p++){var d=i[p];if(!(d.from>=c||d.to<=l)){var f=In(e,r,1!=d.level?Math.min(c,d.to)-1:Math.max(l,d.from)).right,m=f<o?o-f+1e9:f-o;(!u||h>m)&&(u=d,h=m)}}return u||(u=i[i.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}function rr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Mn){Mn=R("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)Mn.appendChild(document.createTextNode("x")),Mn.appendChild(R("br"));Mn.appendChild(document.createTextNode("x"))}T(e.measure,Mn);var n=Mn.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),_(e.measure),n||1}function ir(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=R("span","xxxxxxxxxx"),n=R("pre",[t],"CodeMirror-line-like");T(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function or(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s){var a=e.display.gutterSpecs[s].className;n[a]=o.offsetLeft+o.clientLeft+i,r[a]=o.clientWidth}return{fixedPos:sr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function sr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function ar(e){var t=rr(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/ir(e.display)-3);return function(i){if(jt(e.doc,i))return 0;var o=0;if(i.widgets)for(var s=0;s<i.widgets.length;s++)i.widgets[s].height&&(o+=i.widgets[s].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function lr(e){var t=e.doc,n=ar(e);t.iter((function(e){var t=n(e);t!=e.height&&Ye(e,t)}))}function cr(e,t,n,r){var i=e.display;if(!n&&"true"==Ee(t).getAttribute("cm-not-content"))return null;var o,s,a=i.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left,s=t.clientY-a.top}catch(e){return null}var l,c=Zn(e,o,s);if(r&&c.xRel>0&&(l=Ve(e.doc,c.line).text).length==c.ch){var u=L(l,l.length,e.options.tabSize)-l.length;c=et(c.line,Math.max(0,Math.round((o-xn(e.display).left)/ir(e.display))-u))}return c}function ur(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function hr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)St&&Ht(e.doc,t)<i.viewTo&&dr(e);else if(n<=i.viewFrom)St&&Ut(e.doc,n+r)>i.viewFrom?dr(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)dr(e);else if(t<=i.viewFrom){var o=fr(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):dr(e)}else if(n>=i.viewTo){var s=fr(e,t,t,-1);s?(i.view=i.view.slice(0,s.index),i.viewTo=s.lineN):dr(e)}else{var a=fr(e,t,t,-1),l=fr(e,n,n+r,1);a&&l?(i.view=i.view.slice(0,a.index).concat(on(e,a.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=r):dr(e)}var c=i.externalMeasured;c&&(n<c.lineN?c.lineN+=r:t<c.lineN+c.size&&(i.externalMeasured=null))}function pr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[ur(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==U(s,n)&&s.push(n)}}}function dr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function fr(e,t,n,r){var i,o=ur(e,t),s=e.display.view;if(!St||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var a=e.display.viewFrom,l=0;l<o;l++)a+=s[l].size;if(a!=t){if(r>0){if(o==s.length-1)return null;i=a+s[o].size-t,o++}else i=a-t;t+=i,n+=i}for(;Ht(e.doc,n)!=n;){if(o==(r<0?0:s.length-1))return null;n+=r*s[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function mr(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function gr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function yr(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),s=0;s<n.sel.ranges.length;s++)if(t||s!=n.sel.primIndex){var a=n.sel.ranges[s];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var l=a.empty();(l||e.options.showCursorWhenSelecting)&&vr(e,a.head,i),l||wr(e,a,o)}}return r}function vr(e,t,n){var r=$n(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(R("div","","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=n.appendChild(R("div","","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function br(e,t){return e.top-t.top||e.left-t.left}function wr(e,t,n){var r=e.display,i=e.doc,o=document.createDocumentFragment(),s=xn(e.display),a=s.left,l=Math.max(r.sizerWidth,_n(e)-r.sizer.offsetLeft)-s.right,c="ltr"==i.direction;function u(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),o.appendChild(R("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?l-e:n)+"px;\n                             height: "+(r-t)+"px"))}function h(t,n,r){var o,s,h=Ve(i,t),p=h.text.length;function d(n,r){return Vn(e,et(t,n),"div",h,r)}function f(t,n,r){var i=Qn(e,h,null,t),o="ltr"==n==("after"==r)?"left":"right";return d("after"==r?i.begin:i.end-(/\s/.test(h.text.charAt(i.end-1))?2:1),o)[o]}var m=ce(h,i.direction);return function(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var s=e[o];(s.from<n&&s.to>t||t==n&&s.to==t)&&(r(Math.max(s.from,t),Math.min(s.to,n),1==s.level?"rtl":"ltr",o),i=!0)}i||r(t,n,"ltr")}(m,n||0,null==r?p:r,(function(e,t,i,h){var g="ltr"==i,y=d(e,g?"left":"right"),v=d(t-1,g?"right":"left"),b=null==n&&0==e,w=null==r&&t==p,C=0==h,S=!m||h==m.length-1;if(v.top-y.top<=3){var E=(c?w:b)&&S,k=(c?b:w)&&C?a:(g?y:v).left,x=E?l:(g?v:y).right;u(k,y.top,x-k,y.bottom)}else{var D,_,T,R;g?(D=c&&b&&C?a:y.left,_=c?l:f(e,i,"before"),T=c?a:f(t,i,"after"),R=c&&w&&S?l:v.right):(D=c?f(e,i,"before"):a,_=!c&&b&&C?l:y.right,T=!c&&w&&S?a:v.left,R=c?f(t,i,"after"):l),u(D,y.top,_-D,y.bottom),y.bottom<v.top&&u(a,y.bottom,null,v.top),u(T,v.top,R-T,v.bottom)}(!o||br(y,o)<0)&&(o=y),br(v,o)<0&&(o=v),(!s||br(y,s)<0)&&(s=y),br(v,s)<0&&(s=v)})),{start:o,end:s}}var p=t.from(),d=t.to();if(p.line==d.line)h(p.line,p.ch,d.ch);else{var f=Ve(i,p.line),m=Ve(i,d.line),g=Lt(f)==Lt(m),y=h(p.line,p.ch,g?f.text.length+1:null).end,v=h(d.line,g?0:null,d.ch).start;g&&(y.top<v.top-2?(u(y.right,y.top,null,y.bottom),u(a,v.top,v.left,v.bottom)):u(y.right,y.top,v.left-y.right,y.bottom)),y.bottom<v.top&&u(a,y.bottom,null,v.top)}n.appendChild(o)}function Cr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){e.hasFocus()||xr(e),t.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Sr(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||kr(e))}function Er(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&xr(e))}),100)}function kr(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(fe(e,"focus",e,t),e.state.focused=!0,I(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),Cr(e))}function xr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(fe(e,"blur",e,t),e.state.focused=!1,D(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Dr(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=e.options.lineWrapping,l=void 0,c=0;if(!i.hidden){if(s&&a<8){var u=i.node.offsetTop+i.node.offsetHeight;l=u-n,n=u}else{var h=i.node.getBoundingClientRect();l=h.bottom-h.top,!o&&i.text.firstChild&&(c=i.text.firstChild.getBoundingClientRect().right-h.left-1)}var p=i.line.height-l;if((p>.005||p<-.005)&&(Ye(i.line,l),_r(i.line),i.rest))for(var d=0;d<i.rest.length;d++)_r(i.rest[d]);if(c>e.display.sizerWidth){var f=Math.ceil(c/ir(e.display));f>e.display.maxLineLength&&(e.display.maxLineLength=f,e.display.maxLine=i.line,e.display.maxLineChanged=!0)}}}}function _r(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function Tr(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-En(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=Xe(t,r),s=Xe(t,i);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;a<o?(o=a,s=Xe(t,zt(Ve(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=s&&(o=Xe(t,zt(Ve(t,l))-e.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function Rr(e,t){var n=e.display,r=rr(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Tn(e),s={};t.bottom-t.top>o&&(t.bottom=t.top+o);var a=e.doc.height+kn(n),l=t.top<r,c=t.bottom>a-r;if(t.top<i)s.scrollTop=l?0:t.top;else if(t.bottom>i+o){var u=Math.min(t.top,(c?a:t.bottom)-o);u!=i&&(s.scrollTop=u)}var h=e.options.fixedGutter?0:n.gutters.offsetWidth,p=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft-h,d=_n(e)-n.gutters.offsetWidth,f=t.right-t.left>d;return f&&(t.right=t.left+d),t.left<10?s.scrollLeft=0:t.left<p?s.scrollLeft=Math.max(0,t.left+h-(f?0:10)):t.right>d+p-3&&(s.scrollLeft=t.right+(f?0:10)-d),s}function Ar(e,t){null!=t&&(Ir(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Or(e){Ir(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Pr(e,t,n){null==t&&null==n||Ir(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Ir(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Mr(e,Kn(e,t.from),Kn(e,t.to),t.margin))}function Mr(e,t,n,r){var i=Rr(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});Pr(e,i.scrollLeft,i.scrollTop)}function Fr(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||li(e,{top:t}),Nr(e,t,!0),n&&li(e),ri(e,100))}function Nr(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Br(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,hi(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Lr(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+kn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Dn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var Hr=function(e,t,n){this.cm=n;var r=this.vert=R("div",[R("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=R("div",[R("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,e(r),e(i),he(r,"scroll",(function(){r.clientHeight&&t(r.scrollTop,"vertical")})),he(i,"scroll",(function(){i.clientWidth&&t(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,s&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Hr.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},Hr.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Hr.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Hr.prototype.zeroWidthHack=function(){var e=v&&!d?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new H,this.disableVert=new H},Hr.prototype.enableZeroWidthBar=function(e,t,n){e.style.pointerEvents="auto",t.set(1e3,(function r(){var i=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,r)}))},Hr.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Ur=function(){};function jr(e,t){t||(t=Lr(e));var n=e.display.barWidth,r=e.display.barHeight;Wr(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&Dr(e),Wr(e,Lr(e)),n=e.display.barWidth,r=e.display.barHeight}function Wr(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}Ur.prototype.update=function(){return{bottom:0,right:0}},Ur.prototype.setScrollLeft=function(){},Ur.prototype.setScrollTop=function(){},Ur.prototype.clear=function(){};var zr={native:Hr,null:Ur};function Gr(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&D(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new zr[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),he(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,n){"horizontal"==n?Br(e,t):Fr(e,t)}),e),e.display.scrollbars.addClass&&I(e.display.wrapper,e.display.scrollbars.addClass)}var qr=0;function Vr(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++qr},t=e.curOp,sn?sn.ops.push(t):t.ownsGroup=sn={ops:[t],delayedCallbacks:[]}}function $r(e){var t=e.curOp;t&&function(e,t){var n=e.ownsGroup;if(n)try{!function(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}(n)}finally{sn=null,t(n)}}(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,n=0;n<t.length;n++)Kr(t[n]);for(var r=0;r<t.length;r++)Yr(t[r]);for(var i=0;i<t.length;i++)Zr(t[i]);for(var o=0;o<t.length;o++)Xr(t[o]);for(var s=0;s<t.length;s++)Qr(t[s])}(e)}))}function Kr(e){var t=e.cm,n=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Dn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Dn(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&qt(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new oi(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Yr(e){e.updatedDisplay=e.mustUpdate&&si(e.cm,e.update)}function Zr(e){var t=e.cm,n=t.display;e.updatedDisplay&&Dr(t),e.barMeasure=Lr(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=An(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Dn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-_n(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Xr(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Br(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==P();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&jr(t,e.barMeasure),e.updatedDisplay&&ui(t,e.barMeasure),e.selectionChanged&&Cr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Sr(e.cm)}function Qr(e){var t=e.cm,n=t.display,r=t.doc;e.updatedDisplay&&ai(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&Nr(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Br(t,e.scrollLeft,!0,!0),e.scrollToPos&&function(e,t){if(!me(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!f){var o=R("div","",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-En(e.display))+"px;\n                         height: "+(t.bottom-t.top+Dn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}(t,function(e,t,n,r){var i;null==r&&(r=0),e.options.lineWrapping||t!=n||(n="before"==(t=t.ch?et(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?et(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var s=!1,a=$n(e,t),l=n&&n!=t?$n(e,n):a,c=Rr(e,i={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-r,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+r}),u=e.doc.scrollTop,h=e.doc.scrollLeft;if(null!=c.scrollTop&&(Fr(e,c.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(s=!0)),null!=c.scrollLeft&&(Br(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-h)>1&&(s=!0)),!s)break}return i}(t,at(r,e.scrollToPos.from),at(r,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var s=0;s<i.length;++s)i[s].lines.length||fe(i[s],"hide");if(o)for(var a=0;a<o.length;++a)o[a].lines.length&&fe(o[a],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&fe(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Jr(e,t){if(e.curOp)return t();Vr(e);try{return t()}finally{$r(e)}}function ei(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Vr(e);try{return t.apply(e,arguments)}finally{$r(e)}}}function ti(e){return function(){if(this.curOp)return e.apply(this,arguments);Vr(this);try{return e.apply(this,arguments)}finally{$r(this)}}}function ni(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Vr(t);try{return e.apply(this,arguments)}finally{$r(t)}}}function ri(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,N(ii,e))}function ii(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=dt(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(o){if(r.line>=e.display.viewFrom){var s=o.styles,a=o.text.length>e.options.maxHighlightLength?We(t.mode,r.state):null,l=ht(e,o,r,!0);a&&(r.state=a),o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var h=!s||s.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),p=0;!h&&p<s.length;++p)h=s[p]!=o.styles[p];h&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&ft(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return ri(e,e.options.workDelay),!0})),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&Jr(e,(function(){for(var t=0;t<i.length;t++)pr(e,i[t],"text")}))}}var oi=function(e,t,n){var r=e.display;this.viewport=t,this.visible=Tr(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=_n(e),this.force=n,this.dims=or(e),this.events=[]};function si(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return dr(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==mr(e))return!1;pi(e)&&(dr(e),t.dims=or(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),s=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(i,n.viewTo)),St&&(o=Ht(e.doc,o),s=Ut(e.doc,s));var a=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;!function(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=on(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=on(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(ur(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(on(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,ur(e,n)))),r.viewTo=n}(e,o,s),n.viewOffset=zt(Ve(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var c=mr(e);if(!a&&0==c&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=function(e){if(e.hasFocus())return null;var t=P();if(!t||!O(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&O(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}(e);return c>4&&(n.lineDiv.style.display="none"),function(e,t,n){var r=e.display,i=e.options.lineNumbers,o=r.lineDiv,s=o.firstChild;function a(t){var n=t.nextSibling;return l&&v&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var c=r.view,u=r.viewFrom,h=0;h<c.length;h++){var p=c[h];if(p.hidden);else if(p.node&&p.node.parentNode==o){for(;s!=p.node;)s=a(s);var d=i&&null!=t&&t<=u&&p.lineNumber;p.changes&&(U(p.changes,"gutter")>-1&&(d=!1),un(e,p,u,n)),d&&(_(p.lineNumber),p.lineNumber.appendChild(document.createTextNode(Je(e.options,u)))),s=p.node.nextSibling}else{var f=yn(e,p,u,n);o.insertBefore(f,s)}u+=p.size}for(;s;)s=a(s)}(e,n.updateLineNumbers,t.dims),c>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(e){if(e&&e.activeElt&&e.activeElt!=P()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&O(document.body,e.anchorNode)&&O(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}(u),_(n.cursorDiv),_(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,ri(e,400)),n.updateLineNumbers=null,!0}function ai(e,t){for(var n=t.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&t.oldDisplayWidth!=_n(e))r&&(t.visible=Tr(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+kn(e.display)-Tn(e),n.top)}),t.visible=Tr(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!si(e,t))break;Dr(e);var i=Lr(e);gr(e),jr(e,i),ui(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function li(e,t){var n=new oi(e,t);if(si(e,n)){Dr(e),ai(e,n);var r=Lr(e);gr(e),jr(e,r),ui(e,r),n.finish()}}function ci(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function ui(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Dn(e)+"px"}function hi(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=sr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",s=0;s<n.length;s++)if(!n[s].hidden){e.options.fixedGutter&&(n[s].gutter&&(n[s].gutter.style.left=o),n[s].gutterBackground&&(n[s].gutterBackground.style.left=o));var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function pi(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=Je(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(R("div",[R("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,s=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-s)+1,r.lineNumWidth=r.lineNumInnerWidth+s,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",ci(e.display),!0}return!1}function di(e,t){for(var n=[],r=!1,i=0;i<e.length;i++){var o=e[i],s=null;if("string"!=typeof o&&(s=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;r=!0}n.push({className:o,style:s})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function fi(e){var t=e.gutters,n=e.gutterSpecs;_(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var i=n[r],o=i.className,s=i.style,a=t.appendChild(R("div",null,"CodeMirror-gutter "+o));s&&(a.style.cssText=s),"CodeMirror-linenumbers"==o&&(e.lineGutter=a,a.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",ci(e)}function mi(e){fi(e.display),hr(e),hi(e)}function gi(e,t,r,i){var o=this;this.input=r,o.scrollbarFiller=R("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=R("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=A("div",null,"CodeMirror-code"),o.selectionDiv=R("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=R("div",null,"CodeMirror-cursors"),o.measure=R("div",null,"CodeMirror-measure"),o.lineMeasure=R("div",null,"CodeMirror-measure"),o.lineSpace=A("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var c=A("div",[o.lineSpace],"CodeMirror-lines");o.mover=R("div",[c],null,"position: relative"),o.sizer=R("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=R("div",null,null,"position: absolute; height: 50px; width: 1px;"),o.gutters=R("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=R("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=R("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),s&&a<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||n&&y||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=di(i.gutters,i.lineNumbers),fi(o),r.init(o)}oi.prototype.signal=function(e,t){ye(e,t)&&this.events.push(arguments)},oi.prototype.finish=function(){for(var e=0;e<this.events.length;e++)fe.apply(null,this.events[e])};var yi=0,vi=null;function bi(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function wi(e){var t=bi(e);return t.x*=vi,t.y*=vi,t}function Ci(e,t){var r=bi(t),i=r.x,o=r.y,s=e.display,a=s.scroller,c=a.scrollWidth>a.clientWidth,u=a.scrollHeight>a.clientHeight;if(i&&c||o&&u){if(o&&v&&l)e:for(var p=t.target,d=s.view;p!=a;p=p.parentNode)for(var f=0;f<d.length;f++)if(d[f].node==p){e.display.currentWheelTarget=p;break e}if(i&&!n&&!h&&null!=vi)return o&&u&&Fr(e,Math.max(0,a.scrollTop+o*vi)),Br(e,Math.max(0,a.scrollLeft+i*vi)),(!o||o&&u)&&be(t),void(s.wheelStartX=null);if(o&&null!=vi){var m=o*vi,g=e.doc.scrollTop,y=g+s.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):y=Math.min(e.doc.height,y+m+50),li(e,{top:g,bottom:y})}yi<20&&(null==s.wheelStartX?(s.wheelStartX=a.scrollLeft,s.wheelStartY=a.scrollTop,s.wheelDX=i,s.wheelDY=o,setTimeout((function(){if(null!=s.wheelStartX){var e=a.scrollLeft-s.wheelStartX,t=a.scrollTop-s.wheelStartY,n=t&&s.wheelDY&&t/s.wheelDY||e&&s.wheelDX&&e/s.wheelDX;s.wheelStartX=s.wheelStartY=null,n&&(vi=(vi*yi+n)/(yi+1),++yi)}}),200)):(s.wheelDX+=i,s.wheelDY+=o))}}s?vi=-.53:n?vi=15:u?vi=-.7:p&&(vi=-1/3);var Si=function(e,t){this.ranges=e,this.primIndex=t};Si.prototype.primary=function(){return this.ranges[this.primIndex]},Si.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!nt(n.anchor,r.anchor)||!nt(n.head,r.head))return!1}return!0},Si.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Ei(rt(this.ranges[t].anchor),rt(this.ranges[t].head));return new Si(e,this.primIndex)},Si.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},Si.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(tt(t,r.from())>=0&&tt(e,r.to())<=0)return n}return-1};var Ei=function(e,t){this.anchor=e,this.head=t};function ki(e,t,n){var r=e&&e.options.selectionsMayTouch,i=t[n];t.sort((function(e,t){return tt(e.from(),t.from())})),n=U(t,i);for(var o=1;o<t.length;o++){var s=t[o],a=t[o-1],l=tt(a.to(),s.from());if(r&&!s.empty()?l>0:l>=0){var c=ot(a.from(),s.from()),u=it(a.to(),s.to()),h=a.empty()?s.from()==s.head:a.from()==a.head;o<=n&&--n,t.splice(--o,2,new Ei(h?u:c,h?c:u))}}return new Si(t,n)}function xi(e,t){return new Si([new Ei(e,t||e)],0)}function Di(e){return e.text?et(e.from.line+e.text.length-1,K(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function _i(e,t){if(tt(e,t.from)<0)return e;if(tt(e,t.to)<=0)return Di(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=Di(t).ch-t.to.ch),et(n,r)}function Ti(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new Ei(_i(i.anchor,t),_i(i.head,t)))}return ki(e.cm,n,e.sel.primIndex)}function Ri(e,t,n){return e.line==t.line?et(n.line,e.ch-t.ch+n.ch):et(n.line+(e.line-t.line),e.ch)}function Ai(e){e.doc.mode=He(e.options,e.doc.modeOption),Oi(e)}function Oi(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ri(e,100),e.state.modeGen++,e.curOp&&hr(e)}function Pi(e,t){return 0==t.from.ch&&0==t.to.ch&&""==K(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ii(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){!function(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Tt(e),Rt(e,n);var i=r?r(e):1;i!=e.height&&Ye(e,i)}(e,n,i,r),ln(e,"change",e,t)}function s(e,t){for(var n=[],o=e;o<t;++o)n.push(new Vt(c[o],i(o),r));return n}var a=t.from,l=t.to,c=t.text,u=Ve(e,a.line),h=Ve(e,l.line),p=K(c),d=i(c.length-1),f=l.line-a.line;if(t.full)e.insert(0,s(0,c.length)),e.remove(c.length,e.size-c.length);else if(Pi(e,t)){var m=s(0,c.length-1);o(h,h.text,d),f&&e.remove(a.line,f),m.length&&e.insert(a.line,m)}else if(u==h)if(1==c.length)o(u,u.text.slice(0,a.ch)+p+u.text.slice(l.ch),d);else{var g=s(1,c.length-1);g.push(new Vt(p+u.text.slice(l.ch),d,r)),o(u,u.text.slice(0,a.ch)+c[0],i(0)),e.insert(a.line+1,g)}else if(1==c.length)o(u,u.text.slice(0,a.ch)+c[0]+h.text.slice(l.ch),i(0)),e.remove(a.line+1,f);else{o(u,u.text.slice(0,a.ch)+c[0],i(0)),o(h,p+h.text.slice(l.ch),d);var y=s(1,c.length-1);f>1&&e.remove(a.line+1,f-1),e.insert(a.line+1,y)}ln(e,"change",e,t)}function Mi(e,t,n){!function e(r,i,o){if(r.linked)for(var s=0;s<r.linked.length;++s){var a=r.linked[s];if(a.doc!=i){var l=o&&a.sharedHist;n&&!l||(t(a.doc,l),e(a.doc,r,l))}}}(e,null,!0)}function Fi(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,lr(e),Ai(e),Ni(e),e.options.lineWrapping||qt(e),e.options.mode=t.modeOption,hr(e)}function Ni(e){("rtl"==e.doc.direction?I:D)(e.display.lineDiv,"CodeMirror-rtl")}function Bi(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function Li(e,t){var n={from:rt(t.from),to:Di(t),text:$e(e,t.from,t.to)};return zi(e,n,t.from.line,t.to.line+1),Mi(e,(function(e){return zi(e,n,t.from.line,t.to.line+1)}),!0),n}function Hi(e){for(;e.length&&K(e).ranges;)e.pop()}function Ui(e,t,n,r){var i=e.history;i.undone.length=0;var o,s,a=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>a-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=function(e,t){return t?(Hi(e.done),K(e.done)):e.done.length&&!K(e.done).ranges?K(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),K(e.done)):void 0}(i,i.lastOp==r)))s=K(o.changes),0==tt(t.from,t.to)&&0==tt(t.from,s.to)?s.to=Di(t):o.changes.push(Li(e,t));else{var l=K(i.done);for(l&&l.ranges||Wi(e.sel,i.done),o={changes:[Li(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,s||fe(e,"historyAdded")}function ji(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,K(i.done),t))?i.done[i.done.length-1]=t:Wi(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&Hi(i.undone)}function Wi(e,t){var n=K(t);n&&n.ranges&&n.equals(e)||t.push(e)}function zi(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),(function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o}))}function Gi(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function qi(e,t){var n=function(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(Gi(n[i]));return r}(e,t),r=Dt(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],s=r[i];if(o&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else s&&(n[i]=s)}return n}function Vi(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?Si.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var c=s[l],u=void 0;if(a.push({from:c.from,to:c.to,text:c.text}),t)for(var h in c)(u=h.match(/^spans_(\d+)$/))&&U(t,Number(u[1]))>-1&&(K(a)[h]=c[h],delete c[h])}}}return r}function $i(e,t,n,r){if(r){var i=e.anchor;if(n){var o=tt(t,i)<0;o!=tt(n,i)<0?(i=t,t=n):o!=tt(t,n)<0&&(t=n)}return new Ei(i,t)}return new Ei(n||t,t)}function Ki(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),Ji(e,new Si([$i(e.sel.primary(),t,n,i)],0),r)}function Yi(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=$i(e.sel.ranges[o],t[o],null,i);Ji(e,ki(e.cm,r,e.sel.primIndex),n)}function Zi(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,Ji(e,ki(e.cm,i,e.sel.primIndex),r)}function Xi(e,t,n,r){Ji(e,xi(t,n),r)}function Qi(e,t,n){var r=e.history.done,i=K(r);i&&i.ranges?(r[r.length-1]=t,eo(e,t,n)):Ji(e,t,n)}function Ji(e,t,n){eo(e,t,n),ji(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function eo(e,t,n){(ye(e,"beforeSelectionChange")||e.cm&&ye(e.cm,"beforeSelectionChange"))&&(t=function(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new Ei(at(e,t[n].anchor),at(e,t[n].head))},origin:n&&n.origin};return fe(e,"beforeSelectionChange",e,r),e.cm&&fe(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?ki(e.cm,r.ranges,r.ranges.length-1):t}(e,t,n));var r=n&&n.bias||(tt(t.primary().head,e.sel.primary().head)<0?-1:1);to(e,ro(e,t,r,!0)),n&&!1===n.scroll||!e.cm||"nocursor"==e.cm.getOption("readOnly")||Or(e.cm)}function to(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,ge(e.cm)),ln(e,"cursorActivity",e))}function no(e){to(e,ro(e,e.sel,null,!1))}function ro(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var s=t.ranges[o],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=oo(e,s.anchor,a&&a.anchor,n,r),c=oo(e,s.head,a&&a.head,n,r);(i||l!=s.anchor||c!=s.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new Ei(l,c))}return i?ki(e.cm,i,t.primIndex):t}function io(e,t,n,r,i){var o=Ve(e,t.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker,c="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,u="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==a.from||(c?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(u?a.to>=t.ch:a.to>t.ch))){if(i&&(fe(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(n){var h=l.find(r<0?1:-1),p=void 0;if((r<0?u:c)&&(h=so(e,h,-r,h&&h.line==t.line?o:null)),h&&h.line==t.line&&(p=tt(h,n))&&(r<0?p<0:p>0))return io(e,h,t,r,i)}var d=l.find(r<0?-1:1);return(r<0?c:u)&&(d=so(e,d,r,d.line==t.line?o:null)),d?io(e,d,t,r,i):null}}return t}function oo(e,t,n,r,i){var o=r||1,s=io(e,t,n,o,i)||!i&&io(e,t,n,o,!0)||io(e,t,n,-o,i)||!i&&io(e,t,n,-o,!0);return s||(e.cantEdit=!0,et(e.first,0))}function so(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?at(e,et(t.line-1)):null:n>0&&t.ch==(r||Ve(e,t.line)).text.length?t.line<e.first+e.size-1?et(t.line+1,0):null:new et(t.line,t.ch+n)}function ao(e){e.setSelection(et(e.firstLine(),0),et(e.lastLine()),W)}function lo(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=at(e,t)),n&&(r.to=at(e,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),fe(e,"beforeChange",e,r),e.cm&&fe(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function co(e,t,n){if(e.cm){if(!e.cm.curOp)return ei(e.cm,co)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(ye(e,"beforeChange")||e.cm&&ye(e.cm,"beforeChange"))||(t=lo(e,t,!0))){var r=Ct&&!n&&function(e,t,n){var r=null;if(e.iter(t.line,n.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=U(r,n)||(r||(r=[])).push(n)}})),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var s=r[o],a=s.find(0),l=0;l<i.length;++l){var c=i[l];if(!(tt(c.to,a.from)<0||tt(c.from,a.to)>0)){var u=[l,1],h=tt(c.from,a.from),p=tt(c.to,a.to);(h<0||!s.inclusiveLeft&&!h)&&u.push({from:c.from,to:a.from}),(p>0||!s.inclusiveRight&&!p)&&u.push({from:a.to,to:c.to}),i.splice.apply(i,u),l+=u.length-3}}return i}(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)uo(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else uo(e,t)}}function uo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=tt(t.from,t.to)){var n=Ti(e,t);Ui(e,t,n,e.cm?e.cm.curOp.id:NaN),fo(e,t,n,Dt(e,t));var r=[];Mi(e,(function(e,n){n||-1!=U(r,e.history)||(vo(e.history,t),r.push(e.history)),fo(e,t,null,Dt(e,t))}))}}function ho(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var i,o=e.history,s=e.sel,a="undo"==t?o.done:o.undone,l="undo"==t?o.undone:o.done,c=0;c<a.length&&(i=a[c],n?!i.ranges||i.equals(e.sel):i.ranges);c++);if(c!=a.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=a.pop()).ranges){if(r)return void a.push(i);break}if(Wi(i,l),n&&!i.equals(e.sel))return void Ji(e,i,{clearRedo:!1});s=i}var u=[];Wi(s,l),l.push({changes:u,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var h=ye(e,"beforeChange")||e.cm&&ye(e.cm,"beforeChange"),p=function(n){var r=i.changes[n];if(r.origin=t,h&&!lo(e,r,!1))return a.length=0,{};u.push(Li(e,r));var o=n?Ti(e,r):K(a);fo(e,r,o,qi(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:Di(r)});var s=[];Mi(e,(function(e,t){t||-1!=U(s,e.history)||(vo(e.history,r),s.push(e.history)),fo(e,r,null,qi(e,r))}))},d=i.changes.length-1;d>=0;--d){var f=p(d);if(f)return f.v}}}}function po(e,t){if(0!=t&&(e.first+=t,e.sel=new Si(Y(e.sel.ranges,(function(e){return new Ei(et(e.anchor.line+t,e.anchor.ch),et(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){hr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)pr(e.cm,r,"gutter")}}function fo(e,t,n,r){if(e.cm&&!e.cm.curOp)return ei(e.cm,fo)(e,t,n,r);if(t.to.line<e.first)po(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);po(e,i),t={from:et(e.first,0),to:et(t.to.line+i,t.to.ch),text:[K(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:et(o,Ve(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=$e(e,t.from,t.to),n||(n=Ti(e,t)),e.cm?function(e,t,n){var r=e.doc,i=e.display,o=t.from,s=t.to,a=!1,l=o.line;e.options.lineWrapping||(l=Ze(Lt(Ve(r,o.line))),r.iter(l,s.line+1,(function(e){if(e==i.maxLine)return a=!0,!0}))),r.sel.contains(t.from,t.to)>-1&&ge(e),Ii(r,t,n,ar(e)),e.options.lineWrapping||(r.iter(l,o.line+t.text.length,(function(e){var t=Gt(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,a=!1)})),a&&(e.curOp.updateMaxLine=!0)),function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=Ve(e,r).stateAfter;if(i&&(!(i instanceof ct)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}(r,o.line),ri(e,400);var c=t.text.length-(s.line-o.line)-1;t.full?hr(e):o.line!=s.line||1!=t.text.length||Pi(e.doc,t)?hr(e,o.line,s.line+1,c):pr(e,o.line,"text");var u=ye(e,"changes"),h=ye(e,"change");if(h||u){var p={from:o,to:s,text:t.text,removed:t.removed,origin:t.origin};h&&ln(e,"change",e,p),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(p)}e.display.selForContextMenu=null}(e.cm,t,r):Ii(e,t,r),eo(e,n,W),e.cantEdit&&oo(e,et(e.firstLine(),0))&&(e.cantEdit=!1)}}function mo(e,t,n,r,i){var o;r||(r=n),tt(r,n)<0&&(n=(o=[r,n])[0],r=o[1]),"string"==typeof t&&(t=e.splitLines(t)),co(e,{from:n,to:r,text:t,origin:i})}function go(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function yo(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],s=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var a=0;a<o.ranges.length;a++)go(o.ranges[a].anchor,t,n,r),go(o.ranges[a].head,t,n,r)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line)c.from=et(c.from.line+r,c.from.ch),c.to=et(c.to.line+r,c.to.ch);else if(t<=c.to.line){s=!1;break}}s||(e.splice(0,i+1),i=0)}}}function vo(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;yo(e.done,n,r,i),yo(e.undone,n,r,i)}function bo(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=Ve(e,st(e,t)):i=Ze(t),null==i?null:(r(o,i)&&e.cm&&pr(e.cm,i,n),o)}function wo(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function Co(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}Ei.prototype.from=function(){return ot(this.anchor,this.head)},Ei.prototype.to=function(){return it(this.anchor,this.head)},Ei.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},wo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,$t(i),ln(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},Co.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var o=Math.min(t,i-e),s=r.height;if(r.removeInner(e,o),this.height-=s-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof wo))){var a=[];this.collapse(a),this.children=[new wo(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var s=i.lines.length%25+25,a=s;a<i.lines.length;){var l=new wo(i.lines.slice(a,a+=25));i.height-=l.height,this.children.splice(++r,0,l),l.parent=this}i.lines=i.lines.slice(0,s),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new Co(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=U(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new Co(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var s=Math.min(t,o-e);if(i.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=o}}};var So=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function Eo(e,t,n){zt(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Ar(e,n)}So.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=Ze(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=Cn(this);Ye(n,Math.max(0,n.height-o)),e&&(Jr(e,(function(){Eo(e,n,-o),pr(e,r,"widget")})),ln(e,"lineWidgetCleared",e,this,r))}},So.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=Cn(this)-t;i&&(jt(this.doc,r)||Ye(r,r.height+i),n&&Jr(n,(function(){n.curOp.forceUpdate=!0,Eo(n,r,i),ln(n,"lineWidgetChanged",n,e,Ze(r))})))},ve(So);var ko=0,xo=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++ko};function Do(e,t,n,r,i){if(r&&r.shared)return function(e,t,n,r,i){(r=B(r)).shared=!1;var o=[Do(e,t,n,r,i)],s=o[0],a=r.widgetNode;return Mi(e,(function(e){a&&(r.widgetNode=a.cloneNode(!0)),o.push(Do(e,at(e,t),at(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=K(o)})),new _o(o,s)}(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return ei(e.cm,Do)(e,t,n,r,i);var o=new xo(e,i),s=tt(t,n);if(r&&B(r,o,!1),s>0||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=A("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Bt(e,t.line,t,n,o)||t.line!=n.line&&Bt(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");St=!0}o.addToHistory&&Ui(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var a,l=t.line,c=e.cm;if(e.iter(l,n.line+1,(function(e){c&&o.collapsed&&!c.options.lineWrapping&&Lt(e)==c.display.maxLine&&(a=!0),o.collapsed&&l!=t.line&&Ye(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new Et(o,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l})),o.collapsed&&e.iter(t.line,n.line+1,(function(t){jt(e,t)&&Ye(t,0)})),o.clearOnEnter&&he(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(Ct=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++ko,o.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),o.collapsed)hr(c,t.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var u=t.line;u<=n.line;u++)pr(c,u,"text");o.atomic&&no(c.doc),ln(c,"markerAdded",c,o)}return o}xo.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Vr(e),ye(this,"clear")){var n=this.find();n&&ln(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=kt(s.markedSpans,this);e&&!this.collapsed?pr(e,Ze(s),"text"):e&&(null!=a.to&&(i=Ze(s)),null!=a.from&&(r=Ze(s))),s.markedSpans=xt(s.markedSpans,a),null==a.from&&this.collapsed&&!jt(this.doc,s)&&e&&Ye(s,rr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=Lt(this.lines[l]),u=Gt(c);u>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&hr(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&no(e.doc)),e&&ln(e,"markerCleared",e,this,r,i),t&&$r(e),this.parent&&this.parent.clear()}},xo.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],s=kt(o.markedSpans,this);if(null!=s.from&&(n=et(t?o:Ze(o),s.from),-1==e))return n;if(null!=s.to&&(r=et(t?o:Ze(o),s.to),1==e))return r}return n&&{from:n,to:r}},xo.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&Jr(r,(function(){var i=t.line,o=Ze(t.line),s=On(r,o);if(s&&(Ln(s),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!jt(n.doc,i)&&null!=n.height){var a=n.height;n.height=null;var l=Cn(n)-a;l&&Ye(i,i.height+l)}ln(r,"markerChanged",r,e)}))},xo.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=U(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},xo.prototype.detachLine=function(e){if(this.lines.splice(U(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},ve(xo);var _o=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function To(e){return e.findMarks(et(e.first,0),e.clipPos(et(e.lastLine())),(function(e){return e.parent}))}function Ro(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];Mi(n.primary.doc,(function(e){return r.push(e)}));for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==U(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<e.length;n++)t(n)}_o.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();ln(this,"clear")}},_o.prototype.find=function(e,t){return this.primary.find(e,t)},ve(_o);var Ao=0,Oo=function(e,t,n,r,i){if(!(this instanceof Oo))return new Oo(e,t,n,r,i);null==n&&(n=0),Co.call(this,[new wo([new Vt("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=et(n,0);this.sel=xi(o),this.history=new Bi(null),this.id=++Ao,this.modeOption=t,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Ii(this,{from:o,to:o,text:e}),Ji(this,xi(o),W)};Oo.prototype=X(Co.prototype,{constructor:Oo,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ke(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:ni((function(e){var t=et(this.first,0),n=this.first+this.size-1;co(this,{from:t,to:et(n,Ve(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Pr(this.cm,0,0),Ji(this,xi(t),W)})),replaceRange:function(e,t,n,r){mo(this,e,t=at(this,t),n=n?at(this,n):t,r)},getRange:function(e,t,n){var r=$e(this,at(this,e),at(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(Qe(this,e))return Ve(this,e)},getLineNumber:function(e){return Ze(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Ve(this,e)),Lt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return at(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ni((function(e,t,n){Xi(this,at(this,"number"==typeof e?et(e,t||0):e),null,n)})),setSelection:ni((function(e,t,n){Xi(this,at(this,e),at(this,t||e),n)})),extendSelection:ni((function(e,t,n){Ki(this,at(this,e),t&&at(this,t),n)})),extendSelections:ni((function(e,t){Yi(this,lt(this,e),t)})),extendSelectionsBy:ni((function(e,t){Yi(this,lt(this,Y(this.sel.ranges,e)),t)})),setSelections:ni((function(e,t,n){if(e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new Ei(at(this,e[i].anchor),at(this,e[i].head||e[i].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Ji(this,ki(this.cm,r,t),n)}})),addSelection:ni((function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new Ei(at(this,e),at(this,t||e))),Ji(this,ki(this.cm,r,r.length-1),n)})),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=$e(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=$e(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:ni((function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var s=i.ranges[o];r[o]={from:s.from(),to:s.to(),text:this.splitLines(e[o]),origin:n}}for(var a=t&&"end"!=t&&function(e,t,n){for(var r=[],i=et(e.first,0),o=i,s=0;s<t.length;s++){var a=t[s],l=Ri(a.from,i,o),c=Ri(Di(a),i,o);if(i=a.to,o=c,"around"==n){var u=e.sel.ranges[s],h=tt(u.head,u.anchor)<0;r[s]=new Ei(h?c:l,h?l:c)}else r[s]=new Ei(l,l)}return new Si(r,e.sel.primIndex)}(this,r,t),l=r.length-1;l>=0;l--)co(this,r[l]);a?Qi(this,a):this.cm&&Or(this.cm)})),undo:ni((function(){ho(this,"undo")})),redo:ni((function(){ho(this,"redo")})),undoSelection:ni((function(){ho(this,"undo",!0)})),redoSelection:ni((function(){ho(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new Bi(this.history),Mi(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Vi(this.history.done),undone:Vi(this.history.undone)}},setHistory:function(e){var t=this.history=new Bi(this.history);t.done=Vi(e.done.slice(0),null,!0),t.undone=Vi(e.undone.slice(0),null,!0)},setGutterMarker:ni((function(e,t,n){return bo(this,e,"gutter",(function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&te(r)&&(e.gutterMarkers=null),!0}))})),clearGutter:ni((function(e){var t=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[e]&&bo(t,n,"gutter",(function(){return n.gutterMarkers[e]=null,te(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!Qe(this,e))return null;if(t=e,!(e=Ve(this,e)))return null}else if(null==(t=Ze(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:ni((function(e,t,n){return bo(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(k(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0}))})),removeLineClass:ni((function(e,t,n){return bo(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(k(n));if(!o)return!1;var s=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&s!=i.length?" ":"")+i.slice(s)||null}return!0}))})),addLineWidget:ni((function(e,t,n){return function(e,t,n,r){var i=new So(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),bo(e,t,"widget",(function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!jt(e,t)){var r=zt(t)<e.scrollTop;Ye(t,t.height+Cn(i)),r&&Ar(o,i.height),o.curOp.forceUpdate=!0}return!0})),o&&ln(o,"lineWidgetAdded",o,i,"number"==typeof t?t:Ze(t)),i}(this,e,t,n)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Do(this,at(this,e),at(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return Do(this,e=at(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=Ve(this,(e=at(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=at(this,e),t=at(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,(function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==t.line&&l.from>=t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i})),r},getAllMarks:function(){var e=[];return this.iter((function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)})),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter((function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n})),at(this,et(n,t))},indexFromPos:function(e){var t=(e=at(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+n})),t},copy:function(e){var t=new Oo(Ke(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Oo(Ke(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),s=e.clipPos(i.to);if(tt(o,s)){var a=Do(e,o,s,r.primary,r.primary.type);r.markers.push(a),a.parent=r}}}(r,To(this)),r},unlinkDoc:function(e){if(e instanceof _s&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Ro(To(this));break}if(e.history==this.history){var n=[e.id];Mi(e,(function(e){return n.push(e.id)}),!0),e.history=new Bi(null),e.history.done=Vi(this.history.done,n),e.history.undone=Vi(this.history.undone,n)}},iterLinkedDocs:function(e){Mi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Oe(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ni((function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&Jr(t=this.cm,(function(){Ni(t),hr(t)})))}))}),Oo.prototype.eachLine=Oo.prototype.iter;var Po=0;function Io(e){var t=this;if(Mo(t),!me(t,e)&&!Sn(t.display,e)){be(e),s&&(Po=+new Date);var n=cr(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,l=function(){++a==i&&ei(t,(function(){var e={from:n=at(t.doc,n),to:n,text:t.doc.splitLines(o.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};co(t.doc,e),Qi(t.doc,xi(at(t.doc,n),at(t.doc,Di(e))))}))()},c=function(e,n){if(t.options.allowDropFileTypes&&-1==U(t.options.allowDropFileTypes,e.type))l();else{var r=new FileReader;r.onerror=function(){return l()},r.onload=function(){var e=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(o[n]=e),l()},r.readAsText(e)}},u=0;u<r.length;u++)c(r[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var h=e.dataTransfer.getData("Text");if(h){var p;if(t.state.draggingText&&!t.state.draggingText.copy&&(p=t.listSelections()),eo(t.doc,xi(n,n)),p)for(var d=0;d<p.length;++d)mo(t.doc,"",p[d].anchor,p[d].head,"drag");t.replaceSelection(h,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Mo(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Fo(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var i=t[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation((function(){for(var t=0;t<n.length;t++)e(n[t])}))}}var No=!1;function Bo(){var e;No||(he(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Fo(Lo)}),100))})),he(window,"blur",(function(){return Fo(xr)})),No=!0)}function Lo(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Ho={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Uo=0;Uo<10;Uo++)Ho[Uo+48]=Ho[Uo+96]=String(Uo);for(var jo=65;jo<=90;jo++)Ho[jo]=String.fromCharCode(jo);for(var Wo=1;Wo<=12;Wo++)Ho[Wo+111]=Ho[Wo+63235]="F"+Wo;var zo={};function Go(e){var t,n,r,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))i=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function qo(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=Y(n.split(" "),Go),o=0;o<i.length;o++){var s=void 0,a=void 0;o==i.length-1?(a=i.join(" "),s=r):(a=i.slice(0,o+1).join(" "),s="...");var l=t[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[n]}for(var c in t)e[c]=t[c];return e}function Vo(e,t,n,r){var i=(t=Zo(t)).call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Vo(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var s=Vo(e,t.fallthrough[o],n,r);if(s)return s}}}function $o(e){var t="string"==typeof e?e:Ho[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Ko(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(S?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(S?t.ctrlKey:t.metaKey)&&"Mod"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function Yo(e,t){if(h&&34==e.keyCode&&e.char)return!1;var n=Ho[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Ko(n,e,t))}function Zo(e){return"string"==typeof e?zo[e]:e}function Xo(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&tt(o.from,K(r).to)<=0;){var s=r.pop();if(tt(s.from,o.from)<0){o.from=s.from;break}}r.push(o)}Jr(e,(function(){for(var t=r.length-1;t>=0;t--)mo(e.doc,"",r[t].from,r[t].to,"+delete");Or(e)}))}function Qo(e,t,n){var r=ie(e.text,t+n,n);return r<0||r>e.text.length?null:r}function Jo(e,t,n){var r=Qo(e,t.ch,n);return null==r?null:new et(t.line,r,n<0?"after":"before")}function es(e,t,n,r,i){if(e){"rtl"==t.doc.direction&&(i=-i);var o=ce(n,t.doc.direction);if(o){var s,a=i<0?K(o):o[0],l=i<0==(1==a.level)?"after":"before";if(a.level>0||"rtl"==t.doc.direction){var c=Pn(t,n);s=i<0?n.text.length-1:0;var u=In(t,c,s).top;s=oe((function(e){return In(t,c,e).top==u}),i<0==(1==a.level)?a.from:a.to-1,s),"before"==l&&(s=Qo(n,s,1))}else s=i<0?a.to:a.from;return new et(r,s,l)}}return new et(r,i<0?n.text.length:0,i<0?"before":"after")}zo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},zo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},zo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},zo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},zo.default=v?zo.macDefault:zo.pcDefault;var ts={selectAll:ao,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),W)},killLine:function(e){return Xo(e,(function(t){if(t.empty()){var n=Ve(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:et(t.head.line+1,0)}:{from:t.head,to:et(t.head.line,n)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return Xo(e,(function(t){return{from:et(t.from().line,0),to:at(e.doc,et(t.to().line+1,0))}}))},delLineLeft:function(e){return Xo(e,(function(e){return{from:et(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return Xo(e,(function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return Xo(e,(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(et(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(et(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return ns(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return rs(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return function(e,t){var n=Ve(e.doc,t),r=function(e){for(var t;t=Ft(e);)e=t.find(1,!0).line;return e}(n);return r!=n&&(t=Ze(r)),es(!0,e,n,t,-1)}(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")}),G)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")}),G)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?rs(e,t.head):r}),G)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),s=L(e.getLine(o.line),o.ch,r);t.push($(r-s%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Jr(e,(function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=Ve(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new et(i.line,i.ch-1)),i.ch>0)i=new et(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),et(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var s=Ve(e.doc,i.line-1).text;s&&(i=new et(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),et(i.line-1,s.length-1),i,"+transpose"))}n.push(new Ei(i,i))}e.setSelections(n)}))},newlineAndIndent:function(e){return Jr(e,(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);Or(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function ns(e,t){var n=Ve(e.doc,t),r=Lt(n);return r!=n&&(t=Ze(r)),es(!0,e,r,t,1)}function rs(e,t){var n=ns(e,t.line),r=Ve(e.doc,n.line),i=ce(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(n.ch,r.text.search(/\S/)),s=t.line==n.line&&t.ch<=o&&t.ch;return et(n.line,s?0:o,n.sticky)}return n}function is(e,t,n){if("string"==typeof t&&!(t=ts[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=j}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}var os=new H;function ss(e,t,n,r){var i=e.state.keySeq;if(i){if($o(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:os.set(50,(function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())})),as(e,i+" "+t,n,r))return!0}return as(e,t,n,r)}function as(e,t,n,r){var i=function(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=Vo(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&Vo(t,e.options.extraKeys,n,e)||Vo(t,e.options.keyMap,n,e)}(e,t,r);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&ln(e,"keyHandled",e,t,n),"handled"!=i&&"multi"!=i||(be(n),Cr(e)),!!i}function ls(e,t){var n=Yo(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?ss(e,"Shift-"+n,t,(function(t){return is(e,t,!0)}))||ss(e,n,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return is(e,t)})):ss(e,n,t,(function(t){return is(e,t)})))}var cs=null;function us(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=P(),me(t,e)))){s&&a<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var i=ls(t,e);h&&(cs=i?r:null,i||88!=r||Ie||!(v?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),n&&!v&&!i&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(D(t,"CodeMirror-crosshair"),de(document,"keyup",n),de(document,"mouseover",n))}I(t,"CodeMirror-crosshair"),he(document,"keyup",n),he(document,"mouseover",n)}(t)}}function hs(e){16==e.keyCode&&(this.doc.sel.shift=!1),me(this,e)}function ps(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||Sn(t.display,e)||me(t,e)||e.ctrlKey&&!e.altKey||v&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(h&&n==cs)return cs=null,void be(e);if(!h||e.which&&!(e.which<10)||!ls(t,e)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(function(e,t,n){return ss(e,"'"+n+"'",t,(function(t){return is(e,t,!0)}))}(t,e,i)||t.display.input.onKeyPress(e))}}}var ds,fs,ms=function(e,t,n){this.time=e,this.pos=t,this.button=n};function gs(e){var t=this,n=t.display;if(!(me(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,Sn(n,e))l||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!bs(t,e)){var r=cr(t,e),i=ke(e),o=r?function(e,t){var n=+new Date;return fs&&fs.compare(n,e,t)?(ds=fs=null,"triple"):ds&&ds.compare(n,e,t)?(fs=new ms(n,e,t),ds=null,"double"):(ds=new ms(n,e,t),fs=null,"single")}(r,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),r&&function(e,t,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),ss(e,Ko(o=(1==t?"Left":2==t?"Middle":"Right")+o,i),i,(function(t){if("string"==typeof t&&(t=ts[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=j}finally{e.state.suppressEdits=!1}return r}))}(t,i,r,o,e)||(1==i?r?function(e,t,n,r){s?setTimeout(N(Sr,e),0):e.curOp.focus=P();var i,o=function(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(null==i.unit){var o=b?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=v?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(v?n.altKey:n.ctrlKey)),i}(e,n,r),c=e.doc.sel;e.options.dragDrop&&_e&&!e.isReadOnly()&&"single"==n&&(i=c.contains(t))>-1&&(tt((i=c.ranges[i]).from(),t)<0||t.xRel>0)&&(tt(i.to(),t)>0||t.xRel<0)?function(e,t,n,r){var i=e.display,o=!1,c=ei(e,(function(t){l&&(i.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:Er(e)),de(i.wrapper.ownerDocument,"mouseup",c),de(i.wrapper.ownerDocument,"mousemove",u),de(i.scroller,"dragstart",h),de(i.scroller,"drop",c),o||(be(t),r.addNew||Ki(e.doc,n,null,null,r.extend),l&&!p||s&&9==a?setTimeout((function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()}),20):i.input.focus())})),u=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},h=function(){return o=!0};l&&(i.scroller.draggable=!0),e.state.draggingText=c,c.copy=!r.moveOnDrag,he(i.wrapper.ownerDocument,"mouseup",c),he(i.wrapper.ownerDocument,"mousemove",u),he(i.scroller,"dragstart",h),he(i.scroller,"drop",c),e.state.delayingBlurEvent=!0,setTimeout((function(){return i.input.focus()}),20),i.scroller.dragDrop&&i.scroller.dragDrop()}(e,r,t,o):function(e,t,n,r){s&&Er(e);var i=e.display,o=e.doc;be(t);var a,l,c=o.sel,u=c.ranges;if(r.addNew&&!r.extend?(l=o.sel.contains(n),a=l>-1?u[l]:new Ei(n,n)):(a=o.sel.primary(),l=o.sel.primIndex),"rectangle"==r.unit)r.addNew||(a=new Ei(n,n)),n=cr(e,t,!0,!0),l=-1;else{var h=ys(e,n,r.unit);a=r.extend?$i(a,h.anchor,h.head,r.extend):h}r.addNew?-1==l?(l=u.length,Ji(o,ki(e,u.concat([a]),l),{scroll:!1,origin:"*mouse"})):u.length>1&&u[l].empty()&&"char"==r.unit&&!r.extend?(Ji(o,ki(e,u.slice(0,l).concat(u.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),c=o.sel):Zi(o,l,a,z):(l=0,Ji(o,new Si([a],0),z),c=o.sel);var p=n;function d(t){if(0!=tt(p,t))if(p=t,"rectangle"==r.unit){for(var i=[],s=e.options.tabSize,u=L(Ve(o,n.line).text,n.ch,s),h=L(Ve(o,t.line).text,t.ch,s),d=Math.min(u,h),f=Math.max(u,h),m=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));m<=g;m++){var y=Ve(o,m).text,v=q(y,d,s);d==f?i.push(new Ei(et(m,v),et(m,v))):y.length>v&&i.push(new Ei(et(m,v),et(m,q(y,f,s))))}i.length||i.push(new Ei(n,n)),Ji(o,ki(e,c.ranges.slice(0,l).concat(i),l),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b,w=a,C=ys(e,t,r.unit),S=w.anchor;tt(C.anchor,S)>0?(b=C.head,S=ot(w.from(),C.anchor)):(b=C.anchor,S=it(w.to(),C.head));var E=c.ranges.slice(0);E[l]=function(e,t){var n=t.anchor,r=t.head,i=Ve(e.doc,n.line);if(0==tt(n,r)&&n.sticky==r.sticky)return t;var o=ce(i);if(!o)return t;var s=ae(o,n.ch,n.sticky),a=o[s];if(a.from!=n.ch&&a.to!=n.ch)return t;var l,c=s+(a.from==n.ch==(1!=a.level)?0:1);if(0==c||c==o.length)return t;if(r.line!=n.line)l=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var u=ae(o,r.ch,r.sticky),h=u-s||(r.ch-n.ch)*(1==a.level?-1:1);l=u==c-1||u==c?h<0:h>0}var p=o[c+(l?-1:0)],d=l==(1==p.level),f=d?p.from:p.to,m=d?"after":"before";return n.ch==f&&n.sticky==m?t:new Ei(new et(n.line,f,m),r)}(e,new Ei(at(o,S),b)),Ji(o,ki(e,E,l),z)}}var f=i.wrapper.getBoundingClientRect(),m=0;function g(t){e.state.selectingText=!1,m=1/0,t&&(be(t),i.input.focus()),de(i.wrapper.ownerDocument,"mousemove",y),de(i.wrapper.ownerDocument,"mouseup",v),o.history.lastSelOrigin=null}var y=ei(e,(function(t){0!==t.buttons&&ke(t)?function t(n){var s=++m,a=cr(e,n,!0,"rectangle"==r.unit);if(a)if(0!=tt(a,p)){e.curOp.focus=P(),d(a);var l=Tr(i,o);(a.line>=l.to||a.line<l.from)&&setTimeout(ei(e,(function(){m==s&&t(n)})),150)}else{var c=n.clientY<f.top?-20:n.clientY>f.bottom?20:0;c&&setTimeout(ei(e,(function(){m==s&&(i.scroller.scrollTop+=c,t(n))})),50)}}(t):g(t)})),v=ei(e,g);e.state.selectingText=v,he(i.wrapper.ownerDocument,"mousemove",y),he(i.wrapper.ownerDocument,"mouseup",v)}(e,r,t,o)}(t,r,o,e):Ee(e)==n.scroller&&be(e):2==i?(r&&Ki(t.doc,r),setTimeout((function(){return n.input.focus()}),20)):3==i&&(E?t.display.input.onContextMenu(e):Er(t)))}}function ys(e,t,n){if("char"==n)return new Ei(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new Ei(et(t.line,0),at(e.doc,et(t.line+1,0)));var r=n(e,t);return new Ei(r.from,r.to)}function vs(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(e){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&be(t);var s=e.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!ye(e,n))return Ce(t);o-=a.top-s.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=i)return fe(e,n,e,Xe(e.doc,o),e.display.gutterSpecs[l].className,t),Ce(t)}}function bs(e,t){return vs(e,t,"gutterClick",!0)}function ws(e,t){Sn(e.display,t)||function(e,t){return!!ye(e,"gutterContextMenu")&&vs(e,t,"gutterContextMenu",!1)}(e,t)||me(e,t,"contextmenu")||E||e.display.input.onContextMenu(t)}function Cs(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Un(e)}ms.prototype.compare=function(e,t,n){return this.time+400>e&&0==tt(t,this.pos)&&n==this.button};var Ss={toString:function(){return"CodeMirror.Init"}},Es={},ks={};function xs(e,t,n){if(!t!=!(n&&n!=Ss)){var r=e.display.dragFunctions,i=t?he:de;i(e.display.scroller,"dragstart",r.start),i(e.display.scroller,"dragenter",r.enter),i(e.display.scroller,"dragover",r.over),i(e.display.scroller,"dragleave",r.leave),i(e.display.scroller,"drop",r.drop)}}function Ds(e){e.options.lineWrapping?(I(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(D(e.display.wrapper,"CodeMirror-wrap"),qt(e)),lr(e),hr(e),Un(e),setTimeout((function(){return jr(e)}),100)}function _s(e,t){var n=this;if(!(this instanceof _s))return new _s(e,t);this.options=t=t?B(t):{},B(Es,t,!1);var r=t.value;"string"==typeof r?r=new Oo(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var i=new _s.inputStyles[t.inputStyle](this),o=this.display=new gi(e,r,i,t);for(var c in o.wrapper.CodeMirror=this,Cs(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Gr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new H,keySeq:null,specialChars:null},t.autofocus&&!y&&o.input.focus(),s&&a<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),function(e){var t=e.display;he(t.scroller,"mousedown",ei(e,gs)),he(t.scroller,"dblclick",s&&a<11?ei(e,(function(t){if(!me(e,t)){var n=cr(e,t);if(n&&!bs(e,t)&&!Sn(e.display,t)){be(t);var r=e.findWordAt(n);Ki(e.doc,r.anchor,r.head)}}})):function(t){return me(e,t)||be(t)}),he(t.scroller,"contextmenu",(function(t){return ws(e,t)})),he(t.input.getField(),"contextmenu",(function(n){t.scroller.contains(n.target)||ws(e,n)}));var n,r={end:0};function i(){t.activeTouch&&(n=setTimeout((function(){return t.activeTouch=null}),1e3),(r=t.activeTouch).end=+new Date)}function o(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}he(t.scroller,"touchstart",(function(i){if(!me(e,i)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(i)&&!bs(e,i)){t.input.ensurePolled(),clearTimeout(n);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-r.end<=300?r:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}})),he(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),he(t.scroller,"touchend",(function(n){var r=t.activeTouch;if(r&&!Sn(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var s,a=e.coordsChar(t.activeTouch,"page");s=!r.prev||o(r,r.prev)?new Ei(a,a):!r.prev.prev||o(r,r.prev.prev)?e.findWordAt(a):new Ei(et(a.line,0),at(e.doc,et(a.line+1,0))),e.setSelection(s.anchor,s.head),e.focus(),be(n)}i()})),he(t.scroller,"touchcancel",i),he(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(Fr(e,t.scroller.scrollTop),Br(e,t.scroller.scrollLeft,!0),fe(e,"scroll",e))})),he(t.scroller,"mousewheel",(function(t){return Ci(e,t)})),he(t.scroller,"DOMMouseScroll",(function(t){return Ci(e,t)})),he(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){me(e,t)||Se(t)},over:function(t){me(e,t)||(function(e,t){var n=cr(e,t);if(n){var r=document.createDocumentFragment();vr(e,n,r),e.display.dragCursor||(e.display.dragCursor=R("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),T(e.display.dragCursor,r)}}(e,t),Se(t))},start:function(t){return function(e,t){if(s&&(!e.state.draggingText||+new Date-Po<100))Se(t);else if(!me(e,t)&&!Sn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!p)){var n=R("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",h&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),h&&n.parentNode.removeChild(n)}}(e,t)},drop:ei(e,Io),leave:function(t){me(e,t)||Mo(e)}};var l=t.input.getField();he(l,"keyup",(function(t){return hs.call(e,t)})),he(l,"keydown",ei(e,us)),he(l,"keypress",ei(e,ps)),he(l,"focus",(function(t){return kr(e,t)})),he(l,"blur",(function(t){return xr(e,t)}))}(this),Bo(),Vr(this),this.curOp.forceUpdate=!0,Fi(this,r),t.autofocus&&!y||this.hasFocus()?setTimeout((function(){n.hasFocus()&&!n.state.focused&&kr(n)}),20):xr(this),ks)ks.hasOwnProperty(c)&&ks[c](this,t[c],Ss);pi(this),t.finishInit&&t.finishInit(this);for(var u=0;u<Ts.length;++u)Ts[u](this);$r(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}_s.defaults=Es,_s.optionHandlers=ks;var Ts=[];function Rs(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=dt(e,t).state:n="prev");var s=e.options.tabSize,a=Ve(o,t),l=L(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(r||/\S/.test(a.text)){if("smart"==n&&((c=o.mode.indent(i,a.text.slice(u.length),a.text))==j||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>o.first?L(Ve(o,t-1).text,null,s):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var h="",p=0;if(e.options.indentWithTabs)for(var d=Math.floor(c/s);d;--d)p+=s,h+="\t";if(p<c&&(h+=$(c-p)),h!=u)return mo(o,h,et(t,0),et(t,u.length),"+input"),a.stateAfter=null,!0;for(var f=0;f<o.sel.ranges.length;f++){var m=o.sel.ranges[f];if(m.head.line==t&&m.head.ch<u.length){var g=et(t,u.length);Zi(o,f,new Ei(g,g));break}}}_s.defineInitHook=function(e){return Ts.push(e)};var As=null;function Os(e){As=e}function Ps(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var s=+new Date-200,a="paste"==i||e.state.pasteIncoming>s,l=Oe(t),c=null;if(a&&r.ranges.length>1)if(As&&As.text.join("\n")==t){if(r.ranges.length%As.text.length==0){c=[];for(var u=0;u<As.text.length;u++)c.push(o.splitLines(As.text[u]))}}else l.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(c=Y(l,(function(e){return[e]})));for(var h=e.curOp.updateInput,p=r.ranges.length-1;p>=0;p--){var d=r.ranges[p],f=d.from(),m=d.to();d.empty()&&(n&&n>0?f=et(f.line,f.ch-n):e.state.overwrite&&!a?m=et(m.line,Math.min(Ve(o,m.line).text.length,m.ch+K(l).length)):a&&As&&As.lineWise&&As.text.join("\n")==l.join("\n")&&(f=m=et(f.line,0)));var g={from:f,to:m,text:c?c[p%c.length]:l,origin:i||(a?"paste":e.state.cutIncoming>s?"cut":"+input")};co(e.doc,g),ln(e,"inputRead",e,g)}t&&!a&&Ms(e,t),Or(e),e.curOp.updateInput<2&&(e.curOp.updateInput=h),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Is(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Jr(t,(function(){return Ps(t,n,0,null,"paste")})),!0}function Ms(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(t.indexOf(o.electricChars.charAt(a))>-1){s=Rs(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Ve(e.doc,i.head.line).text.slice(0,i.head.ch))&&(s=Rs(e,i.head.line,"smart"));s&&ln(e,"electricInput",e,i.head.line)}}}function Fs(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:et(i,0),head:et(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function Ns(e,t,n,r){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t)}function Bs(){var e=R("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=R("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),Ns(e),t}function Ls(e,t,n,r,i){var o=t,s=n,a=Ve(e,t.line),l=i&&"rtl"==e.direction?-n:n;function c(o){var s,c;if("codepoint"==r){var u=a.text.charCodeAt(t.ch+(n>0?0:-1));if(isNaN(u))s=null;else{var h=n>0?u>=55296&&u<56320:u>=56320&&u<57343;s=new et(t.line,Math.max(0,Math.min(a.text.length,t.ch+n*(h?2:1))),-n)}}else s=i?function(e,t,n,r){var i=ce(t,e.doc.direction);if(!i)return Jo(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=ae(i,n.ch,n.sticky),s=i[o];if("ltr"==e.doc.direction&&s.level%2==0&&(r>0?s.to>n.ch:s.from<n.ch))return Jo(t,n,r);var a,l=function(e,n){return Qo(t,e instanceof et?e.ch:e,n)},c=function(n){return e.options.lineWrapping?(a=a||Pn(e,t),Qn(e,t,a,n)):{begin:0,end:t.text.length}},u=c("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==s.level){var h=1==s.level==r<0,p=l(n,h?1:-1);if(null!=p&&(h?p<=s.to&&p<=u.end:p>=s.from&&p>=u.begin)){var d=h?"before":"after";return new et(n.line,p,d)}}var f=function(e,t,r){for(var o=function(e,t){return t?new et(n.line,l(e,1),"before"):new et(n.line,e,"after")};e>=0&&e<i.length;e+=t){var s=i[e],a=t>0==(1!=s.level),c=a?r.begin:l(r.end,-1);if(s.from<=c&&c<s.to)return o(c,a);if(c=a?s.from:l(s.to,-1),r.begin<=c&&c<r.end)return o(c,a)}},m=f(o+r,r,u);if(m)return m;var g=r>0?u.end:l(u.begin,-1);return null==g||r>0&&g==t.text.length||!(m=f(r>0?0:i.length-1,r,c(g)))?null:m}(e.cm,a,t,n):Jo(a,t,n);if(null==s){if(o||(c=t.line+l)<e.first||c>=e.first+e.size||(t=new et(c,t.ch,t.sticky),!(a=Ve(e,c))))return!1;t=es(i,e.cm,a,t.line,l)}else t=s;return!0}if("char"==r||"codepoint"==r)c();else if("column"==r)c(!0);else if("word"==r||"group"==r)for(var u=null,h="group"==r,p=e.cm&&e.cm.getHelper(t,"wordChars"),d=!0;!(n<0)||c(!d);d=!1){var f=a.text.charAt(t.ch)||"\n",m=ee(f,p)?"w":h&&"\n"==f?"n":!h||/\s/.test(f)?null:"p";if(!h||d||m||(m="s"),u&&u!=m){n<0&&(n=1,c(),t.sticky="after");break}if(m&&(u=m),n>0&&!c(!d))break}var g=oo(e,t,o,s,!0);return nt(o,g)&&(g.hitSide=!0),g}function Hs(e,t,n,r){var i,o,s=e.doc,a=t.left;if("page"==r){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*rr(e.display),3);i=(n>0?t.bottom:t.top)+n*c}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;(o=Zn(e,a,i)).outside;){if(n<0?i<=0:i>=s.height){o.hitSide=!0;break}i+=5*n}return o}var Us=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new H,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function js(e,t){var n=On(e,t.line);if(!n||n.hidden)return null;var r=Ve(e.doc,t.line),i=Rn(n,r,t.line),o=ce(r,e.doc.direction),s="left";o&&(s=ae(o,t.ch)%2?"right":"left");var a=Nn(i.map,t.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function Ws(e,t){return t&&(e.bad=!0),e}function zs(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return Ws(e.clipPos(et(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return Gs(o,t,n)}}function Gs(e,t,n){var r=e.text.firstChild,i=!1;if(!t||!O(r,t))return Ws(et(Ze(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var o=e.rest?K(e.rest):e.line;return Ws(et(Ze(o),o.text.length),i)}var s=3==t.nodeType?t:null,a=t;for(s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,n&&(n=s.nodeValue.length));a.parentNode!=r;)a=a.parentNode;var l=e.measure,c=l.maps;function u(t,n,r){for(var i=-1;i<(c?c.length:0);i++)for(var o=i<0?l.map:c[i],s=0;s<o.length;s+=3){var a=o[s+2];if(a==t||a==n){var u=Ze(i<0?e.line:e.rest[i]),h=o[s]+r;return(r<0||a!=t)&&(h=o[s+(r?1:0)]),et(u,h)}}}var h=u(s,a,n);if(h)return Ws(h,i);for(var p=a.nextSibling,d=s?s.nodeValue.length-n:0;p;p=p.nextSibling){if(h=u(p,p.firstChild,0))return Ws(et(h.line,h.ch-d),i);d+=p.textContent.length}for(var f=a.previousSibling,m=n;f;f=f.previousSibling){if(h=u(f,f.firstChild,-1))return Ws(et(h.line,h.ch+m),i);m+=f.textContent.length}}Us.prototype.init=function(e){var t=this,n=this,r=n.cm,i=n.div=e.lineDiv;function o(e){for(var t=e.target;t;t=t.parentNode){if(t==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function s(e){if(o(e)&&!me(r,e)){if(r.somethingSelected())Os({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=Fs(r);Os({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation((function(){r.setSelections(t.ranges,0,W),r.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var s=As.text.join("\n");if(e.clipboardData.setData("Text",s),e.clipboardData.getData("Text")==s)return void e.preventDefault()}var a=Bs(),l=a.firstChild;r.display.lineSpace.insertBefore(a,r.display.lineSpace.firstChild),l.value=As.text.join("\n");var c=document.activeElement;F(l),setTimeout((function(){r.display.lineSpace.removeChild(a),c.focus(),c==i&&n.showPrimarySelection()}),50)}}i.contentEditable=!0,Ns(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),he(i,"paste",(function(e){!o(e)||me(r,e)||Is(e,r)||a<=11&&setTimeout(ei(r,(function(){return t.updateFromDOM()})),20)})),he(i,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),he(i,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),he(i,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),he(i,"touchstart",(function(){return n.forceCompositionEnd()})),he(i,"input",(function(){t.composing||t.readFromDOMSoon()})),he(i,"copy",s),he(i,"cut",s)},Us.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Us.prototype.prepareSelection=function(){var e=yr(this.cm,!1);return e.focus=document.activeElement==this.div,e},Us.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Us.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Us.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),i=r.from(),o=r.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var s=zs(t,e.anchorNode,e.anchorOffset),a=zs(t,e.focusNode,e.focusOffset);if(!s||s.bad||!a||a.bad||0!=tt(ot(s,a),i)||0!=tt(it(s,a),o)){var l=t.display.view,c=i.line>=t.display.viewFrom&&js(t,i)||{node:l[0].measure.map[2],offset:0},u=o.line<t.display.viewTo&&js(t,o);if(!u){var h=l[l.length-1].measure,p=h.maps?h.maps[h.maps.length-1]:h.map;u={node:p[p.length-1],offset:p[p.length-2]-p[p.length-3]}}if(c&&u){var d,f=e.rangeCount&&e.getRangeAt(0);try{d=x(c.node,c.offset,u.offset,u.node)}catch(e){}d&&(!n&&t.state.focused?(e.collapse(c.node,c.offset),d.collapsed||(e.removeAllRanges(),e.addRange(d))):(e.removeAllRanges(),e.addRange(d)),f&&null==e.anchorNode?e.addRange(f):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Us.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Us.prototype.showMultipleSelections=function(e){T(this.cm.display.cursorDiv,e.cursors),T(this.cm.display.selectionDiv,e.selection)},Us.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Us.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return O(this.div,t)},Us.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Us.prototype.blur=function(){this.div.blur()},Us.prototype.getField=function(){return this.div},Us.prototype.supportsTouch=function(){return!0},Us.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():Jr(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}))},Us.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Us.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&u&&this.cm.display.gutterSpecs.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=zs(t,e.anchorNode,e.anchorOffset),r=zs(t,e.focusNode,e.focusOffset);n&&r&&Jr(t,(function(){Ji(t.doc,xi(n,r),W),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)}))}}},Us.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,i=r.display,o=r.doc.sel.primary(),s=o.from(),a=o.to();if(0==s.ch&&s.line>r.firstLine()&&(s=et(s.line-1,Ve(r.doc,s.line-1).length)),a.ch==Ve(r.doc,a.line).text.length&&a.line<r.lastLine()&&(a=et(a.line+1,0)),s.line<i.viewFrom||a.line>i.viewTo-1)return!1;s.line==i.viewFrom||0==(e=ur(r,s.line))?(t=Ze(i.view[0].line),n=i.view[0].node):(t=Ze(i.view[e].line),n=i.view[e-1].node.nextSibling);var l,c,u=ur(r,a.line);if(u==i.view.length-1?(l=i.viewTo-1,c=i.lineDiv.lastChild):(l=Ze(i.view[u+1].line)-1,c=i.view[u+1].node.previousSibling),!n)return!1;for(var h=r.doc.splitLines(function(e,t,n,r,i){var o="",s=!1,a=e.doc.lineSeparator(),l=!1;function c(){s&&(o+=a,l&&(o+=a),s=l=!1)}function u(e){e&&(c(),o+=e)}function h(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void u(n);var o,p=t.getAttribute("cm-marker");if(p){var d=e.findMarks(et(r,0),et(i+1,0),(g=+p,function(e){return e.id==g}));return void(d.length&&(o=d[0].find(0))&&u($e(e.doc,o.from,o.to).join(a)))}if("false"==t.getAttribute("contenteditable"))return;var f=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;f&&c();for(var m=0;m<t.childNodes.length;m++)h(t.childNodes[m]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),f&&(s=!0)}else 3==t.nodeType&&u(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var g}for(;h(t),t!=n;)t=t.nextSibling,l=!1;return o}(r,n,c,t,l)),p=$e(r.doc,et(t,0),et(l,Ve(r.doc,l).text.length));h.length>1&&p.length>1;)if(K(h)==K(p))h.pop(),p.pop(),l--;else{if(h[0]!=p[0])break;h.shift(),p.shift(),t++}for(var d=0,f=0,m=h[0],g=p[0],y=Math.min(m.length,g.length);d<y&&m.charCodeAt(d)==g.charCodeAt(d);)++d;for(var v=K(h),b=K(p),w=Math.min(v.length-(1==h.length?d:0),b.length-(1==p.length?d:0));f<w&&v.charCodeAt(v.length-f-1)==b.charCodeAt(b.length-f-1);)++f;if(1==h.length&&1==p.length&&t==s.line)for(;d&&d>s.ch&&v.charCodeAt(v.length-f-1)==b.charCodeAt(b.length-f-1);)d--,f++;h[h.length-1]=v.slice(0,v.length-f).replace(/^\u200b+/,""),h[0]=h[0].slice(d).replace(/\u200b+$/,"");var C=et(t,d),S=et(l,p.length?K(p).length-f:0);return h.length>1||h[0]||tt(C,S)?(mo(r.doc,h,C,S,"+input"),!0):void 0},Us.prototype.ensurePolled=function(){this.forceCompositionEnd()},Us.prototype.reset=function(){this.forceCompositionEnd()},Us.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Us.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Us.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Jr(this.cm,(function(){return hr(e.cm)}))},Us.prototype.setUneditable=function(e){e.contentEditable="false"},Us.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||ei(this.cm,Ps)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Us.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Us.prototype.onContextMenu=function(){},Us.prototype.resetPosition=function(){},Us.prototype.needsContentAttribute=!0;var qs=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new H,this.hasSelection=!1,this.composing=null};qs.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var i=this.textarea;function o(e){if(!me(r,e)){if(r.somethingSelected())Os({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=Fs(r);Os({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,W):(n.prevInput="",i.value=t.text.join("\n"),F(i))}"cut"==e.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(i.style.width="0px"),he(i,"input",(function(){s&&a>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()})),he(i,"paste",(function(e){me(r,e)||Is(e,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())})),he(i,"cut",o),he(i,"copy",o),he(e.scroller,"paste",(function(t){if(!Sn(e,t)&&!me(r,t)){if(!i.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,i.dispatchEvent(o)}})),he(e.lineSpace,"selectstart",(function(t){Sn(e,t)||be(t)})),he(i,"compositionstart",(function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}})),he(i,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},qs.prototype.createField=function(e){this.wrapper=Bs(),this.textarea=this.wrapper.firstChild},qs.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},qs.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=yr(e);if(e.options.moveInputWithCursor){var i=$n(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+s.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+s.left-o.left))}return r},qs.prototype.showSelection=function(e){var t=this.cm.display;T(t.cursorDiv,e.cursors),T(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},qs.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&F(this.textarea),s&&a>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",s&&a>=9&&(this.hasSelection=null))}},qs.prototype.getField=function(){return this.textarea},qs.prototype.supportsTouch=function(){return!1},qs.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!y||P()!=this.textarea))try{this.textarea.focus()}catch(e){}},qs.prototype.blur=function(){this.textarea.blur()},qs.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},qs.prototype.receivedFocus=function(){this.slowPoll()},qs.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},qs.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,(function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}))},qs.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||Pe(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(s&&a>=9&&this.hasSelection===i||v&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r=""),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(r.length,i.length);l<c&&r.charCodeAt(l)==i.charCodeAt(l);)++l;return Jr(t,(function(){Ps(t,i.slice(l),r.length-l,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},qs.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},qs.prototype.onKeyPress=function(){s&&a>=9&&(this.hasSelection=null),this.fastPoll()},qs.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=cr(n,e),c=r.scroller.scrollTop;if(o&&!h){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&ei(n,Ji)(n.doc,xi(o),W);var u,p=i.style.cssText,d=t.wrapper.style.cssText,f=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-f.top-5)+"px; left: "+(e.clientX-f.left-5)+"px;\n      z-index: 1000; background: "+(s?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(u=window.scrollY),r.input.focus(),l&&window.scrollTo(null,u),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=y,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),s&&a>=9&&g(),E){Se(e);var m=function(){de(window,"mouseup",m),setTimeout(y,20)};he(window,"mouseup",m)}else setTimeout(y,50)}function g(){if(null!=i.selectionStart){var e=n.somethingSelected(),o=""+(e?i.value:"");i.value="",i.value=o,t.prevInput=e?"":"",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function y(){if(t.contextMenuPending==y&&(t.contextMenuPending=!1,t.wrapper.style.cssText=d,i.style.cssText=p,s&&a<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=c),null!=i.selectionStart)){(!s||s&&a<9)&&g();var e=0,o=function(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&""==t.prevInput?ei(n,ao)(n):e++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(o,200)}}},qs.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},qs.prototype.setUneditable=function(){},qs.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function n(n,r,i,o){e.defaults[n]=r,i&&(t[n]=o?function(e,t,n){n!=Ss&&i(e,t,n)}:i)}e.defineOption=n,e.Init=Ss,n("value","",(function(e,t){return e.setValue(t)}),!0),n("mode",null,(function(e,t){e.doc.modeOption=t,Ai(e)}),!0),n("indentUnit",2,Ai,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(e){Oi(e),Un(e),hr(e)}),!0),n("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter((function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(et(r,o))}r++}));for(var i=n.length-1;i>=0;i--)mo(e.doc,t,n[i],et(n[i].line,n[i].ch+t.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Ss&&e.refresh()})),n("specialCharPlaceholder",Qt,(function(e){return e.refresh()}),!0),n("electricChars",!0),n("inputStyle",y?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),n("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),n("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),n("rtlMoveVisually",!w),n("wholeLineUpdateBefore",!0),n("theme","default",(function(e){Cs(e),mi(e)}),!0),n("keyMap","default",(function(e,t,n){var r=Zo(t),i=n!=Ss&&Zo(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Ds,!0),n("gutters",[],(function(e,t){e.display.gutterSpecs=di(t,e.options.lineNumbers),mi(e)}),!0),n("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?sr(e.display)+"px":"0",e.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(e){return jr(e)}),!0),n("scrollbarStyle","native",(function(e){Gr(e),jr(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=di(e.options.gutters,t),mi(e)}),!0),n("firstLineNumber",1,mi,!0),n("lineNumberFormatter",(function(e){return e}),mi,!0),n("showCursorWhenSelecting",!1,gr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(e,t){"nocursor"==t&&(xr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),n("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),n("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),n("dragDrop",!0,xs),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,gr,!0),n("singleCursorHeightPerLine",!0,gr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Oi,!0),n("addModeClass",!1,Oi,!0),n("pollInterval",100),n("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),n("historyEventDelay",1250),n("viewportMargin",10,(function(e){return e.refresh()}),!0),n("maxHighlightLength",1e4,Oi,!0),n("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),n("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),n("autofocus",null),n("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),n("phrases",null)}(_s),function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&ei(this,t[e])(this,n,i),fe(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Zo(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:ti((function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");!function(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(e){return e.priority})),this.state.modeGen++,hr(this)})),removeOverlay:ti((function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void hr(this)}})),indentLine:ti((function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Qe(this.doc,e)&&Rs(this,e,t,n)})),indentSelection:ti((function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(Rs(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&Or(this));else{var o=i.from(),s=i.to(),a=Math.max(n,o.line);n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<n;++l)Rs(this,l,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&c[r].from().ch>0&&Zi(this.doc,r,new Ei(o,c[r].to()),W)}}})),getTokenAt:function(e,t){return vt(this,e,t)},getLineTokens:function(e,t){return vt(this,et(e),t,!0)},getTokenTypeAt:function(e){e=at(this.doc,e);var t,n=pt(this,Ve(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var s=r+i>>1;if((s?n[2*s-1]:0)>=o)i=s;else{if(!(n[2*s+1]<o)){t=n[2*s+2];break}r=s+1}}var a=t?t.indexOf("overlay "):-1;return a<0?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var i=n[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&r.push(i[o[t]]);else if(o[t])for(var s=0;s<o[t].length;s++){var a=i[o[t][s]];a&&r.push(a)}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var l=0;l<i._global.length;l++){var c=i._global[l];c.pred(o,this)&&-1==U(r,c.val)&&r.push(c.val)}return r},getStateAfter:function(e,t){var n=this.doc;return dt(this,(e=st(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return $n(this,null==e?n.head:"object"==typeof e?at(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return Vn(this,at(this.doc,e),t||"page")},coordsChar:function(e,t){return Zn(this,(e=qn(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=qn(this,{top:e,left:0},t||"page").top,Xe(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),r=Ve(this.doc,e)}else r=e;return Gn(this,r,{top:0,left:0},t||"page",n||i).top+(i?this.doc.height-zt(r):0)},defaultTextHeight:function(){return rr(this.display)},defaultCharWidth:function(){return ir(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o,s,a,l=this.display,c=(e=$n(this,at(this.doc,e))).bottom,u=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),l.sizer.appendChild(t),"over"==r)c=e.top;else if("above"==r||"near"==r){var h=Math.max(l.wrapper.clientHeight,this.doc.height),p=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>h)&&e.top>t.offsetHeight?c=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=h&&(c=e.bottom),u+t.offsetWidth>p&&(u=p-t.offsetWidth)}t.style.top=c+"px",t.style.left=t.style.right="","right"==i?(u=l.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?u=0:"middle"==i&&(u=(l.sizer.clientWidth-t.offsetWidth)/2),t.style.left=u+"px"),n&&(o=this,s={left:u,top:c,right:u+t.offsetWidth,bottom:c+t.offsetHeight},null!=(a=Rr(o,s)).scrollTop&&Fr(o,a.scrollTop),null!=a.scrollLeft&&Br(o,a.scrollLeft))},triggerOnKeyDown:ti(us),triggerOnKeyPress:ti(ps),triggerOnKeyUp:hs,triggerOnMouseDown:ti(gs),execCommand:function(e){if(ts.hasOwnProperty(e))return ts[e].call(null,this)},triggerElectric:ti((function(e){Ms(this,e)})),findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var o=at(this.doc,e),s=0;s<t&&!(o=Ls(this.doc,o,i,n,r)).hitSide;++s);return o},moveH:ti((function(e,t){var n=this;this.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?Ls(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()}),G)})),deleteH:ti((function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Xo(this,(function(n){var i=Ls(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}}))})),findPosV:function(e,t,n,r){var i=1,o=r;t<0&&(i=-1,t=-t);for(var s=at(this.doc,e),a=0;a<t;++a){var l=$n(this,s,"div");if(null==o?o=l.left:l.left=o,(s=Hs(this,l,i,n)).hitSide)break}return s},moveV:ti((function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(s){if(o)return e<0?s.from():s.to();var a=$n(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),i.push(a.left);var l=Hs(n,a,e,t);return"page"==t&&s==r.sel.primary()&&Ar(n,Vn(n,l,"div").top-a.top),l}),G),i.length)for(var s=0;s<r.sel.ranges.length;s++)r.sel.ranges[s].goalColumn=i[s]})),findWordAt:function(e){var t=Ve(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=t.length||!n?++r:--n;for(var o=t.charAt(n),s=ee(o,i)?function(e){return ee(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ee(e)};n>0&&s(t.charAt(n-1));)--n;for(;r<t.length&&s(t.charAt(r));)++r}return new Ei(et(e.line,n),et(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?I(this.display.cursorDiv,"CodeMirror-overwrite"):D(this.display.cursorDiv,"CodeMirror-overwrite"),fe(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==P()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ti((function(e,t){Pr(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Dn(this)-this.display.barHeight,width:e.scrollWidth-Dn(this)-this.display.barWidth,clientHeight:Tn(this),clientWidth:_n(this)}},scrollIntoView:ti((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:et(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){Ir(e),e.curOp.scrollToPos=t}(this,e):Mr(this,e.from,e.to,e.margin)})),setSize:ti((function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&Hn(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){pr(n,i,"widget");break}++i})),this.curOp.forceUpdate=!0,fe(this,"refresh",this)})),operation:function(e){return Jr(this,e)},startOperation:function(){return Vr(this)},endOperation:function(){return $r(this)},refresh:ti((function(){var e=this.display.cachedTextHeight;hr(this),this.curOp.forceUpdate=!0,Un(this),Pr(this,this.doc.scrollLeft,this.doc.scrollTop),ci(this.display),(null==e||Math.abs(e-rr(this.display))>.5||this.options.lineWrapping)&&lr(this),fe(this,"refresh",this)})),swapDoc:ti((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),Fi(this,e),Un(this),this.display.input.reset(),Pr(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,ln(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ve(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}}(_s);var Vs="iter insert remove copy getEditor constructor".split(" ");for(var $s in Oo.prototype)Oo.prototype.hasOwnProperty($s)&&U(Vs,$s)<0&&(_s.prototype[$s]=function(e){return function(){return e.apply(this.doc,arguments)}}(Oo.prototype[$s]));return ve(Oo),_s.inputStyles={textarea:qs,contenteditable:Us},_s.defineMode=function(e){_s.defaults.mode||"null"==e||(_s.defaults.mode=e),Be.apply(this,arguments)},_s.defineMIME=function(e,t){Ne[e]=t},_s.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),_s.defineMIME("text/plain","null"),_s.defineExtension=function(e,t){_s.prototype[e]=t},_s.defineDocExtension=function(e,t){Oo.prototype[e]=t},_s.fromTextArea=function(e,t){if((t=t?B(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=P();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function r(){e.value=a.getValue()}var i;if(e.form&&(he(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var s=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=s}}catch(e){}}t.finishInit=function(n){n.save=r,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,r(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(de(e.form,"submit",r),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=i))}},e.style.display="none";var a=_s((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return a},function(e){e.off=de,e.on=he,e.wheelEventPixels=wi,e.Doc=Oo,e.splitLines=Oe,e.countColumn=L,e.findColumn=q,e.isWordChar=J,e.Pass=j,e.signal=fe,e.Line=Vt,e.changeEnd=Di,e.scrollbarModel=zr,e.Pos=et,e.cmpPos=tt,e.modes=Fe,e.mimeModes=Ne,e.resolveMode=Le,e.getMode=He,e.modeExtensions=Ue,e.extendMode=je,e.copyState=We,e.startState=Ge,e.innerMode=ze,e.commands=ts,e.keyMap=zo,e.keyName=Yo,e.isModifierKey=$o,e.lookupKey=Vo,e.normalizeKeyMap=qo,e.StringStream=qe,e.SharedTextMarker=_o,e.TextMarker=xo,e.LineWidget=So,e.e_preventDefault=be,e.e_stopPropagation=we,e.e_stop=Se,e.addClass=I,e.contains=O,e.rmClass=D,e.keyNames=Ho}(_s),_s.version="5.60.0",_s}()},function(e,t,n){var r,i,o=n(8),s=n(257),a=n(258),l=n(259),c=n(33);function u(e,t){Object.defineProperty(e,r,{get:function(){return t}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(r=Symbol.for("graceful-fs.queue"),i=Symbol.for("graceful-fs.previous")):(r="___graceful-fs.queue",i="___graceful-fs.previous");var h=function(){};if(c.debuglog?h=c.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(h=function(){var e=c.format.apply(c,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),!o[r]){var p=global[r]||[];u(o,p),o.close=function(e){function t(t,n){return e.call(o,t,(function(e){e||m(),"function"==typeof n&&n.apply(this,arguments)}))}return Object.defineProperty(t,i,{value:e}),t}(o.close),o.closeSync=function(e){function t(t){e.apply(o,arguments),m()}return Object.defineProperty(t,i,{value:e}),t}(o.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){h(o[r]),n(71).equal(o[r].length,0)}))}function d(e){s(e),e.gracefulify=d,e.createReadStream=function(t,n){return new e.ReadStream(t,n)},e.createWriteStream=function(t,n){return new e.WriteStream(t,n)};var t=e.readFile;e.readFile=function(e,n,r){"function"==typeof n&&(r=n,n=null);return function e(n,r,i){return t(n,r,(function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof i&&i.apply(this,arguments),m()):f([e,[n,r,i]])}))}(e,n,r)};var n=e.writeFile;e.writeFile=function(e,t,r,i){"function"==typeof r&&(i=r,r=null);return function e(t,r,i,o){return n(t,r,i,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?("function"==typeof o&&o.apply(this,arguments),m()):f([e,[t,r,i,o]])}))}(e,t,r,i)};var r=e.appendFile;r&&(e.appendFile=function(e,t,n,i){"function"==typeof n&&(i=n,n=null);return function e(t,n,i,o){return r(t,n,i,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"==typeof o&&o.apply(this,arguments),m()):f([e,[t,n,i,o]])}))}(e,t,n,i)});var i=e.readdir;function o(t){return i.apply(e,t)}if(e.readdir=function(e,t,n){var r=[e];"function"!=typeof t?r.push(t):n=t;return r.push((function(e,t){t&&t.sort&&t.sort();!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof n&&n.apply(this,arguments),m()):f([o,[r]])})),o(r)},"v0.8"===process.version.substr(0,4)){var l=a(e);g=l.ReadStream,y=l.WriteStream}var c=e.ReadStream;c&&(g.prototype=Object.create(c.prototype),g.prototype.open=function(){var e=this;b(e.path,e.flags,e.mode,(function(t,n){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n),e.read())}))});var u=e.WriteStream;u&&(y.prototype=Object.create(u.prototype),y.prototype.open=function(){var e=this;b(e.path,e.flags,e.mode,(function(t,n){t?(e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n))}))}),Object.defineProperty(e,"ReadStream",{get:function(){return g},set:function(e){g=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return y},set:function(e){y=e},enumerable:!0,configurable:!0});var h=g;Object.defineProperty(e,"FileReadStream",{get:function(){return h},set:function(e){h=e},enumerable:!0,configurable:!0});var p=y;function g(e,t){return this instanceof g?(c.apply(this,arguments),this):g.apply(Object.create(g.prototype),arguments)}function y(e,t){return this instanceof y?(u.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return p},set:function(e){p=e},enumerable:!0,configurable:!0});var v=e.open;function b(e,t,n,r){return"function"==typeof n&&(r=n,n=null),function e(t,n,r,i){return v(t,n,r,(function(o,s){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?("function"==typeof i&&i.apply(this,arguments),m()):f([e,[t,n,r,i]])}))}(e,t,n,r)}return e.open=b,e}function f(e){h("ENQUEUE",e[0].name,e[1]),o[r].push(e)}function m(){var e=o[r].shift();e&&(h("RETRY",e[0].name,e[1]),e[0].apply(null,e[1]))}global[r]||u(global,o[r]),e.exports=d(l(o)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!o.__patched&&(e.exports=d(o),o.__patched=!0)},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(363),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){(function(){var t,r,i,o,s,a,l,c,u,h,p,d,f={}.hasOwnProperty;d=n(30),p=d.isObject,h=d.isFunction,u=d.isEmpty,s=null,t=null,r=null,i=null,o=null,l=null,c=null,a=null,e.exports=function(){function e(e){this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],s||(s=n(74),t=n(75),r=n(76),i=n(77),o=n(78),l=n(83),c=n(84),a=n(85))}return e.prototype.element=function(e,t,n){var r,i,o,s,a,l,c,d,m,g;if(l=null,null==t&&(t={}),t=t.valueOf(),p(t)||(n=(m=[t,n])[0],t=m[1]),null!=e&&(e=e.valueOf()),Array.isArray(e))for(o=0,c=e.length;o<c;o++)i=e[o],l=this.element(i);else if(h(e))l=this.element(e.apply());else if(p(e)){for(a in e)if(f.call(e,a))if(g=e[a],h(g)&&(g=g.apply()),p(g)&&u(g)&&(g=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===a.indexOf(this.stringify.convertAttKey))l=this.attribute(a.substr(this.stringify.convertAttKey.length),g);else if(!this.options.separateArrayItems&&Array.isArray(g))for(s=0,d=g.length;s<d;s++)i=g[s],(r={})[a]=i,l=this.element(r);else p(g)?(l=this.element(a)).element(g):l=this.element(a,g)}else l=!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===e.indexOf(this.stringify.convertTextKey)?this.text(n):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===e.indexOf(this.stringify.convertCDataKey)?this.cdata(n):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===e.indexOf(this.stringify.convertCommentKey)?this.comment(n):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===e.indexOf(this.stringify.convertRawKey)?this.raw(n):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===e.indexOf(this.stringify.convertPIKey)?this.instruction(e.substr(this.stringify.convertPIKey.length),n):this.node(e,t,n);if(null==l)throw new Error("Could not create any elements with: "+e);return l},e.prototype.insertBefore=function(e,t,n){var r,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i),r=this.parent.element(e,t,n),Array.prototype.push.apply(this.parent.children,o),r},e.prototype.insertAfter=function(e,t,n){var r,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i+1),r=this.parent.element(e,t,n),Array.prototype.push.apply(this.parent.children,o),r},e.prototype.remove=function(){var e;if(this.isRoot)throw new Error("Cannot remove the root element");return e=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[e,e-e+1].concat([])),this.parent},e.prototype.node=function(e,t,n){var r,i;return null!=e&&(e=e.valueOf()),t||(t={}),t=t.valueOf(),p(t)||(n=(i=[t,n])[0],t=i[1]),r=new s(this,e,t),null!=n&&r.text(n),this.children.push(r),r},e.prototype.text=function(e){var t;return t=new c(this,e),this.children.push(t),this},e.prototype.cdata=function(e){var n;return n=new t(this,e),this.children.push(n),this},e.prototype.comment=function(e){var t;return t=new r(this,e),this.children.push(t),this},e.prototype.commentBefore=function(e){var t,n;return t=this.parent.children.indexOf(this),n=this.parent.children.splice(t),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,n),this},e.prototype.commentAfter=function(e){var t,n;return t=this.parent.children.indexOf(this),n=this.parent.children.splice(t+1),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,n),this},e.prototype.raw=function(e){var t;return t=new l(this,e),this.children.push(t),this},e.prototype.instruction=function(e,t){var n,r,i,o,s;if(null!=e&&(e=e.valueOf()),null!=t&&(t=t.valueOf()),Array.isArray(e))for(o=0,s=e.length;o<s;o++)n=e[o],this.instruction(n);else if(p(e))for(n in e)f.call(e,n)&&(r=e[n],this.instruction(n,r));else h(t)&&(t=t.apply()),i=new a(this,e,t),this.children.push(i);return this},e.prototype.instructionBefore=function(e,t){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,r),this},e.prototype.instructionAfter=function(e,t){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n+1),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,r),this},e.prototype.declaration=function(e,t,n){var r,o;return r=this.document(),o=new i(r,e,t,n),r.children[0]instanceof i?r.children[0]=o:r.children.unshift(o),r.root()||r},e.prototype.doctype=function(e,t){var n,r,i,s,a,l,c,u,h;for(n=this.document(),r=new o(n,e,t),i=s=0,l=(u=n.children).length;s<l;i=++s)if(u[i]instanceof o)return n.children[i]=r,r;for(i=a=0,c=(h=n.children).length;a<c;i=++a)if(h[i].isRoot)return n.children.splice(i,0,r),r;return n.children.push(r),r},e.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},e.prototype.root=function(){var e;for(e=this;e;){if(e.isDocument)return e.rootObject;if(e.isRoot)return e;e=e.parent}},e.prototype.document=function(){var e;for(e=this;e;){if(e.isDocument)return e;e=e.parent}},e.prototype.end=function(e){return this.document().end(e)},e.prototype.prev=function(){var e;if((e=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node");return this.parent.children[e-1]},e.prototype.next=function(){var e;if(-1===(e=this.parent.children.indexOf(this))||e===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[e+1]},e.prototype.importDocument=function(e){var t;return(t=e.root().clone()).parent=this,t.isRoot=!1,this.children.push(t),this},e.prototype.ele=function(e,t,n){return this.element(e,t,n)},e.prototype.nod=function(e,t,n){return this.node(e,t,n)},e.prototype.txt=function(e){return this.text(e)},e.prototype.dat=function(e){return this.cdata(e)},e.prototype.com=function(e){return this.comment(e)},e.prototype.ins=function(e,t){return this.instruction(e,t)},e.prototype.doc=function(){return this.document()},e.prototype.dec=function(e,t,n){return this.declaration(e,t,n)},e.prototype.dtd=function(e,t){return this.doctype(e,t)},e.prototype.e=function(e,t,n){return this.element(e,t,n)},e.prototype.n=function(e,t,n){return this.node(e,t,n)},e.prototype.t=function(e){return this.text(e)},e.prototype.d=function(e){return this.cdata(e)},e.prototype.c=function(e){return this.comment(e)},e.prototype.r=function(e){return this.raw(e)},e.prototype.i=function(e,t){return this.instruction(e,t)},e.prototype.u=function(){return this.up()},e.prototype.importXMLBuilder=function(e){return this.importDocument(e)},e}()}).call(this)},function(e,t){e.exports=require("os")},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(106),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";t.fromCallback=function(e){return Object.defineProperty((function(...t){if("function"!=typeof t[t.length-1])return new Promise((n,r)=>{e.apply(this,t.concat([(e,t)=>e?r(e):n(t)]))});e.apply(this,t)}),"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty((function(...t){const n=t[t.length-1];if("function"!=typeof n)return e.apply(this,t);e.apply(this,t.slice(0,-1)).then(e=>n(null,e),n)}),"name",{value:e.name})}},function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(190),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,o.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";const r=n(24).fromPromise,{makeDir:i,makeDirSync:o}=n(261),s=r(i);e.exports={mkdirs:s,mkdirsSync:o,mkdirp:s,mkdirpSync:o,ensureDir:s,ensureDirSync:o}},function(e,t,n){var r=n(197),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t){(function(){var t,n,r,i,o,s,a,l,c,u,h,p,d=[].slice,f={}.hasOwnProperty;t=function(){var e,t,n,r,i,o;if(o=arguments[0],i=2<=arguments.length?d.call(arguments,1):[],s(Object.assign))Object.assign.apply(null,arguments);else for(e=0,n=i.length;e<n;e++)if(null!=(r=i[e]))for(t in r)f.call(r,t)&&(o[t]=r[t]);return o},s=function(e){return!!e&&"[object Function]"===Object.prototype.toString.call(e)},a=function(e){var t;return!!e&&("function"==(t=typeof e)||"object"===t)},i=function(e){return s(Array.isArray)?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},o=function(e){var t;if(i(e))return!e.length;for(t in e)if(f.call(e,t))return!1;return!0},l=function(e){var t,n;return a(e)&&(n=Object.getPrototypeOf(e))&&(t=n.constructor)&&"function"==typeof t&&t instanceof t&&Function.prototype.toString.call(t)===Function.prototype.toString.call(Object)},p=function(e){return(e.split(/[-_\s]+|(?=[A-Z][a-z])/)||[]).filter((function(e){return!!e}))},n=function(e){var t,n,i,o,s,a;for(o="",n=t=0,i=(s=p(e)).length;t<i;n=++t)a=s[n],o+=n?r(a.toLowerCase()):a.toLowerCase();return o},h=function(e){var t,n,i,o,s,a;for(o="",n=t=0,i=(s=p(e)).length;t<i;n=++t)a=s[n],o+=r(a.toLowerCase());return o},c=function(e){var t,n,r,i,o;for(i="",n=t=0,r=(o=p(e)).length;t<r;n=++t)i+=(n?"-":"")+o[n].toLowerCase();return i},u=function(e){var t,n,r,i,o;for(i="",n=t=0,r=(o=p(e)).length;t<r;n=++t)i+=(n?"_":"")+o[n].toLowerCase();return i},r=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.exports.assign=t,e.exports.isFunction=s,e.exports.isObject=a,e.exports.isArray=i,e.exports.isEmpty=o,e.exports.isPlainObject=l,e.exports.camelCase=n,e.exports.titleCase=h,e.exports.kebabCase=c,e.exports.snakeCase=u,e.exports.capitalize=r,e.exports.words=p}).call(this)},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},,function(e,t){e.exports=require("util")},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=require("crypto")},function(e,t,n){var r=n(70),i=n(33),o=n(349);function s(e,t){if(!e)throw new Error("expected readStream");if(!e.readable)throw new Error("readStream must be readable");var n=new a(t);return e.pipe(n),n}function a(e){r.Transform.call(this,e),e=e||{},this._readableState.objectMode=!0,this._lineBuffer=[],this._keepEmptyLines=e.keepEmptyLines||!1,this._lastChunkEndedWithCR=!1;var t=this;this.on("pipe",(function(e){t.encoding||e instanceof r.Readable&&(t.encoding=e._readableState.encoding)}))}e.exports=function(t,n){return e.exports.createStream(t,n)},e.exports.createStream=function(e,t){return e?s(e,t):new a(t)},e.exports.createLineStream=function(e){return console.log("WARNING: byline#createLineStream is deprecated and will be removed soon"),s(e)},e.exports.LineStream=a,i.inherits(a,r.Transform),a.prototype._transform=function(e,t,n){t=t||"utf8",Buffer.isBuffer(e)&&("buffer"==t?(e=e.toString(),t="utf8"):e=e.toString(t)),this._chunkEncoding=t;var r=e.split(/\r\n|[\n\v\f\r\x85\u2028\u2029]/g);this._lastChunkEndedWithCR&&"\n"==e[0]&&r.shift(),this._lineBuffer.length>0&&(this._lineBuffer[this._lineBuffer.length-1]+=r[0],r.shift()),this._lastChunkEndedWithCR="\r"==e[e.length-1],this._lineBuffer=this._lineBuffer.concat(r),this._pushBuffer(t,1,n)},a.prototype._pushBuffer=function(e,t,n){for(;this._lineBuffer.length>t;){var r=this._lineBuffer.shift();if((this._keepEmptyLines||r.length>0)&&!this.push(this._reencode(r,e))){var i=this;return void o.setImmediate((function(){i._pushBuffer(e,t,n)}))}}n()},a.prototype._flush=function(e){this._pushBuffer(this._chunkEncoding,0,e)},a.prototype._reencode=function(e,t){return this.encoding&&this.encoding!=t?new Buffer(e,t).toString(this.encoding):this.encoding?e:new Buffer(e,t)}},function(e,t,n){e.exports={default:n(361),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var r=s(n(387)),i=s(n(391)),o=s(n(190));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,o.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";const r=n(24).fromPromise,i=n(69);e.exports={pathExists:r((function(e){return i.access(e).then(()=>!0).catch(()=>!1)})),pathExistsSync:i.existsSync}},function(e,t,n){var r=n(35),i=n(25),o=n(183),s=n(51),a=function(e,t,n){var l,c,u,h=e&a.F,p=e&a.G,d=e&a.S,f=e&a.P,m=e&a.B,g=e&a.W,y=p?i:i[t]||(i[t]={}),v=y.prototype,b=p?r:d?r[t]:(r[t]||{}).prototype;for(l in p&&(n=t),n)(c=!h&&b&&void 0!==b[l])&&l in y||(u=c?b[l]:n[l],y[l]=p&&"function"!=typeof b[l]?n[l]:m&&c?o(u,r):g&&b[l]==u?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(u):f&&"function"==typeof u?o(Function.call,u):u,f&&((y.virtual||(y.virtual={}))[l]=u,e&a.R&&v&&!v[l]&&s(v,l,u)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,e.exports=a},function(e,t,n){var r=n(58),i=n(184),o=n(118),s=Object.defineProperty;t.f=n(43)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(52)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(187),i=n(119);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(62),i=n(424),o=n(425),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):o(e)}},function(e,t,n){var r=n(450),i=n(453);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t,n){"use strict";(function(e){var r=n(15),i=n(240),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===o?r.a.Buffer:void 0,l=(a?a.isBuffer:void 0)||i.a;t.a=l}).call(this,n(152)(e))},function(e,t,n){"use strict";var r={};function i(e,t,n){n||(n=Error);var i=function(e){var n,r;function i(n,r,i){return e.call(this,function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(n,r,i))||this}return r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function o(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,i,s,a;if("string"==typeof t&&(i="not ",t.substr(!s||s<0?0:+s,i.length)===i)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))a="The ".concat(e," ").concat(r," ").concat(o(t,"type"));else{var l=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(l," ").concat(r," ").concat(o(t,"type"))}return a+=". Received type ".concat(typeof n)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=r},function(e,t,n){"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=c;var i=n(176),o=n(180);n(57)(c,i);for(var s=r(o.prototype),a=0;a<s.length;a++){var l=s[a];c.prototype[l]||(c.prototype[l]=o.prototype[l])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||process.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},function(e,t,n){var r=n(42),i=n(88);e.exports=n(43)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(122)("wks"),i=n(89),o=n(35).Symbol,s="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=s&&o[e]||(s?o:i)("Symbol."+e))}).store=r},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){var n;t=e.exports=V,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var r=Number.MAX_SAFE_INTEGER||9007199254740991,i=t.re=[],o=t.src=[],s=0,a=s++;o[a]="0|[1-9]\\d*";var l=s++;o[l]="[0-9]+";var c=s++;o[c]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var u=s++;o[u]="("+o[a]+")\\.("+o[a]+")\\.("+o[a]+")";var h=s++;o[h]="("+o[l]+")\\.("+o[l]+")\\.("+o[l]+")";var p=s++;o[p]="(?:"+o[a]+"|"+o[c]+")";var d=s++;o[d]="(?:"+o[l]+"|"+o[c]+")";var f=s++;o[f]="(?:-("+o[p]+"(?:\\."+o[p]+")*))";var m=s++;o[m]="(?:-?("+o[d]+"(?:\\."+o[d]+")*))";var g=s++;o[g]="[0-9A-Za-z-]+";var y=s++;o[y]="(?:\\+("+o[g]+"(?:\\."+o[g]+")*))";var v=s++,b="v?"+o[u]+o[f]+"?"+o[y]+"?";o[v]="^"+b+"$";var w="[v=\\s]*"+o[h]+o[m]+"?"+o[y]+"?",C=s++;o[C]="^"+w+"$";var S=s++;o[S]="((?:<|>)?=?)";var E=s++;o[E]=o[l]+"|x|X|\\*";var k=s++;o[k]=o[a]+"|x|X|\\*";var x=s++;o[x]="[v=\\s]*("+o[k]+")(?:\\.("+o[k]+")(?:\\.("+o[k]+")(?:"+o[f]+")?"+o[y]+"?)?)?";var D=s++;o[D]="[v=\\s]*("+o[E]+")(?:\\.("+o[E]+")(?:\\.("+o[E]+")(?:"+o[m]+")?"+o[y]+"?)?)?";var _=s++;o[_]="^"+o[S]+"\\s*"+o[x]+"$";var T=s++;o[T]="^"+o[S]+"\\s*"+o[D]+"$";var R=s++;o[R]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var A=s++;o[A]="(?:~>?)";var O=s++;o[O]="(\\s*)"+o[A]+"\\s+",i[O]=new RegExp(o[O],"g");var P=s++;o[P]="^"+o[A]+o[x]+"$";var I=s++;o[I]="^"+o[A]+o[D]+"$";var M=s++;o[M]="(?:\\^)";var F=s++;o[F]="(\\s*)"+o[M]+"\\s+",i[F]=new RegExp(o[F],"g");var N=s++;o[N]="^"+o[M]+o[x]+"$";var B=s++;o[B]="^"+o[M]+o[D]+"$";var L=s++;o[L]="^"+o[S]+"\\s*("+w+")$|^$";var H=s++;o[H]="^"+o[S]+"\\s*("+b+")$|^$";var U=s++;o[U]="(\\s*)"+o[S]+"\\s*("+w+"|"+o[x]+")",i[U]=new RegExp(o[U],"g");var j=s++;o[j]="^\\s*("+o[x]+")\\s+-\\s+("+o[x]+")\\s*$";var W=s++;o[W]="^\\s*("+o[D]+")\\s+-\\s+("+o[D]+")\\s*$";var z=s++;o[z]="(<|>)?=?\\s*\\*";for(var G=0;G<35;G++)n(G,o[G]),i[G]||(i[G]=new RegExp(o[G]));function q(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof V)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?i[C]:i[v]).test(e))return null;try{return new V(e,t)}catch(e){return null}}function V(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof V){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof V))return new V(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?i[C]:i[v]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<r)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}t.parse=q,t.valid=function(e,t){var n=q(e,t);return n?n.version:null},t.clean=function(e,t){var n=q(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},t.SemVer=V,V.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},V.prototype.toString=function(){return this.version},V.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof V||(e=new V(e,this.options)),this.compareMain(e)||this.comparePre(e)},V.prototype.compareMain=function(e){return e instanceof V||(e=new V(e,this.options)),K(this.major,e.major)||K(this.minor,e.minor)||K(this.patch,e.patch)},V.prototype.comparePre=function(e){if(e instanceof V||(e=new V(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return K(r,i)}while(++t)},V.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new V(e,n).inc(t,r).version}catch(e){return null}},t.diff=function(e,t){if(Q(e,t))return null;var n=q(e),r=q(t);if(n.prerelease.length||r.prerelease.length){for(var i in n)if(("major"===i||"minor"===i||"patch"===i)&&n[i]!==r[i])return"pre"+i;return"prerelease"}for(var i in n)if(("major"===i||"minor"===i||"patch"===i)&&n[i]!==r[i])return i},t.compareIdentifiers=K;var $=/^[0-9]+$/;function K(e,t){var n=$.test(e),r=$.test(t);return n&&r&&(e=+e,t=+t),n&&!r?-1:r&&!n?1:e<t?-1:e>t?1:0}function Y(e,t,n){return new V(e,n).compare(new V(t,n))}function Z(e,t,n){return Y(e,t,n)>0}function X(e,t,n){return Y(e,t,n)<0}function Q(e,t,n){return 0===Y(e,t,n)}function J(e,t,n){return 0!==Y(e,t,n)}function ee(e,t,n){return Y(e,t,n)>=0}function te(e,t,n){return Y(e,t,n)<=0}function ne(e,t,n,r){var i;switch(t){case"===":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),i=e===n;break;case"!==":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),i=e!==n;break;case"":case"=":case"==":i=Q(e,n,r);break;case"!=":i=J(e,n,r);break;case">":i=Z(e,n,r);break;case">=":i=ee(e,n,r);break;case"<":i=X(e,n,r);break;case"<=":i=te(e,n,r);break;default:throw new TypeError("Invalid operator: "+t)}return i}function re(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof re){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof re))return new re(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ie?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}t.rcompareIdentifiers=function(e,t){return K(t,e)},t.major=function(e,t){return new V(e,t).major},t.minor=function(e,t){return new V(e,t).minor},t.patch=function(e,t){return new V(e,t).patch},t.compare=Y,t.compareLoose=function(e,t){return Y(e,t,!0)},t.rcompare=function(e,t,n){return Y(t,e,n)},t.sort=function(e,n){return e.sort((function(e,r){return t.compare(e,r,n)}))},t.rsort=function(e,n){return e.sort((function(e,r){return t.rcompare(e,r,n)}))},t.gt=Z,t.lt=X,t.eq=Q,t.neq=J,t.gte=ee,t.lte=te,t.cmp=ne,t.Comparator=re;var ie={};function oe(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof re)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,n,r,i,o,s,a,l,c,u,h,p){return((t=se(n)?"":se(r)?">="+n+".0.0":se(i)?">="+n+"."+r+".0":">="+t)+" "+(a=se(l)?"":se(c)?"<"+(+l+1)+".0.0":se(u)?"<"+l+"."+(+c+1)+".0":h?"<="+l+"."+c+"."+u+"-"+h:"<="+a)).trim()}function le(e,t,r){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(r||(r={}),t.prerelease.length&&!r.includePrerelease){for(i=0;i<e.length;i++)if(n(e[i].semver),e[i].semver!==ie&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function ce(e,t,n){try{t=new oe(t,n)}catch(e){return!1}return t.test(e)}function ue(e,t,n,r){var i,o,s,a,l;switch(e=new V(e,r),t=new oe(t,r),n){case">":i=Z,o=te,s=X,a=">",l=">=";break;case"<":i=X,o=ee,s=Z,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ce(e,t,r))return!1;for(var c=0;c<t.set.length;++c){var u=t.set[c],h=null,p=null;if(u.forEach((function(e){e.semver===ie&&(e=new re(">=0.0.0")),h=h||e,p=p||e,i(e.semver,h.semver,r)?h=e:s(e.semver,p.semver,r)&&(p=e)})),h.operator===a||h.operator===l)return!1;if((!p.operator||p.operator===a)&&o(e,p.semver))return!1;if(p.operator===l&&s(e,p.semver))return!1}return!0}re.prototype.parse=function(e){var t=this.options.loose?i[L]:i[H],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new V(n[2],this.options.loose):this.semver=ie},re.prototype.toString=function(){return this.value},re.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===ie||("string"==typeof e&&(e=new V(e,this.options)),ne(e,this.operator,this.semver,this.options))},re.prototype.intersects=function(e,t){if(!(e instanceof re))throw new TypeError("a Comparator is required");var n;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new oe(e.value,t),ce(this.value,n,t);if(""===e.operator)return n=new oe(this.value,t),ce(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=ne(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),l=ne(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||o&&s||a||l},t.Range=oe,oe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?i[W]:i[j];e=e.replace(r,ae),n("hyphen replace",e),e=e.replace(i[U],"$1$2$3"),n("comparator trim",e,i[U]),e=(e=(e=e.replace(i[O],"$1~")).replace(i[F],"$1^")).split(/\s+/).join(" ");var o=t?i[L]:i[H],s=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t),t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?i[B]:i[N];return e.replace(r,(function(t,r,i,o,s){var a;return n("caret",e,t,r,i,o,s),se(r)?a="":se(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":se(o)?a="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":s?(n("replaceCaret pr",s),"-"!==s.charAt(0)&&(s="-"+s),a="0"===r?"0"===i?">="+r+"."+i+"."+o+s+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+s+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+s+" <"+(+r+1)+".0.0"):(n("no pr"),a="0"===r?"0"===i?">="+r+"."+i+"."+o+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+" <"+(+r+1)+".0.0"),n("caret return",a),a}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?i[I]:i[P];return e.replace(r,(function(t,r,i,o,s){var a;return n("tilde",e,t,r,i,o,s),se(r)?a="":se(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":se(o)?a=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":s?(n("replaceTilde pr",s),"-"!==s.charAt(0)&&(s="-"+s),a=">="+r+"."+i+"."+o+s+" <"+r+"."+(+i+1)+".0"):a=">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0",n("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim(),t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?i[T]:i[_];return e.replace(r,(function(t,r,i,o,s,a){n("xRange",e,t,r,i,o,s,a);var l=se(i),c=l||se(o),u=c||se(s);return"="===r&&u&&(r=""),l?t=">"===r||"<"===r?"<0.0.0":"*":r&&u?(c&&(o=0),u&&(s=0),">"===r?(r=">=",c?(i=+i+1,o=0,s=0):u&&(o=+o+1,s=0)):"<="===r&&(r="<",c?i=+i+1:o=+o+1),t=r+i+"."+o+"."+s):c?t=">="+i+".0.0 <"+(+i+1)+".0.0":u&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),n("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(i[z],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(o)}))),s=s.map((function(e){return new re(e,this.options)}),this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return e.set.some((function(e){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new oe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},oe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new V(e,this.options));for(var t=0;t<this.set.length;t++)if(le(this.set[t],e,this.options))return!0;return!1},t.satisfies=ce,t.maxSatisfying=function(e,t,n){var r=null,i=null;try{var o=new oe(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(r&&-1!==i.compare(e)||(i=new V(r=e,n)))})),r},t.minSatisfying=function(e,t,n){var r=null,i=null;try{var o=new oe(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(r&&1!==i.compare(e)||(i=new V(r=e,n)))})),r},t.validRange=function(e,t){try{return new oe(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,n){return ue(e,t,"<",n)},t.gtr=function(e,t,n){return ue(e,t,">",n)},t.outside=ue,t.prerelease=function(e,t){var n=q(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new oe(e,n),t=new oe(t,n),e.intersects(t)},t.coerce=function(e){if(e instanceof V)return e;if("string"!=typeof e)return null;var t=e.match(i[R]);return null==t?null:q((t[1]||"0")+"."+(t[2]||"0")+"."+(t[3]||"0"))}},function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,r=/^data:.+\,.+$/;function i(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function s(e){var n=e,r=i(e);if(r){if(!r.path)return e;n=r.path}for(var s,a=t.isAbsolute(n),l=n.split(/\/+/),c=0,u=l.length-1;u>=0;u--)"."===(s=l[u])?l.splice(u,1):".."===s?c++:c>0&&(""===s?(l.splice(u+1,c),c=0):(l.splice(u,2),c--));return""===(n=l.join("/"))&&(n=a?"/":"."),r?(r.path=n,o(r)):n}t.urlParse=i,t.urlGenerate=o,t.normalize=s,t.join=function(e,t){""===e&&(e="."),""===t&&(t=".");var n=i(t),a=i(e);if(a&&(e=a.path||"/"),n&&!n.scheme)return a&&(n.scheme=a.scheme),o(n);if(n||t.match(r))return t;if(a&&!a.host&&!a.path)return a.host=t,o(a);var l="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=l,o(a)):l},t.isAbsolute=function(e){return"/"===e.charAt(0)||!!e.match(n)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var a=!("__proto__"in Object.create(null));function l(e){return e}function c(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function u(e,t){return e===t?0:e>t?1:-1}t.toSetString=a?l:function(e){return c(e)?"$"+e:e},t.fromSetString=a?l:function(e){return c(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var r=e.source-t.source;return 0!==r||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)||n||0!==(r=e.generatedColumn-t.generatedColumn)||0!==(r=e.generatedLine-t.generatedLine)?r:e.name-t.name},t.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r||0!==(r=e.generatedColumn-t.generatedColumn)||n||0!==(r=e.source-t.source)||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)?r:e.name-t.name},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n||0!==(n=e.generatedColumn-t.generatedColumn)||0!==(n=u(e.source,t.source))||0!==(n=e.originalLine-t.originalLine)||0!==(n=e.originalColumn-t.originalColumn)?n:u(e.name,t.name)}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){var r=n(59);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(186),i=n(123);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){e.exports=n(394)()},function(e,t,n){var r=n(29).Symbol;e.exports=r},function(e,t,n){var r=n(199),i=n(432),o=n(94);e.exports=function(e){return o(e)?r(e):i(e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"start",(function(){return o})),n.d(t,"stop",(function(){return s})),n.d(t,"measure",(function(){return a}));let r=!1,i=0;function o(){r=!0}function s(){r=!1}async function a(e,t){const n=++i,o=performance&&performance.now?performance.now():null;!function(e,t){if(!r)return;const n=`${e}::${t}`;performance.mark(n)}(n,e);try{return await t()}finally{if(o){const t=performance.now()-o;if(t>1e3){const n=(t/1e3).toFixed(3);log.info(`Executing ${e} (took ${n}s)`)}}!function(e,t){if(!r)return;const n=`${e}::${t}`,i=t;performance.measure(i,n),performance.clearMarks(n),performance.clearMeasures(i)}(n,e)}}},function(e,t,n){"use strict";class r{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const t=this.oldCache.get(e);return this._set(e,t),t}}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache){const[t]=e;this.cache.has(t)||(yield e)}}get size(){let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return this._size+e}}e.exports=r,e.exports.default=r},function(e,t,n){(function(e){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var i="Expected a function",o="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],a="[object Arguments]",l="[object Array]",c="[object Boolean]",u="[object Date]",h="[object Error]",p="[object Function]",d="[object GeneratorFunction]",f="[object Map]",m="[object Number]",g="[object Object]",y="[object RegExp]",v="[object Set]",b="[object String]",w="[object Symbol]",C="[object WeakMap]",S="[object ArrayBuffer]",E="[object DataView]",k="[object Float32Array]",x="[object Float64Array]",D="[object Int8Array]",_="[object Int16Array]",T="[object Int32Array]",R="[object Uint8Array]",A="[object Uint16Array]",O="[object Uint32Array]",P=/\b__p \+= '';/g,I=/\b(__p \+=) '' \+/g,M=/(__e\(.*?\)|\b__t\)) \+\n'';/g,F=/&(?:amp|lt|gt|quot|#39);/g,N=/[&<>"']/g,B=RegExp(F.source),L=RegExp(N.source),H=/<%-([\s\S]+?)%>/g,U=/<%([\s\S]+?)%>/g,j=/<%=([\s\S]+?)%>/g,W=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,z=/^\w*$/,G=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,q=/[\\^$.*+?()[\]{}|]/g,V=RegExp(q.source),$=/^\s+/,K=/\s/,Y=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Z=/\{\n\/\* \[wrapped with (.+)\] \*/,X=/,? & /,Q=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,J=/[()=,{}\[\]\/\s]/,ee=/\\(\\)?/g,te=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ne=/\w*$/,re=/^[-+]0x[0-9a-f]+$/i,ie=/^0b[01]+$/i,oe=/^\[object .+?Constructor\]$/,se=/^0o[0-7]+$/i,ae=/^(?:0|[1-9]\d*)$/,le=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ce=/($^)/,ue=/['\n\r\u2028\u2029\\]/g,he="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",de="[\\ud800-\\udfff]",fe="["+pe+"]",me="["+he+"]",ge="\\d+",ye="[\\u2700-\\u27bf]",ve="[a-z\\xdf-\\xf6\\xf8-\\xff]",be="[^\\ud800-\\udfff"+pe+ge+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",we="\\ud83c[\\udffb-\\udfff]",Ce="[^\\ud800-\\udfff]",Se="(?:\\ud83c[\\udde6-\\uddff]){2}",Ee="[\\ud800-\\udbff][\\udc00-\\udfff]",ke="[A-Z\\xc0-\\xd6\\xd8-\\xde]",xe="(?:"+ve+"|"+be+")",De="(?:"+ke+"|"+be+")",_e="(?:"+me+"|"+we+")"+"?",Te="[\\ufe0e\\ufe0f]?"+_e+("(?:\\u200d(?:"+[Ce,Se,Ee].join("|")+")[\\ufe0e\\ufe0f]?"+_e+")*"),Re="(?:"+[ye,Se,Ee].join("|")+")"+Te,Ae="(?:"+[Ce+me+"?",me,Se,Ee,de].join("|")+")",Oe=RegExp("[']","g"),Pe=RegExp(me,"g"),Ie=RegExp(we+"(?="+we+")|"+Ae+Te,"g"),Me=RegExp([ke+"?"+ve+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[fe,ke,"$"].join("|")+")",De+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[fe,ke+xe,"$"].join("|")+")",ke+"?"+xe+"+(?:['](?:d|ll|m|re|s|t|ve))?",ke+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ge,Re].join("|"),"g"),Fe=RegExp("[\\u200d\\ud800-\\udfff"+he+"\\ufe0e\\ufe0f]"),Ne=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Be=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Le=-1,He={};He[k]=He[x]=He[D]=He[_]=He[T]=He[R]=He["[object Uint8ClampedArray]"]=He[A]=He[O]=!0,He[a]=He[l]=He[S]=He[c]=He[E]=He[u]=He[h]=He[p]=He[f]=He[m]=He[g]=He[y]=He[v]=He[b]=He[C]=!1;var Ue={};Ue[a]=Ue[l]=Ue[S]=Ue[E]=Ue[c]=Ue[u]=Ue[k]=Ue[x]=Ue[D]=Ue[_]=Ue[T]=Ue[f]=Ue[m]=Ue[g]=Ue[y]=Ue[v]=Ue[b]=Ue[w]=Ue[R]=Ue["[object Uint8ClampedArray]"]=Ue[A]=Ue[O]=!0,Ue[h]=Ue[p]=Ue[C]=!1;var je={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},We=parseFloat,ze=parseInt,Ge="object"==typeof global&&global&&global.Object===Object&&global,qe="object"==typeof self&&self&&self.Object===Object&&self,Ve=Ge||qe||Function("return this")(),$e=t&&!t.nodeType&&t,Ke=$e&&"object"==typeof e&&e&&!e.nodeType&&e,Ye=Ke&&Ke.exports===$e,Ze=Ye&&Ge.process,Xe=function(){try{var e=Ke&&Ke.require&&Ke.require("util").types;return e||Ze&&Ze.binding&&Ze.binding("util")}catch(e){}}(),Qe=Xe&&Xe.isArrayBuffer,Je=Xe&&Xe.isDate,et=Xe&&Xe.isMap,tt=Xe&&Xe.isRegExp,nt=Xe&&Xe.isSet,rt=Xe&&Xe.isTypedArray;function it(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function ot(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function st(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function at(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function lt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function ct(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function ut(e,t){return!!(null==e?0:e.length)&&wt(e,t,0)>-1}function ht(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function pt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function dt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function ft(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function mt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function gt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var yt=kt("length");function vt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function bt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function wt(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):bt(e,St,n)}function Ct(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function St(e){return e!=e}function Et(e,t){var n=null==e?0:e.length;return n?_t(e,t)/n:NaN}function kt(e){return function(t){return null==t?void 0:t[e]}}function xt(e){return function(t){return null==e?void 0:e[t]}}function Dt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function _t(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Tt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Rt(e){return e?e.slice(0,$t(e)+1).replace($,""):e}function At(e){return function(t){return e(t)}}function Ot(e,t){return pt(t,(function(t){return e[t]}))}function Pt(e,t){return e.has(t)}function It(e,t){for(var n=-1,r=e.length;++n<r&&wt(t,e[n],0)>-1;);return n}function Mt(e,t){for(var n=e.length;n--&&wt(t,e[n],0)>-1;);return n}function Ft(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Nt=xt({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Bt=xt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Lt(e){return"\\"+je[e]}function Ht(e){return Fe.test(e)}function Ut(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function jt(e,t){return function(n){return e(t(n))}}function Wt(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var a=e[n];a!==t&&a!==o||(e[n]=o,s[i++]=n)}return s}function zt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function Gt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function qt(e){return Ht(e)?function(e){var t=Ie.lastIndex=0;for(;Ie.test(e);)++t;return t}(e):yt(e)}function Vt(e){return Ht(e)?function(e){return e.match(Ie)||[]}(e):function(e){return e.split("")}(e)}function $t(e){for(var t=e.length;t--&&K.test(e.charAt(t)););return t}var Kt=xt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Yt=function e(t){var n,r=(t=null==t?Ve:Yt.defaults(Ve.Object(),t,Yt.pick(Ve,Be))).Array,K=t.Date,he=t.Error,pe=t.Function,de=t.Math,fe=t.Object,me=t.RegExp,ge=t.String,ye=t.TypeError,ve=r.prototype,be=pe.prototype,we=fe.prototype,Ce=t["__core-js_shared__"],Se=be.toString,Ee=we.hasOwnProperty,ke=0,xe=(n=/[^.]+$/.exec(Ce&&Ce.keys&&Ce.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",De=we.toString,_e=Se.call(fe),Te=Ve._,Re=me("^"+Se.call(Ee).replace(q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ae=Ye?t.Buffer:void 0,Ie=t.Symbol,Fe=t.Uint8Array,je=Ae?Ae.allocUnsafe:void 0,Ge=jt(fe.getPrototypeOf,fe),qe=fe.create,$e=we.propertyIsEnumerable,Ke=ve.splice,Ze=Ie?Ie.isConcatSpreadable:void 0,Xe=Ie?Ie.iterator:void 0,yt=Ie?Ie.toStringTag:void 0,xt=function(){try{var e=eo(fe,"defineProperty");return e({},"",{}),e}catch(e){}}(),Zt=t.clearTimeout!==Ve.clearTimeout&&t.clearTimeout,Xt=K&&K.now!==Ve.Date.now&&K.now,Qt=t.setTimeout!==Ve.setTimeout&&t.setTimeout,Jt=de.ceil,en=de.floor,tn=fe.getOwnPropertySymbols,nn=Ae?Ae.isBuffer:void 0,rn=t.isFinite,on=ve.join,sn=jt(fe.keys,fe),an=de.max,ln=de.min,cn=K.now,un=t.parseInt,hn=de.random,pn=ve.reverse,dn=eo(t,"DataView"),fn=eo(t,"Map"),mn=eo(t,"Promise"),gn=eo(t,"Set"),yn=eo(t,"WeakMap"),vn=eo(fe,"create"),bn=yn&&new yn,wn={},Cn=To(dn),Sn=To(fn),En=To(mn),kn=To(gn),xn=To(yn),Dn=Ie?Ie.prototype:void 0,_n=Dn?Dn.valueOf:void 0,Tn=Dn?Dn.toString:void 0;function Rn(e){if(qs(e)&&!Ms(e)&&!(e instanceof In)){if(e instanceof Pn)return e;if(Ee.call(e,"__wrapped__"))return Ro(e)}return new Pn(e)}var An=function(){function e(){}return function(t){if(!Gs(t))return{};if(qe)return qe(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function On(){}function Pn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function In(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Mn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Fn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Nn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Bn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Nn;++t<n;)this.add(e[t])}function Ln(e){var t=this.__data__=new Fn(e);this.size=t.size}function Hn(e,t){var n=Ms(e),r=!n&&Is(e),i=!n&&!r&&Ls(e),o=!n&&!r&&!i&&Js(e),s=n||r||i||o,a=s?Tt(e.length,ge):[],l=a.length;for(var c in e)!t&&!Ee.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ao(c,l))||a.push(c);return a}function Un(e){var t=e.length;return t?e[Br(0,t-1)]:void 0}function jn(e,t){return xo(vi(e),Zn(t,0,e.length))}function Wn(e){return xo(vi(e))}function zn(e,t,n){(void 0!==n&&!As(e[t],n)||void 0===n&&!(t in e))&&Kn(e,t,n)}function Gn(e,t,n){var r=e[t];Ee.call(e,t)&&As(r,n)&&(void 0!==n||t in e)||Kn(e,t,n)}function qn(e,t){for(var n=e.length;n--;)if(As(e[n][0],t))return n;return-1}function Vn(e,t,n,r){return tr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function $n(e,t){return e&&bi(t,Ca(t),e)}function Kn(e,t,n){"__proto__"==t&&xt?xt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Yn(e,t){for(var n=-1,i=t.length,o=r(i),s=null==e;++n<i;)o[n]=s?void 0:ga(e,t[n]);return o}function Zn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Xn(e,t,n,r,i,o){var s,l=1&t,h=2&t,C=4&t;if(n&&(s=i?n(e,r,i,o):n(e)),void 0!==s)return s;if(!Gs(e))return e;var P=Ms(e);if(P){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Ee.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return vi(e,s)}else{var I=ro(e),M=I==p||I==d;if(Ls(e))return pi(e,l);if(I==g||I==a||M&&!i){if(s=h||M?{}:oo(e),!l)return h?function(e,t){return bi(e,no(e),t)}(e,function(e,t){return e&&bi(t,Sa(t),e)}(s,e)):function(e,t){return bi(e,to(e),t)}(e,$n(s,e))}else{if(!Ue[I])return i?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case S:return di(e);case c:case u:return new r(+e);case E:return function(e,t){var n=t?di(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case k:case x:case D:case _:case T:case R:case"[object Uint8ClampedArray]":case A:case O:return fi(e,n);case f:return new r;case m:case b:return new r(e);case y:return function(e){var t=new e.constructor(e.source,ne.exec(e));return t.lastIndex=e.lastIndex,t}(e);case v:return new r;case w:return i=e,_n?fe(_n.call(i)):{}}var i}(e,I,l)}}o||(o=new Ln);var F=o.get(e);if(F)return F;o.set(e,s),Zs(e)?e.forEach((function(r){s.add(Xn(r,t,n,r,e,o))})):Vs(e)&&e.forEach((function(r,i){s.set(i,Xn(r,t,n,i,e,o))}));var N=P?void 0:(C?h?$i:Vi:h?Sa:Ca)(e);return st(N||e,(function(r,i){N&&(r=e[i=r]),Gn(s,i,Xn(r,t,n,i,e,o))})),s}function Qn(e,t,n){var r=n.length;if(null==e)return!r;for(e=fe(e);r--;){var i=n[r],o=t[i],s=e[i];if(void 0===s&&!(i in e)||!o(s))return!1}return!0}function Jn(e,t,n){if("function"!=typeof e)throw new ye(i);return Co((function(){e.apply(void 0,n)}),t)}function er(e,t,n,r){var i=-1,o=ut,s=!0,a=e.length,l=[],c=t.length;if(!a)return l;n&&(t=pt(t,At(n))),r?(o=ht,s=!1):t.length>=200&&(o=Pt,s=!1,t=new Bn(t));e:for(;++i<a;){var u=e[i],h=null==n?u:n(u);if(u=r||0!==u?u:0,s&&h==h){for(var p=c;p--;)if(t[p]===h)continue e;l.push(u)}else o(t,h,r)||l.push(u)}return l}Rn.templateSettings={escape:H,evaluate:U,interpolate:j,variable:"",imports:{_:Rn}},Rn.prototype=On.prototype,Rn.prototype.constructor=Rn,Pn.prototype=An(On.prototype),Pn.prototype.constructor=Pn,In.prototype=An(On.prototype),In.prototype.constructor=In,Mn.prototype.clear=function(){this.__data__=vn?vn(null):{},this.size=0},Mn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Mn.prototype.get=function(e){var t=this.__data__;if(vn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Ee.call(t,e)?t[e]:void 0},Mn.prototype.has=function(e){var t=this.__data__;return vn?void 0!==t[e]:Ee.call(t,e)},Mn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=vn&&void 0===t?"__lodash_hash_undefined__":t,this},Fn.prototype.clear=function(){this.__data__=[],this.size=0},Fn.prototype.delete=function(e){var t=this.__data__,n=qn(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,!0)},Fn.prototype.get=function(e){var t=this.__data__,n=qn(t,e);return n<0?void 0:t[n][1]},Fn.prototype.has=function(e){return qn(this.__data__,e)>-1},Fn.prototype.set=function(e,t){var n=this.__data__,r=qn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Nn.prototype.clear=function(){this.size=0,this.__data__={hash:new Mn,map:new(fn||Fn),string:new Mn}},Nn.prototype.delete=function(e){var t=Qi(this,e).delete(e);return this.size-=t?1:0,t},Nn.prototype.get=function(e){return Qi(this,e).get(e)},Nn.prototype.has=function(e){return Qi(this,e).has(e)},Nn.prototype.set=function(e,t){var n=Qi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Bn.prototype.add=Bn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Bn.prototype.has=function(e){return this.__data__.has(e)},Ln.prototype.clear=function(){this.__data__=new Fn,this.size=0},Ln.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ln.prototype.get=function(e){return this.__data__.get(e)},Ln.prototype.has=function(e){return this.__data__.has(e)},Ln.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Fn){var r=n.__data__;if(!fn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Nn(r)}return n.set(e,t),this.size=n.size,this};var tr=Si(cr),nr=Si(ur,!0);function rr(e,t){var n=!0;return tr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function ir(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],s=t(o);if(null!=s&&(void 0===a?s==s&&!Qs(s):n(s,a)))var a=s,l=o}return l}function or(e,t){var n=[];return tr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function sr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=so),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?sr(a,t-1,n,r,i):dt(i,a):r||(i[i.length]=a)}return i}var ar=Ei(),lr=Ei(!0);function cr(e,t){return e&&ar(e,t,Ca)}function ur(e,t){return e&&lr(e,t,Ca)}function hr(e,t){return ct(t,(function(t){return js(e[t])}))}function pr(e,t){for(var n=0,r=(t=li(t,e)).length;null!=e&&n<r;)e=e[_o(t[n++])];return n&&n==r?e:void 0}function dr(e,t,n){var r=t(e);return Ms(e)?r:dt(r,n(e))}function fr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":yt&&yt in fe(e)?function(e){var t=Ee.call(e,yt),n=e[yt];try{e[yt]=void 0;var r=!0}catch(e){}var i=De.call(e);r&&(t?e[yt]=n:delete e[yt]);return i}(e):function(e){return De.call(e)}(e)}function mr(e,t){return e>t}function gr(e,t){return null!=e&&Ee.call(e,t)}function yr(e,t){return null!=e&&t in fe(e)}function vr(e,t,n){for(var i=n?ht:ut,o=e[0].length,s=e.length,a=s,l=r(s),c=1/0,u=[];a--;){var h=e[a];a&&t&&(h=pt(h,At(t))),c=ln(h.length,c),l[a]=!n&&(t||o>=120&&h.length>=120)?new Bn(a&&h):void 0}h=e[0];var p=-1,d=l[0];e:for(;++p<o&&u.length<c;){var f=h[p],m=t?t(f):f;if(f=n||0!==f?f:0,!(d?Pt(d,m):i(u,m,n))){for(a=s;--a;){var g=l[a];if(!(g?Pt(g,m):i(e[a],m,n)))continue e}d&&d.push(m),u.push(f)}}return u}function br(e,t,n){var r=null==(e=yo(e,t=li(t,e)))?e:e[_o(Uo(t))];return null==r?void 0:it(r,e,n)}function wr(e){return qs(e)&&fr(e)==a}function Cr(e,t,n,r,i){return e===t||(null==e||null==t||!qs(e)&&!qs(t)?e!=e&&t!=t:function(e,t,n,r,i,o){var s=Ms(e),p=Ms(t),d=s?l:ro(e),C=p?l:ro(t),k=(d=d==a?g:d)==g,x=(C=C==a?g:C)==g,D=d==C;if(D&&Ls(e)){if(!Ls(t))return!1;s=!0,k=!1}if(D&&!k)return o||(o=new Ln),s||Js(e)?Gi(e,t,n,r,i,o):function(e,t,n,r,i,o,s){switch(n){case E:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case S:return!(e.byteLength!=t.byteLength||!o(new Fe(e),new Fe(t)));case c:case u:case m:return As(+e,+t);case h:return e.name==t.name&&e.message==t.message;case y:case b:return e==t+"";case f:var a=Ut;case v:var l=1&r;if(a||(a=zt),e.size!=t.size&&!l)return!1;var p=s.get(e);if(p)return p==t;r|=2,s.set(e,t);var d=Gi(a(e),a(t),r,i,o,s);return s.delete(e),d;case w:if(_n)return _n.call(e)==_n.call(t)}return!1}(e,t,d,n,r,i,o);if(!(1&n)){var _=k&&Ee.call(e,"__wrapped__"),T=x&&Ee.call(t,"__wrapped__");if(_||T){var R=_?e.value():e,A=T?t.value():t;return o||(o=new Ln),i(R,A,n,r,o)}}if(!D)return!1;return o||(o=new Ln),function(e,t,n,r,i,o){var s=1&n,a=Vi(e),l=a.length,c=Vi(t).length;if(l!=c&&!s)return!1;var u=l;for(;u--;){var h=a[u];if(!(s?h in t:Ee.call(t,h)))return!1}var p=o.get(e),d=o.get(t);if(p&&d)return p==t&&d==e;var f=!0;o.set(e,t),o.set(t,e);var m=s;for(;++u<l;){h=a[u];var g=e[h],y=t[h];if(r)var v=s?r(y,g,h,t,e,o):r(g,y,h,e,t,o);if(!(void 0===v?g===y||i(g,y,n,r,o):v)){f=!1;break}m||(m="constructor"==h)}if(f&&!m){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,r,i,o)}(e,t,n,r,Cr,i))}function Sr(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;for(e=fe(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){var l=(a=n[i])[0],c=e[l],u=a[1];if(s&&a[2]){if(void 0===c&&!(l in e))return!1}else{var h=new Ln;if(r)var p=r(c,u,l,e,t,h);if(!(void 0===p?Cr(u,c,3,r,h):p))return!1}}return!0}function Er(e){return!(!Gs(e)||(t=e,xe&&xe in t))&&(js(e)?Re:oe).test(To(e));var t}function kr(e){return"function"==typeof e?e:null==e?$a:"object"==typeof e?Ms(e)?Ar(e[0],e[1]):Rr(e):nl(e)}function xr(e){if(!po(e))return sn(e);var t=[];for(var n in fe(e))Ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Dr(e){if(!Gs(e))return function(e){var t=[];if(null!=e)for(var n in fe(e))t.push(n);return t}(e);var t=po(e),n=[];for(var r in e)("constructor"!=r||!t&&Ee.call(e,r))&&n.push(r);return n}function _r(e,t){return e<t}function Tr(e,t){var n=-1,i=Ns(e)?r(e.length):[];return tr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Rr(e){var t=Ji(e);return 1==t.length&&t[0][2]?mo(t[0][0],t[0][1]):function(n){return n===e||Sr(n,e,t)}}function Ar(e,t){return co(e)&&fo(t)?mo(_o(e),t):function(n){var r=ga(n,e);return void 0===r&&r===t?ya(n,e):Cr(t,r,3)}}function Or(e,t,n,r,i){e!==t&&ar(t,(function(o,s){if(i||(i=new Ln),Gs(o))!function(e,t,n,r,i,o,s){var a=bo(e,n),l=bo(t,n),c=s.get(l);if(c)return void zn(e,n,c);var u=o?o(a,l,n+"",e,t,s):void 0,h=void 0===u;if(h){var p=Ms(l),d=!p&&Ls(l),f=!p&&!d&&Js(l);u=l,p||d||f?Ms(a)?u=a:Bs(a)?u=vi(a):d?(h=!1,u=pi(l,!0)):f?(h=!1,u=fi(l,!0)):u=[]:Ks(l)||Is(l)?(u=a,Is(a)?u=aa(a):Gs(a)&&!js(a)||(u=oo(l))):h=!1}h&&(s.set(l,u),i(u,l,r,o,s),s.delete(l));zn(e,n,u)}(e,t,s,n,Or,r,i);else{var a=r?r(bo(e,s),o,s+"",e,t,i):void 0;void 0===a&&(a=o),zn(e,s,a)}}),Sa)}function Pr(e,t){var n=e.length;if(n)return ao(t+=t<0?n:0,n)?e[t]:void 0}function Ir(e,t,n){t=t.length?pt(t,(function(e){return Ms(e)?function(t){return pr(t,1===e.length?e[0]:e)}:e})):[$a];var r=-1;return t=pt(t,At(Xi())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Tr(e,(function(e,n,i){return{criteria:pt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;for(;++r<s;){var l=mi(i[r],o[r]);if(l){if(r>=a)return l;var c=n[r];return l*("desc"==c?-1:1)}}return e.index-t.index}(e,t,n)}))}function Mr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=pr(e,s);n(a,s)&&Wr(o,li(s,e),a)}return o}function Fr(e,t,n,r){var i=r?Ct:wt,o=-1,s=t.length,a=e;for(e===t&&(t=vi(t)),n&&(a=pt(e,At(n)));++o<s;)for(var l=0,c=t[o],u=n?n(c):c;(l=i(a,u,l,r))>-1;)a!==e&&Ke.call(a,l,1),Ke.call(e,l,1);return e}function Nr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;ao(i)?Ke.call(e,i,1):ei(e,i)}}return e}function Br(e,t){return e+en(hn()*(t-e+1))}function Lr(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=en(t/2))&&(e+=e)}while(t);return n}function Hr(e,t){return So(go(e,t,$a),e+"")}function Ur(e){return Un(Aa(e))}function jr(e,t){var n=Aa(e);return xo(n,Zn(t,0,n.length))}function Wr(e,t,n,r){if(!Gs(e))return e;for(var i=-1,o=(t=li(t,e)).length,s=o-1,a=e;null!=a&&++i<o;){var l=_o(t[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=s){var u=a[l];void 0===(c=r?r(u,l,a):void 0)&&(c=Gs(u)?u:ao(t[i+1])?[]:{})}Gn(a,l,c),a=a[l]}return e}var zr=bn?function(e,t){return bn.set(e,t),e}:$a,Gr=xt?function(e,t){return xt(e,"toString",{configurable:!0,enumerable:!1,value:Ga(t),writable:!0})}:$a;function qr(e){return xo(Aa(e))}function Vr(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=r(o);++i<o;)s[i]=e[i+t];return s}function $r(e,t){var n;return tr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function Kr(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!Qs(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return Yr(e,t,$a,n)}function Yr(e,t,n,r){var i=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!=t,a=null===t,l=Qs(t),c=void 0===t;i<o;){var u=en((i+o)/2),h=n(e[u]),p=void 0!==h,d=null===h,f=h==h,m=Qs(h);if(s)var g=r||f;else g=c?f&&(r||p):a?f&&p&&(r||!d):l?f&&p&&!d&&(r||!m):!d&&!m&&(r?h<=t:h<t);g?i=u+1:o=u}return ln(o,4294967294)}function Zr(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!As(a,l)){var l=a;o[i++]=0===s?0:s}}return o}function Xr(e){return"number"==typeof e?e:Qs(e)?NaN:+e}function Qr(e){if("string"==typeof e)return e;if(Ms(e))return pt(e,Qr)+"";if(Qs(e))return Tn?Tn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Jr(e,t,n){var r=-1,i=ut,o=e.length,s=!0,a=[],l=a;if(n)s=!1,i=ht;else if(o>=200){var c=t?null:Li(e);if(c)return zt(c);s=!1,i=Pt,l=new Bn}else l=t?[]:a;e:for(;++r<o;){var u=e[r],h=t?t(u):u;if(u=n||0!==u?u:0,s&&h==h){for(var p=l.length;p--;)if(l[p]===h)continue e;t&&l.push(h),a.push(u)}else i(l,h,n)||(l!==a&&l.push(h),a.push(u))}return a}function ei(e,t){return null==(e=yo(e,t=li(t,e)))||delete e[_o(Uo(t))]}function ti(e,t,n,r){return Wr(e,t,n(pr(e,t)),r)}function ni(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Vr(e,r?0:o,r?o+1:i):Vr(e,r?o+1:0,r?i:o)}function ri(e,t){var n=e;return n instanceof In&&(n=n.value()),ft(t,(function(e,t){return t.func.apply(t.thisArg,dt([e],t.args))}),n)}function ii(e,t,n){var i=e.length;if(i<2)return i?Jr(e[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=e[o],l=-1;++l<i;)l!=o&&(s[o]=er(s[o]||a,e[l],t,n));return Jr(sr(s,1),t,n)}function oi(e,t,n){for(var r=-1,i=e.length,o=t.length,s={};++r<i;){var a=r<o?t[r]:void 0;n(s,e[r],a)}return s}function si(e){return Bs(e)?e:[]}function ai(e){return"function"==typeof e?e:$a}function li(e,t){return Ms(e)?e:co(e,t)?[e]:Do(la(e))}var ci=Hr;function ui(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Vr(e,t,n)}var hi=Zt||function(e){return Ve.clearTimeout(e)};function pi(e,t){if(t)return e.slice();var n=e.length,r=je?je(n):new e.constructor(n);return e.copy(r),r}function di(e){var t=new e.constructor(e.byteLength);return new Fe(t).set(new Fe(e)),t}function fi(e,t){var n=t?di(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function mi(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=Qs(e),s=void 0!==t,a=null===t,l=t==t,c=Qs(t);if(!a&&!c&&!o&&e>t||o&&s&&l&&!a&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}function gi(e,t,n,i){for(var o=-1,s=e.length,a=n.length,l=-1,c=t.length,u=an(s-a,0),h=r(c+u),p=!i;++l<c;)h[l]=t[l];for(;++o<a;)(p||o<s)&&(h[n[o]]=e[o]);for(;u--;)h[l++]=e[o++];return h}function yi(e,t,n,i){for(var o=-1,s=e.length,a=-1,l=n.length,c=-1,u=t.length,h=an(s-l,0),p=r(h+u),d=!i;++o<h;)p[o]=e[o];for(var f=o;++c<u;)p[f+c]=t[c];for(;++a<l;)(d||o<s)&&(p[f+n[a]]=e[o++]);return p}function vi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function bi(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=r?r(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),i?Kn(n,a,l):Gn(n,a,l)}return n}function wi(e,t){return function(n,r){var i=Ms(n)?ot:Vn,o=t?t():{};return i(n,e,Xi(r,2),o)}}function Ci(e){return Hr((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,s&&lo(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=fe(t);++r<i;){var a=n[r];a&&e(t,a,r,o)}return t}))}function Si(e,t){return function(n,r){if(null==n)return n;if(!Ns(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=fe(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Ei(e){return function(t,n,r){for(var i=-1,o=fe(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===n(o[l],l,o))break}return t}}function ki(e){return function(t){var n=Ht(t=la(t))?Vt(t):void 0,r=n?n[0]:t.charAt(0),i=n?ui(n,1).join(""):t.slice(1);return r[e]()+i}}function xi(e){return function(t){return ft(ja(Ia(t).replace(Oe,"")),e,"")}}function Di(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=An(e.prototype),r=e.apply(n,t);return Gs(r)?r:n}}function _i(e){return function(t,n,r){var i=fe(t);if(!Ns(t)){var o=Xi(n,3);t=Ca(t),n=function(e){return o(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[o?t[s]:s]:void 0}}function Ti(e){return qi((function(t){var n=t.length,r=n,o=Pn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new ye(i);if(o&&!a&&"wrapper"==Yi(s))var a=new Pn([],!0)}for(r=a?r:n;++r<n;){var l=Yi(s=t[r]),c="wrapper"==l?Ki(s):void 0;a=c&&uo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?a[Yi(c[0])].apply(a,c[3]):1==s.length&&uo(s)?a[l]():a.thru(s)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&Ms(r))return a.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Ri(e,t,n,i,o,s,a,l,c,u){var h=128&t,p=1&t,d=2&t,f=24&t,m=512&t,g=d?void 0:Di(e);return function y(){for(var v=arguments.length,b=r(v),w=v;w--;)b[w]=arguments[w];if(f)var C=Zi(y),S=Ft(b,C);if(i&&(b=gi(b,i,o,f)),s&&(b=yi(b,s,a,f)),v-=S,f&&v<u){var E=Wt(b,C);return Ni(e,t,Ri,y.placeholder,n,b,E,l,c,u-v)}var k=p?n:this,x=d?k[e]:e;return v=b.length,l?b=vo(b,l):m&&v>1&&b.reverse(),h&&c<v&&(b.length=c),this&&this!==Ve&&this instanceof y&&(x=g||Di(x)),x.apply(k,b)}}function Ai(e,t){return function(n,r){return function(e,t,n,r){return cr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Oi(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Qr(n),r=Qr(r)):(n=Xr(n),r=Xr(r)),i=e(n,r)}return i}}function Pi(e){return qi((function(t){return t=pt(t,At(Xi())),Hr((function(n){var r=this;return e(t,(function(e){return it(e,r,n)}))}))}))}function Ii(e,t){var n=(t=void 0===t?" ":Qr(t)).length;if(n<2)return n?Lr(t,e):t;var r=Lr(t,Jt(e/qt(t)));return Ht(t)?ui(Vt(r),0,e).join(""):r.slice(0,e)}function Mi(e){return function(t,n,i){return i&&"number"!=typeof i&&lo(t,n,i)&&(n=i=void 0),t=ra(t),void 0===n?(n=t,t=0):n=ra(n),function(e,t,n,i){for(var o=-1,s=an(Jt((t-e)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=e,e+=n;return a}(t,n,i=void 0===i?t<n?1:-1:ra(i),e)}}function Fi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=sa(t),n=sa(n)),e(t,n)}}function Ni(e,t,n,r,i,o,s,a,l,c){var u=8&t;t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4);var h=[e,t,i,u?o:void 0,u?s:void 0,u?void 0:o,u?void 0:s,a,l,c],p=n.apply(void 0,h);return uo(e)&&wo(p,h),p.placeholder=r,Eo(p,e,t)}function Bi(e){var t=de[e];return function(e,n){if(e=sa(e),(n=null==n?0:ln(ia(n),292))&&rn(e)){var r=(la(e)+"e").split("e");return+((r=(la(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Li=gn&&1/zt(new gn([,-0]))[1]==1/0?function(e){return new gn(e)}:Qa;function Hi(e){return function(t){var n=ro(t);return n==f?Ut(t):n==v?Gt(t):function(e,t){return pt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ui(e,t,n,s,a,l,c,u){var h=2&t;if(!h&&"function"!=typeof e)throw new ye(i);var p=s?s.length:0;if(p||(t&=-97,s=a=void 0),c=void 0===c?c:an(ia(c),0),u=void 0===u?u:ia(u),p-=a?a.length:0,64&t){var d=s,f=a;s=a=void 0}var m=h?void 0:Ki(e),g=[e,t,n,s,a,d,f,l,c,u];if(m&&function(e,t){var n=e[1],r=t[1],i=n|r,s=i<131,a=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!s&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?gi(c,l,t[4]):l,e[4]=c?Wt(e[3],o):t[4]}(l=t[5])&&(c=e[5],e[5]=c?yi(c,l,t[6]):l,e[6]=c?Wt(e[5],o):t[6]);(l=t[7])&&(e[7]=l);128&r&&(e[8]=null==e[8]?t[8]:ln(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(g,m),e=g[0],t=g[1],n=g[2],s=g[3],a=g[4],!(u=g[9]=void 0===g[9]?h?0:e.length:an(g[9]-p,0))&&24&t&&(t&=-25),t&&1!=t)y=8==t||16==t?function(e,t,n){var i=Di(e);return function o(){for(var s=arguments.length,a=r(s),l=s,c=Zi(o);l--;)a[l]=arguments[l];var u=s<3&&a[0]!==c&&a[s-1]!==c?[]:Wt(a,c);if((s-=u.length)<n)return Ni(e,t,Ri,o.placeholder,void 0,a,u,void 0,void 0,n-s);var h=this&&this!==Ve&&this instanceof o?i:e;return it(h,this,a)}}(e,t,u):32!=t&&33!=t||a.length?Ri.apply(void 0,g):function(e,t,n,i){var o=1&t,s=Di(e);return function t(){for(var a=-1,l=arguments.length,c=-1,u=i.length,h=r(u+l),p=this&&this!==Ve&&this instanceof t?s:e;++c<u;)h[c]=i[c];for(;l--;)h[c++]=arguments[++a];return it(p,o?n:this,h)}}(e,t,n,s);else var y=function(e,t,n){var r=1&t,i=Di(e);return function t(){var o=this&&this!==Ve&&this instanceof t?i:e;return o.apply(r?n:this,arguments)}}(e,t,n);return Eo((m?zr:wo)(y,g),e,t)}function ji(e,t,n,r){return void 0===e||As(e,we[n])&&!Ee.call(r,n)?t:e}function Wi(e,t,n,r,i,o){return Gs(e)&&Gs(t)&&(o.set(t,e),Or(e,t,void 0,Wi,o),o.delete(t)),e}function zi(e){return Ks(e)?void 0:e}function Gi(e,t,n,r,i,o){var s=1&n,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var h=-1,p=!0,d=2&n?new Bn:void 0;for(o.set(e,t),o.set(t,e);++h<a;){var f=e[h],m=t[h];if(r)var g=s?r(m,f,h,t,e,o):r(f,m,h,e,t,o);if(void 0!==g){if(g)continue;p=!1;break}if(d){if(!gt(t,(function(e,t){if(!Pt(d,t)&&(f===e||i(f,e,n,r,o)))return d.push(t)}))){p=!1;break}}else if(f!==m&&!i(f,m,n,r,o)){p=!1;break}}return o.delete(e),o.delete(t),p}function qi(e){return So(go(e,void 0,Fo),e+"")}function Vi(e){return dr(e,Ca,to)}function $i(e){return dr(e,Sa,no)}var Ki=bn?function(e){return bn.get(e)}:Qa;function Yi(e){for(var t=e.name+"",n=wn[t],r=Ee.call(wn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Zi(e){return(Ee.call(Rn,"placeholder")?Rn:e).placeholder}function Xi(){var e=Rn.iteratee||Ka;return e=e===Ka?kr:e,arguments.length?e(arguments[0],arguments[1]):e}function Qi(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Ji(e){for(var t=Ca(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,fo(i)]}return t}function eo(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Er(n)?n:void 0}var to=tn?function(e){return null==e?[]:(e=fe(e),ct(tn(e),(function(t){return $e.call(e,t)})))}:ol,no=tn?function(e){for(var t=[];e;)dt(t,to(e)),e=Ge(e);return t}:ol,ro=fr;function io(e,t,n){for(var r=-1,i=(t=li(t,e)).length,o=!1;++r<i;){var s=_o(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&zs(i)&&ao(s,i)&&(Ms(e)||Is(e))}function oo(e){return"function"!=typeof e.constructor||po(e)?{}:An(Ge(e))}function so(e){return Ms(e)||Is(e)||!!(Ze&&e&&e[Ze])}function ao(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ae.test(e))&&e>-1&&e%1==0&&e<t}function lo(e,t,n){if(!Gs(n))return!1;var r=typeof t;return!!("number"==r?Ns(n)&&ao(t,n.length):"string"==r&&t in n)&&As(n[t],e)}function co(e,t){if(Ms(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Qs(e))||(z.test(e)||!W.test(e)||null!=t&&e in fe(t))}function uo(e){var t=Yi(e),n=Rn[t];if("function"!=typeof n||!(t in In.prototype))return!1;if(e===n)return!0;var r=Ki(n);return!!r&&e===r[0]}(dn&&ro(new dn(new ArrayBuffer(1)))!=E||fn&&ro(new fn)!=f||mn&&"[object Promise]"!=ro(mn.resolve())||gn&&ro(new gn)!=v||yn&&ro(new yn)!=C)&&(ro=function(e){var t=fr(e),n=t==g?e.constructor:void 0,r=n?To(n):"";if(r)switch(r){case Cn:return E;case Sn:return f;case En:return"[object Promise]";case kn:return v;case xn:return C}return t});var ho=Ce?js:sl;function po(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||we)}function fo(e){return e==e&&!Gs(e)}function mo(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in fe(n)))}}function go(e,t,n){return t=an(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=an(i.length-t,0),a=r(s);++o<s;)a[o]=i[t+o];o=-1;for(var l=r(t+1);++o<t;)l[o]=i[o];return l[t]=n(a),it(e,this,l)}}function yo(e,t){return t.length<2?e:pr(e,Vr(t,0,-1))}function vo(e,t){for(var n=e.length,r=ln(t.length,n),i=vi(e);r--;){var o=t[r];e[r]=ao(o,n)?i[o]:void 0}return e}function bo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var wo=ko(zr),Co=Qt||function(e,t){return Ve.setTimeout(e,t)},So=ko(Gr);function Eo(e,t,n){var r=t+"";return So(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Y,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return st(s,(function(n){var r="_."+n[0];t&n[1]&&!ut(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(Z);return t?t[1].split(X):[]}(r),n)))}function ko(e){var t=0,n=0;return function(){var r=cn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function xo(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var o=Br(n,i),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var Do=function(e){var t=ks(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(G,(function(e,n,r,i){t.push(r?i.replace(ee,"$1"):n||e)})),t}));function _o(e){if("string"==typeof e||Qs(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function To(e){if(null!=e){try{return Se.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ro(e){if(e instanceof In)return e.clone();var t=new Pn(e.__wrapped__,e.__chain__);return t.__actions__=vi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ao=Hr((function(e,t){return Bs(e)?er(e,sr(t,1,Bs,!0)):[]})),Oo=Hr((function(e,t){var n=Uo(t);return Bs(n)&&(n=void 0),Bs(e)?er(e,sr(t,1,Bs,!0),Xi(n,2)):[]})),Po=Hr((function(e,t){var n=Uo(t);return Bs(n)&&(n=void 0),Bs(e)?er(e,sr(t,1,Bs,!0),void 0,n):[]}));function Io(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ia(n);return i<0&&(i=an(r+i,0)),bt(e,Xi(t,3),i)}function Mo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=ia(n),i=n<0?an(r+i,0):ln(i,r-1)),bt(e,Xi(t,3),i,!0)}function Fo(e){return(null==e?0:e.length)?sr(e,1):[]}function No(e){return e&&e.length?e[0]:void 0}var Bo=Hr((function(e){var t=pt(e,si);return t.length&&t[0]===e[0]?vr(t):[]})),Lo=Hr((function(e){var t=Uo(e),n=pt(e,si);return t===Uo(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?vr(n,Xi(t,2)):[]})),Ho=Hr((function(e){var t=Uo(e),n=pt(e,si);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?vr(n,void 0,t):[]}));function Uo(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var jo=Hr(Wo);function Wo(e,t){return e&&e.length&&t&&t.length?Fr(e,t):e}var zo=qi((function(e,t){var n=null==e?0:e.length,r=Yn(e,t);return Nr(e,pt(t,(function(e){return ao(e,n)?+e:e})).sort(mi)),r}));function Go(e){return null==e?e:pn.call(e)}var qo=Hr((function(e){return Jr(sr(e,1,Bs,!0))})),Vo=Hr((function(e){var t=Uo(e);return Bs(t)&&(t=void 0),Jr(sr(e,1,Bs,!0),Xi(t,2))})),$o=Hr((function(e){var t=Uo(e);return t="function"==typeof t?t:void 0,Jr(sr(e,1,Bs,!0),void 0,t)}));function Ko(e){if(!e||!e.length)return[];var t=0;return e=ct(e,(function(e){if(Bs(e))return t=an(e.length,t),!0})),Tt(t,(function(t){return pt(e,kt(t))}))}function Yo(e,t){if(!e||!e.length)return[];var n=Ko(e);return null==t?n:pt(n,(function(e){return it(t,void 0,e)}))}var Zo=Hr((function(e,t){return Bs(e)?er(e,t):[]})),Xo=Hr((function(e){return ii(ct(e,Bs))})),Qo=Hr((function(e){var t=Uo(e);return Bs(t)&&(t=void 0),ii(ct(e,Bs),Xi(t,2))})),Jo=Hr((function(e){var t=Uo(e);return t="function"==typeof t?t:void 0,ii(ct(e,Bs),void 0,t)})),es=Hr(Ko);var ts=Hr((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Yo(e,n)}));function ns(e){var t=Rn(e);return t.__chain__=!0,t}function rs(e,t){return t(e)}var is=qi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Yn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof In&&ao(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:rs,args:[i],thisArg:void 0}),new Pn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)}));var os=wi((function(e,t,n){Ee.call(e,n)?++e[n]:Kn(e,n,1)}));var ss=_i(Io),as=_i(Mo);function ls(e,t){return(Ms(e)?st:tr)(e,Xi(t,3))}function cs(e,t){return(Ms(e)?at:nr)(e,Xi(t,3))}var us=wi((function(e,t,n){Ee.call(e,n)?e[n].push(t):Kn(e,n,[t])}));var hs=Hr((function(e,t,n){var i=-1,o="function"==typeof t,s=Ns(e)?r(e.length):[];return tr(e,(function(e){s[++i]=o?it(t,e,n):br(e,t,n)})),s})),ps=wi((function(e,t,n){Kn(e,n,t)}));function ds(e,t){return(Ms(e)?pt:Tr)(e,Xi(t,3))}var fs=wi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var ms=Hr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&lo(e,t[0],t[1])?t=[]:n>2&&lo(t[0],t[1],t[2])&&(t=[t[0]]),Ir(e,sr(t,1),[])})),gs=Xt||function(){return Ve.Date.now()};function ys(e,t,n){return t=n?void 0:t,Ui(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function vs(e,t){var n;if("function"!=typeof t)throw new ye(i);return e=ia(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var bs=Hr((function(e,t,n){var r=1;if(n.length){var i=Wt(n,Zi(bs));r|=32}return Ui(e,r,t,n,i)})),ws=Hr((function(e,t,n){var r=3;if(n.length){var i=Wt(n,Zi(ws));r|=32}return Ui(t,r,e,n,i)}));function Cs(e,t,n){var r,o,s,a,l,c,u=0,h=!1,p=!1,d=!0;if("function"!=typeof e)throw new ye(i);function f(t){var n=r,i=o;return r=o=void 0,u=t,a=e.apply(i,n)}function m(e){return u=e,l=Co(y,t),h?f(e):a}function g(e){var n=e-c;return void 0===c||n>=t||n<0||p&&e-u>=s}function y(){var e=gs();if(g(e))return v(e);l=Co(y,function(e){var n=t-(e-c);return p?ln(n,s-(e-u)):n}(e))}function v(e){return l=void 0,d&&r?f(e):(r=o=void 0,a)}function b(){var e=gs(),n=g(e);if(r=arguments,o=this,c=e,n){if(void 0===l)return m(c);if(p)return hi(l),l=Co(y,t),f(c)}return void 0===l&&(l=Co(y,t)),a}return t=sa(t)||0,Gs(n)&&(h=!!n.leading,s=(p="maxWait"in n)?an(sa(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==l&&hi(l),u=0,r=c=o=l=void 0},b.flush=function(){return void 0===l?a:v(gs())},b}var Ss=Hr((function(e,t){return Jn(e,1,t)})),Es=Hr((function(e,t,n){return Jn(e,sa(t)||0,n)}));function ks(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ye(i);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(ks.Cache||Nn),n}function xs(e){if("function"!=typeof e)throw new ye(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ks.Cache=Nn;var Ds=ci((function(e,t){var n=(t=1==t.length&&Ms(t[0])?pt(t[0],At(Xi())):pt(sr(t,1),At(Xi()))).length;return Hr((function(r){for(var i=-1,o=ln(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return it(e,this,r)}))})),_s=Hr((function(e,t){return Ui(e,32,void 0,t,Wt(t,Zi(_s)))})),Ts=Hr((function(e,t){return Ui(e,64,void 0,t,Wt(t,Zi(Ts)))})),Rs=qi((function(e,t){return Ui(e,256,void 0,void 0,void 0,t)}));function As(e,t){return e===t||e!=e&&t!=t}var Os=Fi(mr),Ps=Fi((function(e,t){return e>=t})),Is=wr(function(){return arguments}())?wr:function(e){return qs(e)&&Ee.call(e,"callee")&&!$e.call(e,"callee")},Ms=r.isArray,Fs=Qe?At(Qe):function(e){return qs(e)&&fr(e)==S};function Ns(e){return null!=e&&zs(e.length)&&!js(e)}function Bs(e){return qs(e)&&Ns(e)}var Ls=nn||sl,Hs=Je?At(Je):function(e){return qs(e)&&fr(e)==u};function Us(e){if(!qs(e))return!1;var t=fr(e);return t==h||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Ks(e)}function js(e){if(!Gs(e))return!1;var t=fr(e);return t==p||t==d||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ws(e){return"number"==typeof e&&e==ia(e)}function zs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Gs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function qs(e){return null!=e&&"object"==typeof e}var Vs=et?At(et):function(e){return qs(e)&&ro(e)==f};function $s(e){return"number"==typeof e||qs(e)&&fr(e)==m}function Ks(e){if(!qs(e)||fr(e)!=g)return!1;var t=Ge(e);if(null===t)return!0;var n=Ee.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Se.call(n)==_e}var Ys=tt?At(tt):function(e){return qs(e)&&fr(e)==y};var Zs=nt?At(nt):function(e){return qs(e)&&ro(e)==v};function Xs(e){return"string"==typeof e||!Ms(e)&&qs(e)&&fr(e)==b}function Qs(e){return"symbol"==typeof e||qs(e)&&fr(e)==w}var Js=rt?At(rt):function(e){return qs(e)&&zs(e.length)&&!!He[fr(e)]};var ea=Fi(_r),ta=Fi((function(e,t){return e<=t}));function na(e){if(!e)return[];if(Ns(e))return Xs(e)?Vt(e):vi(e);if(Xe&&e[Xe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xe]());var t=ro(e);return(t==f?Ut:t==v?zt:Aa)(e)}function ra(e){return e?(e=sa(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ia(e){var t=ra(e),n=t%1;return t==t?n?t-n:t:0}function oa(e){return e?Zn(ia(e),0,4294967295):0}function sa(e){if("number"==typeof e)return e;if(Qs(e))return NaN;if(Gs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Gs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Rt(e);var n=ie.test(e);return n||se.test(e)?ze(e.slice(2),n?2:8):re.test(e)?NaN:+e}function aa(e){return bi(e,Sa(e))}function la(e){return null==e?"":Qr(e)}var ca=Ci((function(e,t){if(po(t)||Ns(t))bi(t,Ca(t),e);else for(var n in t)Ee.call(t,n)&&Gn(e,n,t[n])})),ua=Ci((function(e,t){bi(t,Sa(t),e)})),ha=Ci((function(e,t,n,r){bi(t,Sa(t),e,r)})),pa=Ci((function(e,t,n,r){bi(t,Ca(t),e,r)})),da=qi(Yn);var fa=Hr((function(e,t){e=fe(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&lo(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],s=Sa(o),a=-1,l=s.length;++a<l;){var c=s[a],u=e[c];(void 0===u||As(u,we[c])&&!Ee.call(e,c))&&(e[c]=o[c])}return e})),ma=Hr((function(e){return e.push(void 0,Wi),it(ka,void 0,e)}));function ga(e,t,n){var r=null==e?void 0:pr(e,t);return void 0===r?n:r}function ya(e,t){return null!=e&&io(e,t,yr)}var va=Ai((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=De.call(t)),e[t]=n}),Ga($a)),ba=Ai((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=De.call(t)),Ee.call(e,t)?e[t].push(n):e[t]=[n]}),Xi),wa=Hr(br);function Ca(e){return Ns(e)?Hn(e):xr(e)}function Sa(e){return Ns(e)?Hn(e,!0):Dr(e)}var Ea=Ci((function(e,t,n){Or(e,t,n)})),ka=Ci((function(e,t,n,r){Or(e,t,n,r)})),xa=qi((function(e,t){var n={};if(null==e)return n;var r=!1;t=pt(t,(function(t){return t=li(t,e),r||(r=t.length>1),t})),bi(e,$i(e),n),r&&(n=Xn(n,7,zi));for(var i=t.length;i--;)ei(n,t[i]);return n}));var Da=qi((function(e,t){return null==e?{}:function(e,t){return Mr(e,t,(function(t,n){return ya(e,n)}))}(e,t)}));function _a(e,t){if(null==e)return{};var n=pt($i(e),(function(e){return[e]}));return t=Xi(t),Mr(e,n,(function(e,n){return t(e,n[0])}))}var Ta=Hi(Ca),Ra=Hi(Sa);function Aa(e){return null==e?[]:Ot(e,Ca(e))}var Oa=xi((function(e,t,n){return t=t.toLowerCase(),e+(n?Pa(t):t)}));function Pa(e){return Ua(la(e).toLowerCase())}function Ia(e){return(e=la(e))&&e.replace(le,Nt).replace(Pe,"")}var Ma=xi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Fa=xi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Na=ki("toLowerCase");var Ba=xi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var La=xi((function(e,t,n){return e+(n?" ":"")+Ua(t)}));var Ha=xi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ua=ki("toUpperCase");function ja(e,t,n){return e=la(e),void 0===(t=n?void 0:t)?function(e){return Ne.test(e)}(e)?function(e){return e.match(Me)||[]}(e):function(e){return e.match(Q)||[]}(e):e.match(t)||[]}var Wa=Hr((function(e,t){try{return it(e,void 0,t)}catch(e){return Us(e)?e:new he(e)}})),za=qi((function(e,t){return st(t,(function(t){t=_o(t),Kn(e,t,bs(e[t],e))})),e}));function Ga(e){return function(){return e}}var qa=Ti(),Va=Ti(!0);function $a(e){return e}function Ka(e){return kr("function"==typeof e?e:Xn(e,1))}var Ya=Hr((function(e,t){return function(n){return br(n,e,t)}})),Za=Hr((function(e,t){return function(n){return br(e,n,t)}}));function Xa(e,t,n){var r=Ca(t),i=hr(t,r);null!=n||Gs(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=hr(t,Ca(t)));var o=!(Gs(n)&&"chain"in n&&!n.chain),s=js(e);return st(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=vi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,dt([this.value()],arguments))})})),e}function Qa(){}var Ja=Pi(pt),el=Pi(lt),tl=Pi(gt);function nl(e){return co(e)?kt(_o(e)):function(e){return function(t){return pr(t,e)}}(e)}var rl=Mi(),il=Mi(!0);function ol(){return[]}function sl(){return!1}var al=Oi((function(e,t){return e+t}),0),ll=Bi("ceil"),cl=Oi((function(e,t){return e/t}),1),ul=Bi("floor");var hl,pl=Oi((function(e,t){return e*t}),1),dl=Bi("round"),fl=Oi((function(e,t){return e-t}),0);return Rn.after=function(e,t){if("function"!=typeof t)throw new ye(i);return e=ia(e),function(){if(--e<1)return t.apply(this,arguments)}},Rn.ary=ys,Rn.assign=ca,Rn.assignIn=ua,Rn.assignInWith=ha,Rn.assignWith=pa,Rn.at=da,Rn.before=vs,Rn.bind=bs,Rn.bindAll=za,Rn.bindKey=ws,Rn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ms(e)?e:[e]},Rn.chain=ns,Rn.chunk=function(e,t,n){t=(n?lo(e,t,n):void 0===t)?1:an(ia(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,s=0,a=r(Jt(i/t));o<i;)a[s++]=Vr(e,o,o+=t);return a},Rn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Rn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return dt(Ms(n)?vi(n):[n],sr(t,1))},Rn.cond=function(e){var t=null==e?0:e.length,n=Xi();return e=t?pt(e,(function(e){if("function"!=typeof e[1])throw new ye(i);return[n(e[0]),e[1]]})):[],Hr((function(n){for(var r=-1;++r<t;){var i=e[r];if(it(i[0],this,n))return it(i[1],this,n)}}))},Rn.conforms=function(e){return function(e){var t=Ca(e);return function(n){return Qn(n,e,t)}}(Xn(e,1))},Rn.constant=Ga,Rn.countBy=os,Rn.create=function(e,t){var n=An(e);return null==t?n:$n(n,t)},Rn.curry=function e(t,n,r){var i=Ui(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Rn.curryRight=function e(t,n,r){var i=Ui(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Rn.debounce=Cs,Rn.defaults=fa,Rn.defaultsDeep=ma,Rn.defer=Ss,Rn.delay=Es,Rn.difference=Ao,Rn.differenceBy=Oo,Rn.differenceWith=Po,Rn.drop=function(e,t,n){var r=null==e?0:e.length;return r?Vr(e,(t=n||void 0===t?1:ia(t))<0?0:t,r):[]},Rn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Vr(e,0,(t=r-(t=n||void 0===t?1:ia(t)))<0?0:t):[]},Rn.dropRightWhile=function(e,t){return e&&e.length?ni(e,Xi(t,3),!0,!0):[]},Rn.dropWhile=function(e,t){return e&&e.length?ni(e,Xi(t,3),!0):[]},Rn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&lo(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=ia(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:ia(r))<0&&(r+=i),r=n>r?0:oa(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Rn.filter=function(e,t){return(Ms(e)?ct:or)(e,Xi(t,3))},Rn.flatMap=function(e,t){return sr(ds(e,t),1)},Rn.flatMapDeep=function(e,t){return sr(ds(e,t),1/0)},Rn.flatMapDepth=function(e,t,n){return n=void 0===n?1:ia(n),sr(ds(e,t),n)},Rn.flatten=Fo,Rn.flattenDeep=function(e){return(null==e?0:e.length)?sr(e,1/0):[]},Rn.flattenDepth=function(e,t){return(null==e?0:e.length)?sr(e,t=void 0===t?1:ia(t)):[]},Rn.flip=function(e){return Ui(e,512)},Rn.flow=qa,Rn.flowRight=Va,Rn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Rn.functions=function(e){return null==e?[]:hr(e,Ca(e))},Rn.functionsIn=function(e){return null==e?[]:hr(e,Sa(e))},Rn.groupBy=us,Rn.initial=function(e){return(null==e?0:e.length)?Vr(e,0,-1):[]},Rn.intersection=Bo,Rn.intersectionBy=Lo,Rn.intersectionWith=Ho,Rn.invert=va,Rn.invertBy=ba,Rn.invokeMap=hs,Rn.iteratee=Ka,Rn.keyBy=ps,Rn.keys=Ca,Rn.keysIn=Sa,Rn.map=ds,Rn.mapKeys=function(e,t){var n={};return t=Xi(t,3),cr(e,(function(e,r,i){Kn(n,t(e,r,i),e)})),n},Rn.mapValues=function(e,t){var n={};return t=Xi(t,3),cr(e,(function(e,r,i){Kn(n,r,t(e,r,i))})),n},Rn.matches=function(e){return Rr(Xn(e,1))},Rn.matchesProperty=function(e,t){return Ar(e,Xn(t,1))},Rn.memoize=ks,Rn.merge=Ea,Rn.mergeWith=ka,Rn.method=Ya,Rn.methodOf=Za,Rn.mixin=Xa,Rn.negate=xs,Rn.nthArg=function(e){return e=ia(e),Hr((function(t){return Pr(t,e)}))},Rn.omit=xa,Rn.omitBy=function(e,t){return _a(e,xs(Xi(t)))},Rn.once=function(e){return vs(2,e)},Rn.orderBy=function(e,t,n,r){return null==e?[]:(Ms(t)||(t=null==t?[]:[t]),Ms(n=r?void 0:n)||(n=null==n?[]:[n]),Ir(e,t,n))},Rn.over=Ja,Rn.overArgs=Ds,Rn.overEvery=el,Rn.overSome=tl,Rn.partial=_s,Rn.partialRight=Ts,Rn.partition=fs,Rn.pick=Da,Rn.pickBy=_a,Rn.property=nl,Rn.propertyOf=function(e){return function(t){return null==e?void 0:pr(e,t)}},Rn.pull=jo,Rn.pullAll=Wo,Rn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Fr(e,t,Xi(n,2)):e},Rn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Fr(e,t,void 0,n):e},Rn.pullAt=zo,Rn.range=rl,Rn.rangeRight=il,Rn.rearg=Rs,Rn.reject=function(e,t){return(Ms(e)?ct:or)(e,xs(Xi(t,3)))},Rn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Xi(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return Nr(e,i),n},Rn.rest=function(e,t){if("function"!=typeof e)throw new ye(i);return Hr(e,t=void 0===t?t:ia(t))},Rn.reverse=Go,Rn.sampleSize=function(e,t,n){return t=(n?lo(e,t,n):void 0===t)?1:ia(t),(Ms(e)?jn:jr)(e,t)},Rn.set=function(e,t,n){return null==e?e:Wr(e,t,n)},Rn.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Wr(e,t,n,r)},Rn.shuffle=function(e){return(Ms(e)?Wn:qr)(e)},Rn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&lo(e,t,n)?(t=0,n=r):(t=null==t?0:ia(t),n=void 0===n?r:ia(n)),Vr(e,t,n)):[]},Rn.sortBy=ms,Rn.sortedUniq=function(e){return e&&e.length?Zr(e):[]},Rn.sortedUniqBy=function(e,t){return e&&e.length?Zr(e,Xi(t,2)):[]},Rn.split=function(e,t,n){return n&&"number"!=typeof n&&lo(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=la(e))&&("string"==typeof t||null!=t&&!Ys(t))&&!(t=Qr(t))&&Ht(e)?ui(Vt(e),0,n):e.split(t,n):[]},Rn.spread=function(e,t){if("function"!=typeof e)throw new ye(i);return t=null==t?0:an(ia(t),0),Hr((function(n){var r=n[t],i=ui(n,0,t);return r&&dt(i,r),it(e,this,i)}))},Rn.tail=function(e){var t=null==e?0:e.length;return t?Vr(e,1,t):[]},Rn.take=function(e,t,n){return e&&e.length?Vr(e,0,(t=n||void 0===t?1:ia(t))<0?0:t):[]},Rn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Vr(e,(t=r-(t=n||void 0===t?1:ia(t)))<0?0:t,r):[]},Rn.takeRightWhile=function(e,t){return e&&e.length?ni(e,Xi(t,3),!1,!0):[]},Rn.takeWhile=function(e,t){return e&&e.length?ni(e,Xi(t,3)):[]},Rn.tap=function(e,t){return t(e),e},Rn.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new ye(i);return Gs(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Cs(e,t,{leading:r,maxWait:t,trailing:o})},Rn.thru=rs,Rn.toArray=na,Rn.toPairs=Ta,Rn.toPairsIn=Ra,Rn.toPath=function(e){return Ms(e)?pt(e,_o):Qs(e)?[e]:vi(Do(la(e)))},Rn.toPlainObject=aa,Rn.transform=function(e,t,n){var r=Ms(e),i=r||Ls(e)||Js(e);if(t=Xi(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Gs(e)&&js(o)?An(Ge(e)):{}}return(i?st:cr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Rn.unary=function(e){return ys(e,1)},Rn.union=qo,Rn.unionBy=Vo,Rn.unionWith=$o,Rn.uniq=function(e){return e&&e.length?Jr(e):[]},Rn.uniqBy=function(e,t){return e&&e.length?Jr(e,Xi(t,2)):[]},Rn.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Jr(e,void 0,t):[]},Rn.unset=function(e,t){return null==e||ei(e,t)},Rn.unzip=Ko,Rn.unzipWith=Yo,Rn.update=function(e,t,n){return null==e?e:ti(e,t,ai(n))},Rn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:ti(e,t,ai(n),r)},Rn.values=Aa,Rn.valuesIn=function(e){return null==e?[]:Ot(e,Sa(e))},Rn.without=Zo,Rn.words=ja,Rn.wrap=function(e,t){return _s(ai(t),e)},Rn.xor=Xo,Rn.xorBy=Qo,Rn.xorWith=Jo,Rn.zip=es,Rn.zipObject=function(e,t){return oi(e||[],t||[],Gn)},Rn.zipObjectDeep=function(e,t){return oi(e||[],t||[],Wr)},Rn.zipWith=ts,Rn.entries=Ta,Rn.entriesIn=Ra,Rn.extend=ua,Rn.extendWith=ha,Xa(Rn,Rn),Rn.add=al,Rn.attempt=Wa,Rn.camelCase=Oa,Rn.capitalize=Pa,Rn.ceil=ll,Rn.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=sa(n))==n?n:0),void 0!==t&&(t=(t=sa(t))==t?t:0),Zn(sa(e),t,n)},Rn.clone=function(e){return Xn(e,4)},Rn.cloneDeep=function(e){return Xn(e,5)},Rn.cloneDeepWith=function(e,t){return Xn(e,5,t="function"==typeof t?t:void 0)},Rn.cloneWith=function(e,t){return Xn(e,4,t="function"==typeof t?t:void 0)},Rn.conformsTo=function(e,t){return null==t||Qn(e,t,Ca(t))},Rn.deburr=Ia,Rn.defaultTo=function(e,t){return null==e||e!=e?t:e},Rn.divide=cl,Rn.endsWith=function(e,t,n){e=la(e),t=Qr(t);var r=e.length,i=n=void 0===n?r:Zn(ia(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Rn.eq=As,Rn.escape=function(e){return(e=la(e))&&L.test(e)?e.replace(N,Bt):e},Rn.escapeRegExp=function(e){return(e=la(e))&&V.test(e)?e.replace(q,"\\$&"):e},Rn.every=function(e,t,n){var r=Ms(e)?lt:rr;return n&&lo(e,t,n)&&(t=void 0),r(e,Xi(t,3))},Rn.find=ss,Rn.findIndex=Io,Rn.findKey=function(e,t){return vt(e,Xi(t,3),cr)},Rn.findLast=as,Rn.findLastIndex=Mo,Rn.findLastKey=function(e,t){return vt(e,Xi(t,3),ur)},Rn.floor=ul,Rn.forEach=ls,Rn.forEachRight=cs,Rn.forIn=function(e,t){return null==e?e:ar(e,Xi(t,3),Sa)},Rn.forInRight=function(e,t){return null==e?e:lr(e,Xi(t,3),Sa)},Rn.forOwn=function(e,t){return e&&cr(e,Xi(t,3))},Rn.forOwnRight=function(e,t){return e&&ur(e,Xi(t,3))},Rn.get=ga,Rn.gt=Os,Rn.gte=Ps,Rn.has=function(e,t){return null!=e&&io(e,t,gr)},Rn.hasIn=ya,Rn.head=No,Rn.identity=$a,Rn.includes=function(e,t,n,r){e=Ns(e)?e:Aa(e),n=n&&!r?ia(n):0;var i=e.length;return n<0&&(n=an(i+n,0)),Xs(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&wt(e,t,n)>-1},Rn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ia(n);return i<0&&(i=an(r+i,0)),wt(e,t,i)},Rn.inRange=function(e,t,n){return t=ra(t),void 0===n?(n=t,t=0):n=ra(n),function(e,t,n){return e>=ln(t,n)&&e<an(t,n)}(e=sa(e),t,n)},Rn.invoke=wa,Rn.isArguments=Is,Rn.isArray=Ms,Rn.isArrayBuffer=Fs,Rn.isArrayLike=Ns,Rn.isArrayLikeObject=Bs,Rn.isBoolean=function(e){return!0===e||!1===e||qs(e)&&fr(e)==c},Rn.isBuffer=Ls,Rn.isDate=Hs,Rn.isElement=function(e){return qs(e)&&1===e.nodeType&&!Ks(e)},Rn.isEmpty=function(e){if(null==e)return!0;if(Ns(e)&&(Ms(e)||"string"==typeof e||"function"==typeof e.splice||Ls(e)||Js(e)||Is(e)))return!e.length;var t=ro(e);if(t==f||t==v)return!e.size;if(po(e))return!xr(e).length;for(var n in e)if(Ee.call(e,n))return!1;return!0},Rn.isEqual=function(e,t){return Cr(e,t)},Rn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?Cr(e,t,void 0,n):!!r},Rn.isError=Us,Rn.isFinite=function(e){return"number"==typeof e&&rn(e)},Rn.isFunction=js,Rn.isInteger=Ws,Rn.isLength=zs,Rn.isMap=Vs,Rn.isMatch=function(e,t){return e===t||Sr(e,t,Ji(t))},Rn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,Sr(e,t,Ji(t),n)},Rn.isNaN=function(e){return $s(e)&&e!=+e},Rn.isNative=function(e){if(ho(e))throw new he("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Er(e)},Rn.isNil=function(e){return null==e},Rn.isNull=function(e){return null===e},Rn.isNumber=$s,Rn.isObject=Gs,Rn.isObjectLike=qs,Rn.isPlainObject=Ks,Rn.isRegExp=Ys,Rn.isSafeInteger=function(e){return Ws(e)&&e>=-9007199254740991&&e<=9007199254740991},Rn.isSet=Zs,Rn.isString=Xs,Rn.isSymbol=Qs,Rn.isTypedArray=Js,Rn.isUndefined=function(e){return void 0===e},Rn.isWeakMap=function(e){return qs(e)&&ro(e)==C},Rn.isWeakSet=function(e){return qs(e)&&"[object WeakSet]"==fr(e)},Rn.join=function(e,t){return null==e?"":on.call(e,t)},Rn.kebabCase=Ma,Rn.last=Uo,Rn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=ia(n))<0?an(r+i,0):ln(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):bt(e,St,i,!0)},Rn.lowerCase=Fa,Rn.lowerFirst=Na,Rn.lt=ea,Rn.lte=ta,Rn.max=function(e){return e&&e.length?ir(e,$a,mr):void 0},Rn.maxBy=function(e,t){return e&&e.length?ir(e,Xi(t,2),mr):void 0},Rn.mean=function(e){return Et(e,$a)},Rn.meanBy=function(e,t){return Et(e,Xi(t,2))},Rn.min=function(e){return e&&e.length?ir(e,$a,_r):void 0},Rn.minBy=function(e,t){return e&&e.length?ir(e,Xi(t,2),_r):void 0},Rn.stubArray=ol,Rn.stubFalse=sl,Rn.stubObject=function(){return{}},Rn.stubString=function(){return""},Rn.stubTrue=function(){return!0},Rn.multiply=pl,Rn.nth=function(e,t){return e&&e.length?Pr(e,ia(t)):void 0},Rn.noConflict=function(){return Ve._===this&&(Ve._=Te),this},Rn.noop=Qa,Rn.now=gs,Rn.pad=function(e,t,n){e=la(e);var r=(t=ia(t))?qt(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ii(en(i),n)+e+Ii(Jt(i),n)},Rn.padEnd=function(e,t,n){e=la(e);var r=(t=ia(t))?qt(e):0;return t&&r<t?e+Ii(t-r,n):e},Rn.padStart=function(e,t,n){e=la(e);var r=(t=ia(t))?qt(e):0;return t&&r<t?Ii(t-r,n)+e:e},Rn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),un(la(e).replace($,""),t||0)},Rn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&lo(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ra(e),void 0===t?(t=e,e=0):t=ra(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=hn();return ln(e+i*(t-e+We("1e-"+((i+"").length-1))),t)}return Br(e,t)},Rn.reduce=function(e,t,n){var r=Ms(e)?ft:Dt,i=arguments.length<3;return r(e,Xi(t,4),n,i,tr)},Rn.reduceRight=function(e,t,n){var r=Ms(e)?mt:Dt,i=arguments.length<3;return r(e,Xi(t,4),n,i,nr)},Rn.repeat=function(e,t,n){return t=(n?lo(e,t,n):void 0===t)?1:ia(t),Lr(la(e),t)},Rn.replace=function(){var e=arguments,t=la(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Rn.result=function(e,t,n){var r=-1,i=(t=li(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var o=null==e?void 0:e[_o(t[r])];void 0===o&&(r=i,o=n),e=js(o)?o.call(e):o}return e},Rn.round=dl,Rn.runInContext=e,Rn.sample=function(e){return(Ms(e)?Un:Ur)(e)},Rn.size=function(e){if(null==e)return 0;if(Ns(e))return Xs(e)?qt(e):e.length;var t=ro(e);return t==f||t==v?e.size:xr(e).length},Rn.snakeCase=Ba,Rn.some=function(e,t,n){var r=Ms(e)?gt:$r;return n&&lo(e,t,n)&&(t=void 0),r(e,Xi(t,3))},Rn.sortedIndex=function(e,t){return Kr(e,t)},Rn.sortedIndexBy=function(e,t,n){return Yr(e,t,Xi(n,2))},Rn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Kr(e,t);if(r<n&&As(e[r],t))return r}return-1},Rn.sortedLastIndex=function(e,t){return Kr(e,t,!0)},Rn.sortedLastIndexBy=function(e,t,n){return Yr(e,t,Xi(n,2),!0)},Rn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Kr(e,t,!0)-1;if(As(e[n],t))return n}return-1},Rn.startCase=La,Rn.startsWith=function(e,t,n){return e=la(e),n=null==n?0:Zn(ia(n),0,e.length),t=Qr(t),e.slice(n,n+t.length)==t},Rn.subtract=fl,Rn.sum=function(e){return e&&e.length?_t(e,$a):0},Rn.sumBy=function(e,t){return e&&e.length?_t(e,Xi(t,2)):0},Rn.template=function(e,t,n){var r=Rn.templateSettings;n&&lo(e,t,n)&&(t=void 0),e=la(e),t=ha({},t,r,ji);var i,o,s=ha({},t.imports,r.imports,ji),a=Ca(s),l=Ot(s,a),c=0,u=t.interpolate||ce,h="__p += '",p=me((t.escape||ce).source+"|"+u.source+"|"+(u===j?te:ce).source+"|"+(t.evaluate||ce).source+"|$","g"),d="//# sourceURL="+(Ee.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Le+"]")+"\n";e.replace(p,(function(t,n,r,s,a,l){return r||(r=s),h+=e.slice(c,l).replace(ue,Lt),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),a&&(o=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),h+="';\n";var f=Ee.call(t,"variable")&&t.variable;if(f){if(J.test(f))throw new he("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(P,""):h).replace(I,"$1").replace(M,"$1;"),h="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=Wa((function(){return pe(a,d+"return "+h).apply(void 0,l)}));if(m.source=h,Us(m))throw m;return m},Rn.times=function(e,t){if((e=ia(e))<1||e>9007199254740991)return[];var n=4294967295,r=ln(e,4294967295);e-=4294967295;for(var i=Tt(r,t=Xi(t));++n<e;)t(n);return i},Rn.toFinite=ra,Rn.toInteger=ia,Rn.toLength=oa,Rn.toLower=function(e){return la(e).toLowerCase()},Rn.toNumber=sa,Rn.toSafeInteger=function(e){return e?Zn(ia(e),-9007199254740991,9007199254740991):0===e?e:0},Rn.toString=la,Rn.toUpper=function(e){return la(e).toUpperCase()},Rn.trim=function(e,t,n){if((e=la(e))&&(n||void 0===t))return Rt(e);if(!e||!(t=Qr(t)))return e;var r=Vt(e),i=Vt(t);return ui(r,It(r,i),Mt(r,i)+1).join("")},Rn.trimEnd=function(e,t,n){if((e=la(e))&&(n||void 0===t))return e.slice(0,$t(e)+1);if(!e||!(t=Qr(t)))return e;var r=Vt(e);return ui(r,0,Mt(r,Vt(t))+1).join("")},Rn.trimStart=function(e,t,n){if((e=la(e))&&(n||void 0===t))return e.replace($,"");if(!e||!(t=Qr(t)))return e;var r=Vt(e);return ui(r,It(r,Vt(t))).join("")},Rn.truncate=function(e,t){var n=30,r="...";if(Gs(t)){var i="separator"in t?t.separator:i;n="length"in t?ia(t.length):n,r="omission"in t?Qr(t.omission):r}var o=(e=la(e)).length;if(Ht(e)){var s=Vt(e);o=s.length}if(n>=o)return e;var a=n-qt(r);if(a<1)return r;var l=s?ui(s,0,a).join(""):e.slice(0,a);if(void 0===i)return l+r;if(s&&(a+=l.length-a),Ys(i)){if(e.slice(a).search(i)){var c,u=l;for(i.global||(i=me(i.source,la(ne.exec(i))+"g")),i.lastIndex=0;c=i.exec(u);)var h=c.index;l=l.slice(0,void 0===h?a:h)}}else if(e.indexOf(Qr(i),a)!=a){var p=l.lastIndexOf(i);p>-1&&(l=l.slice(0,p))}return l+r},Rn.unescape=function(e){return(e=la(e))&&B.test(e)?e.replace(F,Kt):e},Rn.uniqueId=function(e){var t=++ke;return la(e)+t},Rn.upperCase=Ha,Rn.upperFirst=Ua,Rn.each=ls,Rn.eachRight=cs,Rn.first=No,Xa(Rn,(hl={},cr(Rn,(function(e,t){Ee.call(Rn.prototype,t)||(hl[t]=e)})),hl),{chain:!1}),Rn.VERSION="4.17.21",st(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Rn[e].placeholder=Rn})),st(["drop","take"],(function(e,t){In.prototype[e]=function(n){n=void 0===n?1:an(ia(n),0);var r=this.__filtered__&&!t?new In(this):this.clone();return r.__filtered__?r.__takeCount__=ln(n,r.__takeCount__):r.__views__.push({size:ln(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},In.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),st(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;In.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Xi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),st(["head","last"],(function(e,t){var n="take"+(t?"Right":"");In.prototype[e]=function(){return this[n](1).value()[0]}})),st(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");In.prototype[e]=function(){return this.__filtered__?new In(this):this[n](1)}})),In.prototype.compact=function(){return this.filter($a)},In.prototype.find=function(e){return this.filter(e).head()},In.prototype.findLast=function(e){return this.reverse().find(e)},In.prototype.invokeMap=Hr((function(e,t){return"function"==typeof e?new In(this):this.map((function(n){return br(n,e,t)}))})),In.prototype.reject=function(e){return this.filter(xs(Xi(e)))},In.prototype.slice=function(e,t){e=ia(e);var n=this;return n.__filtered__&&(e>0||t<0)?new In(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=ia(t))<0?n.dropRight(-t):n.take(t-e)),n)},In.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},In.prototype.toArray=function(){return this.take(4294967295)},cr(In.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Rn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(Rn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,a=t instanceof In,l=s[0],c=a||Ms(t),u=function(e){var t=i.apply(Rn,dt([e],s));return r&&h?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(a=c=!1);var h=this.__chain__,p=!!this.__actions__.length,d=o&&!h,f=a&&!p;if(!o&&c){t=f?t:new In(this);var m=e.apply(t,s);return m.__actions__.push({func:rs,args:[u],thisArg:void 0}),new Pn(m,h)}return d&&f?e.apply(this,s):(m=this.thru(u),d?r?m.value()[0]:m.value():m)})})),st(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ve[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Rn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ms(i)?i:[],e)}return this[n]((function(n){return t.apply(Ms(n)?n:[],e)}))}})),cr(In.prototype,(function(e,t){var n=Rn[t];if(n){var r=n.name+"";Ee.call(wn,r)||(wn[r]=[]),wn[r].push({name:t,func:n})}})),wn[Ri(void 0,2).name]=[{name:"wrapper",func:void 0}],In.prototype.clone=function(){var e=new In(this.__wrapped__);return e.__actions__=vi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=vi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=vi(this.__views__),e},In.prototype.reverse=function(){if(this.__filtered__){var e=new In(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},In.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ms(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=ln(t,e+s);break;case"takeRight":e=an(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,l=a-s,c=r?a:s-1,u=this.__iteratees__,h=u.length,p=0,d=ln(l,this.__takeCount__);if(!n||!r&&i==l&&d==l)return ri(e,this.__actions__);var f=[];e:for(;l--&&p<d;){for(var m=-1,g=e[c+=t];++m<h;){var y=u[m],v=y.iteratee,b=y.type,w=v(g);if(2==b)g=w;else if(!w){if(1==b)continue e;break e}}f[p++]=g}return f},Rn.prototype.at=is,Rn.prototype.chain=function(){return ns(this)},Rn.prototype.commit=function(){return new Pn(this.value(),this.__chain__)},Rn.prototype.next=function(){void 0===this.__values__&&(this.__values__=na(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Rn.prototype.plant=function(e){for(var t,n=this;n instanceof On;){var r=Ro(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Rn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof In){var t=e;return this.__actions__.length&&(t=new In(this)),(t=t.reverse()).__actions__.push({func:rs,args:[Go],thisArg:void 0}),new Pn(t,this.__chain__)}return this.thru(Go)},Rn.prototype.toJSON=Rn.prototype.valueOf=Rn.prototype.value=function(){return ri(this.__wrapped__,this.__actions__)},Rn.prototype.first=Rn.prototype.head,Xe&&(Rn.prototype[Xe]=function(){return this}),Rn}();Ve._=Yt,void 0===(r=function(){return Yt}.call(t,n,t,e))||(e.exports=r)}).call(this)}).call(this,n(34)(e))},function(e,t,n){var r;!function(i){var o=/^\s+/,s=/\s+$/,a=0,l=i.round,c=i.min,u=i.max,h=i.random;function p(e,t){if(t=t||{},(e=e||"")instanceof p)return e;if(!(this instanceof p))return new p(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,a=null,l=null,h=!1,p=!1;"string"==typeof e&&(e=function(e){e=e.replace(o,"").replace(s,"").toLowerCase();var t,n=!1;if(A[e])e=A[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=z.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=z.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=z.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=z.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=z.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=z.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=z.hex8.exec(e))return{r:F(t[1]),g:F(t[2]),b:F(t[3]),a:H(t[4]),format:n?"name":"hex8"};if(t=z.hex6.exec(e))return{r:F(t[1]),g:F(t[2]),b:F(t[3]),format:n?"name":"hex"};if(t=z.hex4.exec(e))return{r:F(t[1]+""+t[1]),g:F(t[2]+""+t[2]),b:F(t[3]+""+t[3]),a:H(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=z.hex3.exec(e))return{r:F(t[1]+""+t[1]),g:F(t[2]+""+t[2]),b:F(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(G(e.r)&&G(e.g)&&G(e.b)?(d=e.r,f=e.g,m=e.b,t={r:255*I(d,255),g:255*I(f,255),b:255*I(m,255)},h=!0,p="%"===String(e.r).substr(-1)?"prgb":"rgb"):G(e.h)&&G(e.s)&&G(e.v)?(r=B(e.s),a=B(e.v),t=function(e,t,n){e=6*I(e,360),t=I(t,100),n=I(n,100);var r=i.floor(e),o=e-r,s=n*(1-t),a=n*(1-o*t),l=n*(1-(1-o)*t),c=r%6;return{r:255*[n,a,s,s,l,n][c],g:255*[l,n,n,a,s,s][c],b:255*[s,s,l,n,n,a][c]}}(e.h,r,a),h=!0,p="hsv"):G(e.h)&&G(e.s)&&G(e.l)&&(r=B(e.s),l=B(e.l),t=function(e,t,n){var r,i,o;function s(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=I(e,360),t=I(t,100),n=I(n,100),0===t)r=i=o=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=s(l,a,e+1/3),i=s(l,a,e),o=s(l,a,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,l),h=!0,p="hsl"),e.hasOwnProperty("a")&&(n=e.a));var d,f,m;return n=P(n),{ok:h,format:e.format||p,r:c(255,u(t.r,0)),g:c(255,u(t.g,0)),b:c(255,u(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=l(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=n.ok,this._tc_id=a++}function d(e,t,n){e=I(e,255),t=I(t,255),n=I(n,255);var r,i,o=u(e,t,n),s=c(e,t,n),a=(o+s)/2;if(o==s)r=i=0;else{var l=o-s;switch(i=a>.5?l/(2-o-s):l/(o+s),o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,l:a}}function f(e,t,n){e=I(e,255),t=I(t,255),n=I(n,255);var r,i,o=u(e,t,n),s=c(e,t,n),a=o,l=o-s;if(i=0===o?0:l/o,o==s)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,v:a}}function m(e,t,n,r){var i=[N(l(e).toString(16)),N(l(t).toString(16)),N(l(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function g(e,t,n,r){return[N(L(r)),N(l(e).toString(16)),N(l(t).toString(16)),N(l(n).toString(16))].join("")}function y(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.s-=t/100,n.s=M(n.s),p(n)}function v(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.s+=t/100,n.s=M(n.s),p(n)}function b(e){return p(e).desaturate(100)}function w(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.l+=t/100,n.l=M(n.l),p(n)}function C(e,t){t=0===t?0:t||10;var n=p(e).toRgb();return n.r=u(0,c(255,n.r-l(-t/100*255))),n.g=u(0,c(255,n.g-l(-t/100*255))),n.b=u(0,c(255,n.b-l(-t/100*255))),p(n)}function S(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.l-=t/100,n.l=M(n.l),p(n)}function E(e,t){var n=p(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,p(n)}function k(e){var t=p(e).toHsl();return t.h=(t.h+180)%360,p(t)}function x(e){var t=p(e).toHsl(),n=t.h;return[p(e),p({h:(n+120)%360,s:t.s,l:t.l}),p({h:(n+240)%360,s:t.s,l:t.l})]}function D(e){var t=p(e).toHsl(),n=t.h;return[p(e),p({h:(n+90)%360,s:t.s,l:t.l}),p({h:(n+180)%360,s:t.s,l:t.l}),p({h:(n+270)%360,s:t.s,l:t.l})]}function _(e){var t=p(e).toHsl(),n=t.h;return[p(e),p({h:(n+72)%360,s:t.s,l:t.l}),p({h:(n+216)%360,s:t.s,l:t.l})]}function T(e,t,n){t=t||6,n=n||30;var r=p(e).toHsl(),i=360/n,o=[p(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(p(r));return o}function R(e,t){t=t||6;for(var n=p(e).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/t;t--;)s.push(p({h:r,s:i,v:o})),o=(o+a)%1;return s}p.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=P(e),this._roundA=l(100*this._a)/100,this},toHsv:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=f(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),r=l(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=d(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=d(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),r=l(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return m(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var o=[N(l(e).toString(16)),N(l(t).toString(16)),N(l(n).toString(16)),N(L(r))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*I(this._r,255))+"%",g:l(100*I(this._g,255))+"%",b:l(100*I(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*I(this._r,255))+"%, "+l(100*I(this._g,255))+"%, "+l(100*I(this._b,255))+"%)":"rgba("+l(100*I(this._r,255))+"%, "+l(100*I(this._g,255))+"%, "+l(100*I(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(O[m(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+g(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=p(e);n="#"+g(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return p(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(w,arguments)},brighten:function(){return this._applyModification(C,arguments)},darken:function(){return this._applyModification(S,arguments)},desaturate:function(){return this._applyModification(y,arguments)},saturate:function(){return this._applyModification(v,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(E,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(k,arguments)},monochromatic:function(){return this._applyCombination(R,arguments)},splitcomplement:function(){return this._applyCombination(_,arguments)},triad:function(){return this._applyCombination(x,arguments)},tetrad:function(){return this._applyCombination(D,arguments)}},p.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:B(e[r]));e=n}return p(e,t)},p.equals=function(e,t){return!(!e||!t)&&p(e).toRgbString()==p(t).toRgbString()},p.random=function(){return p.fromRatio({r:h(),g:h(),b:h()})},p.mix=function(e,t,n){n=0===n?0:n||50;var r=p(e).toRgb(),i=p(t).toRgb(),o=n/100;return p({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},p.readability=function(e,t){var n=p(e),r=p(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},p.isReadable=function(e,t,n){var r,i,o=p.readability(e,t);switch(i=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},p.mostReadable=function(e,t,n){var r,i,o,s,a=null,l=0;i=(n=n||{}).includeFallbackColors,o=n.level,s=n.size;for(var c=0;c<t.length;c++)(r=p.readability(e,t[c]))>l&&(l=r,a=p(t[c]));return p.isReadable(e,a,{level:o,size:s})||!i?a:(n.includeFallbackColors=!1,p.mostReadable(e,["#fff","#000"],n))};var A=p.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},O=p.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(A);function P(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function I(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=c(t,u(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function M(e){return c(1,u(0,e))}function F(e){return parseInt(e,16)}function N(e){return 1==e.length?"0"+e:""+e}function B(e){return e<=1&&(e=100*e+"%"),e}function L(e){return i.round(255*parseFloat(e)).toString(16)}function H(e){return F(e)/255}var U,j,W,z=(j="[\\s|\\(]+("+(U="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+U+")[,|\\s]+("+U+")\\s*\\)?",W="[\\s|\\(]+("+U+")[,|\\s]+("+U+")[,|\\s]+("+U+")[,|\\s]+("+U+")\\s*\\)?",{CSS_UNIT:new RegExp(U),rgb:new RegExp("rgb"+j),rgba:new RegExp("rgba"+W),hsl:new RegExp("hsl"+j),hsla:new RegExp("hsla"+W),hsv:new RegExp("hsv"+j),hsva:new RegExp("hsva"+W),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function G(e){return!!z.CSS_UNIT.exec(e)}e.exports?e.exports=p:void 0===(r=function(){return p}.call(t,n,t,e))||(e.exports=r)}(Math)},,function(e,t,n){"use strict";const r=n(24).fromCallback,i=n(18),o=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>"function"==typeof i[e]);Object.keys(i).forEach(e=>{"promises"!==e&&(t[e]=i[e])}),o.forEach(e=>{t[e]=r(i[e])}),t.exists=function(e,t){return"function"==typeof t?i.exists(e,t):new Promise(t=>i.exists(e,t))},t.read=function(e,t,n,r,o,s){return"function"==typeof s?i.read(e,t,n,r,o,s):new Promise((s,a)=>{i.read(e,t,n,r,o,(e,t,n)=>{if(e)return a(e);s({bytesRead:t,buffer:n})})})},t.write=function(e,t,...n){return"function"==typeof n[n.length-1]?i.write(e,t,...n):new Promise((r,o)=>{i.write(e,t,...n,(e,t,n)=>{if(e)return o(e);r({bytesWritten:t,buffer:n})})})},"function"==typeof i.writev&&(t.writev=function(e,t,...n){return"function"==typeof n[n.length-1]?i.writev(e,t,...n):new Promise((r,o)=>{i.writev(e,t,...n,(e,t,n)=>{if(e)return o(e);r({bytesWritten:t,buffers:n})})})}),"function"==typeof i.realpath.native&&(t.realpath.native=r(i.realpath.native))},function(e,t){e.exports=require("stream")},function(e,t){e.exports=require("assert")},function(e,t,n){"use strict";const r=n(69),i=n(1),o=n(33),s=n(163)("10.5.0"),a=e=>s?r.stat(e,{bigint:!0}):r.stat(e),l=e=>s?r.statSync(e,{bigint:!0}):r.statSync(e);function c(e,t){return Promise.all([a(e),a(t).catch(e=>{if("ENOENT"===e.code)return null;throw e})]).then(([e,t])=>({srcStat:e,destStat:t}))}function u(e,t){if(t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev){if(s||t.ino<Number.MAX_SAFE_INTEGER)return!0;if(t.size===e.size&&t.mode===e.mode&&t.nlink===e.nlink&&t.atimeMs===e.atimeMs&&t.mtimeMs===e.mtimeMs&&t.ctimeMs===e.ctimeMs&&t.birthtimeMs===e.birthtimeMs)return!0}return!1}function h(e,t){const n=i.resolve(e).split(i.sep).filter(e=>e),r=i.resolve(t).split(i.sep).filter(e=>e);return n.reduce((e,t,n)=>e&&r[n]===t,!0)}function p(e,t,n){return`Cannot ${n} '${e}' to a subdirectory of itself, '${t}'.`}e.exports={checkPaths:function(e,t,n,r){o.callbackify(c)(e,t,(i,o)=>{if(i)return r(i);const{srcStat:s,destStat:a}=o;return a&&u(s,a)?r(new Error("Source and destination must not be the same.")):s.isDirectory()&&h(e,t)?r(new Error(p(e,t,n))):r(null,{srcStat:s,destStat:a})})},checkPathsSync:function(e,t,n){const{srcStat:r,destStat:i}=function(e,t){let n;const r=l(e);try{n=l(t)}catch(e){if("ENOENT"===e.code)return{srcStat:r,destStat:null};throw e}return{srcStat:r,destStat:n}}(e,t);if(i&&u(r,i))throw new Error("Source and destination must not be the same.");if(r.isDirectory()&&h(e,t))throw new Error(p(e,t,n));return{srcStat:r,destStat:i}},checkParentPaths:function e(t,n,o,a,l){const c=i.resolve(i.dirname(t)),h=i.resolve(i.dirname(o));if(h===c||h===i.parse(h).root)return l();const d=(r,i)=>r?"ENOENT"===r.code?l():l(r):u(n,i)?l(new Error(p(t,o,a))):e(t,n,h,a,l);s?r.stat(h,{bigint:!0},d):r.stat(h,d)},checkParentPathsSync:function e(t,n,r,o){const s=i.resolve(i.dirname(t)),a=i.resolve(i.dirname(r));if(a===s||a===i.parse(a).root)return;let c;try{c=l(a)}catch(e){if("ENOENT"===e.code)return;throw e}if(u(n,c))throw new Error(p(t,r,o));return e(t,n,a,o)},isSrcSubdir:h}},function(e,t,n){"use strict";const r=n(24).fromCallback,i=n(264);e.exports={remove:r(i),removeSync:i.sync}},function(e,t,n){(function(){var t,r,i,o,s,a={}.hasOwnProperty;s=n(30),o=s.isObject,i=s.isFunction,r=n(21),t=n(168),e.exports=function(e){function n(e,t,r){if(n.__super__.constructor.call(this,e),null==t)throw new Error("Missing element name");this.name=this.stringify.eleName(t),this.attributes={},null!=r&&this.attribute(r),e.isDocument&&(this.isRoot=!0,this.documentObject=e,e.rootObject=this)}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.clone=function(){var e,t,n,r;for(t in(n=Object.create(this)).isRoot&&(n.documentObject=null),n.attributes={},r=this.attributes)a.call(r,t)&&(e=r[t],n.attributes[t]=e.clone());return n.children=[],this.children.forEach((function(e){var t;return(t=e.clone()).parent=n,n.children.push(t)})),n},n.prototype.attribute=function(e,n){var r,s;if(null!=e&&(e=e.valueOf()),o(e))for(r in e)a.call(e,r)&&(s=e[r],this.attribute(r,s));else i(n)&&(n=n.apply()),this.options.skipNullAttributes&&null==n||(this.attributes[e]=new t(this,e,n));return this},n.prototype.removeAttribute=function(e){var t,n,r;if(null==e)throw new Error("Missing attribute name");if(e=e.valueOf(),Array.isArray(e))for(n=0,r=e.length;n<r;n++)t=e[n],delete this.attributes[t];else delete this.attributes[e];return this},n.prototype.toString=function(e){return this.options.writer.set(e).element(this)},n.prototype.att=function(e,t){return this.attribute(e,t)},n.prototype.a=function(e,t){return this.attribute(e,t)},n}(r)}).call(this)},function(e,t,n){(function(){var t,r={}.hasOwnProperty;t=n(21),e.exports=function(e){function t(e,n){if(t.__super__.constructor.call(this,e),null==n)throw new Error("Missing CDATA text");this.text=this.stringify.cdata(n)}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(t,e),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.set(e).cdata(this)},t}(t)}).call(this)},function(e,t,n){(function(){var t,r={}.hasOwnProperty;t=n(21),e.exports=function(e){function t(e,n){if(t.__super__.constructor.call(this,e),null==n)throw new Error("Missing comment text");this.text=this.stringify.comment(n)}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(t,e),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.set(e).comment(this)},t}(t)}).call(this)},function(e,t,n){(function(){var t,r,i={}.hasOwnProperty;r=n(30).isObject,t=n(21),e.exports=function(e){function t(e,n,i,o){var s;t.__super__.constructor.call(this,e),r(n)&&(n=(s=n).version,i=s.encoding,o=s.standalone),n||(n="1.0"),this.version=this.stringify.xmlVersion(n),null!=i&&(this.encoding=this.stringify.xmlEncoding(i)),null!=o&&(this.standalone=this.stringify.xmlStandalone(o))}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.toString=function(e){return this.options.writer.set(e).declaration(this)},t}(t)}).call(this)},function(e,t,n){(function(){var t,r,i,o,s,a,l={}.hasOwnProperty;a=n(30).isObject,s=n(21),t=n(79),i=n(80),r=n(81),o=n(82),e.exports=function(e){function n(e,t,r){var i,o;n.__super__.constructor.call(this,e),this.documentObject=e,a(t)&&(t=(i=t).pubID,r=i.sysID),null==r&&(r=(o=[t,r])[0],t=o[1]),null!=t&&(this.pubID=this.stringify.dtdPubID(t)),null!=r&&(this.sysID=this.stringify.dtdSysID(r))}return function(e,t){for(var n in t)l.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.element=function(e,t){var n;return n=new r(this,e,t),this.children.push(n),this},n.prototype.attList=function(e,n,r,i,o){var s;return s=new t(this,e,n,r,i,o),this.children.push(s),this},n.prototype.entity=function(e,t){var n;return n=new i(this,!1,e,t),this.children.push(n),this},n.prototype.pEntity=function(e,t){var n;return n=new i(this,!0,e,t),this.children.push(n),this},n.prototype.notation=function(e,t){var n;return n=new o(this,e,t),this.children.push(n),this},n.prototype.toString=function(e){return this.options.writer.set(e).docType(this)},n.prototype.ele=function(e,t){return this.element(e,t)},n.prototype.att=function(e,t,n,r,i){return this.attList(e,t,n,r,i)},n.prototype.ent=function(e,t){return this.entity(e,t)},n.prototype.pent=function(e,t){return this.pEntity(e,t)},n.prototype.not=function(e,t){return this.notation(e,t)},n.prototype.up=function(){return this.root()||this.documentObject},n}(s)}).call(this)},function(e,t,n){(function(){var t,r={}.hasOwnProperty;t=n(21),e.exports=function(e){function t(e,n,r,i,o,s){if(t.__super__.constructor.call(this,e),null==n)throw new Error("Missing DTD element name");if(null==r)throw new Error("Missing DTD attribute name");if(!i)throw new Error("Missing DTD attribute type");if(!o)throw new Error("Missing DTD attribute default");if(0!==o.indexOf("#")&&(o="#"+o),!o.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");if(s&&!o.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT");this.elementName=this.stringify.eleName(n),this.attributeName=this.stringify.attName(r),this.attributeType=this.stringify.dtdAttType(i),this.defaultValue=this.stringify.dtdAttDefault(s),this.defaultValueType=o}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(t,e),t.prototype.toString=function(e){return this.options.writer.set(e).dtdAttList(this)},t}(t)}).call(this)},function(e,t,n){(function(){var t,r,i={}.hasOwnProperty;r=n(30).isObject,t=n(21),e.exports=function(e){function t(e,n,i,o){if(t.__super__.constructor.call(this,e),null==i)throw new Error("Missing entity name");if(null==o)throw new Error("Missing entity value");if(this.pe=!!n,this.name=this.stringify.eleName(i),r(o)){if(!o.pubID&&!o.sysID)throw new Error("Public and/or system identifiers are required for an external entity");if(o.pubID&&!o.sysID)throw new Error("System identifier is required for a public external entity");if(null!=o.pubID&&(this.pubID=this.stringify.dtdPubID(o.pubID)),null!=o.sysID&&(this.sysID=this.stringify.dtdSysID(o.sysID)),null!=o.nData&&(this.nData=this.stringify.dtdNData(o.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity")}else this.value=this.stringify.dtdEntityValue(o)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.toString=function(e){return this.options.writer.set(e).dtdEntity(this)},t}(t)}).call(this)},function(e,t,n){(function(){var t,r={}.hasOwnProperty;t=n(21),e.exports=function(e){function t(e,n,r){if(t.__super__.constructor.call(this,e),null==n)throw new Error("Missing DTD element name");r||(r="(#PCDATA)"),Array.isArray(r)&&(r="("+r.join(",")+")"),this.name=this.stringify.eleName(n),this.value=this.stringify.dtdElementValue(r)}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(t,e),t.prototype.toString=function(e){return this.options.writer.set(e).dtdElement(this)},t}(t)}).call(this)},function(e,t,n){(function(){var t,r={}.hasOwnProperty;t=n(21),e.exports=function(e){function t(e,n,r){if(t.__super__.constructor.call(this,e),null==n)throw new Error("Missing notation name");if(!r.pubID&&!r.sysID)throw new Error("Public or system identifiers are required for an external entity");this.name=this.stringify.eleName(n),null!=r.pubID&&(this.pubID=this.stringify.dtdPubID(r.pubID)),null!=r.sysID&&(this.sysID=this.stringify.dtdSysID(r.sysID))}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(t,e),t.prototype.toString=function(e){return this.options.writer.set(e).dtdNotation(this)},t}(t)}).call(this)},function(e,t,n){(function(){var t,r={}.hasOwnProperty;t=n(21),e.exports=function(e){function t(e,n){if(t.__super__.constructor.call(this,e),null==n)throw new Error("Missing raw text");this.value=this.stringify.raw(n)}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(t,e),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.set(e).raw(this)},t}(t)}).call(this)},function(e,t,n){(function(){var t,r={}.hasOwnProperty;t=n(21),e.exports=function(e){function t(e,n){if(t.__super__.constructor.call(this,e),null==n)throw new Error("Missing element text");this.value=this.stringify.eleText(n)}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(t,e),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.set(e).text(this)},t}(t)}).call(this)},function(e,t,n){(function(){var t,r={}.hasOwnProperty;t=n(21),e.exports=function(e){function t(e,n,r){if(t.__super__.constructor.call(this,e),null==n)throw new Error("Missing instruction target");this.target=this.stringify.insTarget(n),r&&(this.value=this.stringify.insValue(r))}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(t,e),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.set(e).processingInstruction(this)},t}(t)}).call(this)},function(e,t){e.exports=require("events")},function(e,t){e.exports=require("buffer")},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(119);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t){(function(){var e,n,r,i,o,s,a,l,c,u,h,p,d,f,m,g;t.score=function(e,t,r){var i,s,a;return i=r.preparedQuery,r.allowErrors||o(e,i.core_lw,i.core_up)?(a=e.toLowerCase(),s=n(e,a,i),Math.ceil(s)):0},t.isMatch=o=function(e,t,n){var r,i,o,s,a,l,c;if(o=e.length,s=t.length,!o||s>o)return!1;for(r=-1,i=-1;++i<s;){for(a=t.charCodeAt(i),l=n.charCodeAt(i);++r<o&&(c=e.charCodeAt(r))!==a&&c!==l;);if(r===o)return!1}return!0},t.computeScore=n=function(e,t,n){var r,i,o,s,a,f,m,y,v,b,w,C,S,E,k,x,D,_,T,R,A,O,P,I;if(k=n.query,x=n.query_lw,b=e.length,S=k.length,i=(r=c(e,t,k,x)).score,r.count===S)return p(S,b,i,r.pos);if((E=t.indexOf(x))>-1)return d(e,t,k,x,E,S,b);for(R=new Array(S),a=new Array(S),I=g(S,b),C=w=Math.ceil(.75*S)+5,m=!0,v=-1;++v<S;)R[v]=0,a[v]=0;for(y=-1;++y<b;)if(!(O=t[y]).charCodeAt(0)in n.charCodes){if(m){for(v=-1;++v<S;)a[v]=0;m=!1}}else for(_=0,T=0,s=0,D=!0,m=!0,v=-1;++v<S;){if((A=R[v])>_&&(_=A),f=0,x[v]===O)if(P=l(y,e,t),f=s>0?s:h(e,t,k,x,y,v,P),(o=T+u(y,v,P,i,f))>_)_=o,C=w;else{if(D&&--C<=0)return Math.max(_,R[S-1])*I;D=!1}T=A,s=a[v],a[v]=f,R[v]=_}return(_=R[S-1])*I},t.isWordStart=l=function(e,t,n){var r,i;return 0===e||(r=t[e],i=t[e-1],s(i)||r!==n[e]&&i===n[e-1])},t.isWordEnd=a=function(e,t,n,r){var i,o;return e===r-1||(i=t[e],o=t[e+1],s(o)||i===n[e]&&o!==n[e+1])},s=function(e){return" "===e||"."===e||"-"===e||"_"===e||"/"===e||"\\"===e},m=function(e){var t;return e<20?100+(t=20-e)*t:Math.max(120-e,0)},t.scoreSize=g=function(e,t){return 150/(150+Math.abs(t-e))},p=function(e,t,n,r){return 2*e*(150*n+m(r))*g(e,t)},t.scorePattern=f=function(e,t,n,r,i){var o,s;return s=e,o=6,n===e&&(o+=2),r&&(o+=3),i&&(o+=1),e===t&&(r&&(s+=n===t?2:1),i&&(o+=1)),n+s*(s+o)},t.scoreCharacter=u=function(e,t,n,r,i){var o;return o=m(e),n?o+150*((r>i?r:i)+10):o+150*i},t.scoreConsecutives=h=function(e,t,n,r,i,o,s){var l,c,u,h,p,d,m;for(l=(u=(c=e.length)-i)<(p=(h=n.length)-o)?u:p,d=0,m=0,n[o]===e[i]&&d++;++m<l&&r[++o]===t[++i];)n[o]===e[i]&&d++;return m<l&&i--,1===m?1+2*d:f(m,h,d,s,a(i,e,t,c))},t.scoreExactMatch=d=function(e,t,n,r,i,o,s){var c,u,h,d,m;for((m=l(i,e,t))||(h=t.indexOf(r,i+1))>-1&&(m=l(h,e,t))&&(i=h),u=-1,d=0;++u<o;)n[i+u]===e[u]&&d++;return c=a(i+o-1,e,t,s),p(o,s,f(o,o,d,m,c),i)},r=new(e=function(e,t,n){this.score=e,this.pos=t,this.count=n})(0,.1,0),t.scoreAcronyms=c=function(t,n,o,a){var c,u,h,p,d,m,g,y,v,b,w;if(d=t.length,m=o.length,!(d>1&&m>1))return r;for(c=0,b=0,w=0,y=0,h=-1,p=-1;++p<m;){if(g=a[p],s(g)){if((h=n.indexOf(g,h+1))>-1){b++;continue}break}for(;++h<d;)if(g===n[h]&&l(h,t,n)){o[p]===t[h]&&y++,w+=h,c++;break}if(h===d)break}return c<2?r:(u=c===m&&i(t,n,o,c),v=f(c,m,y,!0,u),new e(v,w/c,c+b))},i=function(e,t,n,r){var i,o,s;if(i=0,(s=e.length)>12*n.length)return!1;for(o=-1;++o<s;)if(l(o,e,t)&&++i>r)return!1;return!0}}).call(this)},function(e,t,n){var r=n(204),i=n(138);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){var r=n(440),i=n(441),o=n(442),s=n(443),a=n(444);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},function(e,t,n){var r=n(144);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(47)(Object,"create");e.exports=r},function(e,t,n){var r=n(462);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(477),i=n(145),o=n(478),s=n(479),a=n(480),l=n(46),c=n(207),u=c(r),h=c(i),p=c(o),d=c(s),f=c(a),m=l;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||s&&"[object Set]"!=m(new s)||a&&"[object WeakMap]"!=m(new a))&&(m=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case u:return"[object DataView]";case h:return"[object Map]";case p:return"[object Promise]";case d:return"[object Set]";case f:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){var r=n(149);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){var r=n(219),i=n(220);e.exports=function(e,t,n,o){var s=!n;n||(n={});for(var a=-1,l=t.length;++a<l;){var c=t[a],u=o?o(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),s?i(n,c,u):r(n,c,u)}return n}},function(e,t,n){"use strict";const r=n(1);e.exports=function(e){if("string"!=typeof e||e.length<=7||"file://"!==e.substring(0,7))throw new TypeError("must pass in a file:// URI to convert to a file path");const t=decodeURI(e.substring(7)),n=t.indexOf("/");let i=t.substring(0,n),o=t.substring(n+1);return"localhost"===i&&(i=""),i&&(i=r.sep+r.sep+i),o=o.replace(/^(.+)\|/,"$1:"),"\\"===r.sep&&(o=o.replace(/\//g,"\\")),/^.+:/.test(o)||(o=r.sep+o),i+o}},function(e,t,n){"use strict";const r=n(329),i=n(330),o=n(331),s=new WeakMap,a=(...e)=>{if(0===e.length)return"__defaultKey";if(1===e.length){const[t]=e;if(null==t||"function"!=typeof t&&"object"!=typeof t)return t}return JSON.stringify(e)},l=(e,t)=>{"number"==typeof(t=Object.assign({cacheKey:a,cache:new Map,cachePromiseRejection:!1},t)).maxAge&&o(t.cache);const{cache:n}=t;t.maxAge=t.maxAge||0;const l=function(...r){const o=t.cacheKey(...r);if(n.has(o))return n.get(o).data;const s=e.call(this,...r);return((e,r)=>{n.set(e,{data:r,maxAge:Date.now()+t.maxAge})})(o,s),i(s)&&!1===t.cachePromiseRejection&&s.catch(()=>n.delete(o)),s};try{r(l,e)}catch(e){}return s.set(l,t.cache),l};e.exports=l,e.exports.default=l,e.exports.clear=e=>{const t=s.get(e);t&&"function"==typeof t.clear&&t.clear()}},function(e,t,n){"use strict";const{Transform:r}=n(336),{StringDecoder:i}=n(344),o=Symbol("last"),s=Symbol("decoder");function a(e,t,n){var r;if(this.overflow){if(1===(r=this[s].write(e).split(this.matcher)).length)return n();r.shift(),this.overflow=!1}else this[o]+=this[s].write(e),r=this[o].split(this.matcher);this[o]=r.pop();for(var i=0;i<r.length;i++)try{c(this,this.mapper(r[i]))}catch(e){return n(e)}if(this.overflow=this[o].length>this.maxLength,this.overflow&&!this.skipOverflow)return n(new Error("maximum buffer reached"));n()}function l(e){if(this[o]+=this[s].end(),this[o])try{c(this,this.mapper(this[o]))}catch(t){return e(t)}e()}function c(e,t){void 0!==t&&e.push(t)}function u(e){return e}e.exports=function(e,t,n){switch(e=e||/\r?\n/,t=t||u,n=n||{},arguments.length){case 1:"function"==typeof e?(t=e,e=/\r?\n/):"object"!=typeof e||e instanceof RegExp||(n=e,e=/\r?\n/);break;case 2:"function"==typeof e?(n=t,t=e,e=/\r?\n/):"object"==typeof t&&(n=t,t=u)}(n=Object.assign({},n)).transform=a,n.flush=l,n.readableObjectMode=!0;const c=new r(n);return c[o]="",c[s]=new i("utf8"),c.matcher=e,c.mapper=t,c.maxLength=n.maxLength,c.skipOverflow=n.skipOverflow,c.overflow=!1,c}},function(e,t,n){"use strict";const r=n(172),i=e=>(2===e.code&&(e.message="Couldn't find the app"),e),o=async e=>{if("string"!=typeof e)throw new TypeError("Please supply an app name or bundle identifier");try{return await r.stdout("./main",[e],{cwd:__dirname})}catch(e){throw i(e)}};e.exports=o,e.exports.default=o,e.exports.sync=e=>{if("string"!=typeof e)throw new TypeError("Please supply an app name or bundle identifier");try{return r.sync("./main",[e],{cwd:__dirname}).stdout}catch(e){throw i(e)}}},function(e,t,n){e.exports={default:n(354),__esModule:!0}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n(0),h=n(16),p=n(5),d=n(540).createFocusTrap,f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,n,r,a=s(c);function c(e){var t,n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),t=a.call(this,e),n=l(t),i=function(e){t.focusTrapElement=e},(r="setFocusTrapElement")in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,"undefined"!=typeof document&&(t.previouslyFocusedElement=document.activeElement),t}return t=c,(n=[{key:"componentDidMount",value:function(){var e=this.props.focusTrapOptions,t={returnFocusOnDeactivate:!1};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&"returnFocusOnDeactivate"!==n&&(t[n]=e[n]);var r=h.findDOMNode(this.focusTrapElement);this.focusTrap=this.props._createFocusTrap(r,t),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause()}},{key:"componentDidUpdate",value:function(e){if(e.active&&!this.props.active){var t={returnFocus:this.props.focusTrapOptions.returnFocusOnDeactivate||!1};this.focusTrap.deactivate(t)}else!e.active&&this.props.active&&this.focusTrap.activate();e.paused&&!this.props.paused?this.focusTrap.unpause():!e.paused&&this.props.paused&&this.focusTrap.pause()}},{key:"componentWillUnmount",value:function(){this.focusTrap.deactivate(),!1!==this.props.focusTrapOptions.returnFocusOnDeactivate&&this.previouslyFocusedElement&&this.previouslyFocusedElement.focus&&this.previouslyFocusedElement.focus()}},{key:"render",value:function(){var e=this,t=u.Children.only(this.props.children);return u.cloneElement(t,{ref:function(n){e.setFocusTrapElement(n),"function"==typeof t.ref?t.ref(n):t.ref&&(t.ref.current=n)}})}}])&&i(t.prototype,n),r&&i(t,r),c}(u.Component),m="undefined"==typeof Element?Function:Element;f.propTypes={active:p.bool,paused:p.bool,focusTrapOptions:p.shape({onActivate:p.func,onDeactivate:p.func,initialFocus:p.oneOfType([p.instanceOf(m),p.string,p.func]),fallbackFocus:p.oneOfType([p.instanceOf(m),p.string,p.func]),escapeDeactivates:p.bool,clickOutsideDeactivates:p.bool,returnFocusOnDeactivate:p.bool,setReturnFocus:p.oneOfType([p.instanceOf(m),p.string,p.func]),allowOutsideClick:p.oneOfType([p.bool,p.func]),preventScroll:p.bool}),children:p.oneOfType([p.element,p.instanceOf(m)])},f.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:d},e.exports=f},function(e,t,n){"use strict";var r="object"==typeof global&&global&&global.Object===Object&&global;t.a=r},function(e,t,n){"use strict";const r=n(528),i=e=>{if(e<1)throw new TypeError("Expected `concurrency` to be a number from 1 and up");const t=[];let n=0;const i=()=>{n--,t.length>0&&t.shift()()},o=(e,t,...o)=>{n++;const s=r(e,...o);t(s),s.then(i,i)},s=(r,...i)=>new Promise(s=>((r,i,...s)=>{n<e?o(r,i,...s):t.push(o.bind(null,r,i,...s))})(r,s,...i));return Object.defineProperties(s,{activeCount:{get:()=>n},pendingCount:{get:()=>t.length}}),s};e.exports=i,e.exports.default=i},function(e,t,n){var r=n(346);function i(e,t){if(!e||e.length<=0)throw new Error(t+" is required.")}e.exports={getPassword:function(e,t){return i(e,"Service"),i(t,"Account"),r.getPassword(e,t)},setPassword:function(e,t,n){return i(e,"Service"),i(t,"Account"),i(n,"Password"),r.setPassword(e,t,n)},deletePassword:function(e,t){return i(e,"Service"),i(t,"Account"),r.deletePassword(e,t)},findPassword:function(e){return i(e,"Service"),r.findPassword(e)},findCredentials:function(e){return i(e,"Service"),r.findCredentials(e)}}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(350),t)},function(e,t,n){n(8);const{spawn:r,spawnSync:i}=n(7),o=n(86),s=n(420),a=e.exports;function l(e,t){return n=>t(0===n?null:new Error(e+" failed with exit status "+n))}a.testMode=!1,Object.assign(a,{clearAuthorizationCache(){s.clearAuthorizationCache()},createWriteStream(e){let t;if(!s.spawnAsAdmin("/bin/echo",[],a.testMode,()=>{})){const e=new o;return e.write=e.end=function(){},process.nextTick(()=>e.emit("error",new Error("Failed to obtain credentials"))),e}a.testMode?t=r("/bin/dd",["of="+e]):(t=r("/usr/libexec/authopen",["-extauth","-w","-c",e]),t.stdin.write(s.getAuthorizationForm()));const n=new o;return n.write=(e,n,r)=>{t.stdin.write(e,n,r)},n.end=e=>{e&&n.on("finish",e),t.stdin.end()},t.on("exit",e=>{0!==e&&n.emit("error",new Error("authopen exited with code "+e)),n.emit("finish")}),n},symlink(e,t,n){s.spawnAsAdmin("/bin/ln",["-s",e,t],a.testMode,l("ln",n))},unlink(e,t){s.spawnAsAdmin("/bin/rm",["-rf",e],a.testMode,l("rm",t))},makeTree(e,t){s.spawnAsAdmin("/bin/mkdir",["-p",e],a.testMode,l("mkdir",t))},recursiveCopy(e,t,n){s.spawnAsAdmin("/bin/rm",["-r","-f",t],a.testMode,l("rm",r=>{if(r)return n(r);s.spawnAsAdmin("/bin/cp",["-r",e,t],a.testMode,l("cp",n))}))}})},function(e,t){e.exports={stringify:function(e,{EOL:t="\n",finalEOL:n=!0,replacer:r=null,spaces:i}={}){const o=n?t:"";return JSON.stringify(e,r,i).replace(/\n/g,t)+o},stripBom:function(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}}},function(e,t,n){"use strict";const r=n(24).fromCallback,i=n(18),o=n(1),s=n(28),a=n(40).pathExists;e.exports={outputFile:r((function(e,t,n,r){"function"==typeof n&&(r=n,n="utf8");const l=o.dirname(e);a(l,(o,a)=>o?r(o):a?i.writeFile(e,t,n,r):void s.mkdirs(l,o=>{if(o)return r(o);i.writeFile(e,t,n,r)}))})),outputFileSync:function(e,...t){const n=o.dirname(e);if(i.existsSync(n))return i.writeFileSync(e,...t);s.mkdirsSync(n),i.writeFileSync(e,...t)}}},function(e,t,n){(function(){var t,r,i,o,s,a,l,c,u,h,p,d,f,m={}.hasOwnProperty;l=n(77),c=n(78),t=n(75),r=n(76),u=n(74),p=n(83),d=n(84),h=n(85),i=n(79),o=n(81),s=n(80),a=n(82),f=n(170),e.exports=function(e){function n(e){n.__super__.constructor.call(this,e)}return function(e,t){for(var n in t)m.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.document=function(e){var t,n,i,o,s;for(o="",n=0,i=(s=e.children).length;n<i;n++)t=s[n],o+=function(){switch(!1){case!(t instanceof l):return this.declaration(t);case!(t instanceof c):return this.docType(t);case!(t instanceof r):return this.comment(t);case!(t instanceof h):return this.processingInstruction(t);default:return this.element(t,0)}}.call(this);return this.pretty&&o.slice(-this.newline.length)===this.newline&&(o=o.slice(0,-this.newline.length)),o},n.prototype.attribute=function(e){return" "+e.name+'="'+e.value+'"'},n.prototype.cdata=function(e,t){return this.space(t)+"<![CDATA["+e.text+"]]>"+this.newline},n.prototype.comment=function(e,t){return this.space(t)+"\x3c!-- "+e.text+" --\x3e"+this.newline},n.prototype.declaration=function(e,t){var n;return n=this.space(t),n+='<?xml version="'+e.version+'"',null!=e.encoding&&(n+=' encoding="'+e.encoding+'"'),null!=e.standalone&&(n+=' standalone="'+e.standalone+'"'),n+="?>",n+=this.newline},n.prototype.docType=function(e,n){var l,c,u,p,d;if(n||(n=0),p=this.space(n),p+="<!DOCTYPE "+e.root().name,e.pubID&&e.sysID?p+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(p+=' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(p+=" [",p+=this.newline,c=0,u=(d=e.children).length;c<u;c++)l=d[c],p+=function(){switch(!1){case!(l instanceof i):return this.dtdAttList(l,n+1);case!(l instanceof o):return this.dtdElement(l,n+1);case!(l instanceof s):return this.dtdEntity(l,n+1);case!(l instanceof a):return this.dtdNotation(l,n+1);case!(l instanceof t):return this.cdata(l,n+1);case!(l instanceof r):return this.comment(l,n+1);case!(l instanceof h):return this.processingInstruction(l,n+1);default:throw new Error("Unknown DTD node type: "+l.constructor.name)}}.call(this);p+="]"}return p+=">",p+=this.newline},n.prototype.element=function(e,n){var i,o,s,a,l,c,f,g,y;for(l in n||(n=0),c="",c+=(y=this.space(n))+"<"+e.name,f=e.attributes)m.call(f,l)&&(i=f[l],c+=this.attribute(i));if(0===e.children.length||e.children.every((function(e){return""===e.value})))this.allowEmpty?c+="></"+e.name+">"+this.newline:c+="/>"+this.newline;else if(this.pretty&&1===e.children.length&&null!=e.children[0].value)c+=">",c+=e.children[0].value,c+="</"+e.name+">"+this.newline;else{for(c+=">"+this.newline,s=0,a=(g=e.children).length;s<a;s++)o=g[s],c+=function(){switch(!1){case!(o instanceof t):return this.cdata(o,n+1);case!(o instanceof r):return this.comment(o,n+1);case!(o instanceof u):return this.element(o,n+1);case!(o instanceof p):return this.raw(o,n+1);case!(o instanceof d):return this.text(o,n+1);case!(o instanceof h):return this.processingInstruction(o,n+1);default:throw new Error("Unknown XML node type: "+o.constructor.name)}}.call(this);c+=y+"</"+e.name+">"+this.newline}return c},n.prototype.processingInstruction=function(e,t){var n;return n=this.space(t)+"<?"+e.target,e.value&&(n+=" "+e.value),n+="?>"+this.newline},n.prototype.raw=function(e,t){return this.space(t)+e.value+this.newline},n.prototype.text=function(e,t){return this.space(t)+e.value+this.newline},n.prototype.dtdAttList=function(e,t){var n;return n=this.space(t)+"<!ATTLIST "+e.elementName+" "+e.attributeName+" "+e.attributeType,"#DEFAULT"!==e.defaultValueType&&(n+=" "+e.defaultValueType),e.defaultValue&&(n+=' "'+e.defaultValue+'"'),n+=">"+this.newline},n.prototype.dtdElement=function(e,t){return this.space(t)+"<!ELEMENT "+e.name+" "+e.value+">"+this.newline},n.prototype.dtdEntity=function(e,t){var n;return n=this.space(t)+"<!ENTITY",e.pe&&(n+=" %"),n+=" "+e.name,e.value?n+=' "'+e.value+'"':(e.pubID&&e.sysID?n+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(n+=' SYSTEM "'+e.sysID+'"'),e.nData&&(n+=" NDATA "+e.nData)),n+=">"+this.newline},n.prototype.dtdNotation=function(e,t){var n;return n=this.space(t)+"<!NOTATION "+e.name,e.pubID&&e.sysID?n+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.pubID?n+=' PUBLIC "'+e.pubID+'"':e.sysID&&(n+=' SYSTEM "'+e.sysID+'"'),n+=">"+this.newline},n.prototype.openNode=function(e,t){var n,r,i,o;if(t||(t=0),e instanceof u){for(r in i=this.space(t)+"<"+e.name,o=e.attributes)m.call(o,r)&&(n=o[r],i+=this.attribute(n));return i+=(e.children?">":"/>")+this.newline}return i=this.space(t)+"<!DOCTYPE "+e.rootNodeName,e.pubID&&e.sysID?i+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(i+=' SYSTEM "'+e.sysID+'"'),i+=(e.children?" [":">")+this.newline},n.prototype.closeNode=function(e,t){switch(t||(t=0),!1){case!(e instanceof u):return this.space(t)+"</"+e.name+">"+this.newline;case!(e instanceof c):return this.space(t)+"]>"+this.newline}},n}(f)}).call(this)},function(e,t){(function(){e.exports=function(){function e(e){this.disposalAction=e}return e.prototype.disposed=!1,e.isDisposable=function(e){return"function"==typeof(null!=e?e.dispose:void 0)},e.prototype.dispose=function(){this.disposed||(this.disposed=!0,"function"==typeof this.disposalAction&&this.disposalAction(),this.disposalAction=null)},e}()}).call(this)},function(e,t,n){"use strict";var r=n(49).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,o){if("function"==typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||i);var s=n.readable||!1!==n.readable&&t.readable,a=n.writable||!1!==n.writable&&t.writable,l=function(){t.writable||u()},c=t._writableState&&t._writableState.finished,u=function(){a=!1,c=!0,s||o.call(t)},h=t._readableState&&t._readableState.endEmitted,p=function(){s=!1,h=!0,a||o.call(t)},d=function(e){o.call(t,e)},f=function(){var e;return s&&!h?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):a&&!c?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},m=function(){t.req.on("finish",u)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",l),t.on("close",l)):(t.on("complete",u),t.on("abort",f),t.req?m():t.on("request",m)),t.on("end",p),t.on("finish",u),!1!==n.error&&t.on("error",d),t.on("close",f),function(){t.removeListener("complete",u),t.removeListener("abort",f),t.removeListener("request",m),t.req&&t.req.removeListener("finish",u),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",u),t.removeListener("end",p),t.removeListener("error",d),t.removeListener("close",f)}}},function(e,t,n){var r=n(59);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(122)("keys"),i=n(89);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(35),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(41),i=n(25),o=n(52);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],s={};s[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",s)}},function(e,t){e.exports=!0},function(e,t){e.exports={}},function(e,t,n){var r=n(58),i=n(371),o=n(123),s=n(121)("IE_PROTO"),a=function(){},l=function(){var e,t=n(185)("iframe"),r=o.length;for(t.style.display="none",n(372).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[o[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=r(e),n=new a,a.prototype=null,n[s]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(42).f,i=n(44),o=n(53)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){t.f=n(53)},function(e,t,n){var r=n(35),i=n(25),o=n(126),s=n(130),a=n(42).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},function(e,t,n){var r=n(90),i=n(88),o=n(45),s=n(118),a=n(44),l=n(184),c=Object.getOwnPropertyDescriptor;t.f=n(43)?c:function(e,t){if(e=o(e),t=s(t,!0),l)try{return c(e,t)}catch(e){}if(a(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=!("undefined"==typeof window||!window.document||!window.document.createElement);t.default=r,e.exports=t.default},function(e,t,n){(function(){var e,r,i,o,s,a,l;l=n(93),o=l.isMatch,e=l.computeScore,a=l.scoreSize,t.score=function(t,n,r){var i,a,l;return i=r.preparedQuery,r.allowErrors||o(t,i.core_lw,i.core_up)?(l=t.toLowerCase(),a=e(t,l,i),a=s(t,l,a,r),Math.ceil(a)):0},s=function(t,n,o,s){var l,c,u,h,p,d,f,m,g,y;if(0===o)return 0;for(g=s.preparedQuery,y=s.useExtensionBonus,m=s.pathSeparator,p=t.length-1;t[p]===m;)p--;if(f=p-(u=t.lastIndexOf(m,p)),d=1,y&&(o*=d+=i(n,g.ext,u,p,2)),-1===u)return o;for(h=g.depth;u>-1&&h-- >0;)u=t.lastIndexOf(m,u-1);return c=-1===u?o:d*e(t.slice(u+1,p+1),n.slice(u+1,p+1),g),(l=10/(20+r(t,p+1,m)))*c+(1-l)*o*a(0,2.5*f)},t.countDir=r=function(e,t,n){var r,i;if(t<1)return 0;for(r=0,i=-1;++i<t&&e[i]===n;);for(;++i<t;)if(e[i]===n)for(r++;++i<t&&e[i]===n;);return r},t.getExtension=function(e){var t;return(t=e.lastIndexOf("."))<0?"":e.substr(t+1)},i=function(e,t,n,r,o){var s,a,l,c;if(!t.length)return 0;if(!((c=e.lastIndexOf(".",r))>n))return 0;for((s=r-c)<(l=t.length)&&(l=s,s=t.length),c++,a=-1;++a<l&&e[c+a]===t[a];);return 0===a&&o>0?.9*i(e,t,n,c-2,o-1):a/s}}).call(this)},function(e,t,n){e.exports=n(411)()},function(e,t,n){var r=n(198),i=n(434);e.exports=function(e,t){return e&&r(e,i(t))}},function(e,t,n){(function(e){var r=n(29),i=n(430),o=t&&!t.nodeType&&t,s=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===o?r.Buffer:void 0,l=(a?a.isBuffer:void 0)||i;e.exports=l}).call(this,n(34)(e))},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(197),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===i&&r.process,a=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a}).call(this,n(34)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(203)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(95),i=n(445),o=n(446),s=n(447),a=n(448),l=n(449);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=s,c.prototype.has=a,c.prototype.set=l,e.exports=c},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(47)(n(29),"Map");e.exports=r},function(e,t,n){var r=n(454),i=n(461),o=n(463),s=n(464),a=n(465);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},function(e,t,n){var r=n(476),i=n(214),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),r(s(e),(function(t){return o.call(e,t)})))}:i;e.exports=a},function(e,t,n){var r=n(26),i=n(149),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(s.test(e)||!o.test(e)||null!=t&&e in Object(t))}},function(e,t,n){var r=n(46),i=n(31);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(199),i=n(505),o=n(94);e.exports=function(e){return o(e)?r(e,!0):i(e)}},function(e,t,n){var r=n(210);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){var r,i,o;i=[],void 0===(o="function"==typeof(r=function(){var e=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function t(e){var t,n,r=e.replace(/^v/,"").replace(/\+.*$/,""),i=(n="-",-1===(t=r).indexOf(n)?t.length:t.indexOf(n)),o=r.substring(0,i).split(".");return o.push(r.substring(i+1)),o}function n(e){return isNaN(Number(e))?e:Number(e)}function r(t){if("string"!=typeof t)throw new TypeError("Invalid argument expected string");if(!e.test(t))throw new Error("Invalid argument not valid semver ('"+t+"' received)")}function i(e,i){[e,i].forEach(r);for(var o=t(e),s=t(i),a=0;a<Math.max(o.length-1,s.length-1);a++){var l=parseInt(o[a]||0,10),c=parseInt(s[a]||0,10);if(l>c)return 1;if(c>l)return-1}var u=o[o.length-1],h=s[s.length-1];if(u&&h){var p=u.split(".").map(n),d=h.split(".").map(n);for(a=0;a<Math.max(p.length,d.length);a++){if(void 0===p[a]||"string"==typeof d[a]&&"number"==typeof p[a])return-1;if(void 0===d[a]||"string"==typeof p[a]&&"number"==typeof d[a])return 1;if(p[a]>d[a])return 1;if(d[a]>p[a])return-1}}else if(u||h)return u?-1:1;return 0}var o=[">",">=","=","<","<="],s={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};return i.validate=function(t){return"string"==typeof t&&e.test(t)},i.compare=function(e,t,n){!function(e){if("string"!=typeof e)throw new TypeError("Invalid operator type, expected string but got "+typeof e);if(-1===o.indexOf(e))throw new TypeError("Invalid operator, expected one of "+o.join("|"))}(n);var r=i(e,t);return s[n].indexOf(r)>-1},i})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){e.exports={default:n(398),__esModule:!0}},function(e,t,n){(function(){var t,r,i,o,s,a,l,c;i=n(400),o=n(401),c=n(93),a=n(134),t=n(194),l=null,r="win32"===("undefined"!=typeof process&&null!==process?"darwin":void 0)?"\\":"/",e.exports={filter:function(e,t,n){return null==n&&(n={}),(null!=t?t.length:void 0)&&(null!=e?e.length:void 0)?(n=s(n,t),i(e,t,n)):[]},score:function(e,t,n){return null==n&&(n={}),(null!=e?e.length:void 0)&&(null!=t?t.length:void 0)?(n=s(n,t)).usePathScoring?a.score(e,t,n):c.score(e,t,n):0},match:function(e,t,n){var r;return null==n&&(n={}),e&&t?e===t?function(){r=[];for(var t=0,n=e.length;0<=n?t<n:t>n;0<=n?t++:t--)r.push(t);return r}.apply(this):(n=s(n,t),o.match(e,t,n)):[]},wrap:function(e,t,n){return null==n&&(n={}),e&&t?(n=s(n,t),o.wrap(e,t,n)):[]},prepareQuery:function(e,t){return null==t&&(t={}),(t=s(t,e)).preparedQuery}},s=function(e,n){return null==e.allowErrors&&(e.allowErrors=!1),null==e.usePathScoring&&(e.usePathScoring=!0),null==e.useExtensionBonus&&(e.useExtensionBonus=!1),null==e.pathSeparator&&(e.pathSeparator=r),null==e.optCharRegEx&&(e.optCharRegEx=null),null==e.wrap&&(e.wrap=null),null==e.preparedQuery&&(e.preparedQuery=l&&l.query===n?l:l=new t(n,e)),e}}).call(this)},function(e,t,n){"use strict";(function(e){var r=n(108),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===i&&r.a.process,a=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();t.a=a}).call(this,n(152)(e))},,function(e,t,n){var r=n(159),i=n(56),o=n(160).ArraySet,s=n(251).MappingList;function a(e){e||(e={}),this._file=i.getArg(e,"file",null),this._sourceRoot=i.getArg(e,"sourceRoot",null),this._skipValidation=i.getArg(e,"skipValidation",!1),this._sources=new o,this._names=new o,this._mappings=new s,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e){var t=e.sourceRoot,n=new a({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=i.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)})),e.sources.forEach((function(t){var r=e.sourceContentFor(t);null!=r&&n.setSourceContent(t,r)})),n},a.prototype.addMapping=function(e){var t=i.getArg(e,"generated"),n=i.getArg(e,"original",null),r=i.getArg(e,"source",null),o=i.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,o),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o})},a.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=i.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[i.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[i.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var s=this._sourceRoot;null!=s&&(r=i.relative(s,r));var a=new o,l=new o;this._mappings.unsortedForEach((function(t){if(t.source===r&&null!=t.originalLine){var o=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=o.source&&(t.source=o.source,null!=n&&(t.source=i.join(n,t.source)),null!=s&&(t.source=i.relative(s,t.source)),t.originalLine=o.line,t.originalColumn=o.column,null!=o.name&&(t.name=o.name))}var c=t.source;null==c||a.has(c)||a.add(c);var u=t.name;null==u||l.has(u)||l.add(u)}),this),this._sources=a,this._names=l,e.sources.forEach((function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=i.join(n,t)),null!=s&&(t=i.relative(s,t)),this.setSourceContent(t,r))}),this)},a.prototype._validateMapping=function(e,t,n,r){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},a.prototype._serializeMappings=function(){for(var e,t,n,o,s=0,a=1,l=0,c=0,u=0,h=0,p="",d=this._mappings.toArray(),f=0,m=d.length;f<m;f++){if(e="",(t=d[f]).generatedLine!==a)for(s=0;t.generatedLine!==a;)e+=";",a++;else if(f>0){if(!i.compareByGeneratedPositionsInflated(t,d[f-1]))continue;e+=","}e+=r.encode(t.generatedColumn-s),s=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=r.encode(o-h),h=o,e+=r.encode(t.originalLine-1-c),c=t.originalLine-1,e+=r.encode(t.originalColumn-l),l=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=r.encode(n-u),u=n)),p+=e}return p},a.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=i.relative(t,e));var n=i.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=a},function(e,t,n){var r=n(250);t.encode=function(e){var t,n="",i=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&i,(i>>>=5)>0&&(t|=32),n+=r.encode(t)}while(i>0);return n},t.decode=function(e,t,n){var i,o,s,a,l=e.length,c=0,u=0;do{if(t>=l)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=r.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));i=!!(32&o),c+=(o&=31)<<u,u+=5}while(i);n.value=(a=(s=c)>>1,1==(1&s)?-a:a),n.rest=t}},function(e,t,n){var r=n(56),i=Object.prototype.hasOwnProperty,o="undefined"!=typeof Map;function s(){this._array=[],this._set=o?new Map:Object.create(null)}s.fromArray=function(e,t){for(var n=new s,r=0,i=e.length;r<i;r++)n.add(e[r],t);return n},s.prototype.size=function(){return o?this._set.size:Object.getOwnPropertyNames(this._set).length},s.prototype.add=function(e,t){var n=o?e:r.toSetString(e),s=o?this.has(e):i.call(this._set,n),a=this._array.length;s&&!t||this._array.push(e),s||(o?this._set.set(e,a):this._set[n]=a)},s.prototype.has=function(e){if(o)return this._set.has(e);var t=r.toSetString(e);return i.call(this._set,t)},s.prototype.indexOf=function(e){if(o){var t=this._set.get(e);if(t>=0)return t}else{var n=r.toSetString(e);if(i.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},s.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},s.prototype.toArray=function(){return this._array.slice()},t.ArraySet=s},function(e,t){e.exports=require("constants")},function(e,t,n){"use strict";e.exports={copySync:n(260)}},function(e,t){e.exports=e=>{const t=process.versions.node.split(".").map(e=>parseInt(e,10));return e=e.split(".").map(e=>parseInt(e,10)),t[0]>e[0]||t[0]===e[0]&&(t[1]>e[1]||t[1]===e[1]&&t[2]>=e[2])}},function(e,t,n){"use strict";const r=n(18);e.exports={utimesMillis:function(e,t,n,i){r.open(e,"r+",(e,o)=>{if(e)return i(e);r.futimes(o,t,n,e=>{r.close(o,t=>{i&&i(e||t)})})})},utimesMillisSync:function(e,t,n){const i=r.openSync(e,"r+");return r.futimesSync(i,t,n),r.closeSync(i)}}},function(e,t,n){"use strict";const r=n(24).fromCallback;e.exports={copy:r(n(262))}},function(e,t,n){"use strict";var r=n(8);e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var t={__proto__:e.__proto__};else t=Object.create(null);return Object.getOwnPropertyNames(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}(r)},function(e,t){function n(e,t){for(var n in e)t[n]=e[n]}function r(e,t){var r=e.prototype;if(Object.create){var i=Object.create(t.prototype);r.__proto__=i}if(!(r instanceof t)){function o(){}o.prototype=t.prototype,n(r,o=new o),e.prototype=r=o}r.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),r.constructor=e)}var i={},o=i.ELEMENT_NODE=1,s=i.ATTRIBUTE_NODE=2,a=i.TEXT_NODE=3,l=i.CDATA_SECTION_NODE=4,c=i.ENTITY_REFERENCE_NODE=5,u=i.ENTITY_NODE=6,h=i.PROCESSING_INSTRUCTION_NODE=7,p=i.COMMENT_NODE=8,d=i.DOCUMENT_NODE=9,f=i.DOCUMENT_TYPE_NODE=10,m=i.DOCUMENT_FRAGMENT_NODE=11,g=i.NOTATION_NODE=12,y={},v={},b=(y.INDEX_SIZE_ERR=(v[1]="Index size error",1),y.DOMSTRING_SIZE_ERR=(v[2]="DOMString size error",2),y.HIERARCHY_REQUEST_ERR=(v[3]="Hierarchy request error",3)),w=(y.WRONG_DOCUMENT_ERR=(v[4]="Wrong document",4),y.INVALID_CHARACTER_ERR=(v[5]="Invalid character",5),y.NO_DATA_ALLOWED_ERR=(v[6]="No data allowed",6),y.NO_MODIFICATION_ALLOWED_ERR=(v[7]="No modification allowed",7),y.NOT_FOUND_ERR=(v[8]="Not found",8)),C=(y.NOT_SUPPORTED_ERR=(v[9]="Not supported",9),y.INUSE_ATTRIBUTE_ERR=(v[10]="Attribute in use",10));y.INVALID_STATE_ERR=(v[11]="Invalid state",11),y.SYNTAX_ERR=(v[12]="Syntax error",12),y.INVALID_MODIFICATION_ERR=(v[13]="Invalid modification",13),y.NAMESPACE_ERR=(v[14]="Invalid namespace",14),y.INVALID_ACCESS_ERR=(v[15]="Invalid access",15);function S(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,v[e]),this.message=v[e],Error.captureStackTrace&&Error.captureStackTrace(this,S);return n.code=e,t&&(this.message=this.message+": "+t),n}function E(){}function k(e,t){this._node=e,this._refresh=t,x(this)}function x(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);te(e,"length",r.length),n(r,e),e._inc=t}}function D(){}function _(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function T(e,t,n,r){if(r?t[_(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var i=e.ownerDocument;i&&(r&&F(i,e,r),function(e,t,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(i,e,n))}}function R(e,t,n){var r=_(t,n);if(!(r>=0))throw S(w,new Error(e.tagName+"@"+n));for(var i=t.length-1;r<i;)t[r]=t[++r];if(t.length=i,e){var o=e.ownerDocument;o&&(F(o,e,n),n.ownerElement=null)}}function A(e){if(this._features={},e)for(var t in e)this._features=e[t]}function O(){}function P(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function I(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(I(e,t))return!0}while(e=e.nextSibling)}function M(){}function F(e,t,n,r){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete t._nsMap[n.prefix?n.localName:""]}function N(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,o=0;i;)r[o++]=i,i=i.nextSibling;r.length=o}}}function B(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,N(e.ownerDocument,e),t}function L(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===m){var i=t.firstChild;if(null==i)return t;var o=t.lastChild}else i=o=t;var s=n?n.previousSibling:e.lastChild;i.previousSibling=s,o.nextSibling=n,s?s.nextSibling=i:e.firstChild=i,null==n?e.lastChild=o:n.previousSibling=o;do{i.parentNode=e}while(i!==o&&(i=i.nextSibling));return N(e.ownerDocument||e,e),t.nodeType==m&&(t.firstChild=t.lastChild=null),t}function H(){this._nsMap={}}function U(){}function j(){}function W(){}function z(){}function G(){}function q(){}function V(){}function $(){}function K(){}function Y(){}function Z(){}function X(){}function Q(e,t){var n=[],r=9==this.nodeType?this.documentElement:this,i=r.prefix,o=r.namespaceURI;if(o&&null==i&&null==(i=r.lookupPrefix(o)))var s=[{namespace:o,prefix:null}];return ee(this,n,e,t,s),n.join("")}function J(e,t,n){var r=e.prefix||"",i=e.namespaceURI;if(!r&&!i)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;for(var o=n.length;o--;){var s=n[o];if(s.prefix==r)return s.namespace!=i}return!0}function ee(e,t,n,r,i){if(r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case o:i||(i=[]);i.length;var u=e.attributes,g=u.length,y=e.firstChild,v=e.tagName;n="http://www.w3.org/1999/xhtml"===e.namespaceURI||n,t.push("<",v);for(var b=0;b<g;b++){"xmlns"==(w=u.item(b)).prefix?i.push({prefix:w.localName,namespace:w.value}):"xmlns"==w.nodeName&&i.push({prefix:"",namespace:w.value})}for(b=0;b<g;b++){var w;if(J(w=u.item(b),0,i)){var C=w.prefix||"",S=w.namespaceURI,E=C?" xmlns:"+C:" xmlns";t.push(E,'="',S,'"'),i.push({prefix:C,namespace:S})}ee(w,t,n,r,i)}if(J(e,0,i)){C=e.prefix||"",S=e.namespaceURI,E=C?" xmlns:"+C:" xmlns";t.push(E,'="',S,'"'),i.push({prefix:C,namespace:S})}if(y||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(v)){if(t.push(">"),n&&/^script$/i.test(v))for(;y;)y.data?t.push(y.data):ee(y,t,n,r,i),y=y.nextSibling;else for(;y;)ee(y,t,n,r,i),y=y.nextSibling;t.push("</",v,">")}else t.push("/>");return;case d:case m:for(y=e.firstChild;y;)ee(y,t,n,r,i),y=y.nextSibling;return;case s:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,P),'"');case a:return t.push(e.data.replace(/[<&]/g,P));case l:return t.push("<![CDATA[",e.data,"]]>");case p:return t.push("\x3c!--",e.data,"--\x3e");case f:var k=e.publicId,x=e.systemId;if(t.push("<!DOCTYPE ",e.name),k)t.push(' PUBLIC "',k),x&&"."!=x&&t.push('" "',x),t.push('">');else if(x&&"."!=x)t.push(' SYSTEM "',x,'">');else{var D=e.internalSubset;D&&t.push(" [",D,"]"),t.push(">")}return;case h:return t.push("<?",e.target," ",e.data,"?>");case c:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function te(e,t,n){e[t]=n}S.prototype=Error.prototype,n(y,S),E.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)ee(this[r],n,e,t);return n.join("")}},k.prototype.item=function(e){return x(this),this[e]},r(k,E),D.prototype={length:0,item:E.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new S(C);var n=this.getNamedItem(e.nodeName);return T(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new S(C);return t=this.getNamedItemNS(e.namespaceURI,e.localName),T(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return R(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return R(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},A.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var r=new M;if(r.implementation=this,r.childNodes=new E,r.doctype=n,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new q;return r.name=e,r.nodeName=e,r.publicId=t,r.systemId=n,r}},O.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return L(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return B(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,n,r){var i=new n.constructor;for(var a in n){var l=n[a];"object"!=typeof l&&l!=i[a]&&(i[a]=l)}n.childNodes&&(i.childNodes=new E);switch(i.ownerDocument=t,i.nodeType){case o:var c=n.attributes,u=i.attributes=new D,h=c.length;u._ownerElement=i;for(var p=0;p<h;p++)i.setAttributeNode(e(t,c.item(p),!0));break;case s:r=!0}if(r)for(var d=n.firstChild;d;)i.appendChild(e(t,d,r)),d=d.nextSibling;return i}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==a&&e.nodeType==a?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(n[r]==e)return r;t=t.nodeType==s?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==s?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},n(i,O),n(i,O.prototype),M.prototype={nodeName:"#document",nodeType:d,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==m){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return null==this.documentElement&&e.nodeType==o&&(this.documentElement=e),L(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),B(this,e)},importNode:function(e,t){return function e(t,n,r){var i;switch(n.nodeType){case o:(i=n.cloneNode(!1)).ownerDocument=t;case m:break;case s:r=!0}i||(i=n.cloneNode(!1));if(i.ownerDocument=t,i.parentNode=null,r)for(var a=n.firstChild;a;)i.appendChild(e(t,a,r)),a=a.nextSibling;return i}(this,e,t)},getElementById:function(e){var t=null;return I(this.documentElement,(function(n){if(n.nodeType==o&&n.getAttribute("id")==e)return t=n,!0})),t},createElement:function(e){var t=new H;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new E,(t.attributes=new D)._ownerElement=t,t},createDocumentFragment:function(){var e=new Y;return e.ownerDocument=this,e.childNodes=new E,e},createTextNode:function(e){var t=new W;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new z;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new G;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new Z;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new U;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new K;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new H,r=t.split(":"),i=n.attributes=new D;return n.childNodes=new E,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new U,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},r(M,O),H.prototype={nodeType:o,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===m?this.insertBefore(e,null):function(e,t){var n=t.parentNode;if(n){var r=e.lastChild;n.removeChild(t);r=e.lastChild}return r=e.lastChild,t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,N(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new k(this,(function(t){var n=[];return I(t,(function(r){r===t||r.nodeType!=o||"*"!==e&&r.tagName!=e||n.push(r)})),n}))},getElementsByTagNameNS:function(e,t){return new k(this,(function(n){var r=[];return I(n,(function(i){i===n||i.nodeType!==o||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||r.push(i)})),r}))}},M.prototype.getElementsByTagName=H.prototype.getElementsByTagName,M.prototype.getElementsByTagNameNS=H.prototype.getElementsByTagNameNS,r(H,O),U.prototype.nodeType=s,r(U,O),j.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(v[b])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},r(j,O),W.prototype={nodeName:"#text",nodeType:a,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},r(W,j),z.prototype={nodeName:"#comment",nodeType:p},r(z,j),G.prototype={nodeName:"#cdata-section",nodeType:l},r(G,j),q.prototype.nodeType=f,r(q,O),V.prototype.nodeType=g,r(V,O),$.prototype.nodeType=u,r($,O),K.prototype.nodeType=c,r(K,O),Y.prototype.nodeName="#document-fragment",Y.prototype.nodeType=m,r(Y,O),Z.prototype.nodeType=h,r(Z,O),X.prototype.serializeToString=function(e,t,n){return Q.call(e,t,n)},O.prototype.toString=Q;try{if(Object.defineProperty){Object.defineProperty(k.prototype,"length",{get:function(){return x(this),this.$$length}}),Object.defineProperty(O.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case o:case m:var n=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&n.push(e(t)),t=t.nextSibling;return n.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case o:case m:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),te=function(e,t,n){e["$$"+t]=n}}}catch(e){}t.DOMImplementation=A,t.XMLSerializer=X},function(e,t){(function(){e.exports=function(){function e(e,t,n){if(this.options=e.options,this.stringify=e.stringify,null==t)throw new Error("Missing attribute name of element "+e.name);if(null==n)throw new Error("Missing attribute value for attribute "+t+" of element "+e.name);this.name=this.stringify.attName(t),this.value=this.stringify.attValue(n)}return e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},e}()}).call(this)},function(e,t,n){(function(){var t,r,i,o,s,a={}.hasOwnProperty;i=n(30),t=i.camelCase,s=i.titleCase,r=i.kebabCase,o=i.snakeCase,e.exports=function(){function e(e){var t,n,r,i,o;for(r in this.assertLegalChar=(t=this.assertLegalChar,n=this,function(){return t.apply(n,arguments)}),e||(e={}),this.allowSurrogateChars=e.allowSurrogateChars,this.noDoubleEncoding=e.noDoubleEncoding,this.textCase=e.textCase,i=e.stringify||{})a.call(i,r)&&(o=i[r],this[r]=o)}return e.prototype.eleName=function(e){return e=""+e||"",e=this.applyCase(e),this.assertLegalChar(e)},e.prototype.eleText=function(e){return e=""+e||"",this.assertLegalChar(this.elEscape(e))},e.prototype.cdata=function(e){return e=(e=""+e||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(e)},e.prototype.comment=function(e){if((e=""+e||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+e);return this.assertLegalChar(e)},e.prototype.raw=function(e){return""+e||""},e.prototype.attName=function(e){return e=""+e||"",this.applyCase(e)},e.prototype.attValue=function(e){return e=""+e||"",this.attEscape(e)},e.prototype.insTarget=function(e){return""+e||""},e.prototype.insValue=function(e){if((e=""+e||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+e);return e},e.prototype.xmlVersion=function(e){if(!(e=""+e||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+e);return e},e.prototype.xmlEncoding=function(e){if(!(e=""+e||"").match(/^[A-Za-z](?:[A-Za-z0-9._-]|-)*$/))throw new Error("Invalid encoding: "+e);return e},e.prototype.xmlStandalone=function(e){return e?"yes":"no"},e.prototype.dtdPubID=function(e){return""+e||""},e.prototype.dtdSysID=function(e){return""+e||""},e.prototype.dtdElementValue=function(e){return""+e||""},e.prototype.dtdAttType=function(e){return""+e||""},e.prototype.dtdAttDefault=function(e){return null!=e?""+e||"":e},e.prototype.dtdEntityValue=function(e){return""+e||""},e.prototype.dtdNData=function(e){return""+e||""},e.prototype.convertAttKey="@",e.prototype.convertPIKey="?",e.prototype.convertTextKey="#text",e.prototype.convertCDataKey="#cdata",e.prototype.convertCommentKey="#comment",e.prototype.convertRawKey="#raw",e.prototype.assertLegalChar=function(e){var t,n;if(t=this.allowSurrogateChars?/[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uFFFE-\uFFFF]/:/[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uD800-\uDFFF\uFFFE-\uFFFF]/,n=e.match(t))throw new Error("Invalid character ("+n+") in string: "+e+" at index "+n.index);return e},e.prototype.applyCase=function(e){switch(this.textCase){case"camel":return t(e);case"title":return s(e);case"kebab":case"lower":return r(e);case"snake":return o(e);case"upper":return r(e).toUpperCase();default:return e}},e.prototype.elEscape=function(e){var t;return t=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},e.prototype.attEscape=function(e){var t;return t=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},e}()}).call(this)},function(e,t){(function(){var t={}.hasOwnProperty;e.exports=function(){function e(e){var n,r,i,o,s,a,l;for(n in e||(e={}),this.pretty=e.pretty||!1,this.allowEmpty=null!=(r=e.allowEmpty)&&r,this.pretty?(this.indent=null!=(i=e.indent)?i:"  ",this.newline=null!=(o=e.newline)?o:"\n",this.offset=null!=(s=e.offset)?s:0):(this.indent="",this.newline="",this.offset=0),a=e.writer||{})t.call(a,n)&&(l=a[n],this[n]=l)}return e.prototype.set=function(e){var n,r,i;for(n in e||(e={}),"pretty"in e&&(this.pretty=e.pretty),"allowEmpty"in e&&(this.allowEmpty=e.allowEmpty),this.pretty?(this.indent="indent"in e?e.indent:"  ",this.newline="newline"in e?e.newline:"\n",this.offset="offset"in e?e.offset:0):(this.indent="",this.newline="",this.offset=0),r=e.writer||{})t.call(r,n)&&(i=r[n],this[n]=i);return this},e.prototype.space=function(e){return this.pretty?new Array((e||0)+this.offset+1).join(this.indent):""},e}()}).call(this)},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,l=s(e),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))i.call(n,u)&&(l[u]=n[u]);if(r){a=r(n);for(var h=0;h<a.length;h++)o.call(n,a[h])&&(l[a[h]]=n[a[h]])}}return l}},function(e,t,n){"use strict";n(1);const r=n(7),i=n(302),o=n(316),s=n(317),a=n(318),l=n(319),c=n(324),u=n(325),h=n(327),p=n(328);function d(e,t,n){let r;return(n=Object.assign({extendEnv:!0,env:{}},n)).extendEnv&&(n.env=Object.assign({},process.env,n.env)),!0===n.__winShell?(delete n.__winShell,r={command:e,args:t,options:n,file:e,original:{cmd:e,args:t}}):r=i._parse(e,t,n),(n=Object.assign({maxBuffer:1e7,buffer:!0,stripEof:!0,preferLocal:!0,localDir:r.options.cwd||process.cwd(),encoding:"utf8",reject:!0,cleanup:!0},r.options)).stdio=p(n),n.preferLocal&&(n.env=s.env(Object.assign({},n,{cwd:n.localDir}))),n.detached&&(n.cleanup=!1),{cmd:r.command,args:r.args,opts:n,parsed:r}}function f(e,t){return t&&e.stripEof&&(t=o(t)),t}function m(e,t,n){let r="/bin/sh",i=["-c",t];return(n=Object.assign({},n)).shell&&(r=n.shell,delete n.shell),e(r,i,n)}function g(e,t,{encoding:n,buffer:r,maxBuffer:i}){if(!e[t])return null;let o;return o=r?n?l(e[t],{encoding:n,maxBuffer:i}):l.buffer(e[t],{maxBuffer:i}):new Promise((n,r)=>{e[t].once("end",n).once("error",r)}),o.catch(e=>{throw e.stream=t,e.message=`${t} ${e.message}`,e})}function y(e,t){const{stdout:n,stderr:r}=e;let i=e.error;const{code:o,signal:s}=e,{parsed:a,joinedCmd:l}=t,c=t.timedOut||!1;if(!i){let e="";Array.isArray(a.opts.stdio)?("inherit"!==a.opts.stdio[2]&&(e+=e.length>0?r:"\n"+r),"inherit"!==a.opts.stdio[1]&&(e+="\n"+n)):"inherit"!==a.opts.stdio&&(e=`\n${r}${n}`),i=new Error(`Command failed: ${l}${e}`),i.code=o<0?h(o):o}return i.stdout=n,i.stderr=r,i.failed=!0,i.signal=s||null,i.cmd=l,i.timedOut=c,i}function v(e,t){let n=e;return Array.isArray(t)&&t.length>0&&(n+=" "+t.join(" ")),n}e.exports=(e,t,n)=>{const o=d(e,t,n),{encoding:s,buffer:l,maxBuffer:h}=o.opts,p=v(e,t);let m,b;try{m=r.spawn(o.cmd,o.args,o.opts)}catch(e){return Promise.reject(e)}o.opts.cleanup&&(b=u(()=>{m.kill()}));let w=null,C=!1;const S=()=>{w&&(clearTimeout(w),w=null),b&&b()};o.opts.timeout>0&&(w=setTimeout(()=>{w=null,C=!0,m.kill(o.opts.killSignal)},o.opts.timeout));const E=new Promise(e=>{m.on("exit",(t,n)=>{S(),e({code:t,signal:n})}),m.on("error",t=>{S(),e({error:t})}),m.stdin&&m.stdin.on("error",t=>{S(),e({error:t})})});function k(){m.stdout&&m.stdout.destroy(),m.stderr&&m.stderr.destroy()}const x=()=>c(Promise.all([E,g(m,"stdout",{encoding:s,buffer:l,maxBuffer:h}),g(m,"stderr",{encoding:s,buffer:l,maxBuffer:h})]).then(e=>{const t=e[0];if(t.stdout=e[1],t.stderr=e[2],t.error||0!==t.code||null!==t.signal){const e=y(t,{joinedCmd:p,parsed:o,timedOut:C});if(e.killed=e.killed||m.killed,!o.opts.reject)return e;throw e}return{stdout:f(o.opts,t.stdout),stderr:f(o.opts,t.stderr),code:0,failed:!1,killed:!1,signal:null,cmd:p,timedOut:!1}}),k);return i._enoent.hookChildProcess(m,o.parsed),function(e,t){null!=t&&(a(t)?t.pipe(e.stdin):e.stdin.end(t))}(m,o.opts.input),m.then=(e,t)=>x().then(e,t),m.catch=e=>x().catch(e),m},e.exports.stdout=(...t)=>e.exports(...t).then(e=>e.stdout),e.exports.stderr=(...t)=>e.exports(...t).then(e=>e.stderr),e.exports.shell=(t,n)=>m(e.exports,t,n),e.exports.sync=(e,t,n)=>{const i=d(e,t,n),o=v(e,t);if(a(i.opts.input))throw new TypeError("The `input` option cannot be a stream in sync mode");const s=r.spawnSync(i.cmd,i.args,i.opts);if(s.code=s.status,s.error||0!==s.status||null!==s.signal){const e=y(s,{joinedCmd:o,parsed:i});if(!i.opts.reject)return e;throw e}return{stdout:f(i.opts,s.stdout),stderr:f(i.opts,s.stderr),code:0,failed:!1,signal:null,cmd:o,timedOut:!1}},e.exports.shellSync=(t,n)=>m(e.exports.sync,t,n)},function(e,t,n){"use strict";e.exports=e=>{const t=(e=e||{}).env||process.env;return"win32"!==(e.platform||"darwin")?"PATH":Object.keys(t).find(e=>"PATH"===e.toUpperCase())||"Path"}},function(e,t,n){var r=n(321);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(i),e.exports.strict=r(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.SSHKeyAuditUnverified=0]="SSHKeyAuditUnverified",e[e.SSHAuthenticationFailed=1]="SSHAuthenticationFailed",e[e.SSHPermissionDenied=2]="SSHPermissionDenied",e[e.HTTPSAuthenticationFailed=3]="HTTPSAuthenticationFailed",e[e.RemoteDisconnection=4]="RemoteDisconnection",e[e.HostDown=5]="HostDown",e[e.RebaseConflicts=6]="RebaseConflicts",e[e.MergeConflicts=7]="MergeConflicts",e[e.HTTPSRepositoryNotFound=8]="HTTPSRepositoryNotFound",e[e.SSHRepositoryNotFound=9]="SSHRepositoryNotFound",e[e.PushNotFastForward=10]="PushNotFastForward",e[e.BranchDeletionFailed=11]="BranchDeletionFailed",e[e.DefaultBranchDeletionFailed=12]="DefaultBranchDeletionFailed",e[e.RevertConflicts=13]="RevertConflicts",e[e.EmptyRebasePatch=14]="EmptyRebasePatch",e[e.NoMatchingRemoteBranch=15]="NoMatchingRemoteBranch",e[e.NoExistingRemoteBranch=16]="NoExistingRemoteBranch",e[e.NothingToCommit=17]="NothingToCommit",e[e.NoSubmoduleMapping=18]="NoSubmoduleMapping",e[e.SubmoduleRepositoryDoesNotExist=19]="SubmoduleRepositoryDoesNotExist",e[e.InvalidSubmoduleSHA=20]="InvalidSubmoduleSHA",e[e.LocalPermissionDenied=21]="LocalPermissionDenied",e[e.InvalidMerge=22]="InvalidMerge",e[e.InvalidRebase=23]="InvalidRebase",e[e.NonFastForwardMergeIntoEmptyHead=24]="NonFastForwardMergeIntoEmptyHead",e[e.PatchDoesNotApply=25]="PatchDoesNotApply",e[e.BranchAlreadyExists=26]="BranchAlreadyExists",e[e.BadRevision=27]="BadRevision",e[e.NotAGitRepository=28]="NotAGitRepository",e[e.CannotMergeUnrelatedHistories=29]="CannotMergeUnrelatedHistories",e[e.LFSAttributeDoesNotMatch=30]="LFSAttributeDoesNotMatch",e[e.BranchRenameFailed=31]="BranchRenameFailed",e[e.PathDoesNotExist=32]="PathDoesNotExist",e[e.InvalidObjectName=33]="InvalidObjectName",e[e.OutsideRepository=34]="OutsideRepository",e[e.LockFileAlreadyExists=35]="LockFileAlreadyExists",e[e.NoMergeToAbort=36]="NoMergeToAbort",e[e.LocalChangesOverwritten=37]="LocalChangesOverwritten",e[e.UnresolvedConflicts=38]="UnresolvedConflicts",e[e.GPGFailedToSignData=39]="GPGFailedToSignData",e[e.ConflictModifyDeletedInBranch=40]="ConflictModifyDeletedInBranch",e[e.PushWithFileSizeExceedingLimit=41]="PushWithFileSizeExceedingLimit",e[e.HexBranchNameRejected=42]="HexBranchNameRejected",e[e.ForcePushRejected=43]="ForcePushRejected",e[e.InvalidRefLength=44]="InvalidRefLength",e[e.ProtectedBranchRequiresReview=45]="ProtectedBranchRequiresReview",e[e.ProtectedBranchForcePush=46]="ProtectedBranchForcePush",e[e.ProtectedBranchDeleteRejected=47]="ProtectedBranchDeleteRejected",e[e.ProtectedBranchRequiredStatus=48]="ProtectedBranchRequiredStatus",e[e.PushWithPrivateEmail=49]="PushWithPrivateEmail",e[e.ConfigLockFileAlreadyExists=50]="ConfigLockFileAlreadyExists",e[e.RemoteAlreadyExists=51]="RemoteAlreadyExists",e[e.TagAlreadyExists=52]="TagAlreadyExists",e[e.MergeWithLocalChanges=53]="MergeWithLocalChanges",e[e.RebaseWithLocalChanges=54]="RebaseWithLocalChanges",e[e.MergeCommitNoMainlineOption=55]="MergeCommitNoMainlineOption"}(r=t.GitError||(t.GitError={})),t.GitErrorRegexes={"ERROR: ([\\s\\S]+?)\\n+\\[EPOLICYKEYAGE\\]\\n+fatal: Could not read from remote repository.":r.SSHKeyAuditUnverified,"fatal: Authentication failed for 'https://":r.HTTPSAuthenticationFailed,"fatal: Authentication failed":r.SSHAuthenticationFailed,"fatal: Could not read from remote repository.":r.SSHPermissionDenied,"The requested URL returned error: 403":r.HTTPSAuthenticationFailed,"fatal: The remote end hung up unexpectedly":r.RemoteDisconnection,"fatal: unable to access '(.+)': Failed to connect to (.+): Host is down":r.HostDown,"Cloning into '(.+)'...\nfatal: unable to access '(.+)': Could not resolve host: (.+)":r.HostDown,"Resolve all conflicts manually, mark them as resolved with":r.RebaseConflicts,"(Merge conflict|Automatic merge failed; fix conflicts and then commit the result)":r.MergeConflicts,"fatal: repository '(.+)' not found":r.HTTPSRepositoryNotFound,"ERROR: Repository not found":r.SSHRepositoryNotFound,"\\((non-fast-forward|fetch first)\\)\nerror: failed to push some refs to '.*'":r.PushNotFastForward,"error: unable to delete '(.+)': remote ref does not exist":r.BranchDeletionFailed,"\\[remote rejected\\] (.+) \\(deletion of the current branch prohibited\\)":r.DefaultBranchDeletionFailed,"error: could not revert .*\nhint: after resolving the conflicts, mark the corrected paths\nhint: with 'git add <paths>' or 'git rm <paths>'\nhint: and commit the result with 'git commit'":r.RevertConflicts,"Applying: .*\nNo changes - did you forget to use 'git add'\\?\nIf there is nothing left to stage, chances are that something else\n.*":r.EmptyRebasePatch,"There are no candidates for (rebasing|merging) among the refs that you just fetched.\nGenerally this means that you provided a wildcard refspec which had no\nmatches on the remote end.":r.NoMatchingRemoteBranch,"Your configuration specifies to merge with the ref '(.+)'\nfrom the remote, but no such ref was fetched.":r.NoExistingRemoteBranch,"nothing to commit":r.NothingToCommit,"No submodule mapping found in .gitmodules for path '(.+)'":r.NoSubmoduleMapping,"fatal: repository '(.+)' does not exist\nfatal: clone of '.+' into submodule path '(.+)' failed":r.SubmoduleRepositoryDoesNotExist,"Fetched in submodule path '(.+)', but it did not contain (.+). Direct fetching of that commit failed.":r.InvalidSubmoduleSHA,"fatal: could not create work tree dir '(.+)'.*: Permission denied":r.LocalPermissionDenied,"merge: (.+) - not something we can merge":r.InvalidMerge,"invalid upstream (.+)":r.InvalidRebase,"fatal: Non-fast-forward commit does not make sense into an empty head":r.NonFastForwardMergeIntoEmptyHead,"error: (.+): (patch does not apply|already exists in working directory)":r.PatchDoesNotApply,"fatal: A branch named '(.+)' already exists.":r.BranchAlreadyExists,"fatal: bad revision '(.*)'":r.BadRevision,"fatal: [Nn]ot a git repository \\(or any of the parent directories\\): (.*)":r.NotAGitRepository,"fatal: refusing to merge unrelated histories":r.CannotMergeUnrelatedHistories,"The .+ attribute should be .+ but is .+":r.LFSAttributeDoesNotMatch,": ":r.BranchRenameFailed,"fatal: path '(.+)' does not exist .+":r.PathDoesNotExist,"fatal: invalid object name '(.+)'.":r.InvalidObjectName,"fatal: .+: '(.+)' is outside repository":r.OutsideRepository,"Another git process seems to be running in this repository, e.g.":r.LockFileAlreadyExists,"fatal: There is no merge to abort":r.NoMergeToAbort,"error: (?:Your local changes to the following|The following untracked working tree) files would be overwritten by checkout:":r.LocalChangesOverwritten,"You must edit all merge conflicts and then\nmark them as resolved using git add|fatal: Exiting because of an unresolved conflict":r.UnresolvedConflicts,"error: gpg failed to sign the data":r.GPGFailedToSignData,"CONFLICT \\(modify/delete\\): (.+) deleted in (.+) and modified in (.+)":r.ConflictModifyDeletedInBranch,"error: GH001: ":r.PushWithFileSizeExceedingLimit,"error: GH002: ":r.HexBranchNameRejected,"error: GH003: Sorry, force-pushing to (.+) is not allowed.":r.ForcePushRejected,"error: GH005: Sorry, refs longer than (.+) bytes are not allowed":r.InvalidRefLength,"error: GH006: Protected branch update failed for (.+)\nremote: error: At least one approved review is required":r.ProtectedBranchRequiresReview,"error: GH006: Protected branch update failed for (.+)\nremote: error: Cannot force-push to a protected branch":r.ProtectedBranchForcePush,"error: GH006: Protected branch update failed for (.+)\nremote: error: Cannot delete a protected branch":r.ProtectedBranchDeleteRejected,'error: GH006: Protected branch update failed for (.+).\nremote: error: Required status check "(.+)" is expected':r.ProtectedBranchRequiredStatus,"error: GH007: Your push would publish a private email address.":r.PushWithPrivateEmail,"error: could not lock config file (.+): File exists":r.ConfigLockFileAlreadyExists,"error: remote (.+) already exists.":r.RemoteAlreadyExists,"fatal: tag '(.+)' already exists":r.TagAlreadyExists,"\n":r.MergeWithLocalChanges,"error: cannot (pull with rebase|rebase): You have unstaged changes\\.\n\\s*error: [Pp]lease commit or stash them\\.":r.RebaseWithLocalChanges,"error: commit (.+) is a merge but no -m option was given":r.MergeCommitNoMainlineOption},t.GitNotFoundErrorCode="git-not-found-error",t.RepositoryDoesNotExistErrorCode="repository-does-not-exist-error"},function(e,t,n){"use strict";var r;e.exports=k,k.ReadableState=E;n(86).EventEmitter;var i=function(e,t){return e.listeners(t).length},o=n(177),s=n(87).Buffer,a=global.Uint8Array||function(){};var l,c=n(33);l=c&&c.debuglog?c.debuglog("stream"):function(){};var u,h,p,d=n(337),f=n(178),m=n(179).getHighWaterMark,g=n(49).codes,y=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,b=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(57)(k,o);var C=f.errorOrDestroy,S=["error","close","destroy","pause","resume"];function E(e,t,i){r=r||n(50),e=e||{},"boolean"!=typeof i&&(i=t instanceof r),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",i),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(u||(u=n(181).StringDecoder),this.decoder=new u(e.encoding),this.encoding=e.encoding)}function k(e){if(r=r||n(50),!(this instanceof k))return new k(e);var t=this instanceof r;this._readableState=new E(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function x(e,t,n,r,i){l("readableAddChunk",t);var o,c=e._readableState;if(null===t)c.reading=!1,function(e,t){if(l("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?T(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,R(e)))}(e,c);else if(i||(o=function(e,t){var n;r=t,s.isBuffer(r)||r instanceof a||"string"==typeof t||void 0===t||e.objectMode||(n=new y("chunk",["string","Buffer","Uint8Array"],t));var r;return n}(c,t)),o)C(e,o);else if(c.objectMode||t&&t.length>0)if("string"==typeof t||c.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),r)c.endEmitted?C(e,new w):D(e,c,t,!0);else if(c.ended)C(e,new v);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!n?(t=c.decoder.write(t),c.objectMode||0!==t.length?D(e,c,t,!1):A(e,c)):D(e,c,t,!1)}else r||(c.reading=!1,A(e,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function D(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&T(e)),A(e,t)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),k.prototype.destroy=f.destroy,k.prototype._undestroy=f.undestroy,k.prototype._destroy=function(e,t){t(e)},k.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),x(this,e,t,!1,n)},k.prototype.unshift=function(e){return x(this,e,null,!0,!1)},k.prototype.isPaused=function(){return!1===this._readableState.flowing},k.prototype.setEncoding=function(e){u||(u=n(181).StringDecoder);var t=new u(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};function _(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function T(e){var t=e._readableState;l("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(R,e))}function R(e){var t=e._readableState;l("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,F(e)}function A(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(O,e,t))}function O(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(l("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function P(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function I(e){l("readable nexttick read 0"),e.read(0)}function M(e,t){l("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),F(e),t.flowing&&!t.reading&&e.read(0)}function F(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function B(e){var t=e._readableState;l("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(L,t,e))}function L(e,t){if(l("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function H(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}k.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):T(this),null;if(0===(e=_(e,t))&&t.ended)return 0===t.length&&B(this),null;var r,i=t.needReadable;return l("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",i=!0),t.ended||t.reading?l("reading or ended",i=!1):i&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=_(n,t))),null===(r=e>0?N(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&B(this)),null!==r&&this.emit("data",r),r},k.prototype._read=function(e){C(this,new b("_read()"))},k.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,l("pipe count=%d opts=%j",r.pipesCount,t);var o=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?a:m;function s(t,i){l("onunpipe"),t===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,l("cleanup"),e.removeListener("close",d),e.removeListener("finish",f),e.removeListener("drain",c),e.removeListener("error",p),e.removeListener("unpipe",s),n.removeListener("end",a),n.removeListener("end",m),n.removeListener("data",h),u=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}function a(){l("onend"),e.end()}r.endEmitted?process.nextTick(o):n.once("end",o),e.on("unpipe",s);var c=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,F(e))}}(n);e.on("drain",c);var u=!1;function h(t){l("ondata");var i=e.write(t);l("dest.write",i),!1===i&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==H(r.pipes,e))&&!u&&(l("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function p(t){l("onerror",t),m(),e.removeListener("error",p),0===i(e,"error")&&C(e,t)}function d(){e.removeListener("finish",f),m()}function f(){l("onfinish"),e.removeListener("close",d),m()}function m(){l("unpipe"),n.unpipe(e)}return n.on("data",h),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",p),e.once("close",d),e.once("finish",f),e.emit("pipe",n),r.flowing||(l("pipe resume"),n.resume()),e},k.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=H(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},k.prototype.on=function(e,t){var n=o.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,l("on readable",r.length,r.reading),r.length?T(this):r.reading||process.nextTick(I,this))),n},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(e,t){var n=o.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(P,this),n},k.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(P,this),t},k.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(M,e,t))}(this,e)),e.paused=!1,this},k.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(l("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(l("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<S.length;o++)e.on(S[o],this.emit.bind(this,S[o]));return this._read=function(t){l("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(k.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=n(340)),h(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),k._fromList=N,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(k.from=function(e,t){return void 0===p&&(p=n(341)),p(k,e,t)})},function(e,t,n){e.exports=n(86).EventEmitter},function(e,t,n){"use strict";function r(e,t){o(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(o,this,e)):process.nextTick(o,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?n._writableState?n._writableState.errorEmitted?process.nextTick(i,n):(n._writableState.errorEmitted=!0,process.nextTick(r,n,e)):process.nextTick(r,n,e):t?(process.nextTick(i,n),t(e)):process.nextTick(i,n)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}},function(e,t,n){"use strict";var r=n(49).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,n){"use strict";function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=k,k.WritableState=E;var o={deprecate:n(338)},s=n(177),a=n(87).Buffer,l=global.Uint8Array||function(){};var c,u=n(178),h=n(179).getHighWaterMark,p=n(49).codes,d=p.ERR_INVALID_ARG_TYPE,f=p.ERR_METHOD_NOT_IMPLEMENTED,m=p.ERR_MULTIPLE_CALLBACK,g=p.ERR_STREAM_CANNOT_PIPE,y=p.ERR_STREAM_DESTROYED,v=p.ERR_STREAM_NULL_VALUES,b=p.ERR_STREAM_WRITE_AFTER_END,w=p.ERR_UNKNOWN_ENCODING,C=u.errorOrDestroy;function S(){}function E(e,t,o){i=i||n(50),e=e||{},"boolean"!=typeof o&&(o=t instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(process.nextTick(i,r),process.nextTick(A,e,t),e._writableState.errorEmitted=!0,C(e,r)):(i(r),e._writableState.errorEmitted=!0,C(e,r),A(e,t))}(e,n,r,t,i);else{var o=T(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||_(e,n),r?process.nextTick(D,e,n,o,i):D(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function k(e){var t=this instanceof(i=i||n(50));if(!t&&!c.call(k,this))return new k(e);this._writableState=new E(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function x(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function D(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),A(e,t)}function _(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=n;for(var a=0,l=!0;n;)o[a]=n,n.isBuf||(l=!1),n=n.next,a+=1;o.allBuffers=l,x(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,u=n.encoding,h=n.callback;if(x(e,t,!1,t.objectMode?1:c.length,c,u,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function T(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function R(e,t){e._final((function(n){t.pendingcb--,n&&C(e,n),t.prefinished=!0,e.emit("prefinish"),A(e,t)}))}function A(e,t){var n=T(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(R,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}n(57)(k,s),E.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(E.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===k&&(e&&e._writableState instanceof E)}})):c=function(e){return e instanceof this},k.prototype.pipe=function(){C(this,new g)},k.prototype.write=function(e,t,n){var r,i=this._writableState,o=!1,s=!i.objectMode&&(r=e,a.isBuffer(r)||r instanceof l);return s&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=S),i.ending?function(e,t){var n=new b;C(e,n),process.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i;return null===n?i=new v:"string"==typeof n||t.objectMode||(i=new d("chunk",["string","Buffer"],n)),!i||(C(e,i),process.nextTick(r,i),!1)}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,n));return t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var l=t.objectMode?1:r.length;t.length+=l;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else x(e,t,!1,l,r,i,o);return c}(this,i,s,e,t,n)),o},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||_(this,e))},k.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(e,t,n){n(new f("_write()"))},k.prototype._writev=null,k.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,A(e,t),n&&(t.finished?process.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),k.prototype.destroy=u.destroy,k.prototype._undestroy=u.undestroy,k.prototype._destroy=function(e,t){t(e)}},function(e,t,n){"use strict";var r=n(339).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=u,this.end=h,t=3;break;default:return this.write=p,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=s(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=u;var r=n(49).codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,l=n(50);function c(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);l.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?p(this,null,null):this._flush((function(t,n){p(e,t,n)}))}function p(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}n(57)(u,l),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,n){n(new i("_transform()"))},u.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t,n){var r=n(356);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){e.exports=!n(43)&&!n(52)((function(){return 7!=Object.defineProperty(n(185)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(59),i=n(35).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(44),i=n(45),o=n(358)(!1),s=n(121)("IE_PROTO");e.exports=function(e,t){var n,a=i(e),l=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);for(;t.length>l;)r(a,n=t[l++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(188);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(44),i=n(91),o=n(121)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){"use strict";t.__esModule=!0;var r=s(n(366)),i=s(n(377)),o="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function s(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===o(r.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}},function(e,t,n){"use strict";var r=n(126),i=n(41),o=n(192),s=n(51),a=n(44),l=n(127),c=n(370),u=n(129),h=n(189),p=n(53)("iterator"),d=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,n,m,g,y,v){c(n,t,m);var b,w,C,S=function(e){if(!d&&e in D)return D[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",k="values"==g,x=!1,D=e.prototype,_=D[p]||D["@@iterator"]||g&&D[g],T=_||S(g),R=g?k?S("entries"):T:void 0,A="Array"==t&&D.entries||_;if(A&&(C=h(A.call(new e)))!==Object.prototype&&C.next&&(u(C,E,!0),r||a(C,p)||s(C,p,f)),k&&_&&"values"!==_.name&&(x=!0,T=function(){return _.call(this)}),r&&!v||!d&&!x&&D[p]||s(D,p,T),l[t]=T,l[E]=f,g)if(b={values:k?T:S("values"),keys:y?T:S("keys"),entries:R},v)for(w in b)w in D||o(D,w,b[w]);else i(i.P+i.F*(d||x),t,b);return b}},function(e,t,n){e.exports=n(51)},function(e,t,n){var r=n(186),i=n(123).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){(function(){var t,r,i,o,s,a,l;l=n(134),r=l.countDir,o=l.getExtension,e.exports=function(e,n){var s,l,c;if(s=(c=null!=n?n:{}).optCharRegEx,l=c.pathSeparator,!e||!e.length)return null;this.query=e,this.query_lw=e.toLowerCase(),this.core=t(e,s),this.core_lw=this.core.toLowerCase(),this.core_up=a(this.core),this.depth=r(e,e.length,l),this.ext=o(this.query_lw),this.charCodes=i(this.query_lw)},s=/[ _\-:\/\\]/g,t=function(e,t){return null==t&&(t=s),e.replace(t,"")},a=function(e){var t,n,r;for(t="",n=0,r=e.length;n<r;n++)t+=e[n].toUpperCase()[0];return t},i=function(e){var t,n,r;for(r=e.length,n=-1,t=[];++n<r;)t[e.charCodeAt(n)]=!0;return t}}).call(this)},function(e,t,n){"use strict";var r=n(92);t.__esModule=!0,t.default=void 0;var i,o=r(n(133)),s="clearTimeout",a=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-c)),r=setTimeout(e,n);return c=t,r},l=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};o.default&&["","webkit","moz","o","ms"].some((function(e){var t=l(e,"request");if(t in window)return s=l(e,"cancel"),a=function(e){return window[t](e)}}));var c=(new Date).getTime();(i=function(e){return a(e)}).cancel=function(e){window[s]&&"function"==typeof window[s]&&window[s](e)};var u=i;t.default=u,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nameShape=void 0,t.transitionTimeout=function(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}};var r,i=n(135),o=(r=i)&&r.__esModule?r:{default:r};t.nameShape=o.default.oneOfType([o.default.string,o.default.shape({enter:o.default.string,leave:o.default.string,active:o.default.string,height:o.default.string}),o.default.shape({enter:o.default.string,enterActive:o.default.string,leave:o.default.string,leaveActive:o.default.string,appear:o.default.string,appearActive:o.default.string,height:o.default.string,heightActive:o.default.string})])},function(e,t){var n="object"==typeof global&&global&&global.Object===Object&&global;e.exports=n},function(e,t,n){var r=n(426),i=n(63);e.exports=function(e,t){return e&&r(e,t,i)}},function(e,t,n){var r=n(428),i=n(200),o=n(26),s=n(137),a=n(201),l=n(202),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),h=!n&&!u&&s(e),p=!n&&!u&&!h&&l(e),d=n||u||h||p,f=d?r(e.length,String):[],m=f.length;for(var g in e)!t&&!c.call(e,g)||d&&("length"==g||h&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||f.push(g);return f}},function(e,t,n){var r=n(429),i=n(31),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(431),i=n(139),o=n(140),s=o&&o.isTypedArray,a=s?i(s):r;e.exports=a},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(46),i=n(54);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(466),i=n(31);e.exports=function e(t,n,o,s,a){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,s,e,a))}},function(e,t,n){var r=n(467),i=n(470),o=n(471);e.exports=function(e,t,n,s,a,l){var c=1&n,u=e.length,h=t.length;if(u!=h&&!(c&&h>u))return!1;var p=l.get(e),d=l.get(t);if(p&&d)return p==t&&d==e;var f=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var y=e[f],v=t[f];if(s)var b=c?s(v,y,f,t,e,l):s(y,v,f,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(y===e||a(y,e,n,s,l)))return g.push(t)}))){m=!1;break}}else if(y!==v&&!a(y,v,n,s,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},function(e,t,n){var r=n(29).Uint8Array;e.exports=r},function(e,t,n){var r=n(212),i=n(147),o=n(63);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(213),i=n(26);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(54);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},function(e,t,n){var r=n(218),i=n(100);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},function(e,t,n){var r=n(26),i=n(148),o=n(484),s=n(487);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(s(e))}},function(e,t,n){var r=n(220),i=n(144),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var s=e[t];o.call(e,t)&&i(s,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(502);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(213),i=n(142),o=n(147),s=n(214),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:s;e.exports=a},function(e,t,n){var r,i=n(249).SourceMapConsumer,o=n(1);try{(r=n(8)).existsSync&&r.readFileSync||(r=null)}catch(e){}var s=!1,a=!1,l=!1,c="auto",u={},h={},p=/^data:application\/json[^,]+base64,/,d=[],f=[];function m(){return"browser"===c||"node"!==c&&("undefined"!=typeof window&&"function"==typeof XMLHttpRequest&&!(window.require&&window.module&&window.process&&"renderer"===window.process.type))}function g(e){return function(t){for(var n=0;n<e.length;n++){var r=e[n](t);if(r)return r}return null}}var y=g(d);function v(e,t){if(!e)return t;var n=o.dirname(e),r=/^\w+:\/\/[^\/]*/.exec(n),i=r?r[0]:"";return i+o.resolve(n.slice(i.length),t)}d.push((function(e){if((e=e.trim())in u)return u[e];var t=null;if(r){if(r.existsSync(e))try{t=r.readFileSync(e,"utf8")}catch(e){t=""}}else{var n=new XMLHttpRequest;n.open("GET",e,!1),n.send(null);t=null;4===n.readyState&&200===n.status&&(t=n.responseText)}return u[e]=t}));var b=g(f);function w(e){var t=h[e.source];if(!t){var n=b(e.source);n?(t=h[e.source]={url:n.url,map:new i(n.map)}).map.sourcesContent&&t.map.sources.forEach((function(e,n){var r=t.map.sourcesContent[n];if(r){var i=v(t.url,e);u[i]=r}})):t=h[e.source]={url:null,map:null}}if(t&&t.map){var r=t.map.originalPositionFor(e);if(null!==r.source)return r.source=v(t.url,r.source),r}return e}function C(){var e,t="";if(this.isNative())t="native";else{!(e=this.getScriptNameOrSourceURL())&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),t+=e||"<anonymous>";var n=this.getLineNumber();if(null!=n){t+=":"+n;var r=this.getColumnNumber();r&&(t+=":"+r)}}var i="",o=this.getFunctionName(),s=!0,a=this.isConstructor();if(!(this.isToplevel()||a)){var l=this.getTypeName();"[object Object]"===l&&(l="null");var c=this.getMethodName();o?(l&&0!=o.indexOf(l)&&(i+=l+"."),i+=o,c&&o.indexOf("."+c)!=o.length-c.length-1&&(i+=" [as "+c+"]")):i+=l+"."+(c||"<anonymous>")}else a?i+="new "+(o||"<anonymous>"):o?i+=o:(i+=t,s=!1);return s&&(i+=" ("+t+")"),i}function S(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(n){t[n]=/^(?:is|get)/.test(n)?function(){return e[n].call(e)}:e[n]})),t.toString=C,t}function E(e){if(e.isNative())return e;var t=e.getFileName()||e.getScriptNameOrSourceURL();if(t){var n=e.getLineNumber(),r=e.getColumnNumber()-1;1===n&&r>62&&!m()&&!e.isEval()&&(r-=62);var i=w({source:t,line:n,column:r});return(e=S(e)).getFileName=function(){return i.source},e.getLineNumber=function(){return i.line},e.getColumnNumber=function(){return i.column+1},e.getScriptNameOrSourceURL=function(){return i.source},e}var o=e.isEval()&&e.getEvalOrigin();return o?(o=function e(t){var n=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(t);if(n){var r=w({source:n[2],line:+n[3],column:n[4]-1});return"eval at "+n[1]+" ("+r.source+":"+r.line+":"+(r.column+1)+")"}return(n=/^eval at ([^(]+) \((.+)\)$/.exec(t))?"eval at "+n[1]+" ("+e(n[2])+")":t}(o),(e=S(e)).getEvalOrigin=function(){return o},e):e}function k(e,t){return l&&(u={},h={}),e+t.map((function(e){return"\n    at "+E(e)})).join("")}function x(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var n=t[1],i=+t[2],o=+t[3],s=u[n];if(!s&&r&&r.existsSync(n))try{s=r.readFileSync(n,"utf8")}catch(e){s=""}if(s){var a=s.split(/(?:\r\n|\r|\n)/)[i-1];if(a)return n+":"+i+"\n"+a+"\n"+new Array(o).join(" ")+"^"}}return null}function D(e){var t=x(e);t&&(console.error(),console.error(t)),console.error(e.stack),process.exit(1)}f.push((function(e){var t,n=function(e){var t;if(m())try{var n=new XMLHttpRequest;n.open("GET",e,!1),n.send(null),t=4===n.readyState?n.responseText:null;var r=n.getResponseHeader("SourceMap")||n.getResponseHeader("X-SourceMap");if(r)return r}catch(e){}t=y(e);for(var i,o,s=/(?:\/\/[@#][ \t]+sourceMappingURL=([^\s'"]+?)[ \t]*$)|(?:\/\*[@#][ \t]+sourceMappingURL=([^\*]+?)[ \t]*(?:\*\/)[ \t]*$)/gm;o=s.exec(t);)i=o;return i?i[1]:null}(e);if(!n)return null;if(p.test(n)){var r=n.slice(n.indexOf(",")+1);t=new Buffer(r,"base64").toString(),n=e}else n=v(e,n),t=y(n);return t?{url:n,map:t}:null})),t.wrapCallSite=E,t.getErrorSource=x,t.mapSourcePosition=w,t.retrieveSourceMap=b,t.install=function(e){if((e=e||{}).environment&&(c=e.environment,-1===["node","browser","auto"].indexOf(c)))throw new Error("environment "+c+" was unknown. Available options are {auto, browser, node}");if(e.retrieveFile&&(e.overrideRetrieveFile&&(d.length=0),d.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&(f.length=0),f.unshift(e.retrieveSourceMap)),e.hookRequire&&!m()){var t;try{t=n(256)}catch(e){}var r=t.prototype._compile;r.__sourceMapSupport||(t.prototype._compile=function(e,t){return u[t]=e,h[t]=void 0,r.call(this,e,t)},t.prototype._compile.__sourceMapSupport=!0)}var i;(l||(l="emptyCacheBetweenOperations"in e&&e.emptyCacheBetweenOperations),s||(s=!0,Error.prepareStackTrace=k),a)||(!("handleUncaughtExceptions"in e)||e.handleUncaughtExceptions)&&"object"==typeof process&&null!==process&&"function"==typeof process.on&&(a=!0,i=process.emit,process.emit=function(e){if("uncaughtException"===e){var t=arguments[1]&&arguments[1].stack,n=this.listeners(e).length>0;if(t&&!n)return D(arguments[1])}return i.apply(this,arguments)})}},function(e,t,n){"use strict";const r=n(33),i=n(7),o=n(284),s=r.promisify(i.execFile),a=e=>{const t=o.parse(e),n={};for(let e of Object.keys(t)){const r=t[e];e=e.replace(/^kMDItem/,"").replace(/_/g,""),e=e.startsWith("FS")?e.replace(/^FS/,"fs"):e[0].toLowerCase()+e.slice(1),n[e]=r}return n};e.exports=async e=>{const{stdout:t}=await s("mdls",["-plist","-",e]);return a(t.trim())},e.exports.sync=e=>{const t=i.execFileSync("mdls",["-plist","-",e],{encoding:"utf8"});return a(t.trim())}},function(e,t,n){"use strict";const r=n(1);e.exports=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string, got "+typeof e);let n=e;return(t=Object.assign({resolve:!0},t)).resolve&&(n=r.resolve(e)),n=n.replace(/\\/g,"/"),"/"!==n[0]&&(n="/"+n),encodeURI("file://"+n).replace(/[?#]/g,encodeURIComponent)}},function(e,t,n){var r=n(300),i=n(301);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}},function(e,t,n){"use strict";const r=n(22),i=n(172),o=n(103),s=()=>{const{env:e}=process;return e.SUDO_USER||e.C9_USER||e.LOGNAME||e.USER||e.LNAME||e.USERNAME},a=()=>{try{return r.userInfo().username}catch(e){}},l=e=>"no-username-"+e;e.exports=o(async()=>{const e=s();if(e)return e;const t=a();if(t)return t;try{0;const e=await i.stdout("id",["-u"]);try{return await i.stdout("id",["-un",e])}catch(e){}return l(e)}catch(e){}}),e.exports.sync=o(()=>{const e=s();if(e)return e;const t=a();if(t)return t;try{0;const e=i.sync("id",["-u"]).stdout;try{return i.sync("id",["-un",e]).stdout}catch(e){}return l(e)}catch(e){}})},function(e,t,n){e.exports=function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){return i(t[s][1][e]||e)}),c,c.exports,e,t,n,r)}return n[s].exports}for(var o=!1,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,i,s,a,l,c,u=[],h=0,p=e.length,d=p,f="string"!==r.getTypeOf(e);h<e.length;)d=p-h,i=f?(t=e[h++],n=h<p?e[h++]:0,h<p?e[h++]:0):(t=e.charCodeAt(h++),n=h<p?e.charCodeAt(h++):0,h<p?e.charCodeAt(h++):0),s=t>>2,a=(3&t)<<4|n>>4,l=1<d?(15&n)<<2|i>>6:64,c=2<d?63&i:64,u.push(o.charAt(s)+o.charAt(a)+o.charAt(l)+o.charAt(c));return u.join("")},n.decode=function(e){var t,n,r,s,a,l,c=0,u=0,h="data:";if(e.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var p,d=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&d--,e.charAt(e.length-2)===o.charAt(64)&&d--,d%1!=0)throw new Error("Invalid base64 input, bad content length.");for(p=i.uint8array?new Uint8Array(0|d):new Array(0|d);c<e.length;)t=o.indexOf(e.charAt(c++))<<2|(s=o.indexOf(e.charAt(c++)))>>4,n=(15&s)<<4|(a=o.indexOf(e.charAt(c++)))>>2,r=(3&a)<<6|(l=o.indexOf(e.charAt(c++))),p[u++]=t,64!==a&&(p[u++]=n),64!==l&&(p[u++]=r);return p}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var r=e("./external"),i=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),s=e("./stream/DataLengthProbe");function a(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}a.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(e,t,n){return e.pipe(new o).pipe(new s("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new s("compressedSize")).withStreamInfo("compression",t)},t.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(e){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var r=e("./utils"),i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var o=i,s=0+n;e^=-1;for(var a=0;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}(0|t,e,e.length):function(e,t,n,r){var o=i,s=0+n;e^=-1;for(var a=0;a<s;a++)e=e>>>8^o[255&(e^t.charCodeAt(a))];return-1^e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var r;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),o=e("./utils"),s=e("./stream/GenericWorker"),a=r?"uint8array":"array";function l(e,t){s.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",o.inherits(l,s),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(a,e.data),!1)},l.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new l("Deflate",e)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function r(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function i(e,t,n,i,s,u){var h,p,d=e.file,f=e.compression,m=u!==a.utf8encode,g=o.transformTo("string",u(d.name)),y=o.transformTo("string",a.utf8encode(d.name)),v=d.comment,b=o.transformTo("string",u(v)),w=o.transformTo("string",a.utf8encode(v)),C=y.length!==d.name.length,S=w.length!==v.length,E="",k="",x="",D=d.dir,_=d.date,T={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(T.crc32=e.crc32,T.compressedSize=e.compressedSize,T.uncompressedSize=e.uncompressedSize);var R=0;t&&(R|=8),m||!C&&!S||(R|=2048);var A=0,O=0;D&&(A|=16),"UNIX"===s?(O=798,A|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(d.unixPermissions,D)):(O=20,A|=function(e){return 63&(e||0)}(d.dosPermissions)),h=_.getUTCHours(),h<<=6,h|=_.getUTCMinutes(),h<<=5,h|=_.getUTCSeconds()/2,p=_.getUTCFullYear()-1980,p<<=4,p|=_.getUTCMonth()+1,p<<=5,p|=_.getUTCDate(),C&&(k=r(1,1)+r(l(g),4)+y,E+="up"+r(k.length,2)+k),S&&(x=r(1,1)+r(l(b),4)+w,E+="uc"+r(x.length,2)+x);var P="";return P+="\n\0",P+=r(R,2),P+=f.magic,P+=r(h,2),P+=r(p,2),P+=r(T.crc32,4),P+=r(T.compressedSize,4),P+=r(T.uncompressedSize,4),P+=r(g.length,2),P+=r(E.length,2),{fileRecord:c.LOCAL_FILE_HEADER+P+g+E,dirRecord:c.CENTRAL_FILE_HEADER+r(O,2)+P+r(b.length,2)+"\0\0\0\0"+r(A,4)+r(i,4)+g+E+b}}var o=e("../utils"),s=e("../stream/GenericWorker"),a=e("../utf8"),l=e("../crc32"),c=e("../signature");function u(e,t,n,r){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(u,s),u.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,s.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return c.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=function(e,t,n,i,s){var a=o.transformTo("string",s(i));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(a.length,2)+a}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},u.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!s.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},u.prototype.lock=function(){s.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var r=e("../compressions"),i=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var o=new i(t.streamFiles,n,t.platform,t.encodeFileName),s=0;try{e.forEach((function(e,n){s++;var i=function(e,t){var n=e||t,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,t.compression),a=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,c=n.date;n._compressWorker(i,a).withStreamInfo("file",{name:e,dir:l,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=s}catch(e){o.error(e)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.7.1",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./external"),o=e("./utf8"),s=e("./zipEntries"),a=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function c(e){return new i.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new a);r.on("error",(function(e){n(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new s(t);return n.load(e),n})).then((function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var o=0;o<r.length;o++)n.push(c(r[o]));return i.Promise.all(n)})).then((function(e){for(var r=e.shift(),i=r.files,o=0;o<i.length;o++){var s=i[o];n.file(s.fileNameStr,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders})}return r.zipComment.length&&(n.comment=r.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../stream/GenericWorker");function o(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(o,i),o.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var r=e("readable-stream").Readable;function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on("data",(function(e,t){i.push(e)||i._helper.pause(),n&&n(t)})).on("error",(function(e){i.emit("error",e)})).on("end",(function(){i.push(null)}))}e("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function r(e,t,n){var r,i=o.getTypeOf(t),a=o.extend(n||{},l);a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),"string"==typeof a.unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(e=m(e)),a.createFolders&&(r=f(e))&&g.call(this,r,!0);var h,y="string"===i&&!1===a.binary&&!1===a.base64;n&&void 0!==n.binary||(a.binary=!y),(t instanceof c&&0===t.uncompressedSize||a.dir||!t||0===t.length)&&(a.base64=!1,a.binary=!0,t="",a.compression="STORE",i="string"),h=t instanceof c||t instanceof s?t:p.isNode&&p.isStream(t)?new d(e,t):o.prepareContent(e,t,a.binary,a.optimizedBinaryString,a.base64);var v=new u(e,h,a);this.files[e]=v}var i=e("./utf8"),o=e("./utils"),s=e("./stream/GenericWorker"),a=e("./stream/StreamHelper"),l=e("./defaults"),c=e("./compressedObject"),u=e("./zipObject"),h=e("./generate"),p=e("./nodejsUtils"),d=e("./nodejs/NodejsStreamInputAdapter"),f=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:l.createFolders,e=m(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function y(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(y(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var o=this.files[this.root+e];return o&&!o.dir?o:null},folder:function(e){if(!e)return this;if(y(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=g.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=h.generateWorker(this,n,r)}catch(e){(t=new s("error")).error(e)}return new a(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&r===o[2]&&i===o[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var r=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){"use strict";var r=e("./Uint8ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var r=e("./ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../support"),o=e("./ArrayReader"),s=e("./StringReader"),a=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new a(e):i.uint8array?new l(r.transformTo("uint8array",e)):new o(r.transformTo("array",e)):new s(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../utils");function o(e){r.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(o,r),o.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../crc32");function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,r),o.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(o,i),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./ConvertWorker"),o=e("./GenericWorker"),s=e("../base64"),a=e("../support"),l=e("../external"),c=null;if(a.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function u(e,t,n){var s=t;switch(t){case"blob":case"arraybuffer":s="uint8array";break;case"base64":s="string"}try{this._internalType=s,this._outputType=t,this._mimeType=n,r.checkSupport(s),this._worker=e.pipe(new i(s)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}u.prototype={accumulate:function(e){return function(e,t){return new l.Promise((function(n,i){var o=[],a=e._internalType,l=e._outputType,c=e._mimeType;e.on("data",(function(e,n){o.push(e),t&&t(n)})).on("error",(function(e){o=[],i(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return s.encode(t);default:return r.transformTo(e,t)}}(l,function(e,t){var n,r=0,i=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(o),n=0;n<t.length;n++)i.set(t[n],r),r+=t[n].length;return i;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(a,o),c);n(e)}catch(e){i(e)}o=[]})).resume()}))}(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){r.delay(t,arguments,n)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=0===i.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var r=e("./utils"),i=e("./support"),o=e("./nodejsUtils"),s=e("./stream/GenericWorker"),a=new Array(256),l=0;l<256;l++)a[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function c(){s.call(this,"utf-8 decode"),this.leftOver=null}function u(){s.call(this,"utf-8 encode")}a[254]=a[254]=1,n.utf8encode=function(e){return i.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,n,r,o,s,a=e.length,l=0;for(o=0;o<a;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(l):new Array(l),o=s=0;s<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[s++]=n:(n<2048?t[s++]=192|n>>>6:(n<65536?t[s++]=224|n>>>12:(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63),t[s++]=128|n>>>6&63),t[s++]=128|63&n);return t}(e)},n.utf8decode=function(e){return i.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,i,o,s=e.length,l=new Array(2*s);for(t=n=0;t<s;)if((i=e[t++])<128)l[n++]=i;else if(4<(o=a[i]))l[n++]=65533,t+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&t<s;)i=i<<6|63&e[t++],o--;1<o?l[n++]=65533:i<65536?l[n++]=i:(i-=65536,l[n++]=55296|i>>10&1023,l[n++]=56320|1023&i)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),r.applyFromCharCode(l)}(e=r.transformTo(i.uint8array?"uint8array":"array",e))},r.inherits(c,s),c.prototype.processChunk=function(e){var t=r.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var s=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}(t),l=t;s!==t.length&&(i.uint8array?(l=t.subarray(0,s),this.leftOver=t.subarray(s,t.length)):(l=t.slice(0,s),this.leftOver=t.slice(s,t.length))),this.push({data:n.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=c,r.inherits(u,s),u.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var r=e("./support"),i=e("./base64"),o=e("./nodejsUtils"),s=e("set-immediate-shim"),a=e("./external");function l(e){return e}function c(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(n){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(e,t,n){var r=[],i=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;i<o;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,o)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,o)))),i+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function h(e){var t=65536,r=n.getTypeOf(e),i=!0;if("uint8array"===r?i=u.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=u.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return u.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return u.stringifyByChar(e)}function p(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=h;var d={};d.string={string:l,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return d.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,o.allocBuffer(e.length))}},d.array={string:h,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},d.arraybuffer={string:function(e){return h(new Uint8Array(e))},array:function(e){return p(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},d.uint8array={string:h,array:function(e){return p(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return o.newBufferFrom(e)}},d.nodebuffer={string:h,array:function(e){return p(e,new Array(e.length))},arraybuffer:function(e){return d.nodebuffer.uint8array(e).buffer},uint8array:function(e){return p(e,new Uint8Array(e.length))},nodebuffer:l},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return d[r][e](t)},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&o.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){s((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,o,s,l){return a.Promise.resolve(t).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new a.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(t){var u=n.getTypeOf(t);return u?("arraybuffer"===u?t=n.transformTo("uint8array",t):"string"===u&&(l?t=i.decode(t):o&&!0!==s&&(t=function(e){return c(e,r.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):a.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),o=e("./signature"),s=e("./zipEntry"),a=(e("./utf8"),e("./support"));function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=a.uint8array?"uint8array":"array",n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),o=e("./compressedObject"),s=e("./crc32"),a=e("./utf8"),l=e("./compressions"),c=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(i)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var o=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||s(this.fileName)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||s(this.fileComment)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),s=e("./utf8"),a=e("./compressedObject"),l=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!r&&(t=t.pipe(new s.Utf8EncodeWorker)),!o&&r&&(t=t.pipe(new s.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new s.Utf8EncodeWorker)),a.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<c.length;h++)r.prototype[c[h]]=u;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(e){"use strict";var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,s=new i(u),a=e.document.createTextNode("");s.observe(a,{characterData:!0}),n=function(){a.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,n=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}t.exports=function(e){1!==c.push(e)||r||n()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var r=e("immediate");function i(){}var o={},s=["REJECTED"],a=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&d(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){r((function(){var r;try{r=t(n)}catch(r){return o.reject(e,r)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)}))}function p(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}var s=f((function(){t(i,r)}));"error"===s.status&&r(s.value)}function f(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=c).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===s)return this;var n=new this.constructor(i);return this.state!==l?h(n,this.state===a?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){o.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=f(p,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)d(e,r);else{e.state=a,e.outcome=t;for(var i=-1,s=e.queue.length;++i<s;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=s,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},c.reject=function(e){var t=new this(i);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,l=-1,c=new this(i);++l<n;)u(e[l],l);return c;function u(e,i){t.resolve(e).then((function(e){s[i]=e,++a!==n||r||(r=!0,o.resolve(c,s))}),(function(e){r||(r=!0,o.reject(c,e))}))}},c.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,n=!1;if(!t)return this.resolve([]);for(var r,s=-1,a=new this(i);++s<t;)r=e[s],this.resolve(r).then((function(e){n||(n=!0,o.resolve(a,e))}),(function(e){n||(n=!0,o.reject(a,e))}));return a}},{immediate:36}],38:[function(e,t,n){"use strict";var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),i=e("./utils/common"),o=e("./utils/strings"),s=e("./zlib/messages"),a=e("./zlib/zstream"),l=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(s[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var u;if(u="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,u)))throw new Error(s[n]);this._dict_set=!0}}function u(e,t){var n=new c(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}c.prototype.push=function(e,t){var n,s,a=this.strm,c=this.options.chunkSize;if(this.ended)return!1;s=t===~~t?t:!0===t?4:0,"string"==typeof e?a.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new i.Buf8(c),a.next_out=0,a.avail_out=c),1!==(n=r.deflate(a,s))&&0!==n)return this.onEnd(n),!(this.ended=!0);0!==a.avail_out&&(0!==a.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(a.output,a.next_out))):this.onData(i.shrinkBuf(a.output,a.next_out)))}while((0<a.avail_in||0===a.avail_out)&&1!==n);return 4===s?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==s||(this.onEnd(0),!(a.avail_out=0))},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=c,n.deflate=u,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,u(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),i=e("./utils/common"),o=e("./utils/strings"),s=e("./zlib/constants"),a=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),u=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==s.Z_OK)throw new Error(a[n]);this.header=new c,r.inflateGetHeader(this.strm,this.header)}function p(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(e,t){var n,a,l,c,h,p,d=this.strm,f=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof e?d.input=o.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(f),d.next_out=0,d.avail_out=f),(n=r.inflate(d,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&m&&(p="string"==typeof m?o.string2buf(m):"[object ArrayBuffer]"===u.call(m)?new Uint8Array(m):m,n=r.inflateSetDictionary(this.strm,p)),n===s.Z_BUF_ERROR&&!0===g&&(n=s.Z_OK,g=!1),n!==s.Z_STREAM_END&&n!==s.Z_OK)return this.onEnd(n),!(this.ended=!0);d.next_out&&(0!==d.avail_out&&n!==s.Z_STREAM_END&&(0!==d.avail_in||a!==s.Z_FINISH&&a!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(d.output,d.next_out),c=d.next_out-l,h=o.buf2string(d.output,l),d.next_out=c,d.avail_out=f-c,c&&i.arraySet(d.output,d.output,l,c,0),this.onData(h)):this.onData(i.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(g=!0)}while((0<d.avail_in||0===d.avail_out)&&n!==s.Z_STREAM_END);return n===s.Z_STREAM_END&&(a=s.Z_FINISH),a===s.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s.Z_OK):a!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(d.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=h,n.inflate=p,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},n.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,s;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(s=new Uint8Array(r),t=i=0,n=e.length;t<n;t++)o=e[t],s.set(o,i),i+=o.length;return s}},o={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],42:[function(e,t,n){"use strict";var r=e("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var s=new r.Buf8(256),a=0;a<256;a++)s[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function l(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",s=0;s<t;s++)n+=String.fromCharCode(e[s]);return n}s[254]=s[254]=1,n.string2buf=function(e){var t,n,i,o,s,a=e.length,l=0;for(o=0;o<a;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),o=s=0;s<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[s++]=n:(n<2048?t[s++]=192|n>>>6:(n<65536?t[s++]=224|n>>>12:(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63),t[s++]=128|n>>>6&63),t[s++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,o,a=t||e.length,c=new Array(2*a);for(n=r=0;n<a;)if((i=e[n++])<128)c[r++]=i;else if(4<(o=s[i]))c[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&n<a;)i=i<<6|63&e[n++],o--;1<o?c[r++]=65533:i<65536?c[r++]=i:(i-=65536,c[r++]=55296|i>>10&1023,c[r++]=56320|1023&i)}return l(c,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,s=0;0!==n;){for(n-=s=2e3<n?2e3:n;o=o+(i=i+t[r++]|0)|0,--s;);i%=65521,o%=65521}return i|o<<16|0}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var o=r,s=i+n;e^=-1;for(var a=i;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}},{}],46:[function(e,t,n){"use strict";var r,i=e("../utils/common"),o=e("./trees"),s=e("./adler32"),a=e("./crc32"),l=e("./messages"),c=-2,u=258,h=262,p=113;function d(e,t){return e.msg=l[t],t}function f(e){return(e<<1)-(4<e?9:0)}function m(e){for(var t=e.length;0<=--t;)e[t]=0}function g(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function y(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,g(e.strm)}function v(e,t){e.pending_buf[e.pending++]=t}function b(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function w(e,t){var n,r,i=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-h?e.strstart-(e.w_size-h):0,c=e.window,p=e.w_mask,d=e.prev,f=e.strstart+u,m=c[o+s-1],g=c[o+s];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(c[(n=t)+s]===g&&c[n+s-1]===m&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<f);if(r=u-(f-o),o=f-u,s<r){if(e.match_start=t,a<=(s=r))break;m=c[o+s-1],g=c[o+s]}}}while((t=d[t&p])>l&&0!=--i);return s<=e.lookahead?s:e.lookahead}function C(e){var t,n,r,o,l,c,u,p,d,f,m=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=m+(m-h)){for(i.arraySet(e.window,e.window,m,m,0),e.match_start-=m,e.strstart-=m,e.block_start-=m,t=n=e.hash_size;r=e.head[--t],e.head[t]=m<=r?r-m:0,--n;);for(t=n=m;r=e.prev[--t],e.prev[t]=m<=r?r-m:0,--n;);o+=m}if(0===e.strm.avail_in)break;if(c=e.strm,u=e.window,p=e.strstart+e.lookahead,f=void 0,(d=o)<(f=c.avail_in)&&(f=d),n=0===f?0:(c.avail_in-=f,i.arraySet(u,c.input,c.next_in,f,p),1===c.state.wrap?c.adler=s(c.adler,u,f,p):2===c.state.wrap&&(c.adler=a(c.adler,u,f,p)),c.next_in+=f,c.total_in+=f,f),e.lookahead+=n,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<h&&0!==e.strm.avail_in)}function S(e,t){for(var n,r;;){if(e.lookahead<h){if(C(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-h&&(e.match_length=w(e,n)),e.match_length>=3)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}function E(e,t){for(var n,r,i;;){if(e.lookahead<h){if(C(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-h&&(e.match_length=w(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-3,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(y(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&y(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}function k(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function x(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),m(this.dyn_ltree),m(this.dyn_dtree),m(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),m(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),m(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function D(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:p,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):d(e,c)}function _(e){var t=D(e);return 0===t&&function(e){e.window_size=2*e.w_size,m(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0}(e.state),t}function T(e,t,n,r,o,s){if(!e)return c;var a=1;if(-1===t&&(t=6),r<0?(a=0,r=-r):15<r&&(a=2,r-=16),o<1||9<o||8!==n||r<8||15<r||t<0||9<t||s<0||4<s)return d(e,c);8===r&&(r=9);var l=new x;return(e.state=l).strm=e,l.wrap=a,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=s,l.method=n,_(e)}r=[new k(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(C(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,y(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-h&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(y(e,!1),e.strm.avail_out),1)})),new k(4,4,8,4,S),new k(4,5,16,8,S),new k(4,6,32,32,S),new k(4,4,16,16,E),new k(8,16,32,32,E),new k(8,16,128,128,E),new k(8,32,128,256,E),new k(32,128,258,1024,E),new k(32,258,258,4096,E)],n.deflateInit=function(e,t){return T(e,t,8,15,8,0)},n.deflateInit2=T,n.deflateReset=_,n.deflateResetKeep=D,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?c:(e.state.gzhead=t,0):c},n.deflate=function(e,t){var n,i,s,l;if(!e||!e.state||5<t||t<0)return e?d(e,c):c;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return d(e,0===e.avail_out?-5:c);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,v(i,31),v(i,139),v(i,8),i.gzhead?(v(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),v(i,255&i.gzhead.time),v(i,i.gzhead.time>>8&255),v(i,i.gzhead.time>>16&255),v(i,i.gzhead.time>>24&255),v(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),v(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(v(i,255&i.gzhead.extra.length),v(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=a(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(v(i,0),v(i,0),v(i,0),v(i,0),v(i,0),v(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),v(i,3),i.status=p);else{var h=8+(i.w_bits-8<<4)<<8;h|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(h|=32),h+=31-h%31,i.status=p,b(i,h),0!==i.strstart&&(b(i,e.adler>>>16),b(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(s=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),g(e),s=i.pending,i.pending!==i.pending_buf_size));)v(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),g(e),s=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,v(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),g(e),s=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,v(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&g(e),i.pending+2<=i.pending_buf_size&&(v(i,255&e.adler),v(i,e.adler>>8&255),e.adler=0,i.status=p)):i.status=p),0!==i.pending){if(g(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&f(t)<=f(n)&&4!==t)return d(e,-5);if(666===i.status&&0!==e.avail_in)return d(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var w=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(C(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,s,a=e.window;;){if(e.lookahead<=u){if(C(e),e.lookahead<=u&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&0<e.strstart&&(r=a[i=e.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){s=e.strstart+u;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<s);e.match_length=u-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==w&&4!==w||(i.status=666),1===w||3===w)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===w&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(m(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),g(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(v(i,255&e.adler),v(i,e.adler>>8&255),v(i,e.adler>>16&255),v(i,e.adler>>24&255),v(i,255&e.total_in),v(i,e.total_in>>8&255),v(i,e.total_in>>16&255),v(i,e.total_in>>24&255)):(b(i,e.adler>>>16),b(i,65535&e.adler)),g(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?0:1)},n.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&t!==p&&666!==t?d(e,c):(e.state=null,t===p?d(e,-3):0):c},n.deflateSetDictionary=function(e,t){var n,r,o,a,l,u,h,p,d=t.length;if(!e||!e.state)return c;if(2===(a=(n=e.state).wrap)||1===a&&42!==n.status||n.lookahead)return c;for(1===a&&(e.adler=s(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&(m(n.head),n.strstart=0,n.block_start=0,n.insert=0),p=new i.Buf8(n.w_size),i.arraySet(p,t,d-n.w_size,n.w_size,0),t=p,d=n.w_size),l=e.avail_in,u=e.next_in,h=e.input,e.avail_in=d,e.next_in=0,e.input=t,C(n);n.lookahead>=3;){for(r=n.strstart,o=n.lookahead-2;n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--o;);n.strstart=r,n.lookahead=2,C(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=u,e.input=h,e.avail_in=l,n.wrap=a,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r,i,o,s,a,l,c,u,h,p,d,f,m,g,y,v,b,w,C,S,E,k,x,D;n=e.state,r=e.next_in,x=e.input,i=r+(e.avail_in-5),o=e.next_out,D=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,h=n.wnext,p=n.window,d=n.hold,f=n.bits,m=n.lencode,g=n.distcode,y=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{f<15&&(d+=x[r++]<<f,f+=8,d+=x[r++]<<f,f+=8),b=m[d&y];t:for(;;){if(d>>>=w=b>>>24,f-=w,0==(w=b>>>16&255))D[o++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=m[(65535&b)+(d&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}C=65535&b,(w&=15)&&(f<w&&(d+=x[r++]<<f,f+=8),C+=d&(1<<w)-1,d>>>=w,f-=w),f<15&&(d+=x[r++]<<f,f+=8,d+=x[r++]<<f,f+=8),b=g[d&v];n:for(;;){if(d>>>=w=b>>>24,f-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=g[(65535&b)+(d&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(S=65535&b,f<(w&=15)&&(d+=x[r++]<<f,(f+=8)<w&&(d+=x[r++]<<f,f+=8)),l<(S+=d&(1<<w)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(d>>>=w,f-=w,(w=o-s)<S){if(u<(w=S-w)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(k=p,(E=0)===h){if(E+=c-w,w<C){for(C-=w;D[o++]=p[E++],--w;);E=o-S,k=D}}else if(h<w){if(E+=c+h-w,(w-=h)<C){for(C-=w;D[o++]=p[E++],--w;);if(E=0,h<C){for(C-=w=h;D[o++]=p[E++],--w;);E=o-S,k=D}}}else if(E+=h-w,w<C){for(C-=w;D[o++]=p[E++],--w;);E=o-S,k=D}for(;2<C;)D[o++]=k[E++],D[o++]=k[E++],D[o++]=k[E++],C-=3;C&&(D[o++]=k[E++],1<C&&(D[o++]=k[E++]))}else{for(E=o-S;D[o++]=D[E++],D[o++]=D[E++],D[o++]=D[E++],2<(C-=3););C&&(D[o++]=D[E++],1<C&&(D[o++]=D[E++]))}break}}break}}while(r<i&&o<a);r-=C=f>>3,d&=(1<<(f-=C<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<a?a-o+257:257-(o-a),n.hold=d,n.bits=f}},{}],49:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./adler32"),o=e("./crc32"),s=e("./inffast"),a=e("./inftrees"),l=-2;function c(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function h(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):l}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,h(e)):l}function d(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?l:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,p(e))):l}function f(e,t){var n,r;return e?(r=new u,(e.state=r).window=null,0!==(n=d(e,t))&&(e.state=null),n):l}var m,g,y=!0;function v(e){if(y){var t;for(m=new r.Buf32(512),g=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(1,e.lens,0,288,m,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(2,e.lens,0,32,g,0,e.work,{bits:5}),y=!1}e.lencode=m,e.lenbits=9,e.distcode=g,e.distbits=5}function b(e,t,n,i){var o,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new r.Buf8(s.wsize)),i>=s.wsize?(r.arraySet(s.window,t,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i<(o=s.wsize-s.wnext)&&(o=i),r.arraySet(s.window,t,n-i,o,s.wnext),(i-=o)?(r.arraySet(s.window,t,n-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}n.inflateReset=p,n.inflateReset2=d,n.inflateResetKeep=h,n.inflateInit=function(e){return f(e,15)},n.inflateInit2=f,n.inflate=function(e,t){var n,u,h,p,d,f,m,g,y,w,C,S,E,k,x,D,_,T,R,A,O,P,I,M,F=0,N=new r.Buf8(4),B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;12===(n=e.state).mode&&(n.mode=13),d=e.next_out,h=e.output,m=e.avail_out,p=e.next_in,u=e.input,f=e.avail_in,g=n.hold,y=n.bits,w=f,C=m,P=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;y<16;){if(0===f)break e;f--,g+=u[p++]<<y,y+=8}if(2&n.wrap&&35615===g){N[n.check=0]=255&g,N[1]=g>>>8&255,n.check=o(n.check,N,2,0),y=g=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&g)<<8)+(g>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&g)){e.msg="unknown compression method",n.mode=30;break}if(y-=4,O=8+(15&(g>>>=4)),0===n.wbits)n.wbits=O;else if(O>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<O,e.adler=n.check=1,n.mode=512&g?10:12,y=g=0;break;case 2:for(;y<16;){if(0===f)break e;f--,g+=u[p++]<<y,y+=8}if(n.flags=g,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=g>>8&1),512&n.flags&&(N[0]=255&g,N[1]=g>>>8&255,n.check=o(n.check,N,2,0)),y=g=0,n.mode=3;case 3:for(;y<32;){if(0===f)break e;f--,g+=u[p++]<<y,y+=8}n.head&&(n.head.time=g),512&n.flags&&(N[0]=255&g,N[1]=g>>>8&255,N[2]=g>>>16&255,N[3]=g>>>24&255,n.check=o(n.check,N,4,0)),y=g=0,n.mode=4;case 4:for(;y<16;){if(0===f)break e;f--,g+=u[p++]<<y,y+=8}n.head&&(n.head.xflags=255&g,n.head.os=g>>8),512&n.flags&&(N[0]=255&g,N[1]=g>>>8&255,n.check=o(n.check,N,2,0)),y=g=0,n.mode=5;case 5:if(1024&n.flags){for(;y<16;){if(0===f)break e;f--,g+=u[p++]<<y,y+=8}n.length=g,n.head&&(n.head.extra_len=g),512&n.flags&&(N[0]=255&g,N[1]=g>>>8&255,n.check=o(n.check,N,2,0)),y=g=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(f<(S=n.length)&&(S=f),S&&(n.head&&(O=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,u,p,S,O)),512&n.flags&&(n.check=o(n.check,u,S,p)),f-=S,p+=S,n.length-=S),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===f)break e;for(S=0;O=u[p+S++],n.head&&O&&n.length<65536&&(n.head.name+=String.fromCharCode(O)),O&&S<f;);if(512&n.flags&&(n.check=o(n.check,u,S,p)),f-=S,p+=S,O)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===f)break e;for(S=0;O=u[p+S++],n.head&&O&&n.length<65536&&(n.head.comment+=String.fromCharCode(O)),O&&S<f;);if(512&n.flags&&(n.check=o(n.check,u,S,p)),f-=S,p+=S,O)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;y<16;){if(0===f)break e;f--,g+=u[p++]<<y,y+=8}if(g!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}y=g=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;y<32;){if(0===f)break e;f--,g+=u[p++]<<y,y+=8}e.adler=n.check=c(g),y=g=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=d,e.avail_out=m,e.next_in=p,e.avail_in=f,n.hold=g,n.bits=y,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){g>>>=7&y,y-=7&y,n.mode=27;break}for(;y<3;){if(0===f)break e;f--,g+=u[p++]<<y,y+=8}switch(n.last=1&g,y-=1,3&(g>>>=1)){case 0:n.mode=14;break;case 1:if(v(n),n.mode=20,6!==t)break;g>>>=2,y-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}g>>>=2,y-=2;break;case 14:for(g>>>=7&y,y-=7&y;y<32;){if(0===f)break e;f--,g+=u[p++]<<y,y+=8}if((65535&g)!=(g>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&g,y=g=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(S=n.length){if(f<S&&(S=f),m<S&&(S=m),0===S)break e;r.arraySet(h,u,p,S,d),f-=S,p+=S,m-=S,d+=S,n.length-=S;break}n.mode=12;break;case 17:for(;y<14;){if(0===f)break e;f--,g+=u[p++]<<y,y+=8}if(n.nlen=257+(31&g),g>>>=5,y-=5,n.ndist=1+(31&g),g>>>=5,y-=5,n.ncode=4+(15&g),g>>>=4,y-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;y<3;){if(0===f)break e;f--,g+=u[p++]<<y,y+=8}n.lens[B[n.have++]]=7&g,g>>>=3,y-=3}for(;n.have<19;)n.lens[B[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,I={bits:n.lenbits},P=a(0,n.lens,0,19,n.lencode,0,n.work,I),n.lenbits=I.bits,P){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;D=(F=n.lencode[g&(1<<n.lenbits)-1])>>>16&255,_=65535&F,!((x=F>>>24)<=y);){if(0===f)break e;f--,g+=u[p++]<<y,y+=8}if(_<16)g>>>=x,y-=x,n.lens[n.have++]=_;else{if(16===_){for(M=x+2;y<M;){if(0===f)break e;f--,g+=u[p++]<<y,y+=8}if(g>>>=x,y-=x,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}O=n.lens[n.have-1],S=3+(3&g),g>>>=2,y-=2}else if(17===_){for(M=x+3;y<M;){if(0===f)break e;f--,g+=u[p++]<<y,y+=8}y-=x,O=0,S=3+(7&(g>>>=x)),g>>>=3,y-=3}else{for(M=x+7;y<M;){if(0===f)break e;f--,g+=u[p++]<<y,y+=8}y-=x,O=0,S=11+(127&(g>>>=x)),g>>>=7,y-=7}if(n.have+S>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;S--;)n.lens[n.have++]=O}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,I={bits:n.lenbits},P=a(1,n.lens,0,n.nlen,n.lencode,0,n.work,I),n.lenbits=I.bits,P){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,I={bits:n.distbits},P=a(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,I),n.distbits=I.bits,P){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=f&&258<=m){e.next_out=d,e.avail_out=m,e.next_in=p,e.avail_in=f,n.hold=g,n.bits=y,s(e,C),d=e.next_out,h=e.output,m=e.avail_out,p=e.next_in,u=e.input,f=e.avail_in,g=n.hold,y=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;D=(F=n.lencode[g&(1<<n.lenbits)-1])>>>16&255,_=65535&F,!((x=F>>>24)<=y);){if(0===f)break e;f--,g+=u[p++]<<y,y+=8}if(D&&0==(240&D)){for(T=x,R=D,A=_;D=(F=n.lencode[A+((g&(1<<T+R)-1)>>T)])>>>16&255,_=65535&F,!(T+(x=F>>>24)<=y);){if(0===f)break e;f--,g+=u[p++]<<y,y+=8}g>>>=T,y-=T,n.back+=T}if(g>>>=x,y-=x,n.back+=x,n.length=_,0===D){n.mode=26;break}if(32&D){n.back=-1,n.mode=12;break}if(64&D){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&D,n.mode=22;case 22:if(n.extra){for(M=n.extra;y<M;){if(0===f)break e;f--,g+=u[p++]<<y,y+=8}n.length+=g&(1<<n.extra)-1,g>>>=n.extra,y-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;D=(F=n.distcode[g&(1<<n.distbits)-1])>>>16&255,_=65535&F,!((x=F>>>24)<=y);){if(0===f)break e;f--,g+=u[p++]<<y,y+=8}if(0==(240&D)){for(T=x,R=D,A=_;D=(F=n.distcode[A+((g&(1<<T+R)-1)>>T)])>>>16&255,_=65535&F,!(T+(x=F>>>24)<=y);){if(0===f)break e;f--,g+=u[p++]<<y,y+=8}g>>>=T,y-=T,n.back+=T}if(g>>>=x,y-=x,n.back+=x,64&D){e.msg="invalid distance code",n.mode=30;break}n.offset=_,n.extra=15&D,n.mode=24;case 24:if(n.extra){for(M=n.extra;y<M;){if(0===f)break e;f--,g+=u[p++]<<y,y+=8}n.offset+=g&(1<<n.extra)-1,g>>>=n.extra,y-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===m)break e;if(S=C-m,n.offset>S){if((S=n.offset-S)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}E=S>n.wnext?(S-=n.wnext,n.wsize-S):n.wnext-S,S>n.length&&(S=n.length),k=n.window}else k=h,E=d-n.offset,S=n.length;for(m<S&&(S=m),m-=S,n.length-=S;h[d++]=k[E++],--S;);0===n.length&&(n.mode=21);break;case 26:if(0===m)break e;h[d++]=n.length,m--,n.mode=21;break;case 27:if(n.wrap){for(;y<32;){if(0===f)break e;f--,g|=u[p++]<<y,y+=8}if(C-=m,e.total_out+=C,n.total+=C,C&&(e.adler=n.check=n.flags?o(n.check,h,C,d-C):i(n.check,h,C,d-C)),C=m,(n.flags?g:c(g))!==n.check){e.msg="incorrect data check",n.mode=30;break}y=g=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;y<32;){if(0===f)break e;f--,g+=u[p++]<<y,y+=8}if(g!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}y=g=0}n.mode=29;case 29:P=1;break e;case 30:P=-3;break e;case 31:return-4;case 32:default:return l}return e.next_out=d,e.avail_out=m,e.next_in=p,e.avail_in=f,n.hold=g,n.bits=y,(n.wsize||C!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&b(e,e.output,e.next_out,C-e.avail_out)?(n.mode=31,-4):(w-=e.avail_in,C-=e.avail_out,e.total_in+=w,e.total_out+=C,n.total+=C,n.wrap&&C&&(e.adler=n.check=n.flags?o(n.check,h,C,e.next_out-C):i(n.check,h,C,e.next_out-C)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==w&&0===C||4===t)&&0===P&&(P=-5),P)},n.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,0},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?l:((n.head=t).done=!1,0):l},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?l:11===n.mode&&i(1,t,r,0)!==n.check?-3:b(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):l},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var r=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,l,c,u,h,p){var d,f,m,g,y,v,b,w,C,S=p.bits,E=0,k=0,x=0,D=0,_=0,T=0,R=0,A=0,O=0,P=0,I=null,M=0,F=new r.Buf16(16),N=new r.Buf16(16),B=null,L=0;for(E=0;E<=15;E++)F[E]=0;for(k=0;k<l;k++)F[t[n+k]]++;for(_=S,D=15;1<=D&&0===F[D];D--);if(D<_&&(_=D),0===D)return c[u++]=20971520,c[u++]=20971520,p.bits=1,0;for(x=1;x<D&&0===F[x];x++);for(_<x&&(_=x),E=A=1;E<=15;E++)if(A<<=1,(A-=F[E])<0)return-1;if(0<A&&(0===e||1!==D))return-1;for(N[1]=0,E=1;E<15;E++)N[E+1]=N[E]+F[E];for(k=0;k<l;k++)0!==t[n+k]&&(h[N[t[n+k]]++]=k);if(v=0===e?(I=B=h,19):1===e?(I=i,M-=257,B=o,L-=257,256):(I=s,B=a,-1),E=x,y=u,R=k=P=0,m=-1,g=(O=1<<(T=_))-1,1===e&&852<O||2===e&&592<O)return 1;for(;;){for(b=E-R,C=h[k]<v?(w=0,h[k]):h[k]>v?(w=B[L+h[k]],I[M+h[k]]):(w=96,0),d=1<<E-R,x=f=1<<T;c[y+(P>>R)+(f-=d)]=b<<24|w<<16|C|0,0!==f;);for(d=1<<E-1;P&d;)d>>=1;if(0!==d?(P&=d-1,P+=d):P=0,k++,0==--F[E]){if(E===D)break;E=t[n+h[k]]}if(_<E&&(P&g)!==m){for(0===R&&(R=_),y+=x,A=1<<(T=E-R);T+R<D&&!((A-=F[T+R])<=0);)T++,A<<=1;if(O+=1<<T,1===e&&852<O||2===e&&592<O)return 1;c[m=P&g]=_<<24|T<<16|y-u|0}}return 0!==P&&(c[y+P]=E-R<<24|64<<16|0),p.bits=_,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var r=e("../utils/common");function i(e){for(var t=e.length;0<=--t;)e[t]=0}var o=256,s=286,a=30,l=15,c=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],u=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],p=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],d=new Array(576);i(d);var f=new Array(60);i(f);var m=new Array(512);i(m);var g=new Array(256);i(g);var y=new Array(29);i(y);var v,b,w,C=new Array(a);function S(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function E(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function k(e){return e<256?m[e]:m[256+(e>>>7)]}function x(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function D(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,x(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function _(e,t,n){D(e,n[2*t],n[2*t+1])}function T(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function R(e,t,n){var r,i,o=new Array(16),s=0;for(r=1;r<=l;r++)o[r]=s=s+n[r-1]<<1;for(i=0;i<=t;i++){var a=e[2*i+1];0!==a&&(e[2*i]=T(o[a]++,a))}}function A(e){var t;for(t=0;t<s;t++)e.dyn_ltree[2*t]=0;for(t=0;t<a;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function O(e){8<e.bi_valid?x(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function P(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function I(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&P(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!P(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function M(e,t,n){var r,i,s,a,l=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],i=e.pending_buf[e.l_buf+l],l++,0===r?_(e,i,t):(_(e,(s=g[i])+o+1,t),0!==(a=c[s])&&D(e,i-=y[s],a),_(e,s=k(--r),n),0!==(a=u[s])&&D(e,r-=C[s],a)),l<e.last_lit;);_(e,256,t)}function F(e,t){var n,r,i,o=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,c=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<c;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,a&&(e.static_len-=s[2*i+1]);for(t.max_code=u,n=e.heap_len>>1;1<=n;n--)I(e,o,n);for(i=c;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],I(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,I(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,s,a,c=t.dyn_tree,u=t.max_code,h=t.stat_desc.static_tree,p=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,m=t.stat_desc.max_length,g=0;for(o=0;o<=l;o++)e.bl_count[o]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)m<(o=c[2*c[2*(r=e.heap[n])+1]+1]+1)&&(o=m,g++),c[2*r+1]=o,u<r||(e.bl_count[o]++,s=0,f<=r&&(s=d[r-f]),a=c[2*r],e.opt_len+=a*(o+s),p&&(e.static_len+=a*(h[2*r+1]+s)));if(0!==g){do{for(o=m-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[m]--,g-=2}while(0<g);for(o=m;0!==o;o--)for(r=e.bl_count[o];0!==r;)u<(i=e.heap[--n])||(c[2*i+1]!==o&&(e.opt_len+=(o-c[2*i+1])*c[2*i],c[2*i+1]=o),r--)}}(e,t),R(o,u,e.bl_count)}function N(e,t,n){var r,i,o=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=t[2*(r+1)+1],++a<l&&i===s||(a<c?e.bl_tree[2*i]+=a:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=i,c=(a=0)===s?(l=138,3):i===s?(l=6,3):(l=7,4))}function B(e,t,n){var r,i,o=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),r=0;r<=n;r++)if(i=s,s=t[2*(r+1)+1],!(++a<l&&i===s)){if(a<c)for(;_(e,i,e.bl_tree),0!=--a;);else 0!==i?(i!==o&&(_(e,i,e.bl_tree),a--),_(e,16,e.bl_tree),D(e,a-3,2)):a<=10?(_(e,17,e.bl_tree),D(e,a-3,3)):(_(e,18,e.bl_tree),D(e,a-11,7));o=i,c=(a=0)===s?(l=138,3):i===s?(l=6,3):(l=7,4)}}i(C);var L=!1;function H(e,t,n,i){D(e,0+(i?1:0),3),function(e,t,n,i){O(e),x(e,n),x(e,~n),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}n._tr_init=function(e){L||(function(){var e,t,n,r,i,o=new Array(16);for(r=n=0;r<28;r++)for(y[r]=n,e=0;e<1<<c[r];e++)g[n++]=r;for(g[n-1]=r,r=i=0;r<16;r++)for(C[r]=i,e=0;e<1<<u[r];e++)m[i++]=r;for(i>>=7;r<a;r++)for(C[r]=i<<7,e=0;e<1<<u[r]-7;e++)m[256+i++]=r;for(t=0;t<=l;t++)o[t]=0;for(e=0;e<=143;)d[2*e+1]=8,e++,o[8]++;for(;e<=255;)d[2*e+1]=9,e++,o[9]++;for(;e<=279;)d[2*e+1]=7,e++,o[7]++;for(;e<=287;)d[2*e+1]=8,e++,o[8]++;for(R(d,287,o),e=0;e<a;e++)f[2*e+1]=5,f[2*e]=T(e,5);v=new S(d,c,257,s,l),b=new S(f,u,0,a,l),w=new S(new Array(0),h,0,19,7)}(),L=!0),e.l_desc=new E(e.dyn_ltree,v),e.d_desc=new E(e.dyn_dtree,b),e.bl_desc=new E(e.bl_tree,w),e.bi_buf=0,e.bi_valid=0,A(e)},n._tr_stored_block=H,n._tr_flush_block=function(e,t,n,r){var i,s,a=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<o;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),F(e,e.l_desc),F(e,e.d_desc),a=function(e){var t;for(N(e,e.dyn_ltree,e.l_desc.max_code),N(e,e.dyn_dtree,e.d_desc.max_code),F(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*p[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=i&&(i=s)):i=s=n+5,n+4<=i&&-1!==t?H(e,t,n,r):4===e.strategy||s===i?(D(e,2+(r?1:0),3),M(e,d,f)):(D(e,4+(r?1:0),3),function(e,t,n,r){var i;for(D(e,t-257,5),D(e,n-1,5),D(e,r-4,4),i=0;i<r;i++)D(e,e.bl_tree[2*p[i]+1],3);B(e,e.dyn_ltree,t-1),B(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),M(e,e.dyn_ltree,e.dyn_dtree)),A(e),r&&O(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(g[n]+o+1)]++,e.dyn_dtree[2*k(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){D(e,2,3),_(e,256,d),function(e){16===e.bi_valid?(x(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){"use strict";t.exports="function"==typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)},function(e,t){e.exports=require("net")},function(e,t){e.exports=require("querystring")},function(e,t,n){var r=Array.prototype.slice,i=n(347),o=n(348),s=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:function(e,t,n){var c,u;if(a(e)||a(t))return!1;if(e.prototype!==t.prototype)return!1;if(o(e))return!!o(t)&&(e=r.call(e),t=r.call(t),s(e,t,n));if(l(e)){if(!l(t))return!1;if(e.length!==t.length)return!1;for(c=0;c<e.length;c++)if(e[c]!==t[c])return!1;return!0}try{var h=i(e),p=i(t)}catch(e){return!1}if(h.length!=p.length)return!1;for(h.sort(),p.sort(),c=h.length-1;c>=0;c--)if(h[c]!=p[c])return!1;for(c=h.length-1;c>=0;c--)if(u=h[c],!s(e[u],t[u],n))return!1;return typeof e==typeof t}(e,t,n))};function a(e){return null==e}function l(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}},function(e,t,n){"use strict";function r(e){if(this._capacity=o(e),this._length=0,this._front=0,i(e)){for(var t=e.length,n=0;n<t;++n)this[n]=e[n];this._length=t}}r.prototype.toArray=function(){for(var e=this._length,t=new Array(e),n=this._front,r=this._capacity,i=0;i<e;++i)t[i]=this[n+i&r-1];return t},r.prototype.push=function(e){var t=arguments.length,n=this._length;if(t>1){var r=this._capacity;if(n+t>r){for(var i=0;i<t;++i){this._checkCapacity(n+1),this[o=this._front+n&this._capacity-1]=arguments[i],n++,this._length=n}return n}for(var o=this._front,i=0;i<t;++i)this[o+n&r-1]=arguments[i],o++;return this._length=n+t,n+t}return 0===t?n:(this._checkCapacity(n+1),this[i=this._front+n&this._capacity-1]=e,this._length=n+1,n+1)},r.prototype.pop=function(){var e=this._length;if(0!==e){var t=this._front+e-1&this._capacity-1,n=this[t];return this[t]=void 0,this._length=e-1,n}},r.prototype.shift=function(){var e=this._length;if(0!==e){var t=this._front,n=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length=e-1,n}},r.prototype.unshift=function(e){var t=this._length,n=arguments.length;if(n>1){if(t+n>(i=this._capacity)){for(var r=n-1;r>=0;r--){this._checkCapacity(t+1);var i=this._capacity;this[s=(this._front-1&i-1^i)-i]=arguments[r],t++,this._length=t,this._front=s}return t}var o=this._front;for(r=n-1;r>=0;r--){var s;this[s=(o-1&i-1^i)-i]=arguments[r],o=s}return this._front=o,this._length=t+n,t+n}if(0===n)return t;this._checkCapacity(t+1);i=this._capacity;return this[r=(this._front-1&i-1^i)-i]=e,this._length=t+1,this._front=r,t+1},r.prototype.peekBack=function(){var e=this._length;if(0!==e)return this[this._front+e-1&this._capacity-1]},r.prototype.peekFront=function(){if(0!==this._length)return this[this._front]},r.prototype.get=function(e){var t=e;if(t===(0|t)){var n=this._length;if(t<0&&(t+=n),!(t<0||t>=n))return this[this._front+t&this._capacity-1]}},r.prototype.isEmpty=function(){return 0===this._length},r.prototype.clear=function(){for(var e=this._length,t=this._front,n=this._capacity,r=0;r<e;++r)this[t+r&n-1]=void 0;this._length=0,this._front=0},r.prototype.toString=function(){return this.toArray().toString()},r.prototype.valueOf=r.prototype.toString,r.prototype.removeFront=r.prototype.shift,r.prototype.removeBack=r.prototype.pop,r.prototype.insertFront=r.prototype.unshift,r.prototype.insertBack=r.prototype.push,r.prototype.enqueue=r.prototype.push,r.prototype.dequeue=r.prototype.shift,r.prototype.toJSON=r.prototype.toArray,Object.defineProperty(r.prototype,"length",{get:function(){return this._length},set:function(){throw new RangeError("")}}),r.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(o(1.5*this._capacity+16))},r.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var n=this._front,r=this._length;n+r>t&&function(e,t,n,r,i){for(var o=0;o<i;++o)n[o+r]=e[o+t],e[o+t]=void 0}(this,0,this,t,n+r&t-1)};var i=Array.isArray;function o(e){if("number"!=typeof e){if(!i(e))return 16;e=e.length}return t=Math.min(Math.max(16,e),1073741824),t>>>=0,t-=1,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,1+(t|=t>>16);var t}e.exports=r},function(e,t,n){const r=n(1);function i(){return"desktop-trampoline"}function o(){return"ssh-wrapper"}e.exports={getDesktopTrampolinePath:function(){return r.join(__dirname,"build","Release",i())},getDesktopTrampolineFilename:i,getSSHWrapperPath:function(){return r.join(__dirname,"build","Release",o())},getSSHWrapperFilename:o}},function(e,t,n){"use strict";var r=n(92);t.__esModule=!0,t.default=function(e){if((!i&&0!==i||e)&&o.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),i=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return i};var i,o=r(n(133));e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},function(e,t,n){!function(){var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n="undefined"!=typeof window,r=n&&null!=window.mozInnerScreenX;function i(e,i,o){if(!n)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var s=o&&o.debug||!1;if(s){var a=document.querySelector("#input-textarea-caret-position-mirror-div");a&&a.parentNode.removeChild(a)}var l=document.createElement("div");l.id="input-textarea-caret-position-mirror-div",document.body.appendChild(l);var c=l.style,u=window.getComputedStyle?getComputedStyle(e):e.currentStyle;c.whiteSpace="pre-wrap","INPUT"!==e.nodeName&&(c.wordWrap="break-word"),c.position="absolute",s||(c.visibility="hidden"),t.forEach((function(e){c[e]=u[e]})),r?e.scrollHeight>parseInt(u.height)&&(c.overflowY="scroll"):c.overflow="hidden",l.textContent=e.value.substring(0,i),"INPUT"===e.nodeName&&(l.textContent=l.textContent.replace(/\s/g,""));var h=document.createElement("span");h.textContent=e.value.substring(i)||".",l.appendChild(h);var p={top:h.offsetTop+parseInt(u.borderTopWidth),left:h.offsetLeft+parseInt(u.borderLeftWidth)};return s?h.style.backgroundColor="#aaa":document.body.removeChild(l),p}void 0!==e.exports?e.exports=i:n&&(window.getCaretCoordinates=i)}()},function(e,t,n){e.exports={default:n(409),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=d(n(0)),l=n(16),c=(d(n(135)),d(n(413))),u=d(n(414)),h=d(n(195)),p=d(n(415));n(196);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}return e}var m=a.default.createFactory(p.default),g=(i=r=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return i.handleDoneAppearing=function(e){delete i.transitioningKeys[e],e!==i.state.currentKey&&i.performLeave(e)},i.performLeave=function(e){i.transitioningKeys[e]=!0,i.childRefs[e].componentWillLeave(i.handleDoneLeaving.bind(i,e)),i.state.currentChild&&(0,l.findDOMNode)(i.childRefs[i.state.currentKey])||i.enqueueHeightTransition()},i.performHeightTransition=function(){if(!i.unmounted){var e=i.state,t=e.currentChild?(0,l.findDOMNode)(i.childRefs[e.currentKey]):null;i.setState({height:t?t.offsetHeight:0,width:i.props.changeWidth?t?t.offsetWidth:0:null})}i.rafHandle=null},i.childRefs=Object.create(null),i.state={currentKey:"1",currentChild:i.props.children?a.default.Children.only(i.props.children):void 0,prevChildren:{},height:null,width:null},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf,f(e,t))}(t,e),t.prototype.componentWillMount=function(){this.shouldEnterCurrent=!1,this.keysToLeave=[],this.transitioningKeys={}},t.prototype.componentDidMount=function(){this.props.transitionAppear&&this.state.currentChild&&this.performAppear(this.state.currentKey)},t.prototype.componentWillUnmount=function(){this.unmounted=!0},t.prototype.componentWillReceiveProps=function(e){var t=e.children?a.default.Children.only(e.children):void 0,n=this.state.currentChild;if(n&&t&&t.key===n.key&&!this.state.nextChild)return this.setState({currentChild:t});var r=this.state,i=r.currentKey,o=r.prevChildren,c={currentKey:String(Number(i)+1),currentChild:t,height:0,width:this.props.changeWidth?0:null};if(t&&(this.shouldEnterCurrent=!0),n){var u,h=(0,l.findDOMNode)(this.childRefs[i]);c.height=h?h.offsetHeight:0,c.width=this.props.changeWidth?h?h.offsetWidth:0:null,c.prevChildren=s({},o,((u={})[i]=n,u)),this.transitioningKeys[i]||this.keysToLeave.push(i)}this.setState(c)},t.prototype.componentDidUpdate=function(){this.shouldEnterCurrent&&(this.shouldEnterCurrent=!1,(0,l.findDOMNode)(this.childRefs[this.state.currentKey])&&this.performEnter(this.state.currentKey));var e=this.keysToLeave;this.keysToLeave=[],e.forEach(this.performLeave)},t.prototype.performAppear=function(e){this.transitioningKeys[e]=!0,this.childRefs[e].componentWillAppear(this.handleDoneAppearing.bind(this,e))},t.prototype.performEnter=function(e){this.transitioningKeys[e]=!0,this.childRefs[e].componentWillEnter(this.handleDoneEntering.bind(this,e)),this.enqueueHeightTransition()},t.prototype.handleDoneEntering=function(e){delete this.transitioningKeys[e],e===this.state.currentKey?this.setState({height:null}):this.performLeave(e)},t.prototype.handleDoneLeaving=function(e){delete this.transitioningKeys[e];var t={prevChildren:s({},this.state.prevChildren)};delete t.prevChildren[e],delete this.childRefs[e],this.state.currentChild&&(0,l.findDOMNode)(this.childRefs[this.state.currentKey])||(t.height=null),this.setState(t)},t.prototype.enqueueHeightTransition=function(){this.rafHandle||(this.rafHandle=(0,h.default)(this.performHeightTransition))},t.prototype.wrapChild=function(e,t){var n=this.props.transitionName;return"object"===(void 0===n?"undefined":o(n))&&null!==n&&delete(n=s({},n)).height,m(s({name:n,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},t),e)},t.prototype.storeChildRef=function(e,t){var n=this,r="string"!=typeof e.ref;return(0,u.default)(r,"string refs are not supported on children of ReactCSSTransitionReplace and will be ignored. Please use a callback ref instead: https://facebook.github.io/react/docs/refs-and-the-dom.html#the-ref-callback-attribute"),(0,c.default)(r?e.ref:null,(function(e){n.childRefs[t]=e}))},t.prototype.render=function(){var e=this,t=this.state,n=t.currentKey,r=t.currentChild,i=t.prevChildren,o=t.height,l=t.width,c=[],u=this.props,h=u.overflowHidden,p=u.transitionName,d=u.component,f=u.childComponent,m=u.notifyLeaving,g=(u.transitionAppear,u.transitionEnter,u.transitionLeave,u.changeWidth,u.transitionAppearTimeout,u.transitionEnterTimeout,u.transitionLeaveTimeout,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(u,["overflowHidden","transitionName","component","childComponent","notifyLeaving","transitionAppear","transitionEnter","transitionLeave","changeWidth","transitionAppearTimeout","transitionEnterTimeout","transitionLeaveTimeout"])),y=this.shouldEnterCurrent||this.keysToLeave.length||Object.keys(this.transitioningKeys).length;if(g.style=s({},g.style),y&&(g.style.position="relative",h&&(g.style.overflow="hidden")),null!==o){var v="string"==typeof p?p+"-height":p&&p.height||"";g.className=String(g.className||"")+" "+String(v),g.style.height=o}null!==l&&(g.style.width=l);var b={position:"absolute",top:0,left:0,right:0,bottom:0,userSelect:"none"};return Object.keys(i).forEach((function(t){var n=i[t];c.push(a.default.createElement(f,{key:t,style:b},e.wrapChild(m&&"string"!=typeof n.type?a.default.cloneElement(n,{isLeaving:!0}):n,{ref:e.storeChildRef(n,t)})))})),r&&c.push(a.default.createElement(f,{key:n,style:this.transitioningKeys[n]?b:y?{position:"relative"}:null},this.wrapChild(r,{ref:this.storeChildRef(r,n)}))),a.default.createElement(d,g,c)},t}(a.default.Component),r.displayName="ReactCSSTransitionReplace",r.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0,overflowHidden:!0,changeWidth:!1,notifyLeaving:!1,component:"div",childComponent:"span"},i);t.default=g,e.exports=t.default},function(e,t,n){!function(e){"use strict";function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.defaults={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};var o=/[&<>"']/,s=/[&<>"']/g,a=/[<>"']|&(?!#?\w+;)/,l=/[<>"']|&(?!#?\w+;)/g,c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u=function(e){return c[e]};function h(e,t){if(t){if(o.test(e))return e.replace(s,u)}else if(a.test(e))return e.replace(l,u);return e}var p=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function d(e){return e.replace(p,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var f=/(^|[^\[])\^/g;function m(e,t){e=e.source||e,t=t||"";var n={replace:function(t,r){return r=(r=r.source||r).replace(f,"$1"),e=e.replace(t,r),n},getRegex:function(){return new RegExp(e,t)}};return n}var g=/[^\w:]/g,y=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function v(e,t,n){if(e){var r;try{r=decodeURIComponent(d(n)).replace(g,"").toLowerCase()}catch(e){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!y.test(n)&&(n=function(e,t){b[" "+e]||(w.test(e)?b[" "+e]=e+"/":b[" "+e]=D(e,"/",!0));var n=-1===(e=b[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(C,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(S,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}var b={},w=/^[^:]+:\/*[^/]*$/,C=/^([^:]+:)[\s\S]*$/,S=/^([^:]+:\/*[^/]*)[\s\S]*$/,E={exec:function(){}};function k(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function x(e,t){var n=e.replace(/\|/g,(function(e,t,n){for(var r=!1,i=t;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})).split(/ \|/),r=0;if(n[0].trim()||n.shift(),n[n.length-1].trim()||n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function D(e,t,n){var r=e.length;if(0===r)return"";for(var i=0;i<r;){var o=e.charAt(r-i-1);if(o!==t||n){if(o===t||!n)break;i++}else i++}return e.substr(0,r-i)}function _(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function T(e,t){if(t<1)return"";for(var n="";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function R(e,t,n,r){var i=t.href,o=t.title?h(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;var a={type:"link",raw:n,href:i,title:o,text:s,tokens:r.inlineTokens(s,[])};return r.state.inLink=!1,a}return{type:"image",raw:n,href:i,title:o,text:h(s)}}var A=function(){function t(t){this.options=t||e.defaults}var n=t.prototype;return n.space=function(e){var t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}},n.code=function(e){var t=this.rules.block.code.exec(e);if(t){var n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:D(n,"\n")}}},n.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var n=t[0],r=function(e,t){var n=e.match(/^(\s+)(?:```)/);if(null===n)return t;var r=n[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null===t?e:t[0].length>=r.length?e.slice(r.length):e})).join("\n")}(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim():t[2],text:r}}},n.heading=function(e){var t=this.rules.block.heading.exec(e);if(t){var n=t[2].trim();if(/#$/.test(n)){var r=D(n,"#");this.options.pedantic?n=r.trim():r&&!/ $/.test(r)||(n=r.trim())}var i={type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:[]};return this.lexer.inline(i.text,i.tokens),i}},n.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},n.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var n=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(n,[]),text:n}}},n.list=function(e){var t=this.rules.block.list.exec(e);if(t){var n,i,o,s,a,l,c,u,h,p,d,f,m=t[1].trim(),g=m.length>1,y={type:"list",raw:"",ordered:g,start:g?+m.slice(0,-1):"",loose:!1,items:[]};m=g?"\\d{1,9}\\"+m.slice(-1):"\\"+m,this.options.pedantic&&(m=g?m:"[*+-]");for(var v=new RegExp("^( {0,3}"+m+")((?: [^\\n]*)?(?:\\n|$))");e&&(f=!1,t=v.exec(e))&&!this.rules.block.hr.test(e);){if(n=t[0],e=e.substring(n.length),u=t[2].split("\n",1)[0],h=e.split("\n",1)[0],this.options.pedantic?(s=2,d=u.trimLeft()):(s=(s=t[2].search(/[^ ]/))>4?1:s,d=u.slice(s),s+=t[1].length),l=!1,!u&&/^ *$/.test(h)&&(n+=h+"\n",e=e.substring(h.length+1),f=!0),!f)for(var b=new RegExp("^ {0,"+Math.min(3,s-1)+"}(?:[*+-]|\\d{1,9}[.)])");e&&(u=p=e.split("\n",1)[0],this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!b.test(u));){if(u.search(/[^ ]/)>=s||!u.trim())d+="\n"+u.slice(s);else{if(l)break;d+="\n"+u}l||u.trim()||(l=!0),n+=p+"\n",e=e.substring(p.length+1)}y.loose||(c?y.loose=!0:/\n *\n *$/.test(n)&&(c=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(d))&&(o="[ ] "!==i[0],d=d.replace(/^\[[ xX]\] +/,"")),y.items.push({type:"list_item",raw:n,task:!!i,checked:o,loose:!1,text:d}),y.raw+=n}y.items[y.items.length-1].raw=n.trimRight(),y.items[y.items.length-1].text=d.trimRight(),y.raw=y.raw.trimRight();var w=y.items.length;for(a=0;a<w;a++){this.lexer.state.top=!1,y.items[a].tokens=this.lexer.blockTokens(y.items[a].text,[]);var C=y.items[a].tokens.filter((function(e){return"space"===e.type})),S=C.every((function(e){for(var t,n=0,i=r(e.raw.split(""));!(t=i()).done;)if("\n"===t.value&&(n+=1),n>1)return!0;return!1}));!y.loose&&C.length&&S&&(y.loose=!0,y.items[a].loose=!0)}return y}},n.html=function(e){var t=this.rules.block.html.exec(e);if(t){var n={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};return this.options.sanitize&&(n.type="paragraph",n.text=this.options.sanitizer?this.options.sanitizer(t[0]):h(t[0]),n.tokens=[],this.lexer.inline(n.text,n.tokens)),n}},n.def=function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}},n.table=function(e){var t=this.rules.block.table.exec(e);if(t){var n={type:"table",header:x(t[1]).map((function(e){return{text:e}})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=t[0];var r,i,o,s,a=n.align.length;for(r=0;r<a;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(a=n.rows.length,r=0;r<a;r++)n.rows[r]=x(n.rows[r],n.header.length).map((function(e){return{text:e}}));for(a=n.header.length,i=0;i<a;i++)n.header[i].tokens=[],this.lexer.inlineTokens(n.header[i].text,n.header[i].tokens);for(a=n.rows.length,i=0;i<a;i++)for(s=n.rows[i],o=0;o<s.length;o++)s[o].tokens=[],this.lexer.inlineTokens(s[o].text,s[o].tokens);return n}}},n.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t){var n={type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}},n.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t){var n={type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}},n.text=function(e){var t=this.rules.block.text.exec(e);if(t){var n={type:"text",raw:t[0],text:t[0],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}},n.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:h(t[1])}},n.tag=function(e){var t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):h(t[0]):t[0]}},n.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var r=D(n.slice(0,-1),"\\");if((n.length-r.length)%2==0)return}else{var i=function(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=e.length,r=0,i=0;i<n;i++)if("\\"===e[i])i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&--r<0)return i;return-1}(t[2],"()");if(i>-1){var o=(0===t[0].indexOf("!")?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,o).trim(),t[3]=""}}var s=t[2],a="";if(this.options.pedantic){var l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);l&&(s=l[1],a=l[3])}else a=t[3]?t[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(s=this.options.pedantic&&!/>$/.test(n)?s.slice(1):s.slice(1,-1)),R(t,{href:s?s.replace(this.rules.inline._escapes,"$1"):s,title:a?a.replace(this.rules.inline._escapes,"$1"):a},t[0],this.lexer)}},n.reflink=function(e,t){var n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){var r=(n[2]||n[1]).replace(/\s+/g," ");if(!(r=t[r.toLowerCase()])||!r.href){var i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return R(n,r,n[0],this.lexer)}},n.emStrong=function(e,t,n){void 0===n&&(n="");var r=this.rules.inline.emStrong.lDelim.exec(e);if(r&&(!r[3]||!n.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var i=r[1]||r[2]||"";if(!i||i&&(""===n||this.rules.inline.punctuation.exec(n))){var o,s,a=r[0].length-1,l=a,c=0,u="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(u.lastIndex=0,t=t.slice(-1*e.length+a);null!=(r=u.exec(t));)if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6])if(s=o.length,r[3]||r[4])l+=s;else if(!((r[5]||r[6])&&a%3)||(a+s)%3){if(!((l-=s)>0)){if(s=Math.min(s,s+l+c),Math.min(a,s)%2){var h=e.slice(1,a+r.index+s);return{type:"em",raw:e.slice(0,a+r.index+s+1),text:h,tokens:this.lexer.inlineTokens(h,[])}}var p=e.slice(2,a+r.index+s-1);return{type:"strong",raw:e.slice(0,a+r.index+s+1),text:p,tokens:this.lexer.inlineTokens(p,[])}}}else c+=s}}},n.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var n=t[2].replace(/\n/g," "),r=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return r&&i&&(n=n.substring(1,n.length-1)),n=h(n,!0),{type:"codespan",raw:t[0],text:n}}},n.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},n.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}},n.autolink=function(e,t){var n,r,i=this.rules.inline.autolink.exec(e);if(i)return r="@"===i[2]?"mailto:"+(n=h(this.options.mangle?t(i[1]):i[1])):n=h(i[1]),{type:"link",raw:i[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}},n.url=function(e,t){var n;if(n=this.rules.inline.url.exec(e)){var r,i;if("@"===n[2])i="mailto:"+(r=h(this.options.mangle?t(n[0]):n[0]));else{var o;do{o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(o!==n[0]);r=h(n[0]),i="www."===n[1]?"http://"+r:r}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}},n.inlineText=function(e,t){var n,r=this.rules.inline.text.exec(e);if(r)return n=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):h(r[0]):r[0]:h(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:n}},t}(),O={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:E,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};O.def=m(O.def).replace("label",O._label).replace("title",O._title).getRegex(),O.bullet=/(?:[*+-]|\d{1,9}[.)])/,O.listItemStart=m(/^( *)(bull) */).replace("bull",O.bullet).getRegex(),O.list=m(O.list).replace(/bull/g,O.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+O.def.source+")").getRegex(),O._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",O._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,O.html=m(O.html,"i").replace("comment",O._comment).replace("tag",O._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),O.paragraph=m(O._paragraph).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O._tag).getRegex(),O.blockquote=m(O.blockquote).replace("paragraph",O.paragraph).getRegex(),O.normal=k({},O),O.gfm=k({},O.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),O.gfm.table=m(O.gfm.table).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O._tag).getRegex(),O.gfm.paragraph=m(O._paragraph).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",O.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O._tag).getRegex(),O.pedantic=k({},O.normal,{html:m("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",O._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:E,paragraph:m(O.normal._paragraph).replace("hr",O.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",O.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var P={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:E,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:E,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function I(e){return e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function M(e){var t,n,r="",i=e.length;for(t=0;t<i;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}P._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",P.punctuation=m(P.punctuation).replace(/punctuation/g,P._punctuation).getRegex(),P.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,P.escapedEmSt=/\\\*|\\_/g,P._comment=m(O._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),P.emStrong.lDelim=m(P.emStrong.lDelim).replace(/punct/g,P._punctuation).getRegex(),P.emStrong.rDelimAst=m(P.emStrong.rDelimAst,"g").replace(/punct/g,P._punctuation).getRegex(),P.emStrong.rDelimUnd=m(P.emStrong.rDelimUnd,"g").replace(/punct/g,P._punctuation).getRegex(),P._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,P._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,P._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,P.autolink=m(P.autolink).replace("scheme",P._scheme).replace("email",P._email).getRegex(),P._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,P.tag=m(P.tag).replace("comment",P._comment).replace("attribute",P._attribute).getRegex(),P._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,P._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,P._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,P.link=m(P.link).replace("label",P._label).replace("href",P._href).replace("title",P._title).getRegex(),P.reflink=m(P.reflink).replace("label",P._label).replace("ref",O._label).getRegex(),P.nolink=m(P.nolink).replace("ref",O._label).getRegex(),P.reflinkSearch=m(P.reflinkSearch,"g").replace("reflink",P.reflink).replace("nolink",P.nolink).getRegex(),P.normal=k({},P),P.pedantic=k({},P.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:m(/^!?\[(label)\]\((.*?)\)/).replace("label",P._label).getRegex(),reflink:m(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",P._label).getRegex()}),P.gfm=k({},P.normal,{escape:m(P.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),P.gfm.url=m(P.gfm.url,"i").replace("email",P.gfm._extended_email).getRegex(),P.breaks=k({},P.gfm,{br:m(P.br).replace("{2,}","*").getRegex(),text:m(P.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var F=function(){function n(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||e.defaults,this.options.tokenizer=this.options.tokenizer||new A,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var n={block:O.normal,inline:P.normal};this.options.pedantic?(n.block=O.pedantic,n.inline=P.pedantic):this.options.gfm&&(n.block=O.gfm,this.options.breaks?n.inline=P.breaks:n.inline=P.gfm),this.tokenizer.rules=n}n.lex=function(e,t){return new n(t).lex(e)},n.lexInline=function(e,t){return new n(t).inlineTokens(e)};var r,i,o,s=n.prototype;return s.lex=function(e){var t;for(e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens},s.blockTokens=function(e,t){var n,r,i,o,s=this;for(void 0===t&&(t=[]),this.options.pedantic&&(e=e.replace(/^ +$/gm,""));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((function(r){return!!(n=r.call({lexer:s},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)}))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),!(r=t[t.length-1])||"paragraph"!==r.type&&"text"!==r.type?t.push(n):(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),!(r=t[t.length-1])||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else if(i=e,this.options.extensions&&this.options.extensions.startBlock&&function(){var t=1/0,n=e.slice(1),r=void 0;s.options.extensions.startBlock.forEach((function(e){"number"==typeof(r=e.call({lexer:this},n))&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(i=e.substring(0,t+1))}(),this.state.top&&(n=this.tokenizer.paragraph(i)))r=t[t.length-1],o&&"paragraph"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),o=i.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),(r=t[t.length-1])&&"text"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);else if(e){var a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}return this.state.top=!0,t},s.inline=function(e,t){this.inlineQueue.push({src:e,tokens:t})},s.inlineTokens=function(e,t){var n,r,i,o=this;void 0===t&&(t=[]);var s,a,l,c=e;if(this.tokens.links){var u=Object.keys(this.tokens.links);if(u.length>0)for(;null!=(s=this.tokenizer.rules.inline.reflinkSearch.exec(c));)u.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,s.index)+"["+T("a",s[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(s=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,s.index)+"["+T("a",s[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(s=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,s.index)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(a||(l=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((function(r){return!!(n=r.call({lexer:o},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)}))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),(r=t[t.length-1])&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),(r=t[t.length-1])&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,c,l))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e,M))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e,M))){if(i=e,this.options.extensions&&this.options.extensions.startInline&&function(){var t=1/0,n=e.slice(1),r=void 0;o.options.extensions.startInline.forEach((function(e){"number"==typeof(r=e.call({lexer:this},n))&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(i=e.substring(0,t+1))}(),n=this.tokenizer.inlineText(i,I))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(l=n.raw.slice(-1)),a=!0,(r=t[t.length-1])&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(e){var h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}throw new Error(h)}}else e=e.substring(n.raw.length),t.push(n);return t},r=n,o=[{key:"rules",get:function(){return{block:O,inline:P}}}],(i=null)&&t(r.prototype,i),o&&t(r,o),Object.defineProperty(r,"prototype",{writable:!1}),n}(),N=function(){function t(t){this.options=t||e.defaults}var n=t.prototype;return n.code=function(e,t,n){var r=(t||"").match(/\S*/)[0];if(this.options.highlight){var i=this.options.highlight(e,r);null!=i&&i!==e&&(n=!0,e=i)}return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+h(r,!0)+'">'+(n?e:h(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:h(e,!0))+"</code></pre>\n"},n.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},n.html=function(e){return e},n.heading=function(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},n.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},n.listitem=function(e){return"<li>"+e+"</li>\n"},n.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},n.paragraph=function(e){return"<p>"+e+"</p>\n"},n.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},n.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},n.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},n.strong=function(e){return"<strong>"+e+"</strong>"},n.em=function(e){return"<em>"+e+"</em>"},n.codespan=function(e){return"<code>"+e+"</code>"},n.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.del=function(e){return"<del>"+e+"</del>"},n.link=function(e,t,n){if(null===(e=v(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<a href="'+h(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"},n.image=function(e,t,n){if(null===(e=v(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},n.text=function(e){return e},t}(),B=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,n){return""+n},t.image=function(e,t,n){return""+n},t.br=function(){return""},e}(),L=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{n=e+"-"+ ++r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n},t.slug=function(e,t){void 0===t&&(t={});var n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)},e}(),H=function(){function t(t){this.options=t||e.defaults,this.options.renderer=this.options.renderer||new N,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new B,this.slugger=new L}t.parse=function(e,n){return new t(n).parse(e)},t.parseInline=function(e,n){return new t(n).parseInline(e)};var n=t.prototype;return n.parse=function(e,t){void 0===t&&(t=!0);var n,r,i,o,s,a,l,c,u,h,p,f,m,g,y,v,b,w,C,S="",E=e.length;for(n=0;n<E;n++)if(h=e[n],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type])||!1===(C=this.options.extensions.renderers[h.type].call({parser:this},h))&&["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type))switch(h.type){case"space":continue;case"hr":S+=this.renderer.hr();continue;case"heading":S+=this.renderer.heading(this.parseInline(h.tokens),h.depth,d(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue;case"code":S+=this.renderer.code(h.text,h.lang,h.escaped);continue;case"table":for(c="",l="",o=h.header.length,r=0;r<o;r++)l+=this.renderer.tablecell(this.parseInline(h.header[r].tokens),{header:!0,align:h.align[r]});for(c+=this.renderer.tablerow(l),u="",o=h.rows.length,r=0;r<o;r++){for(l="",s=(a=h.rows[r]).length,i=0;i<s;i++)l+=this.renderer.tablecell(this.parseInline(a[i].tokens),{header:!1,align:h.align[i]});u+=this.renderer.tablerow(l)}S+=this.renderer.table(c,u);continue;case"blockquote":u=this.parse(h.tokens),S+=this.renderer.blockquote(u);continue;case"list":for(p=h.ordered,f=h.start,m=h.loose,o=h.items.length,u="",r=0;r<o;r++)v=(y=h.items[r]).checked,b=y.task,g="",y.task&&(w=this.renderer.checkbox(v),m?y.tokens.length>0&&"paragraph"===y.tokens[0].type?(y.tokens[0].text=w+" "+y.tokens[0].text,y.tokens[0].tokens&&y.tokens[0].tokens.length>0&&"text"===y.tokens[0].tokens[0].type&&(y.tokens[0].tokens[0].text=w+" "+y.tokens[0].tokens[0].text)):y.tokens.unshift({type:"text",text:w}):g+=w),g+=this.parse(y.tokens,m),u+=this.renderer.listitem(g,b,v);S+=this.renderer.list(u,p,f);continue;case"html":S+=this.renderer.html(h.text);continue;case"paragraph":S+=this.renderer.paragraph(this.parseInline(h.tokens));continue;case"text":for(u=h.tokens?this.parseInline(h.tokens):h.text;n+1<E&&"text"===e[n+1].type;)u+="\n"+((h=e[++n]).tokens?this.parseInline(h.tokens):h.text);S+=t?this.renderer.paragraph(u):u;continue;default:var k='Token with "'+h.type+'" type was not found.';if(this.options.silent)return void console.error(k);throw new Error(k)}else S+=C||"";return S},n.parseInline=function(e,t){t=t||this.renderer;var n,r,i,o="",s=e.length;for(n=0;n<s;n++)if(r=e[n],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type])||!1===(i=this.options.extensions.renderers[r.type].call({parser:this},r))&&["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))switch(r.type){case"escape":o+=t.text(r.text);break;case"html":o+=t.html(r.text);break;case"link":o+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case"image":o+=t.image(r.href,r.title,r.text);break;case"strong":o+=t.strong(this.parseInline(r.tokens,t));break;case"em":o+=t.em(this.parseInline(r.tokens,t));break;case"codespan":o+=t.codespan(r.text);break;case"br":o+=t.br();break;case"del":o+=t.del(this.parseInline(r.tokens,t));break;case"text":o+=t.text(r.text);break;default:var a='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(a);throw new Error(a)}else o+=i||"";return o},t}();function U(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),_(t=k({},U.defaults,t||{})),n){var r,i=t.highlight;try{r=F.lex(e,t)}catch(e){return n(e)}var o=function(e){var o;if(!e)try{t.walkTokens&&U.walkTokens(r,t.walkTokens),o=H.parse(r,t)}catch(t){e=t}return t.highlight=i,e?n(e):n(null,o)};if(!i||i.length<3)return o();if(delete t.highlight,!r.length)return o();var s=0;return U.walkTokens(r,(function(e){"code"===e.type&&(s++,setTimeout((function(){i(e.text,e.lang,(function(t,n){if(t)return o(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),0==--s&&o()}))}),0))})),void(0===s&&o())}try{var a=F.lex(e,t);return t.walkTokens&&U.walkTokens(a,t.walkTokens),H.parse(a,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+h(e.message+"",!0)+"</pre>";throw e}}U.options=U.setOptions=function(t){var n;return k(U.defaults,t),n=U.defaults,e.defaults=n,U},U.getDefaults=i,U.defaults=e.defaults,U.use=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=k.apply(void 0,[{}].concat(t)),o=U.defaults.extensions||{renderers:{},childTokens:{}};t.forEach((function(e){if(e.extensions&&(r=!0,e.extensions.forEach((function(e){if(!e.name)throw new Error("extension name required");if(e.renderer){var t=o.renderers?o.renderers[e.name]:null;o.renderers[e.name]=t?function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=e.renderer.apply(this,r);return!1===o&&(o=t.apply(this,r)),o}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");o[e.level]?o[e.level].unshift(e.tokenizer):o[e.level]=[e.tokenizer],e.start&&("block"===e.level?o.startBlock?o.startBlock.push(e.start):o.startBlock=[e.start]:"inline"===e.level&&(o.startInline?o.startInline.push(e.start):o.startInline=[e.start]))}e.childTokens&&(o.childTokens[e.name]=e.childTokens)}))),e.renderer&&function(){var t=U.defaults.renderer||new N,n=function(n){var r=t[n];t[n]=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a=e.renderer[n].apply(t,o);return!1===a&&(a=r.apply(t,o)),a}};for(var r in e.renderer)n(r);i.renderer=t}(),e.tokenizer&&function(){var t=U.defaults.tokenizer||new A,n=function(n){var r=t[n];t[n]=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a=e.tokenizer[n].apply(t,o);return!1===a&&(a=r.apply(t,o)),a}};for(var r in e.tokenizer)n(r);i.tokenizer=t}(),e.walkTokens){var t=U.defaults.walkTokens;i.walkTokens=function(n){e.walkTokens.call(this,n),t&&t.call(this,n)}}r&&(i.extensions=o),U.setOptions(i)}))},U.walkTokens=function(e,t){for(var n,i=function(){var e=n.value;switch(t.call(U,e),e.type){case"table":for(var i,o=r(e.header);!(i=o()).done;){var s=i.value;U.walkTokens(s.tokens,t)}for(var a,l=r(e.rows);!(a=l()).done;)for(var c,u=r(a.value);!(c=u()).done;){var h=c.value;U.walkTokens(h.tokens,t)}break;case"list":U.walkTokens(e.items,t);break;default:U.defaults.extensions&&U.defaults.extensions.childTokens&&U.defaults.extensions.childTokens[e.type]?U.defaults.extensions.childTokens[e.type].forEach((function(n){U.walkTokens(e[n],t)})):e.tokens&&U.walkTokens(e.tokens,t)}},o=r(e);!(n=o()).done;)i()},U.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");_(t=k({},U.defaults,t||{}));try{var n=F.lexInline(e,t);return t.walkTokens&&U.walkTokens(n,t.walkTokens),H.parseInline(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+h(e.message+"",!0)+"</pre>";throw e}},U.Parser=H,U.parser=H.parse,U.Renderer=N,U.TextRenderer=B,U.Lexer=F,U.lexer=F.lex,U.Tokenizer=A,U.Slugger=L,U.parse=U;var j=U.options,W=U.setOptions,z=U.use,G=U.walkTokens,q=U.parseInline,V=U,$=H.parse,K=F.lex;e.Lexer=F,e.Parser=H,e.Renderer=N,e.Slugger=L,e.TextRenderer=B,e.Tokenizer=A,e.getDefaults=i,e.lexer=K,e.marked=U,e.options=j,e.parse=V,e.parseInline=q,e.parser=$,e.setOptions=W,e.use=z,e.walkTokens=G,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){
/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */
e.exports=function(){"use strict";var e=Object.hasOwnProperty,t=Object.setPrototypeOf,n=Object.isFrozen,r=Object.getPrototypeOf,i=Object.getOwnPropertyDescriptor,o=Object.freeze,s=Object.seal,a=Object.create,l="undefined"!=typeof Reflect&&Reflect,c=l.apply,u=l.construct;c||(c=function(e,t,n){return e.apply(t,n)}),o||(o=function(e){return e}),s||(s=function(e){return e}),u||(u=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))});var h,p=S(Array.prototype.forEach),d=S(Array.prototype.pop),f=S(Array.prototype.push),m=S(String.prototype.toLowerCase),g=S(String.prototype.match),y=S(String.prototype.replace),v=S(String.prototype.indexOf),b=S(String.prototype.trim),w=S(RegExp.prototype.test),C=(h=TypeError,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u(h,t)});function S(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return c(e,t,r)}}function E(e,r){t&&t(e,null);for(var i=r.length;i--;){var o=r[i];if("string"==typeof o){var s=m(o);s!==o&&(n(r)||(r[i]=s),o=s)}e[o]=!0}return e}function k(t){var n=a(null),r=void 0;for(r in t)c(e,t,[r])&&(n[r]=t[r]);return n}function x(e,t){for(;null!==e;){var n=i(e,t);if(n){if(n.get)return S(n.get);if("function"==typeof n.value)return S(n.value)}e=r(e)}return function(e){return console.warn("fallback value for",e),null}}var D=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),_=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),T=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),R=o(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),A=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),O=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),P=o(["#text"]),I=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),M=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),F=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),N=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),B=s(/\{\{[\s\S]*|[\s\S]*\}\}/gm),L=s(/<%[\s\S]*|[\s\S]*%>/gm),H=s(/^data-[\-\w.\u00B7-\uFFFF]/),U=s(/^aria-[\-\w]+$/),j=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),W=s(/^(?:\w+script|data):/i),z=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function q(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var V=function(){return"undefined"==typeof window?null:window},$=function(e,t){if("object"!==(void 0===e?"undefined":G(e))||"function"!=typeof e.createPolicy)return null;var n=null;t.currentScript&&t.currentScript.hasAttribute("data-tt-policy-suffix")&&(n=t.currentScript.getAttribute("data-tt-policy-suffix"));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V(),n=function(t){return e(t)};if(n.version="2.3.3",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,i=t.document,s=t.DocumentFragment,a=t.HTMLTemplateElement,l=t.Node,c=t.Element,u=t.NodeFilter,h=t.NamedNodeMap,S=void 0===h?t.NamedNodeMap||t.MozNamedAttrMap:h,K=t.Text,Y=t.Comment,Z=t.DOMParser,X=t.trustedTypes,Q=c.prototype,J=x(Q,"cloneNode"),ee=x(Q,"nextSibling"),te=x(Q,"childNodes"),ne=x(Q,"parentNode");if("function"==typeof a){var re=i.createElement("template");re.content&&re.content.ownerDocument&&(i=re.content.ownerDocument)}var ie=$(X,r),oe=ie&&Be?ie.createHTML(""):"",se=i,ae=se.implementation,le=se.createNodeIterator,ce=se.createDocumentFragment,ue=se.getElementsByTagName,he=r.importNode,pe={};try{pe=k(i).documentMode?i.documentMode:{}}catch(e){}var de={};n.isSupported="function"==typeof ne&&ae&&void 0!==ae.createHTMLDocument&&9!==pe;var fe=B,me=L,ge=H,ye=U,ve=W,be=z,we=j,Ce=null,Se=E({},[].concat(q(D),q(_),q(T),q(A),q(P))),Ee=null,ke=E({},[].concat(q(I),q(M),q(F),q(N))),xe=null,De=null,_e=!0,Te=!0,Re=!1,Ae=!1,Oe=!1,Pe=!1,Ie=!1,Me=!1,Fe=!1,Ne=!0,Be=!1,Le=!0,He=!0,Ue=!1,je={},We=null,ze=E({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ge=null,qe=E({},["audio","video","img","source","image","track"]),Ve=null,$e=E({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ke="http://www.w3.org/1998/Math/MathML",Ye="http://www.w3.org/2000/svg",Ze="http://www.w3.org/1999/xhtml",Xe=Ze,Qe=!1,Je=void 0,et=["application/xhtml+xml","text/html"],tt="text/html",nt=void 0,rt=null,it=i.createElement("form"),ot=function(e){rt&&rt===e||(e&&"object"===(void 0===e?"undefined":G(e))||(e={}),e=k(e),Ce="ALLOWED_TAGS"in e?E({},e.ALLOWED_TAGS):Se,Ee="ALLOWED_ATTR"in e?E({},e.ALLOWED_ATTR):ke,Ve="ADD_URI_SAFE_ATTR"in e?E(k($e),e.ADD_URI_SAFE_ATTR):$e,Ge="ADD_DATA_URI_TAGS"in e?E(k(qe),e.ADD_DATA_URI_TAGS):qe,We="FORBID_CONTENTS"in e?E({},e.FORBID_CONTENTS):ze,xe="FORBID_TAGS"in e?E({},e.FORBID_TAGS):{},De="FORBID_ATTR"in e?E({},e.FORBID_ATTR):{},je="USE_PROFILES"in e&&e.USE_PROFILES,_e=!1!==e.ALLOW_ARIA_ATTR,Te=!1!==e.ALLOW_DATA_ATTR,Re=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ae=e.SAFE_FOR_TEMPLATES||!1,Oe=e.WHOLE_DOCUMENT||!1,Me=e.RETURN_DOM||!1,Fe=e.RETURN_DOM_FRAGMENT||!1,Ne=!1!==e.RETURN_DOM_IMPORT,Be=e.RETURN_TRUSTED_TYPE||!1,Ie=e.FORCE_BODY||!1,Le=!1!==e.SANITIZE_DOM,He=!1!==e.KEEP_CONTENT,Ue=e.IN_PLACE||!1,we=e.ALLOWED_URI_REGEXP||we,Xe=e.NAMESPACE||Ze,Je=Je=-1===et.indexOf(e.PARSER_MEDIA_TYPE)?tt:e.PARSER_MEDIA_TYPE,nt="application/xhtml+xml"===Je?function(e){return e}:m,Ae&&(Te=!1),Fe&&(Me=!0),je&&(Ce=E({},[].concat(q(P))),Ee=[],!0===je.html&&(E(Ce,D),E(Ee,I)),!0===je.svg&&(E(Ce,_),E(Ee,M),E(Ee,N)),!0===je.svgFilters&&(E(Ce,T),E(Ee,M),E(Ee,N)),!0===je.mathMl&&(E(Ce,A),E(Ee,F),E(Ee,N))),e.ADD_TAGS&&(Ce===Se&&(Ce=k(Ce)),E(Ce,e.ADD_TAGS)),e.ADD_ATTR&&(Ee===ke&&(Ee=k(Ee)),E(Ee,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&E(Ve,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(We===ze&&(We=k(We)),E(We,e.FORBID_CONTENTS)),He&&(Ce["#text"]=!0),Oe&&E(Ce,["html","head","body"]),Ce.table&&(E(Ce,["tbody"]),delete xe.tbody),o&&o(e),rt=e)},st=E({},["mi","mo","mn","ms","mtext"]),at=E({},["foreignobject","desc","title","annotation-xml"]),lt=E({},_);E(lt,T),E(lt,R);var ct=E({},A);E(ct,O);var ut=function(e){var t=ne(e);t&&t.tagName||(t={namespaceURI:Ze,tagName:"template"});var n=m(e.tagName),r=m(t.tagName);if(e.namespaceURI===Ye)return t.namespaceURI===Ze?"svg"===n:t.namespaceURI===Ke?"svg"===n&&("annotation-xml"===r||st[r]):Boolean(lt[n]);if(e.namespaceURI===Ke)return t.namespaceURI===Ze?"math"===n:t.namespaceURI===Ye?"math"===n&&at[r]:Boolean(ct[n]);if(e.namespaceURI===Ze){if(t.namespaceURI===Ye&&!at[r])return!1;if(t.namespaceURI===Ke&&!st[r])return!1;var i=E({},["title","style","font","a","script"]);return!ct[n]&&(i[n]||!lt[n])}return!1},ht=function(e){f(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=oe}catch(t){e.remove()}}},pt=function(e,t){try{f(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){f(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Ee[e])if(Me||Fe)try{ht(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},dt=function(e){var t=void 0,n=void 0;if(Ie)e="<remove></remove>"+e;else{var r=g(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===Je&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var o=ie?ie.createHTML(e):e;if(Xe===Ze)try{t=(new Z).parseFromString(o,Je)}catch(e){}if(!t||!t.documentElement){t=ae.createDocument(Xe,"template",null);try{t.documentElement.innerHTML=Qe?"":o}catch(e){}}var s=t.body||t.documentElement;return e&&n&&s.insertBefore(i.createTextNode(n),s.childNodes[0]||null),Xe===Ze?ue.call(t,Oe?"html":"body")[0]:Oe?t.documentElement:s},ft=function(e){return le.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},mt=function(e){return!(e instanceof K||e instanceof Y||"string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof S&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI&&"function"==typeof e.insertBefore)},gt=function(e){return"object"===(void 0===l?"undefined":G(l))?e instanceof l:e&&"object"===(void 0===e?"undefined":G(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},yt=function(e,t,r){de[e]&&p(de[e],(function(e){e.call(n,t,r,rt)}))},vt=function(e){var t=void 0;if(yt("beforeSanitizeElements",e,null),mt(e))return ht(e),!0;if(g(e.nodeName,/[\u0080-\uFFFF]/))return ht(e),!0;var r=nt(e.nodeName);if(yt("uponSanitizeElement",e,{tagName:r,allowedTags:Ce}),!gt(e.firstElementChild)&&(!gt(e.content)||!gt(e.content.firstElementChild))&&w(/<[/\w]/g,e.innerHTML)&&w(/<[/\w]/g,e.textContent))return ht(e),!0;if("select"===r&&w(/<template/i,e.innerHTML))return ht(e),!0;if(!Ce[r]||xe[r]){if(He&&!We[r]){var i=ne(e)||e.parentNode,o=te(e)||e.childNodes;if(o&&i)for(var s=o.length-1;s>=0;--s)i.insertBefore(J(o[s],!0),ee(e))}return ht(e),!0}return e instanceof c&&!ut(e)?(ht(e),!0):"noscript"!==r&&"noembed"!==r||!w(/<\/no(script|embed)/i,e.innerHTML)?(Ae&&3===e.nodeType&&(t=e.textContent,t=y(t,fe," "),t=y(t,me," "),e.textContent!==t&&(f(n.removed,{element:e.cloneNode()}),e.textContent=t)),yt("afterSanitizeElements",e,null),!1):(ht(e),!0)},bt=function(e,t,n){if(Le&&("id"===t||"name"===t)&&(n in i||n in it))return!1;if(Te&&!De[t]&&w(ge,t));else if(_e&&w(ye,t));else{if(!Ee[t]||De[t])return!1;if(Ve[t]);else if(w(we,y(n,be,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==v(n,"data:")||!Ge[e])if(Re&&!w(ve,y(n,be,"")));else if(n)return!1}return!0},wt=function(e){var t=void 0,r=void 0,i=void 0,o=void 0;yt("beforeSanitizeAttributes",e,null);var s=e.attributes;if(s){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ee};for(o=s.length;o--;){var l=t=s[o],c=l.name,u=l.namespaceURI;if(r=b(t.value),i=nt(c),a.attrName=i,a.attrValue=r,a.keepAttr=!0,a.forceKeepAttr=void 0,yt("uponSanitizeAttribute",e,a),r=a.attrValue,!a.forceKeepAttr&&(pt(c,e),a.keepAttr))if(w(/\/>/i,r))pt(c,e);else{Ae&&(r=y(r,fe," "),r=y(r,me," "));var h=nt(e.nodeName);if(bt(h,i,r))try{u?e.setAttributeNS(u,c,r):e.setAttribute(c,r),d(n.removed)}catch(e){}}}yt("afterSanitizeAttributes",e,null)}},Ct=function e(t){var n=void 0,r=ft(t);for(yt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)yt("uponSanitizeShadowNode",n,null),vt(n)||(n.content instanceof s&&e(n.content),wt(n));yt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,i){var o=void 0,a=void 0,c=void 0,u=void 0,h=void 0;if((Qe=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!gt(e)){if("function"!=typeof e.toString)throw C("toString is not a function");if("string"!=typeof(e=e.toString()))throw C("dirty is not a string, aborting")}if(!n.isSupported){if("object"===G(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(gt(e))return t.toStaticHTML(e.outerHTML)}return e}if(Pe||ot(i),n.removed=[],"string"==typeof e&&(Ue=!1),Ue);else if(e instanceof l)1===(a=(o=dt("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?o=a:o.appendChild(a);else{if(!Me&&!Ae&&!Oe&&-1===e.indexOf("<"))return ie&&Be?ie.createHTML(e):e;if(!(o=dt(e)))return Me?null:oe}o&&Ie&&ht(o.firstChild);for(var p=ft(Ue?e:o);c=p.nextNode();)3===c.nodeType&&c===u||vt(c)||(c.content instanceof s&&Ct(c.content),wt(c),u=c);if(u=null,Ue)return e;if(Me){if(Fe)for(h=ce.call(o.ownerDocument);o.firstChild;)h.appendChild(o.firstChild);else h=o;return Ne&&(h=he.call(r,h,!0)),h}var d=Oe?o.outerHTML:o.innerHTML;return Ae&&(d=y(d,fe," "),d=y(d,me," ")),ie&&Be?ie.createHTML(d):d},n.setConfig=function(e){ot(e),Pe=!0},n.clearConfig=function(){rt=null,Pe=!1},n.isValidAttribute=function(e,t,n){rt||ot({});var r=nt(e),i=nt(t);return bt(r,i,n)},n.addHook=function(e,t){"function"==typeof t&&(de[e]=de[e]||[],f(de[e],t))},n.removeHook=function(e){de[e]&&d(de[e])},n.removeHooks=function(e){de[e]&&(de[e]=[])},n.removeAllHooks=function(){de={}},n}()}()},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,t,n){"use strict";(function(e){var r=n(15),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===i?r.a.Buffer:void 0,a=s?s.allocUnsafe:void 0;t.a=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(152)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),s=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,o=void 0===r?24:r,a=e.height,l=void 0===a?24:a,c=e.style,u=void 0===c?{}:c,h=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return s.default.createElement("svg",i({viewBox:"0 0 24 24",style:i({fill:n,width:o,height:l},u)},h),s.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),s=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,o=void 0===r?24:r,a=e.height,l=void 0===a?24:a,c=e.style,u=void 0===c?{}:c,h=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return s.default.createElement("svg",i({viewBox:"0 0 24 24",style:i({fill:n,width:o,height:l},u)},h),s.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},function(e,t,n){"use strict";const r=n(22).homedir();e.exports=e=>{if("string"!=typeof e)throw new TypeError("Expected a string, got "+typeof e);return r?e.replace(/^~($|\/|\\)/,r+"$1"):e}},function(e,t,n){var r,i,o,s,a;
/*! Moment Duration Format v2.2.2
 *  https://github.com/jsmreese/moment-duration-format
 *  Date: 2018-02-16
 *
 *  Duration format plugin function for the Moment.js library
 *  http://momentjs.com/
 *
 *  Copyright 2018 John Madhavan-Reese
 *  Released under the MIT license
 */s=this,a=function(e){var t=!1,n=!1,r=!1,i=!1,o="escape years months weeks days hours minutes seconds milliseconds general".split(" "),s=[{type:"seconds",targets:[{type:"minutes",value:60},{type:"hours",value:3600},{type:"days",value:86400},{type:"weeks",value:604800},{type:"months",value:2678400},{type:"years",value:31536e3}]},{type:"minutes",targets:[{type:"hours",value:60},{type:"days",value:1440},{type:"weeks",value:10080},{type:"months",value:44640},{type:"years",value:525600}]},{type:"hours",targets:[{type:"days",value:24},{type:"weeks",value:168},{type:"months",value:744},{type:"years",value:8760}]},{type:"days",targets:[{type:"weeks",value:7},{type:"months",value:31},{type:"years",value:365}]},{type:"months",targets:[{type:"years",value:12}]}];function a(e,t){return!(t.length>e.length)&&-1!==e.indexOf(t)}function l(e){for(var t="";e;)t+="0",e-=1;return t}function c(e,t){var n=e+"+"+v(D(t).sort(),(function(e){return e+":"+t[e]})).join(",");return c.cache[n]||(c.cache[n]=Intl.NumberFormat(e,t)),c.cache[n]}function u(e,t,o){var s,a,h,p=t.useToLocaleString,d=t.useGrouping,f=d&&t.grouping.slice(),m=t.maximumSignificantDigits,g=t.minimumIntegerDigits||1,y=t.fractionDigits||0,v=t.groupingSeparator,b=t.decimalSeparator;if(p&&o){var w,C={minimumIntegerDigits:g,useGrouping:d};return y&&(C.maximumFractionDigits=y,C.minimumFractionDigits=y),m&&e>0&&(C.maximumSignificantDigits=m),r?(i||((w=x({},t)).useGrouping=!1,w.decimalSeparator=".",e=parseFloat(u(e,w),10)),c(o,C).format(e)):(n||((w=x({},t)).useGrouping=!1,w.decimalSeparator=".",e=parseFloat(u(e,w),10)),e.toLocaleString(o,C))}var S=(m?e.toPrecision(m+1):e.toFixed(y+1)).split("e");h=S[1]||"",a=(S=S[0].split("."))[1]||"";var E=(s=S[0]||"").length,k=a.length,D=E+k,_=s+a;(m&&D===m+1||!m&&k===y+1)&&((_=function(e){for(var t=e.split("").reverse(),n=0,r=!0;r&&n<t.length;)n?"9"===t[n]?t[n]="0":(t[n]=(parseInt(t[n],10)+1).toString(),r=!1):(parseInt(t[n],10)<5&&(r=!1),t[n]="0"),n+=1;return r&&t.push("1"),t.reverse().join("")}(_)).length===D+1&&(E+=1),k&&(_=_.slice(0,-1)),s=_.slice(0,E),a=_.slice(E)),m&&(a=a.replace(/0*$/,""));var T=parseInt(h,10);T>0?a.length<=T?(s+=a+=l(T-a.length),a=""):(s+=a.slice(0,T),a=a.slice(T)):T<0&&(a=l(Math.abs(T)-s.length)+s+a,s="0"),m||((a=a.slice(0,y)).length<y&&(a+=l(y-a.length)),s.length<g&&(s=l(g-s.length)+s));var R,A="";if(d)for(S=s;S.length;)f.length&&(R=f.shift()),A&&(A=v+A),A=S.slice(-R)+A,S=S.slice(0,-R);else A=s;return a&&(A=A+b+a),A}function h(e,t){return e.label.length>t.label.length?-1:e.label.length<t.label.length?1:0}function p(e,t){var n=[];return y(D(t),(function(r){if("_durationLabels"===r.slice(0,15)){var i=r.slice(15).toLowerCase();y(D(t[r]),(function(o){o.slice(0,1)===e&&n.push({type:i,key:o,label:t[r][o]})}))}})),n}c.cache={};var d={durationLabelsStandard:{S:"millisecond",SS:"milliseconds",s:"second",ss:"seconds",m:"minute",mm:"minutes",h:"hour",hh:"hours",d:"day",dd:"days",w:"week",ww:"weeks",M:"month",MM:"months",y:"year",yy:"years"},durationLabelsShort:{S:"msec",SS:"msecs",s:"sec",ss:"secs",m:"min",mm:"mins",h:"hr",hh:"hrs",d:"dy",dd:"dys",w:"wk",ww:"wks",M:"mo",MM:"mos",y:"yr",yy:"yrs"},durationTimeTemplates:{HMS:"h:mm:ss",HM:"h:mm",MS:"m:ss"},durationLabelTypes:[{type:"standard",string:"__"},{type:"short",string:"_"}],durationPluralKey:function(e,t,n){return 1===t&&null===n?e:e+e}};function f(e){return"[object Array]"===Object.prototype.toString.call(e)}function m(e){return"[object Object]"===Object.prototype.toString.call(e)}function g(e,t){var n,r=0,i=e&&e.length||0;for("function"!=typeof t&&(n=t,t=function(e){return e===n});r<i;){if(t(e[r]))return e[r];r+=1}}function y(e,t){var n=0,r=e.length;if(e&&r)for(;n<r;){if(!1===t(e[n],n))return;n+=1}}function v(e,t){var n=0,r=e.length,i=[];if(!e||!r)return i;for(;n<r;)i[n]=t(e[n],n),n+=1;return i}function b(e,t){return v(e,(function(e){return e[t]}))}function w(e){var t=[];return y(e,(function(e){e&&t.push(e)})),t}function C(e){var t=[];return y(e,(function(e){g(t,e)||t.push(e)})),t}function S(e,t){var n=[];return y(e,(function(e){y(t,(function(t){e===t&&n.push(e)}))})),C(n)}function E(e,t){var n=[];return y(e,(function(r,i){if(!t(r))return n=e.slice(i),!1})),n}function k(e,t){return E(e.slice().reverse(),t).reverse()}function x(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function D(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function _(e,t){var n=0,r=e.length;if(!e||!r)return!1;for(;n<r;){if(!0===t(e[n],n))return!0;n+=1}return!1}function T(e){var t=[];return y(e,(function(e){t=t.concat(e)})),t}function R(e){return"3.6"===e(3.55,"en",{useGrouping:!1,minimumIntegerDigits:1,minimumFractionDigits:1,maximumFractionDigits:1})}function A(e){var t=!0;return!!((t=(t=(t=t&&"1"===e(1,"en",{minimumIntegerDigits:1}))&&"01"===e(1,"en",{minimumIntegerDigits:2}))&&"001"===e(1,"en",{minimumIntegerDigits:3}))&&(t=(t=(t=(t=t&&"100"===e(99.99,"en",{maximumFractionDigits:0,minimumFractionDigits:0}))&&"100.0"===e(99.99,"en",{maximumFractionDigits:1,minimumFractionDigits:1}))&&"99.99"===e(99.99,"en",{maximumFractionDigits:2,minimumFractionDigits:2}))&&"99.990"===e(99.99,"en",{maximumFractionDigits:3,minimumFractionDigits:3}))&&(t=(t=(t=(t=(t=t&&"100"===e(99.99,"en",{maximumSignificantDigits:1}))&&"100"===e(99.99,"en",{maximumSignificantDigits:2}))&&"100"===e(99.99,"en",{maximumSignificantDigits:3}))&&"99.99"===e(99.99,"en",{maximumSignificantDigits:4}))&&"99.99"===e(99.99,"en",{maximumSignificantDigits:5}))&&(t=(t=t&&"1,000"===e(1e3,"en",{useGrouping:!0}))&&"1000"===e(1e3,"en",{useGrouping:!1})))}function O(){var e,t=[].slice.call(arguments),n={};if(y(t,(function(t,r){if(!r){if(!f(t))throw"Expected array as the first argument to durationsFormat.";e=t}"string"!=typeof t&&"function"!=typeof t?"number"!=typeof t?m(t)&&x(n,t):n.precision=t:n.template=t})),!e||!e.length)return[];n.returnMomentTypes=!0;var r=v(e,(function(e){return e.format(n)})),i=S(o,C(b(T(r),"type"))),s=n.largest;return s&&(i=i.slice(0,s)),n.returnMomentTypes=!1,n.outputTypes=i,v(e,(function(e){return e.format(n)}))}function P(){var n=[].slice.call(arguments),i=x({},this.format.defaults),l=this.asMilliseconds(),c=this.asMonths();"function"==typeof this.isValid&&!1===this.isValid()&&(l=0,c=0);var T=l<0,R=e.duration(Math.abs(l),"milliseconds"),A=e.duration(Math.abs(c),"months");y(n,(function(e){"string"!=typeof e&&"function"!=typeof e?"number"!=typeof e?m(e)&&x(i,e):i.precision=e:i.template=e}));var O={years:"y",months:"M",weeks:"w",days:"d",hours:"h",minutes:"m",seconds:"s",milliseconds:"S"},P={escape:/\[(.+?)\]/,years:/\*?[Yy]+/,months:/\*?M+/,weeks:/\*?[Ww]+/,days:/\*?[Dd]+/,hours:/\*?[Hh]+/,minutes:/\*?m+/,seconds:/\*?s+/,milliseconds:/\*?S+/,general:/.+?/};i.types=o;var I=function(e){return g(o,(function(t){return P[t].test(e)}))},M=new RegExp(v(o,(function(e){return P[e].source})).join("|"),"g");i.duration=this;var F="function"==typeof i.template?i.template.apply(i):i.template,N=i.outputTypes,B=i.returnMomentTypes,L=i.largest,H=[];N||(f(i.stopTrim)&&(i.stopTrim=i.stopTrim.join("")),i.stopTrim&&y(i.stopTrim.match(M),(function(e){var t=I(e);"escape"!==t&&"general"!==t&&H.push(t)})));var U=e.localeData();U||(U={}),y(D(d),(function(e){"function"!=typeof d[e]?U["_"+e]||(U["_"+e]=d[e]):U[e]||(U[e]=d[e])})),y(D(U._durationTimeTemplates),(function(e){F=F.replace("_"+e+"_",U._durationTimeTemplates[e])}));var j=i.userLocale||e.locale(),W=i.useLeftUnits,z=i.usePlural,G=i.precision,q=i.forceLength,V=i.useGrouping,$=i.trunc,K=i.useSignificantDigits&&G>0,Y=K?i.precision:0,Z=Y,X=i.minValue,Q=!1,J=i.maxValue,ee=!1,te=i.useToLocaleString,ne=i.groupingSeparator,re=i.decimalSeparator,ie=i.grouping;te=te&&(t||r);var oe=i.trim;f(oe)&&(oe=oe.join(" ")),null===oe&&(L||J||K)&&(oe="all"),null!==oe&&!0!==oe&&"left"!==oe&&"right"!==oe||(oe="large"),!1===oe&&(oe="");var se=function(e){return e.test(oe)},ae=/large/,le=/small/,ce=/both/,ue=/mid/,he=/^all|[^sm]all/,pe=/final/,de=L>0||_([ae,ce,he],se),fe=_([le,ce,he],se),me=_([ue,he],se),ge=_([pe,he],se),ye=v(F.match(M),(function(e,t){var n=I(e);return"*"===e.slice(0,1)&&(e=e.slice(1),"escape"!==n&&"general"!==n&&H.push(n)),{index:t,length:e.length,text:"",token:"escape"===n?e.replace(P.escape,"$1"):e,type:"escape"===n||"general"===n?null:n}})),ve={index:0,length:0,token:"",text:"",type:null},be=[];W&&ye.reverse(),y(ye,(function(e){if(e.type)return(ve.type||ve.text)&&be.push(ve),void(ve=e);W?ve.text=e.token+ve.text:ve.text+=e.token})),(ve.type||ve.text)&&be.push(ve),W&&be.reverse();var we=S(o,C(w(b(be,"type"))));if(!we.length)return b(be,"text").join("");we=v(we,(function(e,t){var n,r=t+1===we.length,o=!t;n="years"===e||"months"===e?A.as(e):R.as(e);var s=Math.floor(n),a=n-s,l=g(be,(function(t){return e===t.type}));return o&&J&&n>J&&(ee=!0),r&&X&&Math.abs(i.duration.as(e))<X&&(Q=!0),o&&null===q&&l.length>1&&(q=!0),R.subtract(s,e),A.subtract(s,e),{rawValue:n,wholeValue:s,decimalValue:r?a:0,isSmallest:r,isLargest:o,type:e,tokenLength:l.length}}));var Ce=$?Math.floor:Math.round,Se=function(e,t){var n=Math.pow(10,t);return Ce(e*n)/n},Ee=!1,ke=!1,xe=function(e,t){var n={useGrouping:V,groupingSeparator:ne,decimalSeparator:re,grouping:ie,useToLocaleString:te};return K&&(Y<=0?(e.rawValue=0,e.wholeValue=0,e.decimalValue=0):(n.maximumSignificantDigits=Y,e.significantDigits=Y)),ee&&!ke&&(e.isLargest?(e.wholeValue=J,e.decimalValue=0):(e.wholeValue=0,e.decimalValue=0)),Q&&!ke&&(e.isSmallest?(e.wholeValue=X,e.decimalValue=0):(e.wholeValue=0,e.decimalValue=0)),e.isSmallest||e.significantDigits&&e.significantDigits-e.wholeValue.toString().length<=0?G<0?e.value=Se(e.wholeValue,G):0===G?e.value=Ce(e.wholeValue+e.decimalValue):K?(e.value=$?Se(e.rawValue,Y-e.wholeValue.toString().length):e.rawValue,e.wholeValue&&(Y-=e.wholeValue.toString().length)):(n.fractionDigits=G,e.value=$?e.wholeValue+Se(e.decimalValue,G):e.wholeValue+e.decimalValue):K&&e.wholeValue?(e.value=Math.round(Se(e.wholeValue,e.significantDigits-e.wholeValue.toString().length)),Y-=e.wholeValue.toString().length):e.value=e.wholeValue,e.tokenLength>1&&(q||Ee)&&(n.minimumIntegerDigits=e.tokenLength,ke&&n.maximumSignificantDigits<e.tokenLength&&delete n.maximumSignificantDigits),!Ee&&(e.value>0||""===oe||g(H,e.type)||g(N,e.type))&&(Ee=!0),e.formattedValue=u(e.value,n,j),n.useGrouping=!1,n.decimalSeparator=".",e.formattedValueEn=u(e.value,n,"en"),2===e.tokenLength&&"milliseconds"===e.type&&(e.formattedValueMS=u(e.value,{minimumIntegerDigits:3,useGrouping:!1},"en").slice(0,2)),e};if((we=w(we=v(we,xe))).length>1){var De=function(e){return g(we,(function(t){return t.type===e}))},_e=function(e){var t=De(e.type);t&&y(e.targets,(function(e){var n=De(e.type);n&&parseInt(t.formattedValueEn,10)===e.value&&(t.rawValue=0,t.wholeValue=0,t.decimalValue=0,n.rawValue+=1,n.wholeValue+=1,n.decimalValue=0,n.formattedValueEn=n.wholeValue.toString(),ke=!0)}))};y(s,_e)}return ke&&(Ee=!1,Y=Z,we=w(we=v(we,xe))),!N||ee&&!i.trim?(de&&(we=E(we,(function(e){return!e.isSmallest&&!e.wholeValue&&!g(H,e.type)}))),L&&we.length&&(we=we.slice(0,L)),fe&&we.length>1&&(we=k(we,(function(e){return!e.wholeValue&&!g(H,e.type)&&!e.isLargest}))),me&&(we=w(we=v(we,(function(e,t){return t>0&&t<we.length-1&&!e.wholeValue?null:e})))),!ge||1!==we.length||we[0].wholeValue||!$&&we[0].isSmallest&&we[0].rawValue<X||(we=[])):we=w(we=v(we,(function(e){return g(N,(function(t){return e.type===t}))?e:null}))),B?we:(y(be,(function(e){var t=O[e.type],n=g(we,(function(t){return t.type===e.type}));if(t&&n){var r=n.formattedValueEn.split(".");r[0]=parseInt(r[0],10),r[1]?r[1]=parseFloat("0."+r[1],10):r[1]=null;var i=U.durationPluralKey(t,r[0],r[1]),o=p(t,U),s=!1,l={};y(U._durationLabelTypes,(function(t){var n=g(o,(function(e){return e.type===t.type&&e.key===i}));n&&(l[n.type]=n.label,a(e.text,t.string)&&(e.text=e.text.replace(t.string,n.label),s=!0))})),z&&!s&&(o.sort(h),y(o,(function(t){return l[t.type]===t.label?!a(e.text,t.label)&&void 0:a(e.text,t.label)?(e.text=e.text.replace(t.label,l[t.type]),!1):void 0})))}})),(be=v(be,(function(e){if(!e.type)return e.text;var t=g(we,(function(t){return t.type===e.type}));if(!t)return"";var n="";return W&&(n+=e.text),(T&&ee||!T&&Q)&&(n+="< ",ee=!1,Q=!1),(T&&Q||!T&&ee)&&(n+="> ",ee=!1,Q=!1),T&&(t.value>0||""===oe||g(H,t.type)||g(N,t.type))&&(n+="-",T=!1),"milliseconds"===e.type&&t.formattedValueMS?n+=t.formattedValueMS:n+=t.formattedValue,W||(n+=e.text),n}))).join("").replace(/(,| |:|\.)*$/,"").replace(/^(,| |:|\.)*/,""))}function I(){var e=this.duration,t=function(t){return e._data[t]},n=g(this.types,t),r=function(e,t){for(var n=e.length;n-=1;)if(t(e[n]))return e[n]}(this.types,t);switch(n){case"milliseconds":return"S __";case"seconds":case"minutes":return"*_MS_";case"hours":return"_HMS_";case"days":if(n===r)return"d __";case"weeks":return n===r?"w __":(null===this.trim&&(this.trim="both"),"w __, d __, h __");case"months":if(n===r)return"M __";case"years":return n===r?"y __":(null===this.trim&&(this.trim="both"),"y __, M __, d __");default:return null===this.trim&&(this.trim="both"),"y __, d __, h __, m __, s __"}}function M(e){if(!e)throw"Moment Duration Format init cannot find moment instance.";e.duration.format=O,e.duration.fn.format=P,e.duration.fn.format.defaults={trim:null,stopTrim:null,largest:null,maxValue:null,minValue:null,precision:0,trunc:!1,forceLength:null,userLocale:null,usePlural:!0,useLeftUnits:!1,useGrouping:!0,useSignificantDigits:!1,template:I,useToLocaleString:!0,groupingSeparator:",",decimalSeparator:".",grouping:[3]},e.updateLocale("en",d)}var F=function(e,t,n){return e.toLocaleString(t,n)};t=function(){try{(0).toLocaleString("i")}catch(e){return"RangeError"===e.name}return!1}()&&A(F),n=t&&R(F);var N=function(e,t,n){if("undefined"!=typeof window&&window&&window.Intl&&window.Intl.NumberFormat)return window.Intl.NumberFormat(t,n).format(e)};return r=A(N),i=r&&R(N),M(e),M},i=[n(13)],void 0===(o="function"==typeof(r=a)?r.apply(t,i):r)||(e.exports=o),s&&(s.momentDurationFormatSetup=s.moment?a(s.moment):a)},,,,function(e,t,n){t.SourceMapGenerator=n(158).SourceMapGenerator,t.SourceMapConsumer=n(252).SourceMapConsumer,t.SourceNode=n(255).SourceNode},function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},function(e,t,n){var r=n(56);function i(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}i.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},i.prototype.add=function(e){var t,n,i,o,s,a;t=this._last,n=e,i=t.generatedLine,o=n.generatedLine,s=t.generatedColumn,a=n.generatedColumn,o>i||o==i&&a>=s||r.compareByGeneratedPositionsInflated(t,n)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},i.prototype.toArray=function(){return this._sorted||(this._array.sort(r.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.MappingList=i},function(e,t,n){var r=n(56),i=n(253),o=n(160).ArraySet,s=n(159),a=n(254).quickSort;function l(e){var t=e;return"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,""))),null!=t.sections?new h(t):new c(t)}function c(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=r.getArg(t,"version"),i=r.getArg(t,"sources"),s=r.getArg(t,"names",[]),a=r.getArg(t,"sourceRoot",null),l=r.getArg(t,"sourcesContent",null),c=r.getArg(t,"mappings"),u=r.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);i=i.map(String).map(r.normalize).map((function(e){return a&&r.isAbsolute(a)&&r.isAbsolute(e)?r.relative(a,e):e})),this._names=o.fromArray(s.map(String),!0),this._sources=o.fromArray(i,!0),this.sourceRoot=a,this.sourcesContent=l,this._mappings=c,this.file=u}function u(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function h(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=r.getArg(t,"version"),i=r.getArg(t,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new o,this._names=new o;var s={line:-1,column:0};this._sections=i.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=r.getArg(e,"offset"),n=r.getArg(t,"line"),i=r.getArg(t,"column");if(n<s.line||n===s.line&&i<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=t,{generatedOffset:{generatedLine:n+1,generatedColumn:i+1},consumer:new l(r.getArg(e,"map"))}}))}l.fromSourceMap=function(e){return c.fromSourceMap(e)},l.prototype._version=3,l.prototype.__generatedMappings=null,Object.defineProperty(l.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),l.prototype.__originalMappings=null,Object.defineProperty(l.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),l.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},l.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},l.GENERATED_ORDER=1,l.ORIGINAL_ORDER=2,l.GREATEST_LOWER_BOUND=1,l.LEAST_UPPER_BOUND=2,l.prototype.eachMapping=function(e,t,n){var i,o=t||null;switch(n||l.GENERATED_ORDER){case l.GENERATED_ORDER:i=this._generatedMappings;break;case l.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var s=this.sourceRoot;i.map((function(e){var t=null===e.source?null:this._sources.at(e.source);return null!=t&&null!=s&&(t=r.join(s,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,o)},l.prototype.allGeneratedPositionsFor=function(e){var t=r.getArg(e,"line"),n={source:r.getArg(e,"source"),originalLine:t,originalColumn:r.getArg(e,"column",0)};if(null!=this.sourceRoot&&(n.source=r.relative(this.sourceRoot,n.source)),!this._sources.has(n.source))return[];n.source=this._sources.indexOf(n.source);var o=[],s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,i.LEAST_UPPER_BOUND);if(s>=0){var a=this._originalMappings[s];if(void 0===e.column)for(var l=a.originalLine;a&&a.originalLine===l;)o.push({line:r.getArg(a,"generatedLine",null),column:r.getArg(a,"generatedColumn",null),lastColumn:r.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s];else for(var c=a.originalColumn;a&&a.originalLine===t&&a.originalColumn==c;)o.push({line:r.getArg(a,"generatedLine",null),column:r.getArg(a,"generatedColumn",null),lastColumn:r.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s]}return o},t.SourceMapConsumer=l,c.prototype=Object.create(l.prototype),c.prototype.consumer=l,c.fromSourceMap=function(e){var t=Object.create(c.prototype),n=t._names=o.fromArray(e._names.toArray(),!0),i=t._sources=o.fromArray(e._sources.toArray(),!0);t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file;for(var s=e._mappings.toArray().slice(),l=t.__generatedMappings=[],h=t.__originalMappings=[],p=0,d=s.length;p<d;p++){var f=s[p],m=new u;m.generatedLine=f.generatedLine,m.generatedColumn=f.generatedColumn,f.source&&(m.source=i.indexOf(f.source),m.originalLine=f.originalLine,m.originalColumn=f.originalColumn,f.name&&(m.name=n.indexOf(f.name)),h.push(m)),l.push(m)}return a(t.__originalMappings,r.compareByOriginalPositions),t},c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:function(){return this._sources.toArray().map((function(e){return null!=this.sourceRoot?r.join(this.sourceRoot,e):e}),this)}}),c.prototype._parseMappings=function(e,t){for(var n,i,o,l,c,h=1,p=0,d=0,f=0,m=0,g=0,y=e.length,v=0,b={},w={},C=[],S=[];v<y;)if(";"===e.charAt(v))h++,v++,p=0;else if(","===e.charAt(v))v++;else{for((n=new u).generatedLine=h,l=v;l<y&&!this._charIsMappingSeparator(e,l);l++);if(o=b[i=e.slice(v,l)])v+=i.length;else{for(o=[];v<l;)s.decode(e,v,w),c=w.value,v=w.rest,o.push(c);if(2===o.length)throw new Error("Found a source, but no line and column");if(3===o.length)throw new Error("Found a source and line, but no column");b[i]=o}n.generatedColumn=p+o[0],p=n.generatedColumn,o.length>1&&(n.source=m+o[1],m+=o[1],n.originalLine=d+o[2],d=n.originalLine,n.originalLine+=1,n.originalColumn=f+o[3],f=n.originalColumn,o.length>4&&(n.name=g+o[4],g+=o[4])),S.push(n),"number"==typeof n.originalLine&&C.push(n)}a(S,r.compareByGeneratedPositionsDeflated),this.__generatedMappings=S,a(C,r.compareByOriginalPositions),this.__originalMappings=C},c.prototype._findMapping=function(e,t,n,r,o,s){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return i.search(e,t,o,s)},c.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},c.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",r.compareByGeneratedPositionsDeflated,r.getArg(e,"bias",l.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===t.generatedLine){var o=r.getArg(i,"source",null);null!==o&&(o=this._sources.at(o),null!=this.sourceRoot&&(o=r.join(this.sourceRoot,o)));var s=r.getArg(i,"name",null);return null!==s&&(s=this._names.at(s)),{source:o,line:r.getArg(i,"originalLine",null),column:r.getArg(i,"originalColumn",null),name:s}}}return{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e})))},c.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=r.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var n;if(null!=this.sourceRoot&&(n=r.urlParse(this.sourceRoot))){var i=e.replace(/^file:\/\//,"");if("file"==n.scheme&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!n.path||"/"==n.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(e){var t=r.getArg(e,"source");if(null!=this.sourceRoot&&(t=r.relative(this.sourceRoot,t)),!this._sources.has(t))return{line:null,column:null,lastColumn:null};var n={source:t=this._sources.indexOf(t),originalLine:r.getArg(e,"line"),originalColumn:r.getArg(e,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,r.getArg(e,"bias",l.GREATEST_LOWER_BOUND));if(i>=0){var o=this._originalMappings[i];if(o.source===n.source)return{line:r.getArg(o,"generatedLine",null),column:r.getArg(o,"generatedColumn",null),lastColumn:r.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},t.BasicSourceMapConsumer=c,h.prototype=Object.create(l.prototype),h.prototype.constructor=l,h.prototype._version=3,Object.defineProperty(h.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),h.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=i.search(t,this._sections,(function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n||e.generatedColumn-t.generatedOffset.generatedColumn})),o=this._sections[n];return o?o.consumer.originalPositionFor({line:t.generatedLine-(o.generatedOffset.generatedLine-1),column:t.generatedColumn-(o.generatedOffset.generatedLine===t.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},h.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},h.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n].consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},h.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer.sources.indexOf(r.getArg(e,"source"))){var i=n.consumer.generatedPositionFor(e);if(i)return{line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},h.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],o=i.consumer._generatedMappings,s=0;s<o.length;s++){var l=o[s],c=i.consumer._sources.at(l.source);null!==i.consumer.sourceRoot&&(c=r.join(i.consumer.sourceRoot,c)),this._sources.add(c),c=this._sources.indexOf(c);var u=i.consumer._names.at(l.name);this._names.add(u),u=this._names.indexOf(u);var h={source:c,generatedLine:l.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:l.generatedColumn+(i.generatedOffset.generatedLine===l.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:l.originalLine,originalColumn:l.originalColumn,name:u};this.__generatedMappings.push(h),"number"==typeof h.originalLine&&this.__originalMappings.push(h)}a(this.__generatedMappings,r.compareByGeneratedPositionsDeflated),a(this.__originalMappings,r.compareByOriginalPositions)},t.IndexedSourceMapConsumer=h},function(e,t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,n,r,i){if(0===n.length)return-1;var o=function e(n,r,i,o,s,a){var l=Math.floor((r-n)/2)+n,c=s(i,o[l],!0);return 0===c?l:c>0?r-l>1?e(l,r,i,o,s,a):a==t.LEAST_UPPER_BOUND?r<o.length?r:-1:l:l-n>1?e(n,l,i,o,s,a):a==t.LEAST_UPPER_BOUND?l:n<0?-1:n}(-1,n.length,e,n,r,i||t.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&0===r(n[o],n[o-1],!0);)--o;return o}},function(e,t){function n(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function r(e,t,i,o){if(i<o){var s=i-1;n(e,(u=i,h=o,Math.round(u+Math.random()*(h-u))),o);for(var a=e[o],l=i;l<o;l++)t(e[l],a)<=0&&n(e,s+=1,l);n(e,s+1,l);var c=s+1;r(e,t,i,c-1),r(e,t,c+1,o)}var u,h}t.quickSort=function(e,t){r(e,t,0,e.length-1)}},function(e,t,n){var r=n(158).SourceMapGenerator,i=n(56),o=/(\r?\n)/,s="$$$isSourceNode$$$";function a(e,t,n,r,i){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==i?null:i,this[s]=!0,null!=r&&this.add(r)}a.fromStringWithSourceMap=function(e,t,n){var r=new a,s=e.split(o),l=0,c=function(){return e()+(e()||"");function e(){return l<s.length?s[l++]:void 0}},u=1,h=0,p=null;return t.eachMapping((function(e){if(null!==p){if(!(u<e.generatedLine)){var t=(n=s[l]).substr(0,e.generatedColumn-h);return s[l]=n.substr(e.generatedColumn-h),h=e.generatedColumn,d(p,t),void(p=e)}d(p,c()),u++,h=0}for(;u<e.generatedLine;)r.add(c()),u++;if(h<e.generatedColumn){var n=s[l];r.add(n.substr(0,e.generatedColumn)),s[l]=n.substr(e.generatedColumn),h=e.generatedColumn}p=e}),this),l<s.length&&(p&&d(p,c()),r.add(s.splice(l).join(""))),t.sources.forEach((function(e){var o=t.sourceContentFor(e);null!=o&&(null!=n&&(e=i.join(n,e)),r.setSourceContent(e,o))})),r;function d(e,t){if(null===e||void 0===e.source)r.add(t);else{var o=n?i.join(n,e.source):e.source;r.add(new a(e.originalLine,e.originalColumn,o,t,e.name))}}},a.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},a.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},a.prototype.walk=function(e){for(var t,n=0,r=this.children.length;n<r;n++)(t=this.children[n])[s]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},a.prototype.join=function(e){var t,n,r=this.children.length;if(r>0){for(t=[],n=0;n<r-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},a.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[s]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},a.prototype.setSourceContent=function(e,t){this.sourceContents[i.toSetString(e)]=t},a.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][s]&&this.children[t].walkSourceContents(e);var r=Object.keys(this.sourceContents);for(t=0,n=r.length;t<n;t++)e(i.fromSetString(r[t]),this.sourceContents[r[t]])},a.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},a.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new r(e),i=!1,o=null,s=null,a=null,l=null;return this.walk((function(e,r){t.code+=e,null!==r.source&&null!==r.line&&null!==r.column?(o===r.source&&s===r.line&&a===r.column&&l===r.name||n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name}),o=r.source,s=r.line,a=r.column,l=r.name,i=!0):i&&(n.addMapping({generated:{line:t.line,column:t.column}}),o=null,i=!1);for(var c=0,u=e.length;c<u;c++)10===e.charCodeAt(c)?(t.line++,t.column=0,c+1===u?(o=null,i=!1):i&&n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name})):t.column++})),this.walkSourceContents((function(e,t){n.setSourceContent(e,t)})),{code:t.code,map:n}},t.SourceNode=a},function(e,t){e.exports=require("module")},function(e,t,n){var r=n(161),i=process.cwd,o=null,s=process.env.GRACEFUL_FS_PLATFORM||"darwin";process.cwd=function(){return o||(o=i.call(process)),o};try{process.cwd()}catch(e){}var a=process.chdir;process.chdir=function(e){o=null,a.call(process,e)},e.exports=function(e){r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,n,i){e.open(t,r.O_WRONLY|r.O_SYMLINK,n,(function(t,r){t?i&&i(t):e.fchmod(r,n,(function(t){e.close(r,(function(e){i&&i(t||e)}))}))}))},e.lchmodSync=function(t,n){var i,o=e.openSync(t,r.O_WRONLY|r.O_SYMLINK,n),s=!0;try{i=e.fchmodSync(o,n),s=!1}finally{if(s)try{e.closeSync(o)}catch(e){}else e.closeSync(o)}return i}}(e);e.lutimes||function(e){r.hasOwnProperty("O_SYMLINK")?(e.lutimes=function(t,n,i,o){e.open(t,r.O_SYMLINK,(function(t,r){t?o&&o(t):e.futimes(r,n,i,(function(t){e.close(r,(function(e){o&&o(t||e)}))}))}))},e.lutimesSync=function(t,n,i){var o,s=e.openSync(t,r.O_SYMLINK),a=!0;try{o=e.futimesSync(s,n,i),a=!1}finally{if(a)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return o}):(e.lutimes=function(e,t,n,r){r&&process.nextTick(r)},e.lutimesSync=function(){})}(e);e.chown=o(e.chown),e.fchown=o(e.fchown),e.lchown=o(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=a(e.chownSync),e.fchownSync=a(e.fchownSync),e.lchownSync=a(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=l(e.stat),e.fstat=l(e.fstat),e.lstat=l(e.lstat),e.statSync=c(e.statSync),e.fstatSync=c(e.fstatSync),e.lstatSync=c(e.lstatSync),e.lchmod||(e.lchmod=function(e,t,n){n&&process.nextTick(n)},e.lchmodSync=function(){});e.lchown||(e.lchown=function(e,t,n,r){r&&process.nextTick(r)},e.lchownSync=function(){});"win32"===s&&(e.rename=(t=e.rename,function(n,r,i){var o=Date.now(),s=0;t(n,r,(function a(l){if(l&&("EACCES"===l.code||"EPERM"===l.code)&&Date.now()-o<6e4)return setTimeout((function(){e.stat(r,(function(e,o){e&&"ENOENT"===e.code?t(n,r,a):i(l)}))}),s),void(s<100&&(s+=10));i&&i(l)}))}));var t;function n(t){return t?function(n,r,i){return t.call(e,n,r,(function(e){u(e)&&(e=null),i&&i.apply(this,arguments)}))}:t}function i(t){return t?function(n,r){try{return t.call(e,n,r)}catch(e){if(!u(e))throw e}}:t}function o(t){return t?function(n,r,i,o){return t.call(e,n,r,i,(function(e){u(e)&&(e=null),o&&o.apply(this,arguments)}))}:t}function a(t){return t?function(n,r,i){try{return t.call(e,n,r,i)}catch(e){if(!u(e))throw e}}:t}function l(t){return t?function(n,r,i){function o(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof r&&(i=r,r=null),r?t.call(e,n,r,o):t.call(e,n,o)}:t}function c(t){return t?function(n,r){var i=r?t.call(e,n,r):t.call(e,n);return i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296),i}:t}function u(e){return!e||("ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code))}e.read=function(t){function n(n,r,i,o,s,a){var l;if(a&&"function"==typeof a){var c=0;l=function(u,h,p){if(u&&"EAGAIN"===u.code&&c<10)return c++,t.call(e,n,r,i,o,s,l);a.apply(this,arguments)}}return t.call(e,n,r,i,o,s,l)}return n.__proto__=t,n}(e.read),e.readSync=(h=e.readSync,function(t,n,r,i,o){for(var s=0;;)try{return h.call(e,t,n,r,i,o)}catch(e){if("EAGAIN"===e.code&&s<10){s++;continue}throw e}});var h}},function(e,t,n){var r=n(70).Stream;e.exports=function(e){return{ReadStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,i=i||{};for(var s=Object.keys(i),a=0,l=s.length;a<l;a++){var c=s[a];this[c]=i[c]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick((function(){o._read()}));e.open(this.path,this.flags,this.mode,(function(e,t){if(e)return o.emit("error",e),void(o.readable=!1);o.fd=t,o.emit("open",t),o._read()}))},WriteStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),s=0,a=o.length;s<a;s++){var l=o[s];this[l]=i[l]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},function(e,t,n){"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var t={__proto__:e.__proto__};else t=Object.create(null);return Object.getOwnPropertyNames(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}},function(e,t,n){"use strict";const r=n(18),i=n(1),o=n(28).mkdirsSync,s=n(164).utimesMillisSync,a=n(72);function l(e,t,n,o){if(!o.filter||o.filter(t,n))return function(e,t,n,o){const s=(o.dereference?r.statSync:r.lstatSync)(t);if(s.isDirectory())return function(e,t,n,i,o){if(!t)return function(e,t,n,i){return r.mkdirSync(n),h(t,n,i),u(n,e)}(e.mode,n,i,o);if(t&&!t.isDirectory())throw new Error(`Cannot overwrite non-directory '${i}' with directory '${n}'.`);return h(n,i,o)}(s,e,t,n,o);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return function(e,t,n,i,o){return t?function(e,t,n,i){if(i.overwrite)return r.unlinkSync(n),c(e,t,n,i);if(i.errorOnExist)throw new Error(`'${n}' already exists`)}(e,n,i,o):c(e,n,i,o)}(s,e,t,n,o);if(s.isSymbolicLink())return function(e,t,n,o){let s=r.readlinkSync(t);o.dereference&&(s=i.resolve(process.cwd(),s));if(e){let e;try{e=r.readlinkSync(n)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return r.symlinkSync(s,n);throw e}if(o.dereference&&(e=i.resolve(process.cwd(),e)),a.isSrcSubdir(s,e))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${e}'.`);if(r.statSync(n).isDirectory()&&a.isSrcSubdir(e,s))throw new Error(`Cannot overwrite '${e}' with '${s}'.`);return function(e,t){return r.unlinkSync(t),r.symlinkSync(e,t)}(s,n)}return r.symlinkSync(s,n)}(e,t,n,o)}(e,t,n,o)}function c(e,t,n,i){return r.copyFileSync(t,n),i.preserveTimestamps&&function(e,t,n){(function(e){return 0==(128&e)})(e)&&function(e,t){u(e,128|t)}(n,e);(function(e,t){const n=r.statSync(e);s(t,n.atime,n.mtime)})(t,n)}(e.mode,t,n),u(n,e.mode)}function u(e,t){return r.chmodSync(e,t)}function h(e,t,n){r.readdirSync(e).forEach(r=>function(e,t,n,r){const o=i.join(t,e),s=i.join(n,e),{destStat:c}=a.checkPathsSync(o,s,"copy");return l(c,o,s,r)}(r,e,t,n))}e.exports=function(e,t,n){"function"==typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const{srcStat:s,destStat:c}=a.checkPathsSync(e,t,"copy");return a.checkParentPathsSync(e,s,t,"copy"),function(e,t,n,s){if(s.filter&&!s.filter(t,n))return;const a=i.dirname(n);r.existsSync(a)||o(a);return l(e,t,n,s)}(c,e,t,n)}},function(e,t,n){"use strict";const r=n(69),i=n(1),o=n(163)("10.12.0"),s=e=>{0},a=e=>("number"==typeof e&&(e={mode:e}),{mode:511,...e}),l=e=>{const t=new Error(`operation not permitted, mkdir '${e}'`);return t.code="EPERM",t.errno=-4048,t.path=e,t.syscall="mkdir",t};e.exports.makeDir=async(e,t)=>{if(s(),t=a(t),o){const n=i.resolve(e);return r.mkdir(n,{mode:t.mode,recursive:!0})}const n=async e=>{try{await r.mkdir(e,t.mode)}catch(t){if("EPERM"===t.code)throw t;if("ENOENT"===t.code){if(i.dirname(e)===e)throw l(e);if(t.message.includes("null bytes"))throw t;return await n(i.dirname(e)),n(e)}try{if(!(await r.stat(e)).isDirectory())throw new Error("The path is not a directory")}catch{throw t}}};return n(i.resolve(e))},e.exports.makeDirSync=(e,t)=>{if(s(),t=a(t),o){const n=i.resolve(e);return r.mkdirSync(n,{mode:t.mode,recursive:!0})}const n=e=>{try{r.mkdirSync(e,t.mode)}catch(t){if("EPERM"===t.code)throw t;if("ENOENT"===t.code){if(i.dirname(e)===e)throw l(e);if(t.message.includes("null bytes"))throw t;return n(i.dirname(e)),n(e)}try{if(!r.statSync(e).isDirectory())throw new Error("The path is not a directory")}catch{throw t}}};return n(i.resolve(e))}},function(e,t,n){"use strict";const r=n(18),i=n(1),o=n(28).mkdirs,s=n(40).pathExists,a=n(164).utimesMillis,l=n(72);function c(e,t,n,r,a){const l=i.dirname(n);s(l,(i,s)=>i?a(i):s?h(e,t,n,r,a):void o(l,i=>i?a(i):h(e,t,n,r,a)))}function u(e,t,n,r,i,o){Promise.resolve(i.filter(n,r)).then(s=>s?e(t,n,r,i,o):o(),e=>o(e))}function h(e,t,n,r,i){return r.filter?u(p,e,t,n,r,i):p(e,t,n,r,i)}function p(e,t,n,i,o){(i.dereference?r.stat:r.lstat)(t,(s,a)=>s?o(s):a.isDirectory()?function(e,t,n,i,o,s){if(!t)return function(e,t,n,i,o){r.mkdir(n,r=>{if(r)return o(r);g(t,n,i,t=>t?o(t):m(n,e,o))})}(e.mode,n,i,o,s);if(t&&!t.isDirectory())return s(new Error(`Cannot overwrite non-directory '${i}' with directory '${n}'.`));return g(n,i,o,s)}(a,e,t,n,i,o):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?function(e,t,n,i,o,s){return t?function(e,t,n,i,o){if(!i.overwrite)return i.errorOnExist?o(new Error(`'${n}' already exists`)):o();r.unlink(n,r=>r?o(r):d(e,t,n,i,o))}(e,n,i,o,s):d(e,n,i,o,s)}(a,e,t,n,i,o):a.isSymbolicLink()?v(e,t,n,i,o):void 0)}function d(e,t,n,i,o){r.copyFile(t,n,r=>r?o(r):i.preserveTimestamps?function(e,t,n,r){if(function(e){return 0==(128&e)}(e))return function(e,t,n){return m(e,128|t,n)}(n,e,i=>i?r(i):f(e,t,n,r));return f(e,t,n,r)}(e.mode,t,n,o):m(n,e.mode,o))}function f(e,t,n,i){!function(e,t,n){r.stat(e,(e,r)=>e?n(e):a(t,r.atime,r.mtime,n))}(t,n,t=>t?i(t):m(n,e,i))}function m(e,t,n){return r.chmod(e,t,n)}function g(e,t,n,i){r.readdir(e,(r,o)=>r?i(r):y(o,e,t,n,i))}function y(e,t,n,r,o){const s=e.pop();return s?function(e,t,n,r,o,s){const a=i.join(n,t),c=i.join(r,t);l.checkPaths(a,c,"copy",(t,i)=>{if(t)return s(t);const{destStat:l}=i;h(l,a,c,o,t=>t?s(t):y(e,n,r,o,s))})}(e,s,t,n,r,o):o()}function v(e,t,n,o,s){r.readlink(t,(t,a)=>t?s(t):(o.dereference&&(a=i.resolve(process.cwd(),a)),e?void r.readlink(n,(t,c)=>t?"EINVAL"===t.code||"UNKNOWN"===t.code?r.symlink(a,n,s):s(t):(o.dereference&&(c=i.resolve(process.cwd(),c)),l.isSrcSubdir(a,c)?s(new Error(`Cannot copy '${a}' to a subdirectory of itself, '${c}'.`)):e.isDirectory()&&l.isSrcSubdir(c,a)?s(new Error(`Cannot overwrite '${c}' with '${a}'.`)):function(e,t,n){r.unlink(t,i=>i?n(i):r.symlink(e,t,n))}(a,n,s))):r.symlink(a,n,s)))}e.exports=function(e,t,n,r){"function"!=typeof n||r?"function"==typeof n&&(n={filter:n}):(r=n,n={}),r=r||function(){},(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),l.checkPaths(e,t,"copy",(i,o)=>{if(i)return r(i);const{srcStat:s,destStat:a}=o;l.checkParentPaths(e,s,t,"copy",i=>i?r(i):n.filter?u(c,a,e,t,n,r):c(a,e,t,n,r))})}},function(e,t,n){"use strict";const r=n(24).fromCallback,i=n(18),o=n(1),s=n(28),a=n(73),l=r((function(e,t){t=t||function(){},i.readdir(e,(n,r)=>{if(n)return s.mkdirs(e,t);r=r.map(t=>o.join(e,t)),function e(){const n=r.pop();if(!n)return t();a.remove(n,n=>{if(n)return t(n);e()})}()})}));function c(e){let t;try{t=i.readdirSync(e)}catch{return s.mkdirsSync(e)}t.forEach(t=>{t=o.join(e,t),a.removeSync(t)})}e.exports={emptyDirSync:c,emptydirSync:c,emptyDir:l,emptydir:l}},function(e,t,n){"use strict";const r=n(18),i=n(1),o=n(71);function s(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(t=>{e[t]=e[t]||r[t],e[t+="Sync"]=e[t]||r[t]}),e.maxBusyTries=e.maxBusyTries||3}function a(e,t,n){let r=0;"function"==typeof t&&(n=t,t={}),o(e,"rimraf: missing path"),o.strictEqual(typeof e,"string","rimraf: path should be a string"),o.strictEqual(typeof n,"function","rimraf: callback function required"),o(t,"rimraf: invalid options argument provided"),o.strictEqual(typeof t,"object","rimraf: options should be object"),s(t),l(e,t,(function i(o){if(o){if(("EBUSY"===o.code||"ENOTEMPTY"===o.code||"EPERM"===o.code)&&r<t.maxBusyTries){r++;return setTimeout(()=>l(e,t,i),100*r)}"ENOENT"===o.code&&(o=null)}n(o)}))}function l(e,t,n){o(e),o(t),o("function"==typeof n),t.lstat(e,(r,i)=>r&&"ENOENT"===r.code?n(null):(r&&r.code,i&&i.isDirectory()?c(e,t,r,n):void t.unlink(e,r=>{if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return c(e,t,r,n);if("EISDIR"===r.code)return c(e,t,r,n)}return n(r)})))}function c(e,t,n,r){o(e),o(t),o("function"==typeof r),t.rmdir(e,s=>{!s||"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code?s&&"ENOTDIR"===s.code?r(n):r(s):function(e,t,n){o(e),o(t),o("function"==typeof n),t.readdir(e,(r,o)=>{if(r)return n(r);let s,l=o.length;if(0===l)return t.rmdir(e,n);o.forEach(r=>{a(i.join(e,r),t,r=>{if(!s)return r?n(s=r):void(0==--l&&t.rmdir(e,n))})})})}(e,t,r)})}function u(e,t){let n;s(t=t||{}),o(e,"rimraf: missing path"),o.strictEqual(typeof e,"string","rimraf: path should be a string"),o(t,"rimraf: missing options"),o.strictEqual(typeof t,"object","rimraf: options should be object");try{n=t.lstatSync(e)}catch(e){if("ENOENT"===e.code)return;e.code,0}try{n&&n.isDirectory()?h(e,t,null):t.unlinkSync(e)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return h(e,t,n);if("EISDIR"!==n.code)throw n;h(e,t,n)}}function h(e,t,n){o(e),o(t);try{t.rmdirSync(e)}catch(r){if("ENOTDIR"===r.code)throw n;if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)!function(e,t){o(e),o(t),t.readdirSync(e).forEach(n=>u(i.join(e,n),t));t.rmdirSync(e,t)}(e,t);else if("ENOENT"!==r.code)throw r}}e.exports=a,a.sync=u},function(e,t,n){"use strict";const r=n(266),i=n(267),o=n(268);e.exports={createFile:r.createFile,createFileSync:r.createFileSync,ensureFile:r.createFile,ensureFileSync:r.createFileSync,createLink:i.createLink,createLinkSync:i.createLinkSync,ensureLink:i.createLink,ensureLinkSync:i.createLinkSync,createSymlink:o.createSymlink,createSymlinkSync:o.createSymlinkSync,ensureSymlink:o.createSymlink,ensureSymlinkSync:o.createSymlinkSync}},function(e,t,n){"use strict";const r=n(24).fromCallback,i=n(1),o=n(18),s=n(28);e.exports={createFile:r((function(e,t){function n(){o.writeFile(e,"",e=>{if(e)return t(e);t()})}o.stat(e,(r,a)=>{if(!r&&a.isFile())return t();const l=i.dirname(e);o.stat(l,(e,r)=>{if(e)return"ENOENT"===e.code?s.mkdirs(l,e=>{if(e)return t(e);n()}):t(e);r.isDirectory()?n():o.readdir(l,e=>{if(e)return t(e)})})})})),createFileSync:function(e){let t;try{t=o.statSync(e)}catch{}if(t&&t.isFile())return;const n=i.dirname(e);try{o.statSync(n).isDirectory()||o.readdirSync(n)}catch(e){if(!e||"ENOENT"!==e.code)throw e;s.mkdirsSync(n)}o.writeFileSync(e,"")}}},function(e,t,n){"use strict";const r=n(24).fromCallback,i=n(1),o=n(18),s=n(28),a=n(40).pathExists;e.exports={createLink:r((function(e,t,n){function r(e,t){o.link(e,t,e=>{if(e)return n(e);n(null)})}a(t,(l,c)=>l?n(l):c?n(null):void o.lstat(e,o=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),n(o);const l=i.dirname(t);a(l,(i,o)=>i?n(i):o?r(e,t):void s.mkdirs(l,i=>{if(i)return n(i);r(e,t)}))}))})),createLinkSync:function(e,t){if(o.existsSync(t))return;try{o.lstatSync(e)}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const n=i.dirname(t);return o.existsSync(n)||s.mkdirsSync(n),o.linkSync(e,t)}}},function(e,t,n){"use strict";const r=n(24).fromCallback,i=n(1),o=n(18),s=n(28),a=s.mkdirs,l=s.mkdirsSync,c=n(269),u=c.symlinkPaths,h=c.symlinkPathsSync,p=n(270),d=p.symlinkType,f=p.symlinkTypeSync,m=n(40).pathExists;e.exports={createSymlink:r((function(e,t,n,r){r="function"==typeof n?n:r,n="function"!=typeof n&&n,m(t,(s,l)=>s?r(s):l?r(null):void u(e,t,(s,l)=>{if(s)return r(s);e=l.toDst,d(l.toCwd,n,(n,s)=>{if(n)return r(n);const l=i.dirname(t);m(l,(n,i)=>n?r(n):i?o.symlink(e,t,s,r):void a(l,n=>{if(n)return r(n);o.symlink(e,t,s,r)}))})}))})),createSymlinkSync:function(e,t,n){if(o.existsSync(t))return;const r=h(e,t);e=r.toDst,n=f(r.toCwd,n);const s=i.dirname(t);return o.existsSync(s)||l(s),o.symlinkSync(e,t,n)}}},function(e,t,n){"use strict";const r=n(1),i=n(18),o=n(40).pathExists;e.exports={symlinkPaths:function(e,t,n){if(r.isAbsolute(e))return i.lstat(e,t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:e}));{const s=r.dirname(t),a=r.join(s,e);return o(a,(t,o)=>t?n(t):o?n(null,{toCwd:a,toDst:e}):i.lstat(e,t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:r.relative(s,e)})))}},symlinkPathsSync:function(e,t){let n;if(r.isAbsolute(e)){if(n=i.existsSync(e),!n)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}{const o=r.dirname(t),s=r.join(o,e);if(n=i.existsSync(s),n)return{toCwd:s,toDst:e};if(n=i.existsSync(e),!n)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:r.relative(o,e)}}}}},function(e,t,n){"use strict";const r=n(18);e.exports={symlinkType:function(e,t,n){if(n="function"==typeof t?t:n,t="function"!=typeof t&&t)return n(null,t);r.lstat(e,(e,r)=>{if(e)return n(null,"file");t=r&&r.isDirectory()?"dir":"file",n(null,t)})},symlinkTypeSync:function(e,t){let n;if(t)return t;try{n=r.lstatSync(e)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"}}},function(e,t,n){"use strict";const r=n(24).fromPromise,i=n(272);i.outputJson=r(n(278)),i.outputJsonSync=n(279),i.outputJSON=i.outputJson,i.outputJSONSync=i.outputJsonSync,i.writeJSON=i.writeJson,i.writeJSONSync=i.writeJsonSync,i.readJSON=i.readJson,i.readJSONSync=i.readJsonSync,e.exports=i},function(e,t,n){"use strict";const r=n(273);e.exports={readJson:r.readFile,readJsonSync:r.readFileSync,writeJson:r.writeFile,writeJsonSync:r.writeFileSync}},function(e,t,n){let r;try{r=n(274)}catch(e){r=n(8)}const i=n(277),{stringify:o,stripBom:s}=n(113);const a={readFile:i.fromPromise((async function(e,t={}){"string"==typeof t&&(t={encoding:t});const n=t.fs||r,o=!("throws"in t)||t.throws;let a,l=await i.fromCallback(n.readFile)(e,t);l=s(l);try{a=JSON.parse(l,t?t.reviver:null)}catch(t){if(o)throw t.message=`${e}: ${t.message}`,t;return null}return a})),readFileSync:function(e,t={}){"string"==typeof t&&(t={encoding:t});const n=t.fs||r,i=!("throws"in t)||t.throws;try{let r=n.readFileSync(e,t);return r=s(r),JSON.parse(r,t.reviver)}catch(t){if(i)throw t.message=`${e}: ${t.message}`,t;return null}},writeFile:i.fromPromise((async function(e,t,n={}){const s=n.fs||r,a=o(t,n);await i.fromCallback(s.writeFile)(e,a,n)})),writeFileSync:function(e,t,n={}){const i=n.fs||r,s=o(t,n);return i.writeFileSync(e,s,n)}};e.exports=a},function(e,t,n){var r=n(8),i=n(275),o=n(276),s=[],a=n(33);var l,c,u=function(){};function h(e){i(e),e.gracefulify=h,e.FileReadStream=f,e.FileWriteStream=m,e.createReadStream=function(e,t){return new f(e,t)},e.createWriteStream=function(e,t){return new m(e,t)};var t=e.readFile;e.readFile=function(e,n,r){"function"==typeof n&&(r=n,n=null);return function e(n,r,i){return t(n,r,(function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof i&&i.apply(this,arguments),d()):p([e,[n,r,i]])}))}(e,n,r)};var n=e.writeFile;e.writeFile=function(e,t,r,i){"function"==typeof r&&(i=r,r=null);return function e(t,r,i,o){return n(t,r,i,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?("function"==typeof o&&o.apply(this,arguments),d()):p([e,[t,r,i,o]])}))}(e,t,r,i)};var r=e.appendFile;r&&(e.appendFile=function(e,t,n,i){"function"==typeof n&&(i=n,n=null);return function e(t,n,i,o){return r(t,n,i,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"==typeof o&&o.apply(this,arguments),d()):p([e,[t,n,i,o]])}))}(e,t,n,i)});var s=e.readdir;function a(t){return s.apply(e,t)}if(e.readdir=function(e,t,n){var r=[e];"function"!=typeof t?r.push(t):n=t;return r.push((function(e,t){t&&t.sort&&t.sort();!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof n&&n.apply(this,arguments),d()):p([a,[r]])})),a(r)},"v0.8"===process.version.substr(0,4)){var l=o(e);f=l.ReadStream,m=l.WriteStream}var c=e.ReadStream;f.prototype=Object.create(c.prototype),f.prototype.open=function(){var e=this;y(e.path,e.flags,e.mode,(function(t,n){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n),e.read())}))};var u=e.WriteStream;function f(e,t){return this instanceof f?(c.apply(this,arguments),this):f.apply(Object.create(f.prototype),arguments)}function m(e,t){return this instanceof m?(u.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}m.prototype=Object.create(u.prototype),m.prototype.open=function(){var e=this;y(e.path,e.flags,e.mode,(function(t,n){t?(e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n))}))},e.ReadStream=f,e.WriteStream=m;var g=e.open;function y(e,t,n,r){return"function"==typeof n&&(r=n,n=null),function e(t,n,r,i){return g(t,n,r,(function(o,s){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?("function"==typeof i&&i.apply(this,arguments),d()):p([e,[t,n,r,i]])}))}(e,t,n,r)}return e.open=y,e}function p(e){u("ENQUEUE",e[0].name,e[1]),s.push(e)}function d(){var e=s.shift();e&&(u("RETRY",e[0].name,e[1]),e[0].apply(null,e[1]))}a.debuglog?u=a.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(u=function(){var e=a.format.apply(a,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){u(s),n(71).equal(s.length,0)})),e.exports=h(n(166)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&(e.exports=h(r)),e.exports.close=r.close=(l=r.close,function(e,t){return l.call(r,e,(function(e){e||d(),"function"==typeof t&&t.apply(this,arguments)}))}),e.exports.closeSync=r.closeSync=(c=r.closeSync,function(e){var t=c.apply(r,arguments);return d(),t})},function(e,t,n){var r=n(166),i=n(161),o=process.cwd,s=null,a=process.env.GRACEFUL_FS_PLATFORM||"darwin";process.cwd=function(){return s||(s=o.call(process)),s};try{process.cwd()}catch(e){}var l=process.chdir;function c(e){return e?function(t,n,i){return e.call(r,t,n,(function(e){m(e)&&(e=null),i&&i.apply(this,arguments)}))}:e}function u(e){return e?function(t,n){try{return e.call(r,t,n)}catch(e){if(!m(e))throw e}}:e}function h(e){return e?function(t,n,i,o){return e.call(r,t,n,i,(function(e){m(e)&&(e=null),o&&o.apply(this,arguments)}))}:e}function p(e){return e?function(t,n,i){try{return e.call(r,t,n,i)}catch(e){if(!m(e))throw e}}:e}function d(e){return e?function(t,n){return e.call(r,t,(function(e,t){if(!t)return n.apply(this,arguments);t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296),n&&n.apply(this,arguments)}))}:e}function f(e){return e?function(t){var n=e.call(r,t);return n.uid<0&&(n.uid+=4294967296),n.gid<0&&(n.gid+=4294967296),n}:e}function m(e){return!e||("ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code))}process.chdir=function(e){s=null,l.call(process,e)},e.exports=function(e){i.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,n,r){e.open(t,i.O_WRONLY|i.O_SYMLINK,n,(function(t,i){t?r&&r(t):e.fchmod(i,n,(function(t){e.close(i,(function(e){r&&r(t||e)}))}))}))},e.lchmodSync=function(t,n){var r,o=e.openSync(t,i.O_WRONLY|i.O_SYMLINK,n),s=!0;try{r=e.fchmodSync(o,n),s=!1}finally{if(s)try{e.closeSync(o)}catch(e){}else e.closeSync(o)}return r}}(e);e.lutimes||function(e){i.hasOwnProperty("O_SYMLINK")?(e.lutimes=function(t,n,r,o){e.open(t,i.O_SYMLINK,(function(t,i){t?o&&o(t):e.futimes(i,n,r,(function(t){e.close(i,(function(e){o&&o(t||e)}))}))}))},e.lutimesSync=function(t,n,r){var o,s=e.openSync(t,i.O_SYMLINK),a=!0;try{o=e.futimesSync(s,n,r),a=!1}finally{if(a)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return o}):(e.lutimes=function(e,t,n,r){r&&process.nextTick(r)},e.lutimesSync=function(){})}(e);e.chown=h(e.chown),e.fchown=h(e.fchown),e.lchown=h(e.lchown),e.chmod=c(e.chmod),e.fchmod=c(e.fchmod),e.lchmod=c(e.lchmod),e.chownSync=p(e.chownSync),e.fchownSync=p(e.fchownSync),e.lchownSync=p(e.lchownSync),e.chmodSync=u(e.chmodSync),e.fchmodSync=u(e.fchmodSync),e.lchmodSync=u(e.lchmodSync),e.stat=d(e.stat),e.fstat=d(e.fstat),e.lstat=d(e.lstat),e.statSync=f(e.statSync),e.fstatSync=f(e.fstatSync),e.lstatSync=f(e.lstatSync),e.lchmod||(e.lchmod=function(e,t,n){n&&process.nextTick(n)},e.lchmodSync=function(){});e.lchown||(e.lchown=function(e,t,n,r){r&&process.nextTick(r)},e.lchownSync=function(){});"win32"===a&&(e.rename=(t=e.rename,function(n,r,i){var o=Date.now(),s=0;t(n,r,(function a(l){if(l&&("EACCES"===l.code||"EPERM"===l.code)&&Date.now()-o<6e4)return setTimeout((function(){e.stat(r,(function(e,o){e&&"ENOENT"===e.code?t(n,r,a):i(l)}))}),s),void(s<100&&(s+=10));i&&i(l)}))}));var t;e.read=(r=e.read,function(t,n,i,o,s,a){var l;if(a&&"function"==typeof a){var c=0;l=function(u,h,p){if(u&&"EAGAIN"===u.code&&c<10)return c++,r.call(e,t,n,i,o,s,l);a.apply(this,arguments)}}return r.call(e,t,n,i,o,s,l)}),e.readSync=(n=e.readSync,function(t,r,i,o,s){for(var a=0;;)try{return n.call(e,t,r,i,o,s)}catch(e){if("EAGAIN"===e.code&&a<10){a++;continue}throw e}});var n;var r}},function(e,t,n){var r=n(70).Stream;e.exports=function(e){return{ReadStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,i=i||{};for(var s=Object.keys(i),a=0,l=s.length;a<l;a++){var c=s[a];this[c]=i[c]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick((function(){o._read()}));e.open(this.path,this.flags,this.mode,(function(e,t){if(e)return o.emit("error",e),void(o.readable=!1);o.fd=t,o.emit("open",t),o._read()}))},WriteStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),s=0,a=o.length;s<a;s++){var l=o[s];this[l]=i[l]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},function(e,t,n){"use strict";t.fromCallback=function(e){return Object.defineProperty((function(...t){if("function"!=typeof t[t.length-1])return new Promise((n,r)=>{e.call(this,...t,(e,t)=>null!=e?r(e):n(t))});e.apply(this,t)}),"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty((function(...t){const n=t[t.length-1];if("function"!=typeof n)return e.apply(this,t);e.apply(this,t.slice(0,-1)).then(e=>n(null,e),n)}),"name",{value:e.name})}},function(e,t,n){"use strict";const{stringify:r}=n(113),{outputFile:i}=n(114);e.exports=async function(e,t,n={}){const o=r(t,n);await i(e,o,n)}},function(e,t,n){"use strict";const{stringify:r}=n(113),{outputFileSync:i}=n(114);e.exports=function(e,t,n){const o=r(t,n);i(e,o,n)}},function(e,t,n){"use strict";e.exports={moveSync:n(281)}},function(e,t,n){"use strict";const r=n(18),i=n(1),o=n(162).copySync,s=n(73).removeSync,a=n(28).mkdirpSync,l=n(72);function c(e,t,n){try{r.renameSync(e,t)}catch(r){if("EXDEV"!==r.code)throw r;return function(e,t,n){return o(e,t,{overwrite:n,errorOnExist:true}),s(e)}(e,t,n)}}e.exports=function(e,t,n){const o=(n=n||{}).overwrite||n.clobber||!1,{srcStat:u}=l.checkPathsSync(e,t,"move");return l.checkParentPathsSync(e,u,t,"move"),a(i.dirname(t)),function(e,t,n){if(n)return s(t),c(e,t,n);if(r.existsSync(t))throw new Error("dest already exists.");return c(e,t,n)}(e,t,o)}},function(e,t,n){"use strict";const r=n(24).fromCallback;e.exports={move:r(n(283))}},function(e,t,n){"use strict";const r=n(18),i=n(1),o=n(165).copy,s=n(73).remove,a=n(28).mkdirp,l=n(40).pathExists,c=n(72);function u(e,t,n,i){r.rename(e,t,r=>r?"EXDEV"!==r.code?i(r):function(e,t,n,r){o(e,t,{overwrite:n,errorOnExist:!0},t=>t?r(t):s(e,r))}(e,t,n,i):i())}e.exports=function(e,t,n,r){"function"==typeof n&&(r=n,n={});const o=n.overwrite||n.clobber||!1;c.checkPaths(e,t,"move",(n,h)=>{if(n)return r(n);const{srcStat:p}=h;c.checkParentPaths(e,p,t,"move",n=>{if(n)return r(n);a(i.dirname(t),n=>n?r(n):function(e,t,n,r){if(n)return s(t,i=>i?r(i):u(e,t,n,r));l(t,(i,o)=>i?r(i):o?r(new Error("dest already exists.")):u(e,t,n,r))}(e,t,o,r))})})}},function(e,t,n){var r=n(285);Object.keys(r).forEach((function(e){t[e]=r[e]}));var i=n(288);Object.keys(i).forEach((function(e){t[e]=i[e]}))},function(e,t,n){var r=n(286).DOMParser;t.parse=function(e){var t=(new r).parseFromString(e);s("plist"===t.documentElement.nodeName,"malformed document. First element should be <plist>");var n=function e(t){var n,r,a,l,c,u;if(!t)return null;if("plist"===t.nodeName){if(l=[],o(t))return l;for(n=0;n<t.childNodes.length;n++)i(t.childNodes[n])||l.push(e(t.childNodes[n]));return l}if("dict"===t.nodeName){if(r={},a=null,u=0,o(t))return r;for(n=0;n<t.childNodes.length;n++)i(t.childNodes[n])||(u%2==0?(s("key"===t.childNodes[n].nodeName,"Missing key while parsing <dict/>."),a=e(t.childNodes[n])):(s("key"!==t.childNodes[n].nodeName,'Unexpected key "'+e(t.childNodes[n])+'" while parsing <dict/>.'),r[a]=e(t.childNodes[n])),u+=1);if(u%2==1)throw new Error('Missing value for "'+a+'" while parsing <dict/>');return r}if("array"===t.nodeName){if(l=[],o(t))return l;for(n=0;n<t.childNodes.length;n++)i(t.childNodes[n])||null!=(c=e(t.childNodes[n]))&&l.push(c);return l}if("#text"===t.nodeName);else{if("key"===t.nodeName)return o(t)?"":t.childNodes[0].nodeValue;if("string"===t.nodeName){if(c="",o(t))return c;for(n=0;n<t.childNodes.length;n++){var h;3!==(h=t.childNodes[n].nodeType)&&4!==h||(c+=t.childNodes[n].nodeValue)}return c}if("integer"===t.nodeName)return s(!o(t),'Cannot parse "" as integer.'),parseInt(t.childNodes[0].nodeValue,10);if("real"===t.nodeName){for(s(!o(t),'Cannot parse "" as real.'),c="",n=0;n<t.childNodes.length;n++)3===t.childNodes[n].nodeType&&(c+=t.childNodes[n].nodeValue);return parseFloat(c)}if("data"===t.nodeName){if(c="",o(t))return new Buffer(c,"base64");for(n=0;n<t.childNodes.length;n++)3===t.childNodes[n].nodeType&&(c+=t.childNodes[n].nodeValue.replace(/\s+/g,""));return new Buffer(c,"base64")}if("date"===t.nodeName)return s(!o(t),'Cannot parse "" as Date.'),new Date(t.childNodes[0].nodeValue);if("true"===t.nodeName)return!0;if("false"===t.nodeName)return!1}}(t.documentElement);1==n.length&&(n=n[0]);return n};function i(e){return 3===e.nodeType||8===e.nodeType||4===e.nodeType}function o(e){return!e.childNodes||0===e.childNodes.length}function s(e,t){if(!e)throw new Error(t)}},function(e,t,n){function r(e){this.options=e||{locator:{}}}function i(){this.cdata=!1}function o(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function s(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function a(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function l(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}r.prototype.parseFromString=function(e,t){var n=this.options,r=new c,o=n.domBuilder||new i,a=n.errorHandler,l=n.locator,u=n.xmlns||{},h={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return l&&o.setDocumentLocator(l),r.errorHandler=function(e,t,n){if(!e){if(t instanceof i)return t;e=t}var r={},o=e instanceof Function;function a(t){var i=e[t];!i&&o&&(i=2==e.length?function(n){e(t,n)}:e),r[t]=i&&function(e){i("[xmldom "+t+"]\t"+e+s(n))}||function(){}}return n=n||{},a("warning"),a("error"),a("fatalError"),r}(a,o,l),r.domBuilder=n.domBuilder||o,/\/x?html?$/.test(t)&&(h.nbsp="",h.copy="",u[""]="http://www.w3.org/1999/xhtml"),u.xml=u.xml||"http://www.w3.org/XML/1998/namespace",e?r.parse(e,u,h):r.errorHandler.error("invalid doc source"),o.doc},i.prototype={startDocument:function(){this.doc=(new u).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var i=this.doc,s=i.createElementNS(e,n||t),a=r.length;l(this,s),this.currentElement=s,this.locator&&o(this.locator,s);for(var c=0;c<a;c++){e=r.getURI(c);var u=r.getValue(c),h=(n=r.getQName(c),i.createAttributeNS(e,n));this.locator&&o(r.getLocator(c),h),h.value=h.nodeValue=u,s.setAttributeNode(h)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&o(this.locator,n),l(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=a.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&o(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=a.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&o(this.locator,r),l(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(e,t,n);this.locator&&o(this.locator,i),l(this,i)}},warning:function(e){console.warn("[xmldom warning]\t"+e,s(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,s(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,s(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){i.prototype[e]=function(){return null}}));var c=n(287).XMLReader,u=t.DOMImplementation=n(167).DOMImplementation;t.XMLSerializer=n(167).XMLSerializer,t.DOMParser=r},function(e,t){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+n.source+r.source+"*(?::"+n.source+r.source+"*)?$");function o(){}function s(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function a(e,t,n,r,i,o){for(var s,a=++t,l=0;;){var c=e.charAt(a);switch(c){case"=":if(1===l)s=e.slice(t,a),l=3;else{if(2!==l)throw new Error("attribute equal must after attrName");l=3}break;case"'":case'"':if(3===l||1===l){if(1===l&&(o.warning('attribute value must after "="'),s=e.slice(t,a)),t=a+1,!((a=e.indexOf(c,t))>0))throw new Error("attribute value no end '"+c+"' match");u=e.slice(t,a).replace(/&#?\w+;/g,i),n.add(s,u,t-1),l=5}else{if(4!=l)throw new Error('attribute value must after "="');u=e.slice(t,a).replace(/&#?\w+;/g,i),n.add(s,u,t),o.warning('attribute "'+s+'" missed start quot('+c+")!!"),t=a+1,l=5}break;case"/":switch(l){case 0:n.setTagName(e.slice(t,a));case 5:case 6:case 7:l=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),0==l&&n.setTagName(e.slice(t,a)),a;case">":switch(l){case 0:n.setTagName(e.slice(t,a));case 5:case 6:case 7:break;case 4:case 1:"/"===(u=e.slice(t,a)).slice(-1)&&(n.closed=!0,u=u.slice(0,-1));case 2:2===l&&(u=s),4==l?(o.warning('attribute "'+u+'" missed quot(")!!'),n.add(s,u.replace(/&#?\w+;/g,i),t)):("http://www.w3.org/1999/xhtml"===r[""]&&u.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),n.add(u,u,t));break;case 3:throw new Error("attribute value missed!!")}return a;case"":c=" ";default:if(c<=" ")switch(l){case 0:n.setTagName(e.slice(t,a)),l=6;break;case 1:s=e.slice(t,a),l=2;break;case 4:var u=e.slice(t,a).replace(/&#?\w+;/g,i);o.warning('attribute "'+u+'" missed quot(")!!'),n.add(s,u,t);case 5:l=6}else switch(l){case 2:n.tagName;"http://www.w3.org/1999/xhtml"===r[""]&&s.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+s+'" missed value!! "'+s+'" instead2!!'),n.add(s,s,t),t=a,l=1;break;case 5:o.warning('attribute space is required"'+s+'"!!');case 6:l=1,t=a;break;case 3:l=4,t=a;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}a++}}function l(e,t,n){for(var r=e.tagName,i=null,o=e.length;o--;){var s=e[o],a=s.qName,l=s.value;if((d=a.indexOf(":"))>0)var c=s.prefix=a.slice(0,d),u=a.slice(d+1),p="xmlns"===c&&u;else u=a,c=null,p="xmlns"===a&&"";s.localName=u,!1!==p&&(null==i&&(i={},h(n,n={})),n[p]=i[p]=l,s.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(p,l))}for(o=e.length;o--;){(c=(s=e[o]).prefix)&&("xml"===c&&(s.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==c&&(s.uri=n[c||""]))}var d;(d=r.indexOf(":"))>0?(c=e.prefix=r.slice(0,d),u=e.localName=r.slice(d+1)):(c=null,u=e.localName=r);var f=e.uri=n[c||""];if(t.startElement(f,u,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=i,!0;if(t.endElement(f,u,r),i)for(c in i)t.endPrefixMapping(c)}function c(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var o=e.indexOf("</"+n+">",t),s=e.substring(t+1,o);if(/[&<]/.test(s))return/^script$/i.test(n)?(i.characters(s,0,s.length),o):(s=s.replace(/&#?\w+;/g,r),i.characters(s,0,s.length),o)}return t+1}function u(e,t,n,r){var i=r[n];return null==i&&((i=e.lastIndexOf("</"+n+">"))<t&&(i=e.lastIndexOf("</"+n)),r[n]=i),i<t}function h(e,t){for(var n in e)t[n]=e[n]}function p(e,t,n,r){switch(e.charAt(t+2)){case"-":return"-"===e.charAt(t+3)?(i=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,i-t-4),i+3):(r.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,i-t-9),n.endCDATA(),i+3}var o=function(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=t,i.exec(e);for(;n=i.exec(e);)if(r.push(n),n[1])return r}(e,t),s=o.length;if(s>1&&/!doctype/i.test(o[0][0])){var a=o[1][0],l=s>3&&/^public$/i.test(o[2][0])&&o[3][0],c=s>4&&o[4][0],u=o[s-1];return n.startDTD(a,l&&l.replace(/^(['"])(.*?)\1$/,"$2"),c&&c.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),u.index+u[0].length}}return-1}function d(e,t,n){var r=e.indexOf("?>",t);if(r){var i=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){i[0].length;return n.processingInstruction(i[1],i[2]),r+2}return-1}return-1}function f(e){}function m(e,t){return e.__proto__=t,e}o.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),h(t,t={}),function(e,t,n,r,i){function o(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(i.error("entity not found:"+e),e)}function h(t){if(t>S){var n=e.substring(S,t).replace(/&#?\w+;/g,o);b&&m(S),r.characters(n,0,t-S),S=t}}function m(t,n){for(;t>=y&&(n=v.exec(e));)g=n.index,y=g+n[0].length,b.lineNumber++;b.columnNumber=t-g+1}var g=0,y=0,v=/.*(?:\r\n?|\n)|.*$/g,b=r.locator,w=[{currentNSMap:t}],C={},S=0;for(;;){try{var E=e.indexOf("<",S);if(E<0){if(!e.substr(S).match(/^\s*$/)){var k=r.doc,x=k.createTextNode(e.substr(S));k.appendChild(x),r.currentElement=x}return}switch(E>S&&h(E),e.charAt(E+1)){case"/":var D=e.indexOf(">",E+3),_=e.substring(E+2,D),T=w.pop();D<0?(_=e.substring(E+2).replace(/[\s<].*/,""),i.error("end tag name: "+_+" is not complete:"+T.tagName),D=E+1+_.length):_.match(/\s</)&&(_=_.replace(/[\s<].*/,""),i.error("end tag name: "+_+" maybe not complete"),D=E+1+_.length);var R=T.localNSMap,A=T.tagName==_;if(A||T.tagName&&T.tagName.toLowerCase()==_.toLowerCase()){if(r.endElement(T.uri,T.localName,_),R)for(var O in R)r.endPrefixMapping(O);A||i.fatalError("end tag name: "+_+" is not match the current start tagName:"+T.tagName)}else w.push(T);D++;break;case"?":b&&m(E),D=d(e,E,r);break;case"!":b&&m(E),D=p(e,E,r,i);break;default:b&&m(E);var P=new f,I=w[w.length-1].currentNSMap,M=(D=a(e,E,P,I,o,i),P.length);if(!P.closed&&u(e,D,P.tagName,C)&&(P.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),b&&M){for(var F=s(b,{}),N=0;N<M;N++){var B=P[N];m(B.offset),B.locator=s(b,{})}r.locator=F,l(P,r,I)&&w.push(P),r.locator=b}else l(P,r,I)&&w.push(P);"http://www.w3.org/1999/xhtml"!==P.uri||P.closed?D++:D=c(e,D,P.tagName,o,r)}}catch(e){i.error("element parse error: "+e),D=-1}D>S?S=D:h(Math.max(E,S)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}},f.prototype={setTagName:function(e){if(!i.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,n){if(!i.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},m({},m.prototype)instanceof m||(m=function(e,t){function n(){}for(t in n.prototype=t,n=new n,e)n[t]=e[t];return n}),t.XMLReader=o},function(e,t,n){var r=n(289),i=n(290);t.build=function(e,t){var n={version:"1.0",encoding:"UTF-8"},o={pubid:"-//Apple//DTD PLIST 1.0//EN",sysid:"http://www.apple.com/DTDs/PropertyList-1.0.dtd"},a=i.create("plist");a.dec(n.version,n.encoding,n.standalone),a.dtd(o.pubid,o.sysid),a.att("version","1.0"),function e(t,n){var i,o,a,l=s(t);if("Undefined"==l)return;if(Array.isArray(t))for(n=n.ele("array"),o=0;o<t.length;o++)e(t[o],n);else if(Buffer.isBuffer(t))n.ele("data").raw(t.toString("base64"));else if("Object"==l)for(a in n=n.ele("dict"),t)t.hasOwnProperty(a)&&(n.ele("key").txt(a),e(t[a],n));else"Number"==l?(i=t%1==0?"integer":"real",n.ele(i).txt(t.toString())):"Date"==l?n.ele("date").txt(function(e){function t(e){return e<10?"0"+e:e}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"Z"}(new Date(t))):"Boolean"==l?n.ele(t?"true":"false"):"String"==l?n.ele("string").txt(t):"ArrayBuffer"==l?n.ele("data").raw(r.fromByteArray(t)):t&&t.buffer&&"ArrayBuffer"==s(t.buffer)&&n.ele("data").raw(r.fromByteArray(new Uint8Array(t.buffer),n))}(e,a),t||(t={});return t.pretty=!1!==t.pretty,a.end(t)};var o=Object.prototype.toString;function s(e){var t=o.call(e).match(/\[object (.*)\]/);return t?t[1]:t}},function(e,t,n){"use strict";t.byteLength=function(e){return 3*e.length/4-c(e)},t.toByteArray=function(e){var t,n,r,s,a,l,u=e.length;a=c(e),l=new o(3*u/4-a),r=a>0?u-4:u;var h=0;for(t=0,n=0;t<r;t+=4,n+=3)s=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],l[h++]=s>>16&255,l[h++]=s>>8&255,l[h++]=255&s;2===a?(s=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,l[h++]=255&s):1===a&&(s=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,l[h++]=s>>8&255,l[h++]=255&s);return l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o="",s=[],a=0,l=n-i;a<l;a+=16383)s.push(u(e,a,a+16383>l?l:a+16383));1===i?(t=e[n-1],o+=r[t>>2],o+=r[t<<4&63],o+="=="):2===i&&(t=(e[n-2]<<8)+e[n-1],o+=r[t>>10],o+=r[t>>4&63],o+=r[t<<2&63],o+="=");return s.push(o),s.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function u(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16)+(e[a+1]<<8)+e[a+2],s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t,n){(function(){var t,r,i,o,s,a,l;l=n(30),s=l.assign,a=l.isFunction,t=n(291),r=n(292),o=n(115),i=n(293),e.exports.create=function(e,n,r,i){var o,a;if(null==e)throw new Error("Root element needs a name");return i=s({},n,r,i),a=(o=new t(i)).element(e),i.headless||(o.declaration(i),null==i.pubID&&null==i.sysID||o.doctype(i)),a},e.exports.begin=function(e,n,i){var o;return a(e)&&(n=(o=[e,n])[0],i=o[1],e={}),n?new r(e,n,i):new t(e)},e.exports.stringWriter=function(e){return new o(e)},e.exports.streamWriter=function(e,t){return new i(e,t)}}).call(this)},function(e,t,n){(function(){var t,r,i,o,s={}.hasOwnProperty;o=n(30).isPlainObject,t=n(21),i=n(169),r=n(115),e.exports=function(e){function t(e){t.__super__.constructor.call(this,null),e||(e={}),e.writer||(e.writer=new r),this.options=e,this.stringify=new i(e),this.isDocument=!0}return function(e,t){for(var n in t)s.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.end=function(e){var t;return e?o(e)&&(t=e,e=this.options.writer.set(t)):e=this.options.writer,e.document(this)},t.prototype.toString=function(e){return this.options.writer.set(e).document(this)},t}(t)}).call(this)},function(e,t,n){(function(){var t,r,i,o,s,a,l,c,u,h,p,d,f,m,g,y,v,b,w,C={}.hasOwnProperty;w=n(30),v=w.isObject,y=w.isFunction,b=w.isPlainObject,h=n(74),r=n(75),i=n(76),d=n(83),g=n(84),p=n(85),c=n(77),u=n(78),o=n(79),a=n(80),s=n(81),l=n(82),t=n(168),m=n(169),f=n(115),e.exports=function(){function e(e,t,n){var r;e||(e={}),e.writer?b(e.writer)&&(r=e.writer,e.writer=new f(r)):e.writer=new f(e),this.options=e,this.writer=e.writer,this.stringify=new m(e),this.onDataCallback=t||function(){},this.onEndCallback=n||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return e.prototype.node=function(e,t,n){var r;if(null==e)throw new Error("Missing node name");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node");return this.openCurrent(),e=e.valueOf(),null==t&&(t={}),t=t.valueOf(),v(t)||(n=(r=[t,n])[0],t=r[1]),this.currentNode=new h(this,e,t),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=n&&this.text(n),this},e.prototype.element=function(e,t,n){return this.currentNode&&this.currentNode instanceof u?this.dtdElement.apply(this,arguments):this.node(e,t,n)},e.prototype.attribute=function(e,n){var r,i;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode");if(null!=e&&(e=e.valueOf()),v(e))for(r in e)C.call(e,r)&&(i=e[r],this.attribute(r,i));else y(n)&&(n=n.apply()),this.options.skipNullAttributes&&null==n||(this.currentNode.attributes[e]=new t(this,e,n));return this},e.prototype.text=function(e){var t;return this.openCurrent(),t=new g(this,e),this.onData(this.writer.text(t,this.currentLevel+1)),this},e.prototype.cdata=function(e){var t;return this.openCurrent(),t=new r(this,e),this.onData(this.writer.cdata(t,this.currentLevel+1)),this},e.prototype.comment=function(e){var t;return this.openCurrent(),t=new i(this,e),this.onData(this.writer.comment(t,this.currentLevel+1)),this},e.prototype.raw=function(e){var t;return this.openCurrent(),t=new d(this,e),this.onData(this.writer.raw(t,this.currentLevel+1)),this},e.prototype.instruction=function(e,t){var n,r,i,o,s;if(this.openCurrent(),null!=e&&(e=e.valueOf()),null!=t&&(t=t.valueOf()),Array.isArray(e))for(n=0,o=e.length;n<o;n++)r=e[n],this.instruction(r);else if(v(e))for(r in e)C.call(e,r)&&(i=e[r],this.instruction(r,i));else y(t)&&(t=t.apply()),s=new p(this,e,t),this.onData(this.writer.processingInstruction(s,this.currentLevel+1));return this},e.prototype.declaration=function(e,t,n){var r;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node");return r=new c(this,e,t,n),this.onData(this.writer.declaration(r,this.currentLevel+1)),this},e.prototype.doctype=function(e,t,n){if(this.openCurrent(),null==e)throw new Error("Missing root node name");if(this.root)throw new Error("dtd() must come before the root node");return this.currentNode=new u(this,t,n),this.currentNode.rootNodeName=e,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},e.prototype.dtdElement=function(e,t){var n;return this.openCurrent(),n=new s(this,e,t),this.onData(this.writer.dtdElement(n,this.currentLevel+1)),this},e.prototype.attList=function(e,t,n,r,i){var s;return this.openCurrent(),s=new o(this,e,t,n,r,i),this.onData(this.writer.dtdAttList(s,this.currentLevel+1)),this},e.prototype.entity=function(e,t){var n;return this.openCurrent(),n=new a(this,!1,e,t),this.onData(this.writer.dtdEntity(n,this.currentLevel+1)),this},e.prototype.pEntity=function(e,t){var n;return this.openCurrent(),n=new a(this,!0,e,t),this.onData(this.writer.dtdEntity(n,this.currentLevel+1)),this},e.prototype.notation=function(e,t){var n;return this.openCurrent(),n=new l(this,e,t),this.onData(this.writer.dtdNotation(n,this.currentLevel+1)),this},e.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},e.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},e.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},e.prototype.openNode=function(e){if(!e.isOpen)return!this.root&&0===this.currentLevel&&e instanceof h&&(this.root=e),this.onData(this.writer.openNode(e,this.currentLevel)),e.isOpen=!0},e.prototype.closeNode=function(e){if(!e.isClosed)return this.onData(this.writer.closeNode(e,this.currentLevel)),e.isClosed=!0},e.prototype.onData=function(e){return this.documentStarted=!0,this.onDataCallback(e)},e.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},e.prototype.ele=function(){return this.element.apply(this,arguments)},e.prototype.nod=function(e,t,n){return this.node(e,t,n)},e.prototype.txt=function(e){return this.text(e)},e.prototype.dat=function(e){return this.cdata(e)},e.prototype.com=function(e){return this.comment(e)},e.prototype.ins=function(e,t){return this.instruction(e,t)},e.prototype.dec=function(e,t,n){return this.declaration(e,t,n)},e.prototype.dtd=function(e,t,n){return this.doctype(e,t,n)},e.prototype.e=function(e,t,n){return this.element(e,t,n)},e.prototype.n=function(e,t,n){return this.node(e,t,n)},e.prototype.t=function(e){return this.text(e)},e.prototype.d=function(e){return this.cdata(e)},e.prototype.c=function(e){return this.comment(e)},e.prototype.r=function(e){return this.raw(e)},e.prototype.i=function(e,t){return this.instruction(e,t)},e.prototype.att=function(){return this.currentNode&&this.currentNode instanceof u?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},e.prototype.a=function(){return this.currentNode&&this.currentNode instanceof u?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},e.prototype.ent=function(e,t){return this.entity(e,t)},e.prototype.pent=function(e,t){return this.pEntity(e,t)},e.prototype.not=function(e,t){return this.notation(e,t)},e}()}).call(this)},function(e,t,n){(function(){var t,r,i,o,s,a,l,c,u,h,p,d,f,m={}.hasOwnProperty;l=n(77),c=n(78),t=n(75),r=n(76),u=n(74),p=n(83),d=n(84),h=n(85),i=n(79),o=n(81),s=n(80),a=n(82),f=n(170),e.exports=function(e){function n(e,t){this.stream=e,n.__super__.constructor.call(this,t)}return function(e,t){for(var n in t)m.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.document=function(e){var t,n,i,o,s,a,u,p;for(n=0,o=(a=e.children).length;n<o;n++)(t=a[n]).isLastRootNode=!1;for(e.children[e.children.length-1].isLastRootNode=!0,p=[],i=0,s=(u=e.children).length;i<s;i++)switch(t=u[i],!1){case!(t instanceof l):p.push(this.declaration(t));break;case!(t instanceof c):p.push(this.docType(t));break;case!(t instanceof r):p.push(this.comment(t));break;case!(t instanceof h):p.push(this.processingInstruction(t));break;default:p.push(this.element(t))}return p},n.prototype.attribute=function(e){return this.stream.write(" "+e.name+'="'+e.value+'"')},n.prototype.cdata=function(e,t){return this.stream.write(this.space(t)+"<![CDATA["+e.text+"]]>"+this.endline(e))},n.prototype.comment=function(e,t){return this.stream.write(this.space(t)+"\x3c!-- "+e.text+" --\x3e"+this.endline(e))},n.prototype.declaration=function(e,t){return this.stream.write(this.space(t)),this.stream.write('<?xml version="'+e.version+'"'),null!=e.encoding&&this.stream.write(' encoding="'+e.encoding+'"'),null!=e.standalone&&this.stream.write(' standalone="'+e.standalone+'"'),this.stream.write("?>"),this.stream.write(this.endline(e))},n.prototype.docType=function(e,n){var l,c,u,p;if(n||(n=0),this.stream.write(this.space(n)),this.stream.write("<!DOCTYPE "+e.root().name),e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(e)),c=0,u=(p=e.children).length;c<u;c++)switch(l=p[c],!1){case!(l instanceof i):this.dtdAttList(l,n+1);break;case!(l instanceof o):this.dtdElement(l,n+1);break;case!(l instanceof s):this.dtdEntity(l,n+1);break;case!(l instanceof a):this.dtdNotation(l,n+1);break;case!(l instanceof t):this.cdata(l,n+1);break;case!(l instanceof r):this.comment(l,n+1);break;case!(l instanceof h):this.processingInstruction(l,n+1);break;default:throw new Error("Unknown DTD node type: "+l.constructor.name)}this.stream.write("]")}return this.stream.write(">"),this.stream.write(this.endline(e))},n.prototype.element=function(e,n){var i,o,s,a,l,c,f,g;for(l in n||(n=0),g=this.space(n),this.stream.write(g+"<"+e.name),c=e.attributes)m.call(c,l)&&(i=c[l],this.attribute(i));if(0===e.children.length||e.children.every((function(e){return""===e.value})))this.allowEmpty?this.stream.write("></"+e.name+">"):this.stream.write("/>");else if(this.pretty&&1===e.children.length&&null!=e.children[0].value)this.stream.write(">"),this.stream.write(e.children[0].value),this.stream.write("</"+e.name+">");else{for(this.stream.write(">"+this.newline),s=0,a=(f=e.children).length;s<a;s++)switch(o=f[s],!1){case!(o instanceof t):this.cdata(o,n+1);break;case!(o instanceof r):this.comment(o,n+1);break;case!(o instanceof u):this.element(o,n+1);break;case!(o instanceof p):this.raw(o,n+1);break;case!(o instanceof d):this.text(o,n+1);break;case!(o instanceof h):this.processingInstruction(o,n+1);break;default:throw new Error("Unknown XML node type: "+o.constructor.name)}this.stream.write(g+"</"+e.name+">")}return this.stream.write(this.endline(e))},n.prototype.processingInstruction=function(e,t){return this.stream.write(this.space(t)+"<?"+e.target),e.value&&this.stream.write(" "+e.value),this.stream.write("?>"+this.endline(e))},n.prototype.raw=function(e,t){return this.stream.write(this.space(t)+e.value+this.endline(e))},n.prototype.text=function(e,t){return this.stream.write(this.space(t)+e.value+this.endline(e))},n.prototype.dtdAttList=function(e,t){return this.stream.write(this.space(t)+"<!ATTLIST "+e.elementName+" "+e.attributeName+" "+e.attributeType),"#DEFAULT"!==e.defaultValueType&&this.stream.write(" "+e.defaultValueType),e.defaultValue&&this.stream.write(' "'+e.defaultValue+'"'),this.stream.write(">"+this.endline(e))},n.prototype.dtdElement=function(e,t){return this.stream.write(this.space(t)+"<!ELEMENT "+e.name+" "+e.value+">"+this.endline(e))},n.prototype.dtdEntity=function(e,t){return this.stream.write(this.space(t)+"<!ENTITY"),e.pe&&this.stream.write(" %"),this.stream.write(" "+e.name),e.value?this.stream.write(' "'+e.value+'"'):(e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),e.nData&&this.stream.write(" NDATA "+e.nData)),this.stream.write(">"+this.endline(e))},n.prototype.dtdNotation=function(e,t){return this.stream.write(this.space(t)+"<!NOTATION "+e.name),e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.pubID?this.stream.write(' PUBLIC "'+e.pubID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),this.stream.write(">"+this.endline(e))},n.prototype.endline=function(e){return e.isLastRootNode?"":this.newline},n}(f)}).call(this)},function(e,t,n){"use strict";
/** @license React v16.8.4
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(171),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,s=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,p=i?Symbol.for("react.concurrent_mode"):60111,d=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,m=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,y="function"==typeof Symbol&&Symbol.iterator;function v(e,t,n,r,i,o,s,a){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,s,a],c=0;(e=Error(t.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw e.framesToPop=1,e}}function b(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);v(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C={};function S(e,t,n){this.props=e,this.context=t,this.refs=C,this.updater=n||w}function E(){}function k(e,t,n){this.props=e,this.context=t,this.refs=C,this.updater=n||w}S.prototype.isReactComponent={},S.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&b("85"),this.updater.enqueueSetState(this,e,t,"setState")},S.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=S.prototype;var x=k.prototype=new E;x.constructor=k,r(x,S.prototype),x.isPureReactComponent=!0;var D={current:null},_={current:null},T=Object.prototype.hasOwnProperty,R={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,n){var r=void 0,i={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)T.call(t,r)&&!R.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:o,type:e,key:s,ref:a,props:i,_owner:_.current}}function O(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var P=/\/+/g,I=[];function M(e,t,n,r){if(I.length){var i=I.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function F(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>I.length&&I.push(e)}function N(e,t,n){return null==e?0:function e(t,n,r,i){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case s:l=!0}}if(l)return r(i,t,""===n?"."+B(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=n+B(a=t[c],c);l+=e(a,u,r,i)}else if(null===t||"object"!=typeof t?u=null:u="function"==typeof(u=y&&t[y]||t["@@iterator"])?u:null,"function"==typeof u)for(t=u.call(t),c=0;!(a=t.next()).done;)l+=e(a=a.value,u=n+B(a,c++),r,i);else"object"===a&&b("31","[object Object]"===(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return l}(e,"",t,n)}function B(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function L(e,t){e.func.call(e.context,t,e.count++)}function H(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?U(e,r,n,(function(e){return e})):null!=e&&(O(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(P,"$&/")+"/")+n)),r.push(e))}function U(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(P,"$&/")+"/"),N(e,H,t=M(t,o,r,i)),F(t)}function j(){var e=D.current;return null===e&&b("307"),e}var W={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return U(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;N(e,L,t=M(null,null,t,n)),F(t)},count:function(e){return N(e,(function(){return null}),null)},toArray:function(e){var t=[];return U(e,t,null,(function(e){return e})),t},only:function(e){return O(e)||b("143"),e}},createRef:function(){return{current:null}},Component:S,PureComponent:k,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:d,render:e}},lazy:function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return j().useCallback(e,t)},useContext:function(e,t){return j().useContext(e,t)},useEffect:function(e,t){return j().useEffect(e,t)},useImperativeHandle:function(e,t,n){return j().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return j().useLayoutEffect(e,t)},useMemo:function(e,t){return j().useMemo(e,t)},useReducer:function(e,t,n){return j().useReducer(e,t,n)},useRef:function(e){return j().useRef(e)},useState:function(e){return j().useState(e)},Fragment:a,StrictMode:l,Suspense:f,createElement:A,cloneElement:function(e,t,n){null==e&&b("267",e);var i=void 0,s=r({},e.props),a=e.key,l=e.ref,c=e._owner;if(null!=t){void 0!==t.ref&&(l=t.ref,c=_.current),void 0!==t.key&&(a=""+t.key);var u=void 0;for(i in e.type&&e.type.defaultProps&&(u=e.type.defaultProps),t)T.call(t,i)&&!R.hasOwnProperty(i)&&(s[i]=void 0===t[i]&&void 0!==u?u[i]:t[i])}if(1===(i=arguments.length-2))s.children=n;else if(1<i){u=Array(i);for(var h=0;h<i;h++)u[h]=arguments[h+2];s.children=u}return{$$typeof:o,type:e.type,key:a,ref:l,props:s,_owner:c}},createFactory:function(e){var t=A.bind(null,e);return t.type=e,t},isValidElement:O,version:"16.8.4",unstable_ConcurrentMode:p,unstable_Profiler:c,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:D,ReactCurrentOwner:_,assign:r}},z={default:W},G=z&&W||z;e.exports=G.default||G},function(e,t,n){"use strict";
/** @license React v16.8.4
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),i=n(171),o=n(296);function s(e,t,n,r,i,o,s,a){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,s,a],c=0;(e=Error(t.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw e.framesToPop=1,e}}function a(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);s(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function l(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}r||a("227");var c=!1,u=null,h=!1,p=null,d={onError:function(e){c=!0,u=e}};function f(e,t,n,r,i,o,s,a,h){c=!1,u=null,l.apply(d,arguments)}var m=null,g={};function y(){if(m)for(var e in g){var t=g[e],n=m.indexOf(e);if(-1<n||a("96",e),!b[n])for(var r in t.extractEvents||a("97",e),b[n]=t,n=t.eventTypes){var i=void 0,o=n[r],s=t,l=r;w.hasOwnProperty(l)&&a("99",l),w[l]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&v(c[i],s,l);i=!0}else o.registrationName?(v(o.registrationName,s,l),i=!0):i=!1;i||a("98",r,e)}}}function v(e,t,n){C[e]&&a("100",e),C[e]=t,S[e]=t.eventTypes[n].dependencies}var b=[],w={},C={},S={},E=null,k=null,x=null;function D(e,t,n){var r=e.type||"unknown-event";e.currentTarget=x(n),function(e,t,n,r,i,o,s,l,d){if(f.apply(this,arguments),c){if(c){var m=u;c=!1,u=null}else a("198"),m=void 0;h||(h=!0,p=m)}}(r,t,void 0,e),e.currentTarget=null}function _(e,t){return null==t&&a("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function T(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var R=null;function A(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)D(e,t[r],n[r]);else t&&D(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var O={injectEventPluginOrder:function(e){m&&a("101"),m=Array.prototype.slice.call(e),y()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];g.hasOwnProperty(t)&&g[t]===r||(g[t]&&a("102",t),g[t]=r,n=!0)}n&&y()}};function P(e,t){var n=e.stateNode;if(!n)return null;var r=E(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&a("231",t,typeof n),n)}function I(e){if(null!==e&&(R=_(R,e)),e=R,R=null,e&&(T(e,A),R&&a("95"),h))throw e=p,h=!1,p=null,e}var M=Math.random().toString(36).slice(2),F="__reactInternalInstance$"+M,N="__reactEventHandlers$"+M;function B(e){if(e[F])return e[F];for(;!e[F];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[F]).tag||6===e.tag?e:null}function L(e){return!(e=e[F])||5!==e.tag&&6!==e.tag?null:e}function H(e){if(5===e.tag||6===e.tag)return e.stateNode;a("33")}function U(e){return e[N]||null}function j(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function W(e,t,n){(t=P(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=_(n._dispatchListeners,t),n._dispatchInstances=_(n._dispatchInstances,e))}function z(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=j(t);for(t=n.length;0<t--;)W(n[t],"captured",e);for(t=0;t<n.length;t++)W(n[t],"bubbled",e)}}function G(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=P(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=_(n._dispatchListeners,t),n._dispatchInstances=_(n._dispatchInstances,e))}function q(e){e&&e.dispatchConfig.registrationName&&G(e._targetInst,null,e)}function V(e){T(e,z)}var $=!("undefined"==typeof window||!window.document||!window.document.createElement);function K(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Y={animationend:K("Animation","AnimationEnd"),animationiteration:K("Animation","AnimationIteration"),animationstart:K("Animation","AnimationStart"),transitionend:K("Transition","TransitionEnd")},Z={},X={};function Q(e){if(Z[e])return Z[e];if(!Y[e])return e;var t,n=Y[e];for(t in n)if(n.hasOwnProperty(t)&&t in X)return Z[e]=n[t];return e}$&&(X=document.createElement("div").style,"AnimationEvent"in window||(delete Y.animationend.animation,delete Y.animationiteration.animation,delete Y.animationstart.animation),"TransitionEvent"in window||delete Y.transitionend.transition);var J=Q("animationend"),ee=Q("animationiteration"),te=Q("animationstart"),ne=Q("transitionend"),re="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ie=null,oe=null,se=null;function ae(){if(se)return se;var e,t,n=oe,r=n.length,i="value"in ie?ie.value:ie.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return se=i.slice(e,1<t?1-t:void 0)}function le(){return!0}function ce(){return!1}function ue(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?le:ce,this.isPropagationStopped=ce,this}function he(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function pe(e){e instanceof this||a("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function de(e){e.eventPool=[],e.getPooled=he,e.release=pe}i(ue.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=le)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=le)},persist:function(){this.isPersistent=le},isPersistent:ce,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=ce,this._dispatchInstances=this._dispatchListeners=null}}),ue.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ue.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,de(n),n},de(ue);var fe=ue.extend({data:null}),me=ue.extend({data:null}),ge=[9,13,27,32],ye=$&&"CompositionEvent"in window,ve=null;$&&"documentMode"in document&&(ve=document.documentMode);var be=$&&"TextEvent"in window&&!ve,we=$&&(!ye||ve&&8<ve&&11>=ve),Ce=String.fromCharCode(32),Se={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Ee=!1;function ke(e,t){switch(e){case"keyup":return-1!==ge.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function xe(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var De=!1;var _e={eventTypes:Se,extractEvents:function(e,t,n,r){var i=void 0,o=void 0;if(ye)e:{switch(e){case"compositionstart":i=Se.compositionStart;break e;case"compositionend":i=Se.compositionEnd;break e;case"compositionupdate":i=Se.compositionUpdate;break e}i=void 0}else De?ke(e,n)&&(i=Se.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=Se.compositionStart);return i?(we&&"ko"!==n.locale&&(De||i!==Se.compositionStart?i===Se.compositionEnd&&De&&(o=ae()):(oe="value"in(ie=r)?ie.value:ie.textContent,De=!0)),i=fe.getPooled(i,t,n,r),o?i.data=o:null!==(o=xe(n))&&(i.data=o),V(i),o=i):o=null,(e=be?function(e,t){switch(e){case"compositionend":return xe(t);case"keypress":return 32!==t.which?null:(Ee=!0,Ce);case"textInput":return(e=t.data)===Ce&&Ee?null:e;default:return null}}(e,n):function(e,t){if(De)return"compositionend"===e||!ye&&ke(e,t)?(e=ae(),se=oe=ie=null,De=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return we&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=me.getPooled(Se.beforeInput,t,n,r)).data=e,V(t)):t=null,null===o?t:null===t?o:[o,t]}},Te=null,Re=null,Ae=null;function Oe(e){if(e=k(e)){"function"!=typeof Te&&a("280");var t=E(e.stateNode);Te(e.stateNode,e.type,t)}}function Pe(e){Re?Ae?Ae.push(e):Ae=[e]:Re=e}function Ie(){if(Re){var e=Re,t=Ae;if(Ae=Re=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function Me(e,t){return e(t)}function Fe(e,t,n){return e(t,n)}function Ne(){}var Be=!1;function Le(e,t){if(Be)return e(t);Be=!0;try{return Me(e,t)}finally{Be=!1,(null!==Re||null!==Ae)&&(Ne(),Ie())}}var He={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ue(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!He[e.type]:"textarea"===t}function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function We(e){if(!$)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function ze(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ge(e){e._valueTracker||(e._valueTracker=function(e){var t=ze(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function qe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ze(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var Ve=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Ve.hasOwnProperty("ReactCurrentDispatcher")||(Ve.ReactCurrentDispatcher={current:null});var $e=/^(.*)[\\\/]/,Ke="function"==typeof Symbol&&Symbol.for,Ye=Ke?Symbol.for("react.element"):60103,Ze=Ke?Symbol.for("react.portal"):60106,Xe=Ke?Symbol.for("react.fragment"):60107,Qe=Ke?Symbol.for("react.strict_mode"):60108,Je=Ke?Symbol.for("react.profiler"):60114,et=Ke?Symbol.for("react.provider"):60109,tt=Ke?Symbol.for("react.context"):60110,nt=Ke?Symbol.for("react.concurrent_mode"):60111,rt=Ke?Symbol.for("react.forward_ref"):60112,it=Ke?Symbol.for("react.suspense"):60113,ot=Ke?Symbol.for("react.memo"):60115,st=Ke?Symbol.for("react.lazy"):60116,at="function"==typeof Symbol&&Symbol.iterator;function lt(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=at&&e[at]||e["@@iterator"])?e:null}function ct(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case nt:return"ConcurrentMode";case Xe:return"Fragment";case Ze:return"Portal";case Je:return"Profiler";case Qe:return"StrictMode";case it:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case tt:return"Context.Consumer";case et:return"Context.Provider";case rt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ot:return ct(e.type);case st:if(e=1===e._status?e._result:null)return ct(e)}return null}function ut(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ct(e.type);n=null,r&&(n=ct(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace($e,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}var ht=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pt=Object.prototype.hasOwnProperty,dt={},ft={};function mt(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){gt[e]=new mt(e,0,!1,e,null)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];gt[t]=new mt(t,1,!1,e[1],null)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){gt[e]=new mt(e,2,!1,e.toLowerCase(),null)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){gt[e]=new mt(e,2,!1,e,null)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){gt[e]=new mt(e,3,!1,e.toLowerCase(),null)})),["checked","multiple","muted","selected"].forEach((function(e){gt[e]=new mt(e,3,!0,e,null)})),["capture","download"].forEach((function(e){gt[e]=new mt(e,4,!1,e,null)})),["cols","rows","size","span"].forEach((function(e){gt[e]=new mt(e,6,!1,e,null)})),["rowSpan","start"].forEach((function(e){gt[e]=new mt(e,5,!1,e.toLowerCase(),null)}));var yt=/[\-:]([a-z])/g;function vt(e){return e[1].toUpperCase()}function bt(e,t,n,r){var i=gt.hasOwnProperty(t)?gt[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!pt.call(ft,e)||!pt.call(dt,e)&&(ht.test(e)?ft[e]=!0:(dt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function wt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Ct(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function St(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=wt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Et(e,t){null!=(t=t.checked)&&bt(e,"checked",t,!1)}function kt(e,t){Et(e,t);var n=wt(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Dt(e,t.type,n):t.hasOwnProperty("defaultValue")&&Dt(e,t.type,wt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function xt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Dt(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(yt,vt);gt[t]=new mt(t,1,!1,e,null)})),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(yt,vt);gt[t]=new mt(t,1,!1,e,"http://www.w3.org/1999/xlink")})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(yt,vt);gt[t]=new mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")})),["tabIndex","crossOrigin"].forEach((function(e){gt[e]=new mt(e,1,!1,e.toLowerCase(),null)}));var _t={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Tt(e,t,n){return(e=ue.getPooled(_t.change,e,t,n)).type="change",Pe(n),V(e),e}var Rt=null,At=null;function Ot(e){I(e)}function Pt(e){if(qe(H(e)))return e}function It(e,t){if("change"===e)return t}var Mt=!1;function Ft(){Rt&&(Rt.detachEvent("onpropertychange",Nt),At=Rt=null)}function Nt(e){"value"===e.propertyName&&Pt(At)&&Le(Ot,e=Tt(At,e,je(e)))}function Bt(e,t,n){"focus"===e?(Ft(),At=n,(Rt=t).attachEvent("onpropertychange",Nt)):"blur"===e&&Ft()}function Lt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Pt(At)}function Ht(e,t){if("click"===e)return Pt(t)}function Ut(e,t){if("input"===e||"change"===e)return Pt(t)}$&&(Mt=We("input")&&(!document.documentMode||9<document.documentMode));var jt={eventTypes:_t,_isInputEventSupported:Mt,extractEvents:function(e,t,n,r){var i=t?H(t):window,o=void 0,s=void 0,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type?o=It:Ue(i)?Mt?o=Ut:(o=Lt,s=Bt):(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Ht),o&&(o=o(e,t)))return Tt(o,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Dt(i,"number",i.value)}},Wt=ue.extend({view:null,detail:null}),zt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=zt[e])&&!!t[e]}function qt(){return Gt}var Vt=0,$t=0,Kt=!1,Yt=!1,Zt=Wt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:qt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Vt;return Vt=e.screenX,Kt?"mousemove"===e.type?e.screenX-t:0:(Kt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=$t;return $t=e.screenY,Yt?"mousemove"===e.type?e.screenY-t:0:(Yt=!0,0)}}),Xt=Zt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Qt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Jt={eventTypes:Qt,extractEvents:function(e,t,n,r){var i="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?B(t):null):o=null,o===t)return null;var s=void 0,a=void 0,l=void 0,c=void 0;"mouseout"===e||"mouseover"===e?(s=Zt,a=Qt.mouseLeave,l=Qt.mouseEnter,c="mouse"):"pointerout"!==e&&"pointerover"!==e||(s=Xt,a=Qt.pointerLeave,l=Qt.pointerEnter,c="pointer");var u=null==o?i:H(o);if(i=null==t?i:H(t),(e=s.getPooled(a,o,n,r)).type=c+"leave",e.target=u,e.relatedTarget=i,(n=s.getPooled(l,t,n,r)).type=c+"enter",n.target=i,n.relatedTarget=u,r=t,o&&r)e:{for(i=r,c=0,s=t=o;s;s=j(s))c++;for(s=0,l=i;l;l=j(l))s++;for(;0<c-s;)t=j(t),c--;for(;0<s-c;)i=j(i),s--;for(;c--;){if(t===i||t===i.alternate)break e;t=j(t),i=j(i)}t=null}else t=null;for(i=t,t=[];o&&o!==i&&(null===(c=o.alternate)||c!==i);)t.push(o),o=j(o);for(o=[];r&&r!==i&&(null===(c=r.alternate)||c!==i);)o.push(r),r=j(r);for(r=0;r<t.length;r++)G(t[r],"bubbled",e);for(r=o.length;0<r--;)G(o[r],"captured",n);return[e,n]}};function en(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var tn=Object.prototype.hasOwnProperty;function nn(e,t){if(en(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!tn.call(t,n[r])||!en(e[n[r]],t[n[r]]))return!1;return!0}function rn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function on(e){2!==rn(e)&&a("188")}function sn(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=rn(e))&&a("188"),1===t?null:e;for(var n=e,r=t;;){var i=n.return,o=i?i.alternate:null;if(!i||!o)break;if(i.child===o.child){for(var s=i.child;s;){if(s===n)return on(i),e;if(s===r)return on(i),t;s=s.sibling}a("188")}if(n.return!==r.return)n=i,r=o;else{s=!1;for(var l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}s||a("189")}}n.alternate!==r&&a("190")}return 3!==n.tag&&a("188"),n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var an=ue.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ln=ue.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cn=Wt.extend({relatedTarget:null});function un(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn=Wt.extend({key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=un(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:qt,charCode:function(e){return"keypress"===e.type?un(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?un(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),fn=Zt.extend({dataTransfer:null}),mn=Wt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:qt}),gn=ue.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),yn=Zt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),vn=[["abort","abort"],[J,"animationEnd"],[ee,"animationIteration"],[te,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ne,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],bn={},wn={};function Cn(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},bn[e]=t,wn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach((function(e){Cn(e,!0)})),vn.forEach((function(e){Cn(e,!1)}));var Sn={eventTypes:bn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=wn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var i=wn[e];if(!i)return null;switch(e){case"keypress":if(0===un(n))return null;case"keydown":case"keyup":e=dn;break;case"blur":case"focus":e=cn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Zt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=mn;break;case J:case ee:case te:e=an;break;case ne:e=gn;break;case"scroll":e=Wt;break;case"wheel":e=yn;break;case"copy":case"cut":case"paste":e=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Xt;break;default:e=ue}return V(t=e.getPooled(i,t,n,r)),t}},En=Sn.isInteractiveTopLevelEventType,kn=[];function xn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=B(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=je(e.nativeEvent);r=e.topLevelType;for(var o=e.nativeEvent,s=null,a=0;a<b.length;a++){var l=b[a];l&&(l=l.extractEvents(r,t,o,i))&&(s=_(s,l))}I(s)}}var Dn=!0;function _n(e,t){if(!t)return null;var n=(En(e)?Rn:An).bind(null,e);t.addEventListener(e,n,!1)}function Tn(e,t){if(!t)return null;var n=(En(e)?Rn:An).bind(null,e);t.addEventListener(e,n,!0)}function Rn(e,t){Fe(An,e,t)}function An(e,t){if(Dn){var n=je(t);if(null===(n=B(n))||"number"!=typeof n.tag||2===rn(n)||(n=null),kn.length){var r=kn.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Le(xn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>kn.length&&kn.push(e)}}}var On={},Pn=0,In="_reactListenersID"+(""+Math.random()).slice(2);function Mn(e){return Object.prototype.hasOwnProperty.call(e,In)||(e[In]=Pn++,On[e[In]]={}),On[e[In]]}function Fn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Nn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bn(e,t){var n,r=Nn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Nn(r)}}function Ln(){for(var e=window,t=Fn();t instanceof e.HTMLIFrameElement;){try{e=t.contentDocument.defaultView}catch(e){break}t=Fn(e.document)}return t}function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Un(e){var t=Ln(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&Hn(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Bn(n,o);var s=Bn(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jn=$&&"documentMode"in document&&11>=document.documentMode,Wn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},zn=null,Gn=null,qn=null,Vn=!1;function $n(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Vn||null==zn||zn!==Fn(n)?null:("selectionStart"in(n=zn)&&Hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},qn&&nn(qn,n)?null:(qn=n,(e=ue.getPooled(Wn.select,Gn,e,t)).type="select",e.target=zn,V(e),e))}var Kn={eventTypes:Wn,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=Mn(o),i=S.onSelect;for(var s=0;s<i.length;s++){var a=i[s];if(!o.hasOwnProperty(a)||!o[a]){o=!1;break e}}o=!0}i=!o}if(i)return null;switch(o=t?H(t):window,e){case"focus":(Ue(o)||"true"===o.contentEditable)&&(zn=o,Gn=t,qn=null);break;case"blur":qn=Gn=zn=null;break;case"mousedown":Vn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Vn=!1,$n(n,r);case"selectionchange":if(jn)break;case"keydown":case"keyup":return $n(n,r)}return null}};function Yn(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Zn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+wt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Xn(e,t){return null!=t.dangerouslySetInnerHTML&&a("91"),i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qn(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&a("92"),Array.isArray(t)&&(1>=t.length||a("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:wt(n)}}function Jn(e,t){var n=wt(t.value),r=wt(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function er(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}O.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),E=U,k=L,x=H,O.injectEventPluginsByName({SimpleEventPlugin:Sn,EnterLeaveEventPlugin:Jt,ChangeEventPlugin:jt,SelectEventPlugin:Kn,BeforeInputEventPlugin:_e});var tr="http://www.w3.org/1999/xhtml",nr="http://www.w3.org/2000/svg";function rr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ir(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?rr(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var or=void 0,sr=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==nr||"innerHTML"in e)e.innerHTML=t;else{for((or=or||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=or.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function ar(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var lr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cr=["Webkit","ms","Moz","O"];function ur(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||lr.hasOwnProperty(e)&&lr[e]?(""+t).trim():t+"px"}function hr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ur(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(lr).forEach((function(e){cr.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lr[t]=lr[e]}))}));var pr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dr(e,t){t&&(pr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&a("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&a("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||a("61")),null!=t.style&&"object"!=typeof t.style&&a("62",""))}function fr(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function mr(e,t){var n=Mn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=S[t];for(var r=0;r<t.length;r++){var i=t[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":Tn("scroll",e);break;case"focus":case"blur":Tn("focus",e),Tn("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":We(i)&&Tn(i,e);break;case"invalid":case"submit":case"reset":break;default:-1===re.indexOf(i)&&_n(i,e)}n[i]=!0}}}function gr(){}var yr=null,vr=null;function br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Cr="function"==typeof setTimeout?setTimeout:void 0,Sr="function"==typeof clearTimeout?clearTimeout:void 0,Er=o.unstable_scheduleCallback,kr=o.unstable_cancelCallback;function xr(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function Dr(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var _r=[],Tr=-1;function Rr(e){0>Tr||(e.current=_r[Tr],_r[Tr]=null,Tr--)}function Ar(e,t){Tr++,_r[Tr]=e.current,e.current=t}var Or={},Pr={current:Or},Ir={current:!1},Mr=Or;function Fr(e,t){var n=e.type.contextTypes;if(!n)return Or;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Nr(e){return null!=(e=e.childContextTypes)}function Br(e){Rr(Ir),Rr(Pr)}function Lr(e){Rr(Ir),Rr(Pr)}function Hr(e,t,n){Pr.current!==Or&&a("168"),Ar(Pr,t),Ar(Ir,n)}function Ur(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())o in e||a("108",ct(t)||"Unknown",o);return i({},n,r)}function jr(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Or,Mr=Pr.current,Ar(Pr,t),Ar(Ir,Ir.current),!0}function Wr(e,t,n){var r=e.stateNode;r||a("169"),n?(t=Ur(e,t,Mr),r.__reactInternalMemoizedMergedChildContext=t,Rr(Ir),Rr(Pr),Ar(Pr,t)):Rr(Ir),Ar(Ir,n)}var zr=null,Gr=null;function qr(e){return function(t){try{return e(t)}catch(e){}}}function Vr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function $r(e,t,n,r){return new Vr(e,t,n,r)}function Kr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Yr(e,t){var n=e.alternate;return null===n?((n=$r(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.contextDependencies=e.contextDependencies,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zr(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Kr(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case Xe:return Xr(n.children,i,o,t);case nt:return Qr(n,3|i,o,t);case Qe:return Qr(n,2|i,o,t);case Je:return(e=$r(12,n,t,4|i)).elementType=Je,e.type=Je,e.expirationTime=o,e;case it:return(e=$r(13,n,t,i)).elementType=it,e.type=it,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case et:s=10;break e;case tt:s=9;break e;case rt:s=11;break e;case ot:s=14;break e;case st:s=16,r=null;break e}a("130",null==e?e:typeof e,"")}return(t=$r(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Xr(e,t,n,r){return(e=$r(7,e,r,t)).expirationTime=n,e}function Qr(e,t,n,r){return e=$r(8,e,r,t),t=0==(1&t)?Qe:nt,e.elementType=t,e.type=t,e.expirationTime=n,e}function Jr(e,t,n){return(e=$r(6,e,null,t)).expirationTime=n,e}function ei(e,t,n){return(t=$r(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ti(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),ii(t,e)}function ni(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,r=e.latestPendingTime;n===t?e.earliestPendingTime=r===t?e.latestPendingTime=0:r:r===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,r=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:r>t&&(e.latestSuspendedTime=t),ii(t,e)}function ri(e,t){var n=e.earliestPendingTime;return n>t&&(t=n),(e=e.earliestSuspendedTime)>t&&(t=e),t}function ii(e,t){var n=t.earliestSuspendedTime,r=t.latestSuspendedTime,i=t.earliestPendingTime,o=t.latestPingedTime;0===(i=0!==i?i:o)&&(0===e||r<e)&&(i=r),0!==(e=i)&&n>e&&(e=n),t.nextExpirationTimeToWorkOn=i,t.expirationTime=e}function oi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var si=(new r.Component).refs;function ai(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var li={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===rn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=ga(),i=Wo(r=js(r,e));i.payload=t,null!=n&&(i.callback=n),Fs(),Go(e,i),qs(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=ga(),i=Wo(r=js(r,e));i.tag=Bo,i.payload=t,null!=n&&(i.callback=n),Fs(),Go(e,i),qs(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=ga(),r=Wo(n=js(n,e));r.tag=Lo,null!=t&&(r.callback=t),Fs(),Go(e,r),qs(e,n)}};function ci(e,t,n,r,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!nn(n,r)||!nn(i,o))}function ui(e,t,n){var r=!1,i=Or,o=t.contextType;return"object"==typeof o&&null!==o?o=No(o):(i=Nr(t)?Mr:Pr.current,o=(r=null!=(r=t.contextTypes))?Fr(e,i):Or),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=li,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function hi(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&li.enqueueReplaceState(t,t.state,null)}function pi(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=si;var o=t.contextType;"object"==typeof o&&null!==o?i.context=No(o):(o=Nr(t)?Mr:Pr.current,i.context=Fr(e,o)),null!==(o=e.updateQueue)&&(Ko(e,o,n,i,r),i.state=e.memoizedState),"function"==typeof(o=t.getDerivedStateFromProps)&&(ai(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&li.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(Ko(e,o,n,i,r),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var di=Array.isArray;function fi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&a("309"),r=n.stateNode),r||a("147",e);var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===si&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}"string"!=typeof e&&a("284"),n._owner||a("290",e)}return e}function mi(e,t){"textarea"!==e.type&&a("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function gi(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=Yr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Jr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=fi(e,t,n),r.return=e,r):((r=Zr(n.type,n.key,n.props,null,e.mode,r)).ref=fi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ei(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Xr(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Jr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Ye:return(n=Zr(t.type,t.key,t.props,null,e.mode,n)).ref=fi(e,null,t),n.return=e,n;case Ze:return(t=ei(t,e.mode,n)).return=e,t}if(di(t)||lt(t))return(t=Xr(t,e.mode,n,null)).return=e,t;mi(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Ye:return n.key===i?n.type===Xe?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case Ze:return n.key===i?u(e,t,n,r):null}if(di(n)||lt(n))return null!==i?null:h(e,t,n,r,null);mi(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Ye:return e=e.get(null===r.key?n:r.key)||null,r.type===Xe?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case Ze:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(di(r)||lt(r))return h(t,e=e.get(n)||null,r,i,null);mi(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=d(i,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=o(y,s,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===a.length)return n(i,h),c;if(null===h){for(;m<a.length;m++)(h=p(i,a[m],l))&&(s=o(h,s,m),null===u?c=h:u.sibling=h,u=h);return c}for(h=r(i,h);m<a.length;m++)(g=f(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),c}function g(i,s,l,c){var u=lt(l);"function"!=typeof u&&a("150"),null==(l=u.call(l))&&a("151");for(var h=u=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=d(i,m,v.value,c);if(null===b){m||(m=y);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===h?u=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=p(i,v.value,c))&&(s=o(v,s,g),null===h?u=v:h.sibling=v,h=v);return u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=f(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=o(v,s,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),u}return function(e,r,o,l){var c="object"==typeof o&&null!==o&&o.type===Xe&&null===o.key;c&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case Ye:e:{for(u=o.key,c=r;null!==c;){if(c.key===u){if(7===c.tag?o.type===Xe:c.elementType===o.type){n(e,c.sibling),(r=i(c,o.type===Xe?o.props.children:o.props)).ref=fi(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===Xe?((r=Xr(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Zr(o.type,o.key,o.props,null,e.mode,l)).ref=fi(e,r,o),l.return=e,e=l)}return s(e);case Ze:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=ei(o,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Jr(o,e.mode,l)).return=e,e=r),s(e);if(di(o))return m(e,r,o,l);if(lt(o))return g(e,r,o,l);if(u&&mi(e,o),void 0===o&&!c)switch(e.tag){case 1:case 0:a("152",(l=e.type).displayName||l.name||"Component")}return n(e,r)}}var yi=gi(!0),vi=gi(!1),bi={},wi={current:bi},Ci={current:bi},Si={current:bi};function Ei(e){return e===bi&&a("174"),e}function ki(e,t){Ar(Si,t),Ar(Ci,e),Ar(wi,bi);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ir(null,"");break;default:t=ir(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}Rr(wi),Ar(wi,t)}function xi(e){Rr(wi),Rr(Ci),Rr(Si)}function Di(e){Ei(Si.current);var t=Ei(wi.current),n=ir(t,e.type);t!==n&&(Ar(Ci,e),Ar(wi,n))}function _i(e){Ci.current===e&&(Rr(wi),Rr(Ci))}var Ti=Ve.ReactCurrentDispatcher,Ri=0,Ai=null,Oi=null,Pi=null,Ii=null,Mi=null,Fi=null,Ni=0,Bi=null,Li=0,Hi=!1,Ui=null,ji=0;function Wi(){a("307")}function zi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!en(e[n],t[n]))return!1;return!0}function Gi(e,t,n,r,i,o){if(Ri=o,Ai=t,Pi=null!==e?e.memoizedState:null,Ti.current=null===Pi?ro:io,t=n(r,i),Hi){do{Hi=!1,ji+=1,Pi=null!==e?e.memoizedState:null,Fi=Ii,Bi=Mi=Oi=null,Ti.current=io,t=n(r,i)}while(Hi);Ui=null,ji=0}return Ti.current=no,(e=Ai).memoizedState=Ii,e.expirationTime=Ni,e.updateQueue=Bi,e.effectTag|=Li,e=null!==Oi&&null!==Oi.next,Ri=0,Fi=Mi=Ii=Pi=Oi=Ai=null,Ni=0,Bi=null,Li=0,e&&a("300"),t}function qi(){Ti.current=no,Ri=0,Fi=Mi=Ii=Pi=Oi=Ai=null,Ni=0,Bi=null,Li=0,Hi=!1,Ui=null,ji=0}function Vi(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Mi?Ii=Mi=e:Mi=Mi.next=e,Mi}function $i(){if(null!==Fi)Fi=(Mi=Fi).next,Pi=null!==(Oi=Pi)?Oi.next:null;else{null===Pi&&a("310");var e={memoizedState:(Oi=Pi).memoizedState,baseState:Oi.baseState,queue:Oi.queue,baseUpdate:Oi.baseUpdate,next:null};Mi=null===Mi?Ii=e:Mi.next=e,Pi=Oi.next}return Mi}function Ki(e,t){return"function"==typeof t?t(e):t}function Yi(e){var t=$i(),n=t.queue;if(null===n&&a("311"),0<ji){var r=n.dispatch;if(null!==Ui){var i=Ui.get(n);if(void 0!==i){Ui.delete(n);var o=t.memoizedState;do{o=e(o,i.action),i=i.next}while(null!==i);return en(o,t.memoizedState)||(go=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),n.eagerReducer=e,n.eagerState=o,[o,r]}}return[t.memoizedState,r]}r=n.last;var s=t.baseUpdate;if(o=t.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var l=i=null,c=r,u=!1;do{var h=c.expirationTime;h<Ri?(u||(u=!0,l=s,i=o),h>Ni&&(Ni=h)):o=c.eagerReducer===e?c.eagerState:e(o,c.action),s=c,c=c.next}while(null!==c&&c!==r);u||(l=s,i=o),en(o,t.memoizedState)||(go=!0),t.memoizedState=o,t.baseUpdate=l,t.baseState=i,n.eagerReducer=e,n.eagerState=o}return[t.memoizedState,n.dispatch]}function Zi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===Bi?(Bi={lastEffect:null}).lastEffect=e.next=e:null===(t=Bi.lastEffect)?Bi.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,Bi.lastEffect=e),e}function Xi(e,t,n,r){var i=Vi();Li|=e,i.memoizedState=Zi(t,n,void 0,void 0===r?null:r)}function Qi(e,t,n,r){var i=$i();r=void 0===r?null:r;var o=void 0;if(null!==Oi){var s=Oi.memoizedState;if(o=s.destroy,null!==r&&zi(r,s.deps))return void Zi(0,n,o,r)}Li|=e,i.memoizedState=Zi(t,n,o,r)}function Ji(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function eo(){}function to(e,t,n){25>ji||a("301");var r=e.alternate;if(e===Ai||null!==r&&r===Ai)if(Hi=!0,e={expirationTime:Ri,action:n,eagerReducer:null,eagerState:null,next:null},null===Ui&&(Ui=new Map),void 0===(n=Ui.get(t)))Ui.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{Fs();var i=ga(),o={expirationTime:i=js(i,e),action:n,eagerReducer:null,eagerState:null,next:null},s=t.last;if(null===s)o.next=o;else{var l=s.next;null!==l&&(o.next=l),s.next=o}if(t.last=o,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.eagerReducer))try{var c=t.eagerState,u=r(c,n);if(o.eagerReducer=r,o.eagerState=u,en(u,c))return}catch(e){}qs(e,i)}}var no={readContext:No,useCallback:Wi,useContext:Wi,useEffect:Wi,useImperativeHandle:Wi,useLayoutEffect:Wi,useMemo:Wi,useReducer:Wi,useRef:Wi,useState:Wi,useDebugValue:Wi},ro={readContext:No,useCallback:function(e,t){return Vi().memoizedState=[e,void 0===t?null:t],e},useContext:No,useEffect:function(e,t){return Xi(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Xi(4,36,Ji.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xi(4,36,e,t)},useMemo:function(e,t){var n=Vi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Vi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,eagerReducer:e,eagerState:t}).dispatch=to.bind(null,Ai,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Vi().memoizedState=e},useState:function(e){var t=Vi();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,eagerReducer:Ki,eagerState:e}).dispatch=to.bind(null,Ai,e),[t.memoizedState,e]},useDebugValue:eo},io={readContext:No,useCallback:function(e,t){var n=$i();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&zi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:No,useEffect:function(e,t){return Qi(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Qi(4,36,Ji.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qi(4,36,e,t)},useMemo:function(e,t){var n=$i();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&zi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:Yi,useRef:function(){return $i().memoizedState},useState:function(e){return Yi(Ki)},useDebugValue:eo},oo=null,so=null,ao=!1;function lo(e,t){var n=$r(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function co(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function uo(e){if(ao){var t=so;if(t){var n=t;if(!co(e,t)){if(!(t=xr(n))||!co(e,t))return e.effectTag|=2,ao=!1,void(oo=e);lo(oo,n)}oo=e,so=Dr(t)}else e.effectTag|=2,ao=!1,oo=e}}function ho(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;oo=e}function po(e){if(e!==oo)return!1;if(!ao)return ho(e),ao=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!wr(t,e.memoizedProps))for(t=so;t;)lo(e,t),t=xr(t);return ho(e),so=oo?xr(e.stateNode):null,!0}function fo(){so=oo=null,ao=!1}var mo=Ve.ReactCurrentOwner,go=!1;function yo(e,t,n,r){t.child=null===e?vi(t,null,n,r):yi(t,e.child,n,r)}function vo(e,t,n,r,i){n=n.render;var o=t.ref;return Fo(t,i),r=Gi(e,t,n,r,o,i),null===e||go?(t.effectTag|=1,yo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),_o(e,t,i))}function bo(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!=typeof s||Kr(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Zr(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,wo(e,t,s,r,i,o))}return s=e.child,i<o&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:nn)(i,r)&&e.ref===t.ref)?_o(e,t,o):(t.effectTag|=1,(e=Yr(s,r)).ref=t.ref,e.return=t,t.child=e)}function wo(e,t,n,r,i,o){return null!==e&&nn(e.memoizedProps,r)&&e.ref===t.ref&&(go=!1,i<o)?_o(e,t,o):So(e,t,n,r,o)}function Co(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function So(e,t,n,r,i){var o=Nr(n)?Mr:Pr.current;return o=Fr(t,o),Fo(t,i),n=Gi(e,t,n,r,o,i),null===e||go?(t.effectTag|=1,yo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),_o(e,t,i))}function Eo(e,t,n,r,i){if(Nr(n)){var o=!0;jr(t)}else o=!1;if(Fo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),ui(t,n,r),pi(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"==typeof c&&null!==c?c=No(c):c=Fr(t,c=Nr(n)?Mr:Pr.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate;h||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||l!==c)&&hi(t,s,r,c),Ho=!1;var p=t.memoizedState;l=s.state=p;var d=t.updateQueue;null!==d&&(Ko(t,d,r,s,i),l=t.memoizedState),a!==r||p!==l||Ir.current||Ho?("function"==typeof u&&(ai(t,n,u,r),l=t.memoizedState),(a=Ho||ci(t,n,a,r,p,l,c))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.effectTag|=4)):("function"==typeof s.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"==typeof s.componentDidMount&&(t.effectTag|=4),r=!1)}else s=t.stateNode,a=t.memoizedProps,s.props=t.type===t.elementType?a:oi(t.type,a),l=s.context,"object"==typeof(c=n.contextType)&&null!==c?c=No(c):c=Fr(t,c=Nr(n)?Mr:Pr.current),(h="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||l!==c)&&hi(t,s,r,c),Ho=!1,l=t.memoizedState,p=s.state=l,null!==(d=t.updateQueue)&&(Ko(t,d,r,s,i),p=t.memoizedState),a!==r||l!==p||Ir.current||Ho?("function"==typeof u&&(ai(t,n,u,r),p=t.memoizedState),(u=Ho||ci(t,n,a,r,l,p,c))?(h||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,c),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,c)),"function"==typeof s.componentDidUpdate&&(t.effectTag|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=c,r=u):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return ko(e,t,n,r,o,i)}function ko(e,t,n,r,i,o){Co(e,t);var s=0!=(64&t.effectTag);if(!r&&!s)return i&&Wr(t,n,!1),_o(e,t,o);r=t.stateNode,mo.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&s?(t.child=yi(t,e.child,null,o),t.child=yi(t,null,a,o)):yo(e,t,a,o),t.memoizedState=r.state,i&&Wr(t,n,!0),t.child}function xo(e){var t=e.stateNode;t.pendingContext?Hr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Hr(0,t.context,!1),ki(e,t.containerInfo)}function Do(e,t,n){var r=t.mode,i=t.pendingProps,o=t.memoizedState;if(0==(64&t.effectTag)){o=null;var s=!1}else o={timedOutAt:null!==o?o.timedOutAt:0},s=!0,t.effectTag&=-65;if(null===e)if(s){var a=i.fallback;e=Xr(null,r,0,null),0==(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),r=Xr(a,r,n,null),e.sibling=r,(n=e).return=r.return=t}else n=r=vi(t,null,i.children,n);else null!==e.memoizedState?(a=(r=e.child).sibling,s?(n=i.fallback,i=Yr(r,r.pendingProps),0==(1&t.mode)&&((s=null!==t.memoizedState?t.child.child:t.child)!==r.child&&(i.child=s)),r=i.sibling=Yr(a,n,a.expirationTime),n=i,i.childExpirationTime=0,n.return=r.return=t):n=r=yi(t,r.child,i.children,n)):(a=e.child,s?(s=i.fallback,(i=Xr(null,r,0,null)).child=a,0==(1&t.mode)&&(i.child=null!==t.memoizedState?t.child.child:t.child),(r=i.sibling=Xr(s,r,n,null)).effectTag|=2,n=i,i.childExpirationTime=0,n.return=r.return=t):r=n=yi(t,a,i.children,n)),t.stateNode=e.stateNode;return t.memoizedState=o,t.child=n,r}function _o(e,t,n){if(null!==e&&(t.contextDependencies=e.contextDependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child&&a("153"),null!==t.child){for(n=Yr(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Yr(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function To(e,t,n){var r=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||Ir.current)go=!0;else if(r<n){switch(go=!1,t.tag){case 3:xo(t),fo();break;case 5:Di(t);break;case 1:Nr(t.type)&&jr(t);break;case 4:ki(t,t.stateNode.containerInfo);break;case 10:Io(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Do(e,t,n):null!==(t=_o(e,t,n))?t.sibling:null}return _o(e,t,n)}}else go=!1;switch(t.expirationTime=0,t.tag){case 2:r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var i=Fr(t,Pr.current);if(Fo(t,n),i=Gi(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,qi(),Nr(r)){var o=!0;jr(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=r.getDerivedStateFromProps;"function"==typeof s&&ai(t,r,s,e),i.updater=li,t.stateNode=i,i._reactInternalFiber=t,pi(t,r,e,n),t=ko(null,t,r,!0,o,n)}else t.tag=0,yo(null,t,i,n),t=t.child;return t;case 16:switch(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),o=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)})),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(i),t.type=e,i=t.tag=function(e){if("function"==typeof e)return Kr(e)?1:0;if(null!=e){if((e=e.$$typeof)===rt)return 11;if(e===ot)return 14}return 2}(e),o=oi(e,o),s=void 0,i){case 0:s=So(null,t,e,o,n);break;case 1:s=Eo(null,t,e,o,n);break;case 11:s=vo(null,t,e,o,n);break;case 14:s=bo(null,t,e,oi(e.type,o),r,n);break;default:a("306",e,"")}return s;case 0:return r=t.type,i=t.pendingProps,So(e,t,r,i=t.elementType===r?i:oi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Eo(e,t,r,i=t.elementType===r?i:oi(r,i),n);case 3:return xo(t),null===(r=t.updateQueue)&&a("282"),i=null!==(i=t.memoizedState)?i.element:null,Ko(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i?(fo(),t=_o(e,t,n)):(i=t.stateNode,(i=(null===e||null===e.child)&&i.hydrate)&&(so=Dr(t.stateNode.containerInfo),oo=t,i=ao=!0),i?(t.effectTag|=2,t.child=vi(t,null,r,n)):(yo(e,t,r,n),fo()),t=t.child),t;case 5:return Di(t),null===e&&uo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,wr(r,i)?s=null:null!==o&&wr(r,o)&&(t.effectTag|=16),Co(e,t),1!==n&&1&t.mode&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(yo(e,t,s,n),t=t.child),t;case 6:return null===e&&uo(t),null;case 13:return Do(e,t,n);case 4:return ki(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=yi(t,null,r,n):yo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,vo(e,t,r,i=t.elementType===r?i:oi(r,i),n);case 7:return yo(e,t,t.pendingProps,n),t.child;case 8:case 12:return yo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,Io(t,o=i.value),null!==s){var l=s.value;if(0===(o=en(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!Ir.current){t=_o(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.contextDependencies;if(null!==c){s=l.child;for(var u=c.first;null!==u;){if(u.context===r&&0!=(u.observedBits&o)){1===l.tag&&((u=Wo(n)).tag=Lo,Go(l,u)),l.expirationTime<n&&(l.expirationTime=n),null!==(u=l.alternate)&&u.expirationTime<n&&(u.expirationTime=n),u=n;for(var h=l.return;null!==h;){var p=h.alternate;if(h.childExpirationTime<u)h.childExpirationTime=u,null!==p&&p.childExpirationTime<u&&(p.childExpirationTime=u);else{if(!(null!==p&&p.childExpirationTime<u))break;p.childExpirationTime=u}h=h.return}c.expirationTime<n&&(c.expirationTime=n);break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}}yo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,Fo(t,n),r=r(i=No(i,o.unstable_observedBits)),t.effectTag|=1,yo(e,t,r,n),t.child;case 14:return o=oi(i=t.type,t.pendingProps),bo(e,t,i,o=oi(i.type,o),r,n);case 15:return wo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:oi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Nr(r)?(e=!0,jr(t)):e=!1,Fo(t,n),ui(t,r,i),pi(t,r,i,n),ko(null,t,r,!0,e,n)}a("156")}var Ro={current:null},Ao=null,Oo=null,Po=null;function Io(e,t){var n=e.type._context;Ar(Ro,n._currentValue),n._currentValue=t}function Mo(e){var t=Ro.current;Rr(Ro),e.type._context._currentValue=t}function Fo(e,t){Ao=e,Po=Oo=null;var n=e.contextDependencies;null!==n&&n.expirationTime>=t&&(go=!0),e.contextDependencies=null}function No(e,t){return Po!==e&&!1!==t&&0!==t&&("number"==typeof t&&1073741823!==t||(Po=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Oo?(null===Ao&&a("308"),Oo=t,Ao.contextDependencies={first:t,expirationTime:0}):Oo=Oo.next=t),e._currentValue}var Bo=1,Lo=2,Ho=!1;function Uo(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function jo(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Wo(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function zo(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Go(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=Uo(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=Uo(e.memoizedState),i=n.updateQueue=Uo(n.memoizedState)):r=e.updateQueue=jo(i):null===i&&(i=n.updateQueue=jo(r));null===i||r===i?zo(r,t):null===r.lastUpdate||null===i.lastUpdate?(zo(r,t),zo(i,t)):(zo(r,t),i.lastUpdate=t)}function qo(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Uo(e.memoizedState):Vo(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function Vo(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=jo(t)),t}function $o(e,t,n,r,o,s){switch(n.tag){case Bo:return"function"==typeof(e=n.payload)?e.call(s,r,o):e;case 3:e.effectTag=-2049&e.effectTag|64;case 0:if(null==(o="function"==typeof(e=n.payload)?e.call(s,r,o):e))break;return i({},r,o);case Lo:Ho=!0}return r}function Ko(e,t,n,r,i){Ho=!1;for(var o=(t=Vo(e,t)).baseState,s=null,a=0,l=t.firstUpdate,c=o;null!==l;){var u=l.expirationTime;u<i?(null===s&&(s=l,o=c),a<u&&(a=u)):(c=$o(e,0,l,c,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(u=null,l=t.firstCapturedUpdate;null!==l;){var h=l.expirationTime;h<i?(null===u&&(u=l,null===s&&(o=c)),a<h&&(a=h)):(c=$o(e,0,l,c,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===s&&(t.lastUpdate=null),null===u?t.lastCapturedUpdate=null:e.effectTag|=32,null===s&&null===u&&(o=c),t.baseState=o,t.firstUpdate=s,t.firstCapturedUpdate=u,e.expirationTime=a,e.memoizedState=c}function Yo(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Zo(t.firstEffect,n),t.firstEffect=t.lastEffect=null,Zo(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function Zo(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;"function"!=typeof n&&a("191",n),n.call(r)}e=e.nextEffect}}function Xo(e,t){return{value:e,source:t,stack:ut(t)}}function Qo(e){e.effectTag|=4}var Jo,es,ts;Jo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},es=function(e,t,n,r,o){var s=e.memoizedProps;if(s!==r){var a=t.stateNode;switch(Ei(wi.current),e=null,n){case"input":s=Ct(a,s),r=Ct(a,r),e=[];break;case"option":s=Yn(a,s),r=Yn(a,r),e=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":s=Xn(a,s),r=Xn(a,r),e=[];break;default:"function"!=typeof s.onClick&&"function"==typeof r.onClick&&(a.onclick=gr)}dr(n,r),a=n=void 0;var l=null;for(n in s)if(!r.hasOwnProperty(n)&&s.hasOwnProperty(n)&&null!=s[n])if("style"===n){var c=s[n];for(a in c)c.hasOwnProperty(a)&&(l||(l={}),l[a]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(C.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var u=r[n];if(c=null!=s?s[n]:void 0,r.hasOwnProperty(n)&&u!==c&&(null!=u||null!=c))if("style"===n)if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(l||(l={}),l[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(l||(l={}),l[a]=u[a])}else l||(e||(e=[]),e.push(n,l)),l=u;else"dangerouslySetInnerHTML"===n?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(e=e||[]).push(n,""+u)):"children"===n?c===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(n,""+u):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(C.hasOwnProperty(n)?(null!=u&&mr(o,n),e||c===u||(e=[])):(e=e||[]).push(n,u))}l&&(e=e||[]).push("style",l),o=e,(t.updateQueue=o)&&Qo(t)}},ts=function(e,t,n,r){n!==r&&Qo(t)};var ns="function"==typeof WeakSet?WeakSet:Set;function rs(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ut(n)),null!==n&&ct(n.type),t=t.value,null!==e&&1===e.tag&&ct(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function is(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Us(e,t)}else t.current=null}function os(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if(0!=(r.tag&e)){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}0!=(r.tag&t)&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function ss(e){switch("function"==typeof Gr&&Gr(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n.destroy;if(void 0!==r){var i=e;try{r()}catch(e){Us(i,e)}}n=n.next}while(n!==t)}break;case 1:if(is(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Us(e,t)}break;case 5:is(e);break;case 4:cs(e)}}function as(e){return 5===e.tag||3===e.tag||4===e.tag}function ls(e){e:{for(var t=e.return;null!==t;){if(as(t)){var n=t;break e}t=t.return}a("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:a("161")}16&n.effectTag&&(ar(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||as(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){if(5===i.tag||6===i.tag)if(n)if(r){var o=t,s=i.stateNode,l=n;8===o.nodeType?o.parentNode.insertBefore(s,l):o.insertBefore(s,l)}else t.insertBefore(i.stateNode,n);else r?(s=t,l=i.stateNode,8===s.nodeType?(o=s.parentNode).insertBefore(l,s):(o=s).appendChild(l),null!=(s=s._reactRootContainer)||null!==o.onclick||(o.onclick=gr)):t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function cs(e){for(var t=e,n=!1,r=void 0,i=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&a("160"),n.tag){case 5:r=n.stateNode,i=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,i=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var o=t,s=o;;)if(ss(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===o)break;for(;null===s.sibling;){if(null===s.return||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}i?(o=r,s=t.stateNode,8===o.nodeType?o.parentNode.removeChild(s):o.removeChild(s)):r.removeChild(t.stateNode)}else if(4===t.tag){if(null!==t.child){r=t.stateNode.containerInfo,i=!0,t.child.return=t,t=t.child;continue}}else if(ss(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function us(e,t){switch(t.tag){case 0:case 11:case 14:case 15:os(4,8,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&function(e,t,n,r,i){e[N]=i,"input"===n&&"radio"===i.type&&null!=i.name&&Et(e,i),fr(n,r),r=fr(n,i);for(var o=0;o<t.length;o+=2){var s=t[o],a=t[o+1];"style"===s?hr(e,a):"dangerouslySetInnerHTML"===s?sr(e,a):"children"===s?ar(e,a):bt(e,s,a,r)}switch(n){case"input":kt(e,i);break;case"textarea":Jn(e,i);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,null!=(n=i.value)?Zn(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?Zn(e,!!i.multiple,i.defaultValue,!0):Zn(e,!!i.multiple,i.multiple?[]:"",!1))}}(n,o,i,e,r)}break;case 6:null===t.stateNode&&a("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(n=t.memoizedState,r=void 0,e=t,null===n?r=!1:(r=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=ga())),null!==e&&function(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)r.style.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=ur("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(r=n.child.sibling).return=n,n=r;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(e,r),null!==(n=t.updateQueue)){t.updateQueue=null;var s=t.stateNode;null===s&&(s=t.stateNode=new ns),n.forEach((function(e){var n=zs.bind(null,t,e);s.has(e)||(s.add(e),e.then(n,n))}))}break;case 17:break;default:a("163")}}var hs="function"==typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Wo(n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Da(r),rs(e,t)},n}function ds(e,t,n){(n=Wo(n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Rs?Rs=new Set([this]):Rs.add(this));var n=t.value,i=t.stack;rs(e,t),this.componentDidCatch(n,{componentStack:null!==i?i:""})}),n}function fs(e){switch(e.tag){case 1:Nr(e.type)&&Br();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return xi(),Lr(),0!=(64&(t=e.effectTag))&&a("285"),e.effectTag=-2049&t|64,e;case 5:return _i(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 4:return xi(),null;case 10:return Mo(e),null;default:return null}}var ms=Ve.ReactCurrentDispatcher,gs=Ve.ReactCurrentOwner,ys=1073741822,vs=!1,bs=null,ws=null,Cs=0,Ss=-1,Es=!1,ks=null,xs=!1,Ds=null,_s=null,Ts=null,Rs=null;function As(){if(null!==bs)for(var e=bs.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!=n&&Br();break;case 3:xi(),Lr();break;case 5:_i(t);break;case 4:xi();break;case 10:Mo(t)}e=e.return}ws=null,Cs=0,Ss=-1,Es=!1,bs=null}function Os(){for(;null!==ks;){var e=ks.effectTag;if(16&e&&ar(ks.stateNode,""),128&e){var t=ks.alternate;null!==t&&(null!==(t=t.ref)&&("function"==typeof t?t(null):t.current=null))}switch(14&e){case 2:ls(ks),ks.effectTag&=-3;break;case 6:ls(ks),ks.effectTag&=-3,us(ks.alternate,ks);break;case 4:us(ks.alternate,ks);break;case 8:cs(e=ks),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,null!==(e=e.alternate)&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}ks=ks.nextEffect}}function Ps(){for(;null!==ks;){if(256&ks.effectTag)e:{var e=ks.alternate,t=ks;switch(t.tag){case 0:case 11:case 15:os(2,0,t);break e;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:oi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break e;case 3:case 5:case 6:case 4:case 17:break e;default:a("163")}}ks=ks.nextEffect}}function Is(e,t){for(;null!==ks;){var n=ks.effectTag;if(36&n){var r=ks.alternate,i=ks,o=t;switch(i.tag){case 0:case 11:case 15:os(16,32,i);break;case 1:var s=i.stateNode;if(4&i.effectTag)if(null===r)s.componentDidMount();else{var l=i.elementType===i.type?r.memoizedProps:oi(i.type,r.memoizedProps);s.componentDidUpdate(l,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}null!==(r=i.updateQueue)&&Yo(0,r,s);break;case 3:if(null!==(r=i.updateQueue)){if(s=null,null!==i.child)switch(i.child.tag){case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}Yo(0,r,s)}break;case 5:o=i.stateNode,null===r&&4&i.effectTag&&br(i.type,i.memoizedProps)&&o.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:a("163")}}128&n&&(null!==(i=ks.ref)&&(o=ks.stateNode,"function"==typeof i?i(o):i.current=o)),512&n&&(Ds=e),ks=ks.nextEffect}}function Ms(e,t){Ts=_s=Ds=null;var n=Xs;Xs=!0;do{if(512&t.effectTag){var r=!1,i=void 0;try{var o=t;os(128,0,o),os(0,64,o)}catch(e){r=!0,i=e}r&&Us(t,i)}t=t.nextEffect}while(null!==t);Xs=n,0!==(n=e.expirationTime)&&ya(e,n),ra||Xs||Sa(1073741823,!1)}function Fs(){null!==_s&&kr(_s),null!==Ts&&Ts()}function Ns(e,t){xs=vs=!0,e.current===t&&a("177");var n=e.pendingCommitExpirationTime;0===n&&a("261"),e.pendingCommitExpirationTime=0;var r=t.expirationTime,i=t.childExpirationTime;for(function(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var n=e.latestPendingTime;0!==n&&(n>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),0===(n=e.earliestSuspendedTime)?ti(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,ti(e,t)):t>n&&ti(e,t)}ii(0,e)}(e,i>r?i:r),gs.current=null,r=void 0,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,yr=Dn,vr=function(){var e=Ln();if(Hn(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch(e){t=null;break e}var o=0,s=-1,a=-1,l=0,c=0,u=e,h=null;t:for(;;){for(var p;u!==t||0!==r&&3!==u.nodeType||(s=o+r),u!==i||0!==n&&3!==u.nodeType||(a=o+n),3===u.nodeType&&(o+=u.nodeValue.length),null!==(p=u.firstChild);)h=u,u=p;for(;;){if(u===e)break t;if(h===t&&++l===r&&(s=o),h===i&&++c===n&&(a=o),null!==(p=u.nextSibling))break;h=(u=h).parentNode}u=p}t=-1===s||-1===a?null:{start:s,end:a}}else t=null}t=t||{start:0,end:0}}else t=null;return{focusedElem:e,selectionRange:t}}(),Dn=!1,ks=r;null!==ks;){i=!1;var s=void 0;try{Ps()}catch(e){i=!0,s=e}i&&(null===ks&&a("178"),Us(ks,s),null!==ks&&(ks=ks.nextEffect))}for(ks=r;null!==ks;){i=!1,s=void 0;try{Os()}catch(e){i=!0,s=e}i&&(null===ks&&a("178"),Us(ks,s),null!==ks&&(ks=ks.nextEffect))}for(Un(vr),vr=null,Dn=!!yr,yr=null,e.current=t,ks=r;null!==ks;){i=!1,s=void 0;try{Is(e,n)}catch(e){i=!0,s=e}i&&(null===ks&&a("178"),Us(ks,s),null!==ks&&(ks=ks.nextEffect))}if(null!==r&&null!==Ds){var l=Ms.bind(null,e,r);_s=o.unstable_runWithPriority(o.unstable_NormalPriority,(function(){return Er(l)})),Ts=l}vs=xs=!1,"function"==typeof zr&&zr(t.stateNode),n=t.expirationTime,0===(t=(t=t.childExpirationTime)>n?t:n)&&(Rs=null),function(e,t){e.expirationTime=t,e.finishedWork=null}(e,t)}function Bs(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0==(1024&e.effectTag)){bs=e;e:{var o=t,s=Cs,l=(t=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Nr(t.type)&&Br();break;case 3:xi(),Lr(),(l=t.stateNode).pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),null!==o&&null!==o.child||(po(t),t.effectTag&=-3);break;case 5:_i(t);var c=Ei(Si.current);if(s=t.type,null!==o&&null!=t.stateNode)es(o,t,s,l,c),o.ref!==t.ref&&(t.effectTag|=128);else if(l){var u=Ei(wi.current);if(po(t)){o=(l=t).stateNode;var h=l.type,p=l.memoizedProps,d=c;switch(o[F]=l,o[N]=p,s=void 0,c=h){case"iframe":case"object":_n("load",o);break;case"video":case"audio":for(h=0;h<re.length;h++)_n(re[h],o);break;case"source":_n("error",o);break;case"img":case"image":case"link":_n("error",o),_n("load",o);break;case"form":_n("reset",o),_n("submit",o);break;case"details":_n("toggle",o);break;case"input":St(o,p),_n("invalid",o),mr(d,"onChange");break;case"select":o._wrapperState={wasMultiple:!!p.multiple},_n("invalid",o),mr(d,"onChange");break;case"textarea":Qn(o,p),_n("invalid",o),mr(d,"onChange")}for(s in dr(c,p),h=null,p)p.hasOwnProperty(s)&&(u=p[s],"children"===s?"string"==typeof u?o.textContent!==u&&(h=["children",u]):"number"==typeof u&&o.textContent!==""+u&&(h=["children",""+u]):C.hasOwnProperty(s)&&null!=u&&mr(d,s));switch(c){case"input":Ge(o),xt(o,p,!0);break;case"textarea":Ge(o),er(o);break;case"select":case"option":break;default:"function"==typeof p.onClick&&(o.onclick=gr)}s=h,l.updateQueue=s,(l=null!==s)&&Qo(t)}else{p=t,o=s,d=l,h=9===c.nodeType?c:c.ownerDocument,u===tr&&(u=rr(o)),u===tr?"script"===o?((o=h.createElement("div")).innerHTML="<script><\/script>",h=o.removeChild(o.firstChild)):"string"==typeof d.is?h=h.createElement(o,{is:d.is}):(h=h.createElement(o),"select"===o&&d.multiple&&(h.multiple=!0)):h=h.createElementNS(u,o),(o=h)[F]=p,o[N]=l,Jo(o,t),d=o;var f=c,m=fr(h=s,p=l);switch(h){case"iframe":case"object":_n("load",d),c=p;break;case"video":case"audio":for(c=0;c<re.length;c++)_n(re[c],d);c=p;break;case"source":_n("error",d),c=p;break;case"img":case"image":case"link":_n("error",d),_n("load",d),c=p;break;case"form":_n("reset",d),_n("submit",d),c=p;break;case"details":_n("toggle",d),c=p;break;case"input":St(d,p),c=Ct(d,p),_n("invalid",d),mr(f,"onChange");break;case"option":c=Yn(d,p);break;case"select":d._wrapperState={wasMultiple:!!p.multiple},c=i({},p,{value:void 0}),_n("invalid",d),mr(f,"onChange");break;case"textarea":Qn(d,p),c=Xn(d,p),_n("invalid",d),mr(f,"onChange");break;default:c=p}dr(h,c),u=void 0;var g=h,y=d,v=c;for(u in v)if(v.hasOwnProperty(u)){var b=v[u];"style"===u?hr(y,b):"dangerouslySetInnerHTML"===u?null!=(b=b?b.__html:void 0)&&sr(y,b):"children"===u?"string"==typeof b?("textarea"!==g||""!==b)&&ar(y,b):"number"==typeof b&&ar(y,""+b):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(C.hasOwnProperty(u)?null!=b&&mr(f,u):null!=b&&bt(y,u,b,m))}switch(h){case"input":Ge(d),xt(d,p,!1);break;case"textarea":Ge(d),er(d);break;case"option":null!=p.value&&d.setAttribute("value",""+wt(p.value));break;case"select":(c=d).multiple=!!p.multiple,null!=(d=p.value)?Zn(c,!!p.multiple,d,!1):null!=p.defaultValue&&Zn(c,!!p.multiple,p.defaultValue,!0);break;default:"function"==typeof c.onClick&&(d.onclick=gr)}(l=br(s,l))&&Qo(t),t.stateNode=o}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&a("166");break;case 6:o&&null!=t.stateNode?ts(0,t,o.memoizedProps,l):("string"!=typeof l&&(null===t.stateNode&&a("166")),o=Ei(Si.current),Ei(wi.current),po(t)?(s=(l=t).stateNode,o=l.memoizedProps,s[F]=l,(l=s.nodeValue!==o)&&Qo(t)):(s=t,(l=(9===o.nodeType?o:o.ownerDocument).createTextNode(l))[F]=t,s.stateNode=l));break;case 11:break;case 13:if(l=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=s,bs=t;break e}l=null!==l,s=null!==o&&null!==o.memoizedState,null!==o&&!l&&s&&(null!==(o=o.child.sibling)&&(null!==(c=t.firstEffect)?(t.firstEffect=o,o.nextEffect=c):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),(l||s)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:xi();break;case 10:Mo(t);break;case 9:case 14:break;case 17:Nr(t.type)&&Br();break;case 18:break;default:a("156")}bs=null}if(t=e,1===Cs||1!==t.childExpirationTime){for(l=0,s=t.child;null!==s;)(o=s.expirationTime)>l&&(l=o),(c=s.childExpirationTime)>l&&(l=c),s=s.sibling;t.childExpirationTime=l}if(null!==bs)return bs;null!==n&&0==(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=fs(e)))return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;e=n}return null}function Ls(e){var t=To(e.alternate,e,Cs);return e.memoizedProps=e.pendingProps,null===t&&(t=Bs(e)),gs.current=null,t}function Hs(e,t){vs&&a("243"),Fs(),vs=!0;var n=ms.current;ms.current=no;var r=e.nextExpirationTimeToWorkOn;r===Cs&&e===ws&&null!==bs||(As(),Cs=r,bs=Yr((ws=e).current,null),e.pendingCommitExpirationTime=0);for(var i=!1;;){try{if(t)for(;null!==bs&&!wa();)bs=Ls(bs);else for(;null!==bs;)bs=Ls(bs)}catch(t){if(Po=Oo=Ao=null,qi(),null===bs)i=!0,Da(t);else{null===bs&&a("271");var o=bs,s=o.return;if(null!==s){e:{var l=e,c=s,u=o,h=t;if(s=Cs,u.effectTag|=1024,u.firstEffect=u.lastEffect=null,null!==h&&"object"==typeof h&&"function"==typeof h.then){var p=h;h=c;var d=-1,f=-1;do{if(13===h.tag){var m=h.alternate;if(null!==m&&null!==(m=m.memoizedState)){f=10*(1073741822-m.timedOutAt);break}"number"==typeof(m=h.pendingProps.maxDuration)&&(0>=m?d=0:(-1===d||m<d)&&(d=m))}h=h.return}while(null!==h);h=c;do{if((m=13===h.tag)&&(m=void 0!==h.memoizedProps.fallback&&null===h.memoizedState),m){if(null===(c=h.updateQueue)?((c=new Set).add(p),h.updateQueue=c):c.add(p),0==(1&h.mode)){h.effectTag|=64,u.effectTag&=-1957,1===u.tag&&(null===u.alternate?u.tag=17:((s=Wo(1073741823)).tag=Lo,Go(u,s))),u.expirationTime=1073741823;break e}c=s;var g=(u=l).pingCache;null===g?(g=u.pingCache=new hs,m=new Set,g.set(p,m)):void 0===(m=g.get(p))&&(m=new Set,g.set(p,m)),m.has(c)||(m.add(c),u=Ws.bind(null,u,p,c),p.then(u,u)),-1===d?l=1073741823:(-1===f&&(f=10*(1073741822-ri(l,s))-5e3),l=f+d),0<=l&&Ss<l&&(Ss=l),h.effectTag|=2048,h.expirationTime=s;break e}h=h.return}while(null!==h);h=Error((ct(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ut(u))}Es=!0,h=Xo(h,u),l=c;do{switch(l.tag){case 3:l.effectTag|=2048,l.expirationTime=s,qo(l,s=ps(l,h,s));break e;case 1:if(d=h,f=l.type,u=l.stateNode,0==(64&l.effectTag)&&("function"==typeof f.getDerivedStateFromError||null!==u&&"function"==typeof u.componentDidCatch&&(null===Rs||!Rs.has(u)))){l.effectTag|=2048,l.expirationTime=s,qo(l,s=ds(l,d,s));break e}}l=l.return}while(null!==l)}bs=Bs(o);continue}i=!0,Da(t)}}break}if(vs=!1,ms.current=n,Po=Oo=Ao=null,qi(),i)ws=null,e.finishedWork=null;else if(null!==bs)e.finishedWork=null;else{if(null===(n=e.current.alternate)&&a("281"),ws=null,Es){if(i=e.latestPendingTime,o=e.latestSuspendedTime,s=e.latestPingedTime,0!==i&&i<r||0!==o&&o<r||0!==s&&s<r)return ni(e,r),void fa(e,n,r,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,r=e.nextExpirationTimeToWorkOn=r,t=e.expirationTime=1073741823,void fa(e,n,r,t,-1)}t&&-1!==Ss?(ni(e,r),(t=10*(1073741822-ri(e,r)))<Ss&&(Ss=t),t=10*(1073741822-ga()),t=Ss-t,fa(e,n,r,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=r,e.finishedWork=n)}}function Us(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Rs||!Rs.has(r)))return Go(n,e=ds(n,e=Xo(t,e),1073741823)),void qs(n,1073741823);break;case 3:return Go(n,e=ps(n,e=Xo(t,e),1073741823)),void qs(n,1073741823)}n=n.return}3===e.tag&&(Go(e,n=ps(e,n=Xo(t,e),1073741823)),qs(e,1073741823))}function js(e,t){var n=o.unstable_getCurrentPriorityLevel(),r=void 0;if(0==(1&t.mode))r=1073741823;else if(vs&&!xs)r=Cs;else{switch(n){case o.unstable_ImmediatePriority:r=1073741823;break;case o.unstable_UserBlockingPriority:r=1073741822-10*(1+((1073741822-e+15)/10|0));break;case o.unstable_NormalPriority:r=1073741822-25*(1+((1073741822-e+500)/25|0));break;case o.unstable_LowPriority:case o.unstable_IdlePriority:r=1;break;default:a("313")}null!==ws&&r===Cs&&--r}return n===o.unstable_UserBlockingPriority&&(0===ea||r<ea)&&(ea=r),r}function Ws(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),null!==ws&&Cs===n?ws=null:(t=e.earliestSuspendedTime,r=e.latestSuspendedTime,0!==t&&n<=t&&n>=r&&(e.didError=!1,(0===(t=e.latestPingedTime)||t>n)&&(e.latestPingedTime=n),ii(n,e),0!==(n=e.expirationTime)&&ya(e,n)))}function zs(e,t){var n=e.stateNode;null!==n&&n.delete(t),null!==(e=Gs(e,t=js(t=ga(),e)))&&(ti(e,t),0!==(t=e.expirationTime)&&ya(e,t))}function Gs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return i}function qs(e,t){null!==(e=Gs(e,t))&&(!vs&&0!==Cs&&t>Cs&&As(),ti(e,t),vs&&!xs&&ws===e||ya(e,e.expirationTime),ua>ca&&(ua=0,a("185")))}function Vs(e,t,n,r,i){return o.unstable_runWithPriority(o.unstable_ImmediatePriority,(function(){return e(t,n,r,i)}))}var $s=null,Ks=null,Ys=0,Zs=void 0,Xs=!1,Qs=null,Js=0,ea=0,ta=!1,na=null,ra=!1,ia=!1,oa=null,sa=o.unstable_now(),aa=1073741822-(sa/10|0),la=aa,ca=50,ua=0,ha=null;function pa(){aa=1073741822-((o.unstable_now()-sa)/10|0)}function da(e,t){if(0!==Ys){if(t<Ys)return;null!==Zs&&o.unstable_cancelCallback(Zs)}Ys=t,e=o.unstable_now()-sa,Zs=o.unstable_scheduleCallback(Ca,{timeout:10*(1073741822-t)-e})}function fa(e,t,n,r,i){e.expirationTime=r,0!==i||wa()?0<i&&(e.timeoutHandle=Cr(ma.bind(null,e,t,n),i)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function ma(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,pa(),la=aa,Ea(e,n)}function ga(){return Xs||(va(),0!==Js&&1!==Js||(pa(),la=aa)),la}function ya(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===Ks?($s=Ks=e,e.nextScheduledRoot=e):(Ks=Ks.nextScheduledRoot=e).nextScheduledRoot=$s):t>e.expirationTime&&(e.expirationTime=t),Xs||(ra?ia&&(Qs=e,Js=1073741823,ka(e,1073741823,!1)):1073741823===t?Sa(1073741823,!1):da(e,t))}function va(){var e=0,t=null;if(null!==Ks)for(var n=Ks,r=$s;null!==r;){var i=r.expirationTime;if(0===i){if((null===n||null===Ks)&&a("244"),r===r.nextScheduledRoot){$s=Ks=r.nextScheduledRoot=null;break}if(r===$s)$s=i=r.nextScheduledRoot,Ks.nextScheduledRoot=i,r.nextScheduledRoot=null;else{if(r===Ks){(Ks=n).nextScheduledRoot=$s,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(i>e&&(e=i,t=r),r===Ks)break;if(1073741823===e)break;n=r,r=r.nextScheduledRoot}}Qs=t,Js=e}var ba=!1;function wa(){return!!ba||!!o.unstable_shouldYield()&&(ba=!0)}function Ca(){try{if(!wa()&&null!==$s){pa();var e=$s;do{var t=e.expirationTime;0!==t&&aa<=t&&(e.nextExpirationTimeToWorkOn=aa),e=e.nextScheduledRoot}while(e!==$s)}Sa(0,!0)}finally{ba=!1}}function Sa(e,t){if(va(),t)for(pa(),la=aa;null!==Qs&&0!==Js&&e<=Js&&!(ba&&aa>Js);)ka(Qs,Js,aa>Js),va(),pa(),la=aa;else for(;null!==Qs&&0!==Js&&e<=Js;)ka(Qs,Js,!1),va();if(t&&(Ys=0,Zs=null),0!==Js&&da(Qs,Js),ua=0,ha=null,null!==oa)for(e=oa,oa=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){ta||(ta=!0,na=e)}}if(ta)throw e=na,na=null,ta=!1,e}function Ea(e,t){Xs&&a("253"),Qs=e,Js=t,ka(e,t,!1),Sa(1073741823,!1)}function ka(e,t,n){if(Xs&&a("245"),Xs=!0,n){var r=e.finishedWork;null!==r?xa(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,Sr(r)),Hs(e,n),null!==(r=e.finishedWork)&&(wa()?e.finishedWork=r:xa(e,r,t)))}else null!==(r=e.finishedWork)?xa(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,Sr(r)),Hs(e,n),null!==(r=e.finishedWork)&&xa(e,r,t));Xs=!1}function xa(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===oa?oa=[r]:oa.push(r),r._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===ha?ua++:(ha=e,ua=0),o.unstable_runWithPriority(o.unstable_ImmediatePriority,(function(){Ns(e,t)}))}function Da(e){null===Qs&&a("246"),Qs.expirationTime=0,ta||(ta=!0,na=e)}function _a(e,t){var n=ra;ra=!0;try{return e(t)}finally{(ra=n)||Xs||Sa(1073741823,!1)}}function Ta(e,t){if(ra&&!ia){ia=!0;try{return e(t)}finally{ia=!1}}return e(t)}function Ra(e,t,n){ra||Xs||0===ea||(Sa(ea,!1),ea=0);var r=ra;ra=!0;try{return o.unstable_runWithPriority(o.unstable_UserBlockingPriority,(function(){return e(t,n)}))}finally{(ra=r)||Xs||Sa(1073741823,!1)}}function Aa(e,t,n,r,i){var o=t.current;e:if(n){t:{2===rn(n=n._reactInternalFiber)&&1===n.tag||a("170");var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Nr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);a("171"),s=void 0}if(1===n.tag){var l=n.type;if(Nr(l)){n=Ur(n,l,s);break e}}n=s}else n=Or;return null===t.context?t.context=n:t.pendingContext=n,t=i,(i=Wo(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),Fs(),Go(o,i),qs(o,r),r}function Oa(e,t,n,r){var i=t.current;return Aa(e,t,n,i=js(ga(),i),r)}function Pa(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Ia(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ze,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ma(e){var t=1073741822-25*(1+((1073741822-ga()+500)/25|0));t>=ys&&(t=ys-1),this._expirationTime=ys=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Fa(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Na(e,t,n){e={current:t=$r(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function Ba(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function La(e,t,n,r,i){var o=n._reactRootContainer;if(o){if("function"==typeof i){var s=i;i=function(){var e=Pa(o._internalRoot);s.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Na(e,!1,t)}(n,r),"function"==typeof i){var a=i;i=function(){var e=Pa(o._internalRoot);a.call(e)}}Ta((function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)}))}return Pa(o._internalRoot)}function Ha(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Ba(t)||a("200"),Ia(e,t,null,n)}Te=function(e,t,n){switch(t){case"input":if(kt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=U(r);i||a("90"),qe(r),kt(r,i)}}}break;case"textarea":Jn(e,n);break;case"select":null!=(t=n.value)&&Zn(e,!!n.multiple,t,!1)}},Ma.prototype.render=function(e){this._defer||a("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new Fa;return Aa(e,t,null,n,r._onCommit),r},Ma.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Ma.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||a("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)r=i,i=i._next;null===r&&a("251"),r._next=i._next,this._next=t,e.firstBatch=this}this._defer=!1,Ea(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Ma.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Fa.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Fa.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&a("191",n),n()}}},Na.prototype.render=function(e,t){var n=this._internalRoot,r=new Fa;return null!==(t=void 0===t?null:t)&&r.then(t),Oa(e,n,null,r._onCommit),r},Na.prototype.unmount=function(e){var t=this._internalRoot,n=new Fa;return null!==(e=void 0===e?null:e)&&n.then(e),Oa(null,t,null,n._onCommit),n},Na.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,i=new Fa;return null!==(n=void 0===n?null:n)&&i.then(n),Oa(t,r,e,i._onCommit),i},Na.prototype.createBatch=function(){var e=new Ma(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},Me=_a,Fe=Ra,Ne=function(){Xs||0===ea||(Sa(ea,!1),ea=0)};var Ua,ja,Wa={createPortal:Ha,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?a("188"):a("268",Object.keys(e))),e=null===(e=sn(t))?null:e.stateNode},hydrate:function(e,t,n){return Ba(t)||a("200"),La(null,e,t,!0,n)},render:function(e,t,n){return Ba(t)||a("200"),La(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return Ba(n)||a("200"),(null==e||void 0===e._reactInternalFiber)&&a("38"),La(e,t,n,!1,r)},unmountComponentAtNode:function(e){return Ba(e)||a("40"),!!e._reactRootContainer&&(Ta((function(){La(null,null,e,!1,(function(){e._reactRootContainer=null}))})),!0)},unstable_createPortal:function(){return Ha.apply(void 0,arguments)},unstable_batchedUpdates:_a,unstable_interactiveUpdates:Ra,flushSync:function(e,t){Xs&&a("187");var n=ra;ra=!0;try{return Vs(e,t)}finally{ra=n,Sa(1073741823,!1)}},unstable_createRoot:function(e,t){return Ba(e)||a("299","unstable_createRoot"),new Na(e,!0,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=ra;ra=!0;try{Vs(e)}finally{(ra=t)||Xs||Sa(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[L,H,U,O.injectEventPluginsByName,w,V,function(e){T(e,q)},Pe,Ie,An,I]}};ja=(Ua={findFiberByHostInstance:B,bundleType:0,version:"16.8.4",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);zr=qr((function(e){return t.onCommitFiberRoot(n,e)})),Gr=qr((function(e){return t.onCommitFiberUnmount(n,e)}))}catch(e){}}(i({},Ua,{overrideProps:null,currentDispatcherRef:Ve.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=sn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return ja?ja(e):null}}));var za={default:Wa},Ga=za&&Wa||za;e.exports=Ga.default||Ga},function(e,t,n){"use strict";e.exports=n(297)},function(e,t,n){"use strict";
/** @license React v0.13.4
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r=null,i=!1,o=3,s=-1,a=-1,l=!1,c=!1;function u(){if(!l){var e=r.expirationTime;c?k():c=!0,E(d,e)}}function h(){var e=r,t=r.next;if(r===t)r=null;else{var n=r.previous;r=n.next=t,t.previous=n}e.next=e.previous=null,n=e.callback,t=e.expirationTime,e=e.priorityLevel;var i=o,s=a;o=e,a=t;try{var l=n()}finally{o=i,a=s}if("function"==typeof l)if(l={callback:l,priorityLevel:e,expirationTime:t,next:null,previous:null},null===r)r=l.next=l.previous=l;else{n=null,e=r;do{if(e.expirationTime>=t){n=e;break}e=e.next}while(e!==r);null===n?n=r:n===r&&(r=l,u()),(t=n.previous).next=n.previous=l,l.next=n,l.previous=t}}function p(){if(-1===s&&null!==r&&1===r.priorityLevel){l=!0;try{do{h()}while(null!==r&&1===r.priorityLevel)}finally{l=!1,null!==r?u():c=!1}}}function d(e){l=!0;var n=i;i=e;try{if(e)for(;null!==r;){var o=t.unstable_now();if(!(r.expirationTime<=o))break;do{h()}while(null!==r&&r.expirationTime<=o)}else if(null!==r)do{h()}while(null!==r&&!x())}finally{l=!1,i=n,null!==r?u():c=!1,p()}}var f,m,g=Date,y="function"==typeof setTimeout?setTimeout:void 0,v="function"==typeof clearTimeout?clearTimeout:void 0,b="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,w="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function C(e){f=b((function(t){v(m),e(t)})),m=y((function(){w(f),e(t.unstable_now())}),100)}if("object"==typeof performance&&"function"==typeof performance.now){var S=performance;t.unstable_now=function(){return S.now()}}else t.unstable_now=function(){return g.now()};var E,k,x,D=null;if("undefined"!=typeof window?D=window:"undefined"!=typeof global&&(D=global),D&&D._schedMock){var _=D._schedMock;E=_[0],k=_[1],x=_[2],t.unstable_now=_[3]}else if("undefined"==typeof window||"function"!=typeof MessageChannel){var T=null,R=function(e){if(null!==T)try{T(e)}finally{T=null}};E=function(e){null!==T?setTimeout(E,0,e):(T=e,setTimeout(R,0,!1))},k=function(){T=null},x=function(){return!1}}else{"undefined"!=typeof console&&("function"!=typeof b&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof w&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var A=null,O=!1,P=-1,I=!1,M=!1,F=0,N=33,B=33;x=function(){return F<=t.unstable_now()};var L=new MessageChannel,H=L.port2;L.port1.onmessage=function(){O=!1;var e=A,n=P;A=null,P=-1;var r=t.unstable_now(),i=!1;if(0>=F-r){if(!(-1!==n&&n<=r))return I||(I=!0,C(U)),A=e,void(P=n);i=!0}if(null!==e){M=!0;try{e(i)}finally{M=!1}}};var U=function(e){if(null!==A){C(U);var t=e-F+B;t<B&&N<B?(8>t&&(t=8),B=t<N?N:t):N=t,F=e+B,O||(O=!0,H.postMessage(void 0))}else I=!1};E=function(e,t){A=e,P=t,M||0>t?H.postMessage(void 0):I||(I=!0,C(U))},k=function(){A=null,O=!1,P=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=o,i=s;o=e,s=t.unstable_now();try{return n()}finally{o=r,s=i,p()}},t.unstable_next=function(e){switch(o){case 1:case 2:case 3:var n=3;break;default:n=o}var r=o,i=s;o=n,s=t.unstable_now();try{return e()}finally{o=r,s=i,p()}},t.unstable_scheduleCallback=function(e,n){var i=-1!==s?s:t.unstable_now();if("object"==typeof n&&null!==n&&"number"==typeof n.timeout)n=i+n.timeout;else switch(o){case 1:n=i+-1;break;case 2:n=i+250;break;case 5:n=i+1073741823;break;case 4:n=i+1e4;break;default:n=i+5e3}if(e={callback:e,priorityLevel:o,expirationTime:n,next:null,previous:null},null===r)r=e.next=e.previous=e,u();else{i=null;var a=r;do{if(a.expirationTime>n){i=a;break}a=a.next}while(a!==r);null===i?i=r:i===r&&(r=e,u()),(n=i.previous).next=i.previous=e,e.next=i,e.previous=n}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)r=null;else{e===r&&(r=t);var n=e.previous;n.next=t,t.previous=n}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=o;return function(){var r=o,i=s;o=n,s=t.unstable_now();try{return e.apply(this,arguments)}finally{o=r,s=i,p()}}},t.unstable_getCurrentPriorityLevel=function(){return o},t.unstable_shouldYield=function(){return!i&&(null!==r&&r.expirationTime<a||x())},t.unstable_continueExecution=function(){null!==r&&u()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return r}},function(e,t,n){(function(){var t;t=n(116),e.exports=function(){function e(){this.clear()}return e.exceptionHandlers=[],e.onEventHandlerException=function(e){return 0===this.exceptionHandlers.length&&(this.dispatch=this.exceptionHandlingDispatch),this.exceptionHandlers.push(e),new t((n=this,function(){if(n.exceptionHandlers.splice(n.exceptionHandlers.indexOf(e),1),0===n.exceptionHandlers.length)return n.dispatch=n.simpleDispatch}));var n},e.simpleDispatch=function(e,t){return e(t)},e.exceptionHandlingDispatch=function(e,t){var n,r,i,o,s,a;try{return e(t)}catch(e){for(n=e,a=[],i=0,o=(s=this.exceptionHandlers).length;i<o;i++)r=s[i],a.push(r(n));return a}},e.dispatch=e.simpleDispatch,e.prototype.disposed=!1,e.prototype.clear=function(){return this.handlersByEventName={}},e.prototype.dispose=function(){return this.handlersByEventName=null,this.disposed=!0},e.prototype.on=function(e,n,r){var i;if(null==r&&(r=!1),this.disposed)throw new Error("Emitter has been disposed");if("function"!=typeof n)throw new Error("Handler must be a function");return(i=this.handlersByEventName[e])?this.handlersByEventName[e]=r?[n].concat(i):i.concat(n):this.handlersByEventName[e]=[n],new t(this.off.bind(this,e,n))},e.prototype.once=function(e,t,n){var r,i;return null==n&&(n=!1),i=function(e){return r.dispose(),t(e)},r=this.on(e,i,n)},e.prototype.preempt=function(e,t){return this.on(e,t,!0)},e.prototype.off=function(e,t){var n,r,i,o,s;if(!this.disposed&&(i=this.handlersByEventName[e])){for(r=[],o=0,s=i.length;o<s;o++)(n=i[o])!==t&&r.push(n);r.length>0?this.handlersByEventName[e]=r:delete this.handlersByEventName[e]}},e.prototype.emit=function(e,t){var n,r,i,o,s;if(r=null!=(s=this.handlersByEventName)?s[e]:void 0)for(i=0,o=r.length;i<o;i++)n=r[i],this.constructor.dispatch(n,t)},e.prototype.emitAsync=function(e,t){var n,r,i,o;return(r=null!=(o=this.handlersByEventName)?o[e]:void 0)?(i=function(){var e,i,o;for(o=[],e=0,i=r.length;e<i;e++)n=r[e],o.push(this.constructor.dispatch(n,t));return o}.call(this),Promise.all(i).then((function(){}))):Promise.resolve()},e.prototype.getEventNames=function(){return Object.keys(this.handlersByEventName)},e.prototype.listenerCountForEventName=function(e){var t,n;return null!=(t=null!=(n=this.handlersByEventName[e])?n.length:void 0)?t:0},e.prototype.getTotalListenerCount=function(){var e,t,n,r,i;for(t=0,n=0,r=(i=Object.keys(this.handlersByEventName)).length;n<r;n++)e=i[n],t+=this.handlersByEventName[e].length;return t},e}()}).call(this)},function(e,t,n){(function(){var t,r;t=null,e.exports=function(){function e(){var e,t,n;for(this.disposables=new Set,t=0,n=arguments.length;t<n;t++)e=arguments[t],this.add(e)}return e.prototype.disposed=!1,e.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposables.forEach((function(e){return e.dispose()})),this.disposables=null)},e.prototype.add=function(){var e,t,n;if(!this.disposed)for(t=0,n=arguments.length;t<n;t+=1)r(e=arguments[t]),this.disposables.add(e)},e.prototype.remove=function(e){this.disposed||this.disposables.delete(e)},e.prototype.delete=function(e){this.remove(e)},e.prototype.clear=function(){this.disposed||this.disposables.clear()},e}(),r=function(e){if(null==t&&(t=n(116)),!t.isDisposable(e))throw new TypeError("Arguments to CompositeDisposable.add must have a .dispose() method")}}).call(this)},function(e,t){var n,r=global.crypto||global.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]}},function(e,t,n){"use strict";const r=n(7),i=n(303),o=n(315);function s(e,t,n){const s=i(e,t,n),a=r.spawn(s.command,s.args,s.options);return o.hookChildProcess(a,s),a}e.exports=s,e.exports.spawn=s,e.exports.sync=function(e,t,n){const s=i(e,t,n),a=r.spawnSync(s.command,s.args,s.options);return a.error=a.error||o.verifyENOENTSync(a.status,s),a},e.exports._parse=i,e.exports._enoent=o},function(e,t,n){"use strict";n(1);const r=n(304),i=(n(305),n(310),n(311),n(314)),o=r(()=>i.satisfies(process.version,"^4.8.0 || ^5.7.0 || >= 6.0.0",!0))||!1;e.exports=function(e,t,n){t&&!Array.isArray(t)&&(n=t,t=null);const r={command:e,args:t=t?t.slice(0):[],options:n=Object.assign({},n),file:void 0,original:{command:e,args:t}};return n.shell?function(e){if(o)return e;const t=[e.command].concat(e.args).join(" ");return"string"==typeof e.options.shell?e.command=e.options.shell:e.command="/bin/sh",e.args=["-c",t],e}(r):r}},function(e,t,n){"use strict";e.exports=function(e){try{return e()}catch(e){}}},function(e,t,n){"use strict";const r=n(1),i=n(306),o=n(173)();function s(e,t){const n=process.cwd(),s=null!=e.options.cwd;if(s)try{process.chdir(e.options.cwd)}catch(e){}let a;try{a=i.sync(e.command,{path:(e.options.env||process.env)[o],pathExt:t?r.delimiter:void 0})}catch(e){}finally{process.chdir(n)}return a&&(a=r.resolve(s?e.options.cwd:"",a)),a}e.exports=function(e){return s(e)||s(e,!0)}},function(e,t,n){e.exports=c,c.sync=function(e,t){for(var n=l(e,t=t||{}),r=n.env,o=n.ext,c=n.extExe,u=[],h=0,p=r.length;h<p;h++){var d=r[h];'"'===d.charAt(0)&&'"'===d.slice(-1)&&(d=d.slice(1,-1));var f=i.join(d,e);!d&&/^\.[\\\/]/.test(e)&&(f=e.slice(0,2)+f);for(var m=0,g=o.length;m<g;m++){var y=f+o[m];try{if(s.sync(y,{pathExt:c})){if(!t.all)return y;u.push(y)}}catch(e){}}}if(t.all&&u.length)return u;if(t.nothrow)return null;throw a(e)};var r="cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,i=n(1),o=r?";":":",s=n(307);function a(e){var t=new Error("not found: "+e);return t.code="ENOENT",t}function l(e,t){var n=t.colon||o,i=t.path||process.env.PATH||"",s=[""];i=i.split(n);var a="";return r&&(i.unshift(process.cwd()),s=(a=t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM").split(n),-1!==e.indexOf(".")&&""!==s[0]&&s.unshift("")),(e.match(/\//)||r&&e.match(/\\/))&&(i=[""]),{env:i,ext:s,extExe:a}}function c(e,t,n){"function"==typeof t&&(n=t,t={});var r=l(e,t),o=r.env,c=r.ext,u=r.extExe,h=[];!function r(l,p){if(l===p)return t.all&&h.length?n(null,h):n(a(e));var d=o[l];'"'===d.charAt(0)&&'"'===d.slice(-1)&&(d=d.slice(1,-1));var f=i.join(d,e);!d&&/^\.[\\\/]/.test(e)&&(f=e.slice(0,2)+f),function e(i,o){if(i===o)return r(l+1,p);var a=c[i];s(f+a,{pathExt:u},(function(r,s){if(!r&&s){if(!t.all)return n(null,f+a);h.push(f+a)}return e(i+1,o)}))}(0,c.length)}(0,o.length)}},function(e,t,n){var r;n(8);function i(e,t,n){if("function"==typeof t&&(n=t,t={}),!n){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise((function(n,r){i(e,t||{},(function(e,t){e?r(e):n(t)}))}))}r(e,t||{},(function(e,r){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,r=!1),n(e,r)}))}r=global.TESTING_WINDOWS?n(308):n(309),e.exports=i,i.sync=function(e,t){try{return r.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}}},function(e,t,n){e.exports=o,o.sync=function(e,t){return i(r.statSync(e),e,t)};var r=n(8);function i(e,t,n){return!(!e.isSymbolicLink()&&!e.isFile())&&function(e,t){var n=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!n)return!0;if(-1!==(n=n.split(";")).indexOf(""))return!0;for(var r=0;r<n.length;r++){var i=n[r].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}(t,n)}function o(e,t,n){r.stat(e,(function(r,o){n(r,!r&&i(o,e,t))}))}},function(e,t,n){e.exports=i,i.sync=function(e,t){return o(r.statSync(e),t)};var r=n(8);function i(e,t,n){r.stat(e,(function(e,r){n(e,!e&&o(r,t))}))}function o(e,t){return e.isFile()&&function(e,t){var n=e.mode,r=e.uid,i=e.gid,o=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),s=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),l=parseInt("010",8),c=parseInt("001",8),u=a|l;return n&c||n&l&&i===s||n&a&&r===o||n&u&&0===o}(e,t)}},function(e,t,n){"use strict";const r=/([()\][%!^"`<>&|;, *?])/g;e.exports.command=function(e){return e=e.replace(r,"^$1")},e.exports.argument=function(e,t){return e=(e=`"${e=(e=(e=""+e).replace(/(\\*)"/g,'$1$1\\"')).replace(/(\\*)$/,"$1$1")}"`).replace(r,"^$1"),t&&(e=e.replace(r,"^$1")),e}},function(e,t,n){"use strict";const r=n(8),i=n(312);e.exports=function(e){let t,n;Buffer.alloc?t=Buffer.alloc(150):(t=new Buffer(150),t.fill(0));try{n=r.openSync(e,"r"),r.readSync(n,t,0,150,0),r.closeSync(n)}catch(e){}return i(t.toString())}},function(e,t,n){"use strict";var r=n(313);e.exports=function(e){var t=e.match(r);if(!t)return null;var n=t[0].replace(/#! ?/,"").split(" "),i=n[0].split("/").pop(),o=n[1];return"env"===i?o:i+(o?" "+o:"")}},function(e,t,n){"use strict";e.exports=/^#!.*/},function(e,t){var n;t=e.exports=V,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var r=Number.MAX_SAFE_INTEGER||9007199254740991,i=t.re=[],o=t.src=[],s=0,a=s++;o[a]="0|[1-9]\\d*";var l=s++;o[l]="[0-9]+";var c=s++;o[c]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var u=s++;o[u]="("+o[a]+")\\.("+o[a]+")\\.("+o[a]+")";var h=s++;o[h]="("+o[l]+")\\.("+o[l]+")\\.("+o[l]+")";var p=s++;o[p]="(?:"+o[a]+"|"+o[c]+")";var d=s++;o[d]="(?:"+o[l]+"|"+o[c]+")";var f=s++;o[f]="(?:-("+o[p]+"(?:\\."+o[p]+")*))";var m=s++;o[m]="(?:-?("+o[d]+"(?:\\."+o[d]+")*))";var g=s++;o[g]="[0-9A-Za-z-]+";var y=s++;o[y]="(?:\\+("+o[g]+"(?:\\."+o[g]+")*))";var v=s++,b="v?"+o[u]+o[f]+"?"+o[y]+"?";o[v]="^"+b+"$";var w="[v=\\s]*"+o[h]+o[m]+"?"+o[y]+"?",C=s++;o[C]="^"+w+"$";var S=s++;o[S]="((?:<|>)?=?)";var E=s++;o[E]=o[l]+"|x|X|\\*";var k=s++;o[k]=o[a]+"|x|X|\\*";var x=s++;o[x]="[v=\\s]*("+o[k]+")(?:\\.("+o[k]+")(?:\\.("+o[k]+")(?:"+o[f]+")?"+o[y]+"?)?)?";var D=s++;o[D]="[v=\\s]*("+o[E]+")(?:\\.("+o[E]+")(?:\\.("+o[E]+")(?:"+o[m]+")?"+o[y]+"?)?)?";var _=s++;o[_]="^"+o[S]+"\\s*"+o[x]+"$";var T=s++;o[T]="^"+o[S]+"\\s*"+o[D]+"$";var R=s++;o[R]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var A=s++;o[A]="(?:~>?)";var O=s++;o[O]="(\\s*)"+o[A]+"\\s+",i[O]=new RegExp(o[O],"g");var P=s++;o[P]="^"+o[A]+o[x]+"$";var I=s++;o[I]="^"+o[A]+o[D]+"$";var M=s++;o[M]="(?:\\^)";var F=s++;o[F]="(\\s*)"+o[M]+"\\s+",i[F]=new RegExp(o[F],"g");var N=s++;o[N]="^"+o[M]+o[x]+"$";var B=s++;o[B]="^"+o[M]+o[D]+"$";var L=s++;o[L]="^"+o[S]+"\\s*("+w+")$|^$";var H=s++;o[H]="^"+o[S]+"\\s*("+b+")$|^$";var U=s++;o[U]="(\\s*)"+o[S]+"\\s*("+w+"|"+o[x]+")",i[U]=new RegExp(o[U],"g");var j=s++;o[j]="^\\s*("+o[x]+")\\s+-\\s+("+o[x]+")\\s*$";var W=s++;o[W]="^\\s*("+o[D]+")\\s+-\\s+("+o[D]+")\\s*$";var z=s++;o[z]="(<|>)?=?\\s*\\*";for(var G=0;G<35;G++)n(G,o[G]),i[G]||(i[G]=new RegExp(o[G]));function q(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof V)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?i[C]:i[v]).test(e))return null;try{return new V(e,t)}catch(e){return null}}function V(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof V){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof V))return new V(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?i[C]:i[v]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<r)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}t.parse=q,t.valid=function(e,t){var n=q(e,t);return n?n.version:null},t.clean=function(e,t){var n=q(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},t.SemVer=V,V.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},V.prototype.toString=function(){return this.version},V.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof V||(e=new V(e,this.options)),this.compareMain(e)||this.comparePre(e)},V.prototype.compareMain=function(e){return e instanceof V||(e=new V(e,this.options)),K(this.major,e.major)||K(this.minor,e.minor)||K(this.patch,e.patch)},V.prototype.comparePre=function(e){if(e instanceof V||(e=new V(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return K(r,i)}while(++t)},V.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new V(e,n).inc(t,r).version}catch(e){return null}},t.diff=function(e,t){if(Q(e,t))return null;var n=q(e),r=q(t),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if(("major"===s||"minor"===s||"patch"===s)&&n[s]!==r[s])return i+s;return o},t.compareIdentifiers=K;var $=/^[0-9]+$/;function K(e,t){var n=$.test(e),r=$.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function Y(e,t,n){return new V(e,n).compare(new V(t,n))}function Z(e,t,n){return Y(e,t,n)>0}function X(e,t,n){return Y(e,t,n)<0}function Q(e,t,n){return 0===Y(e,t,n)}function J(e,t,n){return 0!==Y(e,t,n)}function ee(e,t,n){return Y(e,t,n)>=0}function te(e,t,n){return Y(e,t,n)<=0}function ne(e,t,n,r){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return Q(e,n,r);case"!=":return J(e,n,r);case">":return Z(e,n,r);case">=":return ee(e,n,r);case"<":return X(e,n,r);case"<=":return te(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}function re(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof re){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof re))return new re(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ie?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}t.rcompareIdentifiers=function(e,t){return K(t,e)},t.major=function(e,t){return new V(e,t).major},t.minor=function(e,t){return new V(e,t).minor},t.patch=function(e,t){return new V(e,t).patch},t.compare=Y,t.compareLoose=function(e,t){return Y(e,t,!0)},t.rcompare=function(e,t,n){return Y(t,e,n)},t.sort=function(e,n){return e.sort((function(e,r){return t.compare(e,r,n)}))},t.rsort=function(e,n){return e.sort((function(e,r){return t.rcompare(e,r,n)}))},t.gt=Z,t.lt=X,t.eq=Q,t.neq=J,t.gte=ee,t.lte=te,t.cmp=ne,t.Comparator=re;var ie={};function oe(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof re)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,n,r,i,o,s,a,l,c,u,h,p){return((t=se(n)?"":se(r)?">="+n+".0.0":se(i)?">="+n+"."+r+".0":">="+t)+" "+(a=se(l)?"":se(c)?"<"+(+l+1)+".0.0":se(u)?"<"+l+"."+(+c+1)+".0":h?"<="+l+"."+c+"."+u+"-"+h:"<="+a)).trim()}function le(e,t,r){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(i=0;i<e.length;i++)if(n(e[i].semver),e[i].semver!==ie&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function ce(e,t,n){try{t=new oe(t,n)}catch(e){return!1}return t.test(e)}function ue(e,t,n,r){var i,o,s,a,l;switch(e=new V(e,r),t=new oe(t,r),n){case">":i=Z,o=te,s=X,a=">",l=">=";break;case"<":i=X,o=ee,s=Z,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ce(e,t,r))return!1;for(var c=0;c<t.set.length;++c){var u=t.set[c],h=null,p=null;if(u.forEach((function(e){e.semver===ie&&(e=new re(">=0.0.0")),h=h||e,p=p||e,i(e.semver,h.semver,r)?h=e:s(e.semver,p.semver,r)&&(p=e)})),h.operator===a||h.operator===l)return!1;if((!p.operator||p.operator===a)&&o(e,p.semver))return!1;if(p.operator===l&&s(e,p.semver))return!1}return!0}re.prototype.parse=function(e){var t=this.options.loose?i[L]:i[H],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new V(n[2],this.options.loose):this.semver=ie},re.prototype.toString=function(){return this.value},re.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===ie||("string"==typeof e&&(e=new V(e,this.options)),ne(e,this.operator,this.semver,this.options))},re.prototype.intersects=function(e,t){if(!(e instanceof re))throw new TypeError("a Comparator is required");var n;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new oe(e.value,t),ce(this.value,n,t);if(""===e.operator)return n=new oe(this.value,t),ce(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=ne(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),l=ne(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||o&&s||a||l},t.Range=oe,oe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?i[W]:i[j];e=e.replace(r,ae),n("hyphen replace",e),e=e.replace(i[U],"$1$2$3"),n("comparator trim",e,i[U]),e=(e=(e=e.replace(i[O],"$1~")).replace(i[F],"$1^")).split(/\s+/).join(" ");var o=t?i[L]:i[H],s=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t);var r=t.loose?i[B]:i[N];return e.replace(r,(function(t,r,i,o,s){var a;return n("caret",e,t,r,i,o,s),se(r)?a="":se(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":se(o)?a="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":s?(n("replaceCaret pr",s),a="0"===r?"0"===i?">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+"-"+s+" <"+(+r+1)+".0.0"):(n("no pr"),a="0"===r?"0"===i?">="+r+"."+i+"."+o+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+" <"+(+r+1)+".0.0"),n("caret return",a),a}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var r=t.loose?i[I]:i[P];return e.replace(r,(function(t,r,i,o,s){var a;return n("tilde",e,t,r,i,o,s),se(r)?a="":se(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":se(o)?a=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":s?(n("replaceTilde pr",s),a=">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0"):a=">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0",n("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var r=t.loose?i[T]:i[_];return e.replace(r,(function(t,r,i,o,s,a){n("xRange",e,t,r,i,o,s,a);var l=se(i),c=l||se(o),u=c||se(s);return"="===r&&u&&(r=""),l?t=">"===r||"<"===r?"<0.0.0":"*":r&&u?(c&&(o=0),s=0,">"===r?(r=">=",c?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===r&&(r="<",c?i=+i+1:o=+o+1),t=r+i+"."+o+"."+s):c?t=">="+i+".0.0 <"+(+i+1)+".0.0":u&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),n("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(i[z],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(o)}))),s=s.map((function(e){return new re(e,this.options)}),this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return e.set.some((function(e){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new oe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},oe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new V(e,this.options));for(var t=0;t<this.set.length;t++)if(le(this.set[t],e,this.options))return!0;return!1},t.satisfies=ce,t.maxSatisfying=function(e,t,n){var r=null,i=null;try{var o=new oe(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(r&&-1!==i.compare(e)||(i=new V(r=e,n)))})),r},t.minSatisfying=function(e,t,n){var r=null,i=null;try{var o=new oe(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(r&&1!==i.compare(e)||(i=new V(r=e,n)))})),r},t.minVersion=function(e,t){e=new oe(e,t);var n=new V("0.0.0");if(e.test(n))return n;if(n=new V("0.0.0-0"),e.test(n))return n;n=null;for(var r=0;r<e.set.length;++r){e.set[r].forEach((function(e){var t=new V(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!Z(n,t)||(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}if(n&&e.test(n))return n;return null},t.validRange=function(e,t){try{return new oe(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,n){return ue(e,t,"<",n)},t.gtr=function(e,t,n){return ue(e,t,">",n)},t.outside=ue,t.prerelease=function(e,t){var n=q(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new oe(e,n),t=new oe(t,n),e.intersects(t)},t.coerce=function(e){if(e instanceof V)return e;if("string"!=typeof e)return null;var t=e.match(i[R]);if(null==t)return null;return q(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}},function(e,t,n){"use strict";function r(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function i(e,t){return null}e.exports={hookChildProcess:function(e,t){},verifyENOENT:i,verifyENOENTSync:function(e,t){return null},notFoundError:r}},function(e,t,n){"use strict";e.exports=function(e){var t="string"==typeof e?"\n":"\n".charCodeAt(),n="string"==typeof e?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===n&&(e=e.slice(0,e.length-1)),e}},function(e,t,n){"use strict";const r=n(1),i=n(173);e.exports=e=>{let t;e=Object.assign({cwd:process.cwd(),path:process.env[i()]},e);let n=r.resolve(e.cwd);const o=[];for(;t!==n;)o.push(r.join(n,"node_modules/.bin")),t=n,n=r.resolve(n,"..");return o.push(r.dirname(process.execPath)),o.concat(e.path).join(r.delimiter)},e.exports.env=t=>{t=Object.assign({env:process.env},t);const n=Object.assign({},t.env),r=i({env:n});return t.path=n[r],n[r]=e.exports(t),n}},function(e,t,n){"use strict";var r=e.exports=function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.pipe};r.writable=function(e){return r(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState},r.readable=function(e){return r(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState},r.duplex=function(e){return r.writable(e)&&r.readable(e)},r.transform=function(e){return r.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState}},function(e,t,n){"use strict";const r=n(320),i=n(323);class o extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}function s(e,t){if(!e)return Promise.reject(new Error("Expected a stream"));t=Object.assign({maxBuffer:1/0},t);const{maxBuffer:n}=t;let s;return new Promise((a,l)=>{const c=e=>{e&&(e.bufferedData=s.getBufferedValue()),l(e)};s=r(e,i(t),e=>{e?c(e):a()}),s.on("data",()=>{s.getBufferedLength()>n&&c(new o)})}).then(()=>s.getBufferedValue())}e.exports=s,e.exports.buffer=(e,t)=>s(e,Object.assign({},t,{encoding:"buffer"})),e.exports.array=(e,t)=>s(e,Object.assign({},t,{array:!0})),e.exports.MaxBufferError=o},function(e,t,n){var r=n(174),i=n(322),o=n(8),s=function(){},a=/^v?\.0/.test(process.version),l=function(e){return"function"==typeof e},c=function(e,t,n,c){c=r(c);var u=!1;e.on("close",(function(){u=!0})),i(e,{readable:t,writable:n},(function(e){if(e)return c(e);u=!0,c()}));var h=!1;return function(t){if(!u&&!h)return h=!0,function(e){return!!a&&(!!o&&((e instanceof(o.ReadStream||s)||e instanceof(o.WriteStream||s))&&l(e.close)))}(e)?e.close(s):function(e){return e.setHeader&&l(e.abort)}(e)?e.abort():l(e.destroy)?e.destroy():void c(t||new Error("stream was destroyed"))}},u=function(e){e()},h=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),n=l(t[t.length-1]||s)&&t.pop()||s;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r=t.map((function(i,o){var s=o<t.length-1;return c(i,s,o>0,(function(t){e||(e=t),t&&r.forEach(u),s||(r.forEach(u),n(e))}))}));return t.reduce(h)}},function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){r[e]=t[e]})),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach((function(e){r[e]=i[e]})),r}}},function(e,t,n){var r=n(174),i=function(){},o=function(e,t,n){if("function"==typeof t)return o(e,null,t);t||(t={}),n=r(n||i);var s=e._writableState,a=e._readableState,l=t.readable||!1!==t.readable&&e.readable,c=t.writable||!1!==t.writable&&e.writable,u=function(){e.writable||h()},h=function(){c=!1,l||n.call(e)},p=function(){l=!1,c||n.call(e)},d=function(t){n.call(e,t?new Error("exited with error code: "+t):null)},f=function(t){n.call(e,t)},m=function(){return(!l||a&&a.ended)&&(!c||s&&s.ended)?void 0:n.call(e,new Error("premature close"))},g=function(){e.req.on("finish",h)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?c&&!s&&(e.on("end",u),e.on("close",u)):(e.on("complete",h),e.on("abort",m),e.req?g():e.on("request",g)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",d),e.on("end",p),e.on("finish",h),!1!==t.error&&e.on("error",f),e.on("close",m),function(){e.removeListener("complete",h),e.removeListener("abort",m),e.removeListener("request",g),e.req&&e.req.removeListener("finish",h),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",h),e.removeListener("exit",d),e.removeListener("end",p),e.removeListener("error",f),e.removeListener("close",m)}};e.exports=o},function(e,t,n){"use strict";const{PassThrough:r}=n(70);e.exports=e=>{e=Object.assign({},e);const{array:t}=e;let{encoding:n}=e;const i="buffer"===n;let o=!1;t?o=!(n||i):n=n||"utf8",i&&(n=null);let s=0;const a=[],l=new r({objectMode:o});return n&&l.setEncoding(n),l.on("data",e=>{a.push(e),o?s=a.length:s+=e.length}),l.getBufferedValue=()=>t?a:i?Buffer.concat(a,s):a.join(""),l.getBufferedLength=()=>s,l}},function(e,t,n){"use strict";e.exports=(e,t)=>(t=t||(()=>{}),e.then(e=>new Promise(e=>{e(t())}).then(()=>e),e=>new Promise(e=>{e(t())}).then(()=>{throw e})))},function(e,t,n){var r,i=n(71),o=n(326),s=n(86);function a(){u&&(u=!1,o.forEach((function(e){try{process.removeListener(e,c[e])}catch(e){}})),process.emit=f,process.reallyExit=p,r.count-=1)}function l(e,t,n){r.emitted[e]||(r.emitted[e]=!0,r.emit(e,t,n))}"function"!=typeof s&&(s=s.EventEmitter),process.__signal_exit_emitter__?r=process.__signal_exit_emitter__:((r=process.__signal_exit_emitter__=new s).count=0,r.emitted={}),r.infinite||(r.setMaxListeners(1/0),r.infinite=!0),e.exports=function(e,t){i.equal(typeof e,"function","a callback must be provided for exit handler"),!1===u&&h();var n="exit";t&&t.alwaysLast&&(n="afterexit");return r.on(n,e),function(){r.removeListener(n,e),0===r.listeners("exit").length&&0===r.listeners("afterexit").length&&a()}},e.exports.unload=a;var c={};o.forEach((function(e){c[e]=function(){process.listeners(e).length===r.count&&(a(),l("exit",null,e),l("afterexit",null,e),process.kill(process.pid,e))}})),e.exports.signals=function(){return o},e.exports.load=h;var u=!1;function h(){u||(u=!0,r.count+=1,o=o.filter((function(e){try{return process.on(e,c[e]),!0}catch(e){return!1}})),process.emit=m,process.reallyExit=d)}var p=process.reallyExit;function d(e){process.exitCode=e||0,l("exit",process.exitCode,null),l("afterexit",process.exitCode,null),p.call(process,process.exitCode)}var f=process.emit;function m(e,t){if("exit"===e){void 0!==t&&(process.exitCode=t);var n=f.apply(this,arguments);return l("exit",process.exitCode,null),l("afterexit",process.exitCode,null),n}return f.apply(this,arguments)}},function(e,t,n){e.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],e.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT")},function(e,t,n){"use strict";const r=n(33);let i;if("function"==typeof r.getSystemErrorName)e.exports=r.getSystemErrorName;else{try{if(i=process.binding("uv"),"function"!=typeof i.errname)throw new TypeError("uv.errname is not a function")}catch(e){console.error("execa/lib/errname: unable to establish process.binding('uv')",e),i=null}e.exports=e=>o(i,e)}function o(e,t){if(e)return e.errname(t);if(!(t<0))throw new Error("err >= 0");return"Unknown system error "+t}e.exports.__test__=o},function(e,t,n){"use strict";const r=["stdin","stdout","stderr"];e.exports=e=>{if(!e)return null;if(e.stdio&&(e=>r.some(t=>Boolean(e[t])))(e))throw new Error("It's not possible to provide `stdio` in combination with one of "+r.map(e=>`\`${e}\``).join(", "));if("string"==typeof e.stdio)return e.stdio;const t=e.stdio||[];if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);const n=[],i=Math.max(t.length,r.length);for(let o=0;o<i;o++){let i=null;void 0!==t[o]?i=t[o]:void 0!==e[r[o]]&&(i=e[r[o]]),n[o]=i}return n}},function(e,t,n){"use strict";const r=(e,t)=>{for(const n of Reflect.ownKeys(t))Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n));return e};e.exports=r,e.exports.default=r},function(e,t,n){"use strict";const r=e=>e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch;e.exports=r,e.exports.default=r},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(332));function s(e,t="maxAge"){let n,i,s;const a=()=>r(this,void 0,void 0,(function*(){if(void 0!==n)return;const a=a=>r(this,void 0,void 0,(function*(){s=o.default();const r=a[1][t]-Date.now();return r<=0?(e.delete(a[0]),void s.resolve()):(n=a[0],i=setTimeout(()=>{e.delete(a[0]),s&&s.resolve()},r),"function"==typeof i.unref&&i.unref(),s.promise)}));try{for(const t of e)yield a(t)}catch(e){}n=void 0})),l=e.set.bind(e);return e.set=(t,r)=>{e.has(t)&&e.delete(t);const o=l(t,r);return n&&n===t&&(n=void 0,void 0!==i&&(clearTimeout(i),i=void 0),void 0!==s&&(s.reject(void 0),s=void 0)),a(),o},a(),e}t.default=s,e.exports=s,e.exports.default=s},function(e,t,n){"use strict";e.exports=()=>{const e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(8),o=n(334),s=n(7),a=n(175),l=n(335);class c{static pathExists(e){try{return i.accessSync(e,i.F_OK),!0}catch(e){return!1}}static spawn(e,t,n){let r={};n&&n.env&&(r=n.env);const{env:i,gitLocation:o}=l.setupEnvironment(r),a={env:i,cwd:t},c=s.spawn(o,e,a);return u(c),c}static exec(e,t,n){return this.execTask(e,t,n).result}static execTask(e,t,n){let r;const i=new Promise((function(e){r=e}));let o=new p(new Promise((function(i,h){let p={};n&&n.env&&(p=n.env);const{env:d,gitLocation:f}=l.setupEnvironment(p),m={cwd:t,encoding:"utf8",maxBuffer:n?n.maxBuffer:10485760,env:d},g=s.execFile(f,e,m,(function(e,n,r){if(o.updateProcessEnded(),!e)return void i({stdout:n,stderr:r,exitCode:0});let s=e.code;if("string"!=typeof s)"number"!=typeof s?"stdout maxBuffer exceeded"===e.message?h(new Error(`The output from the command could not fit into the allocated stdout buffer. Set options.maxBuffer to a larger value than ${m.maxBuffer} bytes`)):h(e):i({stdout:n,stderr:r,exitCode:s});else if("ENOENT"===s){let n=e.message;!1===c.pathExists(t)?(n="Unable to find path to repository on disk.",s=a.RepositoryDoesNotExistErrorCode):(n=`Git could not be found at the expected path: '${f}'. This might be a problem with how the application is packaged, so confirm this folder hasn't been removed when packaging.`,s=a.GitNotFoundErrorCode);const r=new Error(n);r.name=e.name,r.code=s,h(r)}else h(e)}));r(g.pid),u(g),n&&void 0!==n.stdin&&g.stdin.end(n.stdin,n.stdinEncoding),n&&n.processCallback&&n.processCallback(g)})),i);return o}static parseError(e){for(const[t,n]of Object.entries(a.GitErrorRegexes))if(e.match(t))return n;return null}}function u(e){e.stdin&&e.stdin.on("error",t=>{const n=t.code;if("EPIPE"!==n&&"EOF"!==n&&"ECONNRESET"!==n&&e.stdin.listeners("error").length<=1)throw t})}var h;t.GitProcess=c,function(e){e[e.successfulCancel=0]="successfulCancel",e[e.processAlreadyEnded=1]="processAlreadyEnded",e[e.noProcessIdDefined=2]="noProcessIdDefined",e[e.failedToCancel=3]="failedToCancel"}(h=t.GitTaskCancelResult||(t.GitTaskCancelResult={}));class p{constructor(e,t){this.result=e,this.pid=t,this.processEnded=!1}updateProcessEnded(){this.processEnded=!0}cancel(){return r(this,void 0,void 0,(function*(){if(this.processEnded)return h.processAlreadyEnded;const e=yield this.pid;if(void 0===e)return h.noProcessIdDefined;try{return o.kill(e),h.successfulCancel}catch(e){}return h.failedToCancel}))}}},function(e,t){e.exports=require("process")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);function i(){return null!=process.env.LOCAL_GIT_DIRECTORY?r.resolve(process.env.LOCAL_GIT_DIRECTORY):function(){{const e=r.sep;return r.resolve(__dirname,"..","..","git").replace(/[\\\/]app.asar[\\\/]/,`${e}app.asar.unpacked${e}`)}}()}function o(){if(null!=process.env.GIT_EXEC_PATH)return r.resolve(process.env.GIT_EXEC_PATH);const e=i();return r.join(e,"libexec","git-core")}t.setupEnvironment=function(e){const t=function(){const e=i();return r.join(e,"bin","git")}();let n=process.env.PATH||"";const s=i(),a=Object.assign({},process.env,{GIT_EXEC_PATH:o(),PATH:n},e);{const e=s+"/share/git-core/templates";a.GIT_TEMPLATE_DIR=e}return{env:a,gitLocation:t}}},function(e,t,n){(t=e.exports=n(176)).Stream=t,t.Readable=t,t.Writable=n(180),t.Duplex=n(50),t.Transform=n(182),t.PassThrough=n(342),t.finished=n(117),t.pipeline=n(343)},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=n(87).Buffer,a=n(33).inspect,l=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,c;return t=e,(n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,n,r,i=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,n=i,r=a,s.prototype.copy.call(t,n,r),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0==(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:l,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,n),c&&o(t,c),e}()},function(e,t){function n(e){try{if(!global.localStorage)return!1}catch(e){return!1}var t=global.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},function(e,t,n){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var r=n(87),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(117),s=Symbol("lastResolve"),a=Symbol("lastReject"),l=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),h=Symbol("handlePromise"),p=Symbol("stream");function d(e,t){return{value:e,done:t}}function f(e){var t=e[s];if(null!==t){var n=e[p].read();null!==n&&(e[u]=null,e[s]=null,e[a]=null,t(d(n,!1)))}}function m(e){process.nextTick(f,e)}var g=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((i(r={get stream(){return this[p]},next:function(){var e=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(d(void 0,!0));if(this[p].destroyed)return new Promise((function(t,n){process.nextTick((function(){e[l]?n(e[l]):t(d(void 0,!0))}))}));var n,r=this[u];if(r)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[c]?n(d(void 0,!0)):t[h](n,r)}),r)}}(r,this));else{var i=this[p].read();if(null!==i)return Promise.resolve(d(i,!1));n=new Promise(this[h])}return this[u]=n,n}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[p].destroy(null,(function(e){e?n(e):t(d(void 0,!0))}))}))})),r),g);e.exports=function(e){var t,n=Object.create(y,(i(t={},p,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,l,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,h,{value:function(e,t){var r=n[p].read();r?(n[u]=null,n[s]=null,n[a]=null,e(d(r,!1))):(n[s]=e,n[a]=t)},writable:!0}),t));return n[u]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[a];return null!==t&&(n[u]=null,n[s]=null,n[a]=null,t(e)),void(n[l]=e)}var r=n[s];null!==r&&(n[u]=null,n[s]=null,n[a]=null,r(d(void 0,!0))),n[c]=!0})),e.on("readable",m.bind(null,n)),n}},function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,n){"use strict";e.exports=i;var r=n(182);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(57)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";var r;var i=n(49).codes,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function l(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===r&&(r=n(117)),r(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var l=!1;return function(t){if(!a&&!l)return l=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}function c(e){e()}function u(e,t){return e.pipe(t)}function h(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=h(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var s=t.map((function(e,n){var o=n<t.length-1;return l(e,o,n>0,(function(e){r||(r=e),e&&s.forEach(c),o||(s.forEach(c),i(r))}))}));return t.reduce(u)}},function(e,t){e.exports=require("string_decoder")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setValueSafe=t.setValue=t.createKeySafe=t.createKey=t.enumerateKeysSafe=t.enumerateKeys=t.enumerateValuesSafe=t.enumerateValues=t.HKEY=t.RegistryValueType=void 0;const r=null;var i,o;function s(e){return e===o.HKEY_CLASSES_ROOT?2147483648:e===o.HKEY_CURRENT_USER?2147483649:e===o.HKEY_LOCAL_MACHINE?2147483650:e===o.HKEY_USERS?2147483651:e===o.HKEY_PERFORMANCE_DATA?2147483652:e===o.HKEY_CURRENT_CONFIG?2147483653:e===o.HKEY_DYN_DATA?2147483654:e===o.HKEY_CURRENT_USER_LOCAL_SETTINGS?2147483655:e===o.HKEY_PERFORMANCE_TEXT?2147483728:e===o.HKEY_PERFORMANCE_NLSTEXT?2147483744:function(e,t){throw new Error(t)}(0,"The key does not map to an expected number value")}function a(e,t){if(!r)return[];const n=s(e);return r.readValues(n,t)}function l(e,t){if(!r)return[];const n=s(e);return r.enumKeys(n,t)}function c(e,t){if(!r)return!1;const n=s(e);return r.createKey(n,t)}function u(e,t,n,o,a){if(!r)return!1;if(o!=i.REG_SZ&&o!=i.REG_DWORD)return!1;const l=s(e);return r.setValue(l,t,n,o,a)}!function(e){e.REG_BINARY="REG_BINARY",e.REG_DWORD="REG_DWORD",e.REG_DWORD_LITTLE_ENDIAN="REG_DWORD_LITTLE_ENDIAN",e.REG_DWORD_BIG_ENDIAN="REG_DWORD_BIG_ENDIAN",e.REG_EXPAND_SZ="REG_EXPAND_SZ",e.REG_LINK="REG_LINK",e.REG_MULTI_SZ="REG_MULTI_SZ",e.REG_NONE="REG_NONE",e.REG_QWORD="REG_QWORD",e.REG_QWORD_LITTLE_ENDIAN="REG_QWORD_LITTLE_ENDIAN",e.REG_SZ="REG_SZ"}(i=t.RegistryValueType||(t.RegistryValueType={})),function(e){e.HKEY_CLASSES_ROOT="HKEY_CLASSES_ROOT",e.HKEY_CURRENT_CONFIG="HKEY_CURRENT_CONFIG",e.HKEY_DYN_DATA="HKEY_DYN_DATA",e.HKEY_CURRENT_USER_LOCAL_SETTINGS="HKEY_CURRENT_USER_LOCAL_SETTINGS",e.HKEY_CURRENT_USER="HKEY_CURRENT_USER",e.HKEY_LOCAL_MACHINE="HKEY_LOCAL_MACHINE",e.HKEY_PERFORMANCE_DATA="HKEY_PERFORMANCE_DATA",e.HKEY_PERFORMANCE_TEXT="HKEY_PERFORMANCE_TEXT",e.HKEY_PERFORMANCE_NLSTEXT="HKEY_PERFORMANCE_NLSTEXT",e.HKEY_USERS="HKEY_USERS"}(o=t.HKEY||(t.HKEY={})),t.enumerateValues=a,t.enumerateValuesSafe=function(e,t){try{return a(e,t)}catch(e){return[]}},t.enumerateKeys=l,t.enumerateKeysSafe=function(e,t){try{return l(e,t)}catch(e){return[]}},t.createKey=c,t.createKeySafe=function(e,t){try{return c(e,t)}catch(e){return!1}},t.setValue=u,t.setValueSafe=function(e,t,n,r,i){try{return u(e,t,n,r,i)}catch(e){return!1}}},function(e,t,n){(function(e){const t=n(1).join(__dirname,"keytar.node");try{global.process.dlopen(e,t)}catch(e){throw new Error("Cannot open "+t+": "+e)}}).call(this,n(34)(e))},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function i(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?r:i).supported=r,t.unsupported=i},function(e,t){e.exports=require("timers")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DesktopNotification=t.terminateNotifications=t.initializeNotifications=t.supportsNotifications=void 0;const r=n(65),i=n(539);n(22);function o(){return!1}t.supportsNotifications=o;let s=void 0;function a(){return void 0!==s||(s=null),s}t.initializeNotifications=function(e){var t;null===(t=a())||void 0===t||t.initializeNotifications(e,c)},t.terminateNotifications=function(){var e;null===(e=a())||void 0===e||e.terminateNotifications()};const l=new r.default({maxSize:200});function c(e,t){var n;const r=l.get(t);void 0!==r&&"click"===e&&(null===(n=r.onclick)||void 0===n||n.call(r))}t.DesktopNotification=class{constructor(e,t){this.title=e,this.body=t,this.id=i.v4()}show(){var e,t,n,r;l.set(this.id,this),e=this.id,t=this.title,n=this.body,null===(r=a())||void 0===r||r.showNotification(e,t,n)}close(){var e,t;l.delete(this.id),e=this.id,null===(t=a())||void 0===t||t.closeNotification(e)}}},function(e,t,n){(function(e){const t=n(1).join(__dirname,"desktop-notifications.node");try{global.process.dlopen(e,t)}catch(e){throw new Error("Cannot open "+t+": "+e)}}).call(this,n(34)(e))},function(e,t,n){"use strict";var r=n(353);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){n(355),e.exports=n(25).Object.assign},function(e,t,n){var r=n(41);r(r.S+r.F,"Object",{assign:n(357)})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var r=n(60),i=n(124),o=n(90),s=n(91),a=n(187),l=Object.assign;e.exports=!l||n(52)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r}))?function(e,t){for(var n=s(e),l=arguments.length,c=1,u=i.f,h=o.f;l>c;)for(var p,d=a(arguments[c++]),f=u?r(d).concat(u(d)):r(d),m=f.length,g=0;m>g;)h.call(d,p=f[g++])&&(n[p]=d[p]);return n}:l},function(e,t,n){var r=n(45),i=n(359),o=n(360);e.exports=function(e){return function(t,n,s){var a,l=r(t),c=i(l.length),u=o(s,c);if(e&&n!=n){for(;c>u;)if((a=l[u++])!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(120),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(120),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){n(362),e.exports=n(25).Object.getPrototypeOf},function(e,t,n){var r=n(91),i=n(189);n(125)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},function(e,t,n){e.exports={default:n(364),__esModule:!0}},function(e,t,n){n(365);var r=n(25).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(41);r(r.S+r.F*!n(43),"Object",{defineProperty:n(42).f})},function(e,t,n){e.exports={default:n(367),__esModule:!0}},function(e,t,n){n(368),n(373),e.exports=n(130).f("iterator")},function(e,t,n){"use strict";var r=n(369)(!0);n(191)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(120),i=n(119);e.exports=function(e){return function(t,n){var o,s,a=String(i(t)),l=r(n),c=a.length;return l<0||l>=c?e?"":void 0:(o=a.charCodeAt(l))<55296||o>56319||l+1===c||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):o:e?a.slice(l,l+2):s-56320+(o-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(128),i=n(88),o=n(129),s={};n(51)(s,n(53)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(s,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(42),i=n(58),o=n(60);e.exports=n(43)?Object.defineProperties:function(e,t){i(e);for(var n,s=o(t),a=s.length,l=0;a>l;)r.f(e,n=s[l++],t[n]);return e}},function(e,t,n){var r=n(35).document;e.exports=r&&r.documentElement},function(e,t,n){n(374);for(var r=n(35),i=n(51),o=n(127),s=n(53)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<a.length;l++){var c=a[l],u=r[c],h=u&&u.prototype;h&&!h[s]&&i(h,s,c),o[c]=o.Array}},function(e,t,n){"use strict";var r=n(375),i=n(376),o=n(127),s=n(45);e.exports=n(191)(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(378),__esModule:!0}},function(e,t,n){n(379),n(384),n(385),n(386),e.exports=n(25).Symbol},function(e,t,n){"use strict";var r=n(35),i=n(44),o=n(43),s=n(41),a=n(192),l=n(380).KEY,c=n(52),u=n(122),h=n(129),p=n(89),d=n(53),f=n(130),m=n(131),g=n(381),y=n(382),v=n(58),b=n(45),w=n(118),C=n(88),S=n(128),E=n(383),k=n(132),x=n(42),D=n(60),_=k.f,T=x.f,R=E.f,A=r.Symbol,O=r.JSON,P=O&&O.stringify,I=d("_hidden"),M=d("toPrimitive"),F={}.propertyIsEnumerable,N=u("symbol-registry"),B=u("symbols"),L=u("op-symbols"),H=Object.prototype,U="function"==typeof A,j=r.QObject,W=!j||!j.prototype||!j.prototype.findChild,z=o&&c((function(){return 7!=S(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=_(H,t);r&&delete H[t],T(e,t,n),r&&e!==H&&T(H,t,r)}:T,G=function(e){var t=B[e]=S(A.prototype);return t._k=e,t},q=U&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},V=function(e,t,n){return e===H&&V(L,t,n),v(e),t=w(t,!0),v(n),i(B,t)?(n.enumerable?(i(e,I)&&e[I][t]&&(e[I][t]=!1),n=S(n,{enumerable:C(0,!1)})):(i(e,I)||T(e,I,C(1,{})),e[I][t]=!0),z(e,t,n)):T(e,t,n)},$=function(e,t){v(e);for(var n,r=g(t=b(t)),i=0,o=r.length;o>i;)V(e,n=r[i++],t[n]);return e},K=function(e){var t=F.call(this,e=w(e,!0));return!(this===H&&i(B,e)&&!i(L,e))&&(!(t||!i(this,e)||!i(B,e)||i(this,I)&&this[I][e])||t)},Y=function(e,t){if(e=b(e),t=w(t,!0),e!==H||!i(B,t)||i(L,t)){var n=_(e,t);return!n||!i(B,t)||i(e,I)&&e[I][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=R(b(e)),r=[],o=0;n.length>o;)i(B,t=n[o++])||t==I||t==l||r.push(t);return r},X=function(e){for(var t,n=e===H,r=R(n?L:b(e)),o=[],s=0;r.length>s;)!i(B,t=r[s++])||n&&!i(H,t)||o.push(B[t]);return o};U||(a((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===H&&t.call(L,n),i(this,I)&&i(this[I],e)&&(this[I][e]=!1),z(this,e,C(1,n))};return o&&W&&z(H,e,{configurable:!0,set:t}),G(e)}).prototype,"toString",(function(){return this._k})),k.f=Y,x.f=V,n(193).f=E.f=Z,n(90).f=K,n(124).f=X,o&&!n(126)&&a(H,"propertyIsEnumerable",K,!0),f.f=function(e){return G(d(e))}),s(s.G+s.W+s.F*!U,{Symbol:A});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),J=0;Q.length>J;)d(Q[J++]);for(var ee=D(d.store),te=0;ee.length>te;)m(ee[te++]);s(s.S+s.F*!U,"Symbol",{for:function(e){return i(N,e+="")?N[e]:N[e]=A(e)},keyFor:function(e){if(!q(e))throw TypeError(e+" is not a symbol!");for(var t in N)if(N[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),s(s.S+s.F*!U,"Object",{create:function(e,t){return void 0===t?S(e):$(S(e),t)},defineProperty:V,defineProperties:$,getOwnPropertyDescriptor:Y,getOwnPropertyNames:Z,getOwnPropertySymbols:X}),O&&s(s.S+s.F*(!U||c((function(){var e=A();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))}))),"JSON",{stringify:function(e){if(void 0!==e&&!q(e)){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return"function"==typeof(t=r[1])&&(n=t),!n&&y(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!q(t))return t}),r[1]=t,P.apply(O,r)}}}),A.prototype[M]||n(51)(A.prototype,M,A.prototype.valueOf),h(A,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(e,t,n){var r=n(89)("meta"),i=n(59),o=n(44),s=n(42).f,a=0,l=Object.isExtensible||function(){return!0},c=!n(52)((function(){return l(Object.preventExtensions({}))})),u=function(e){s(e,r,{value:{i:"O"+ ++a,w:{}}})},h=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return c&&h.NEED&&l(e)&&!o(e,r)&&u(e),e}}},function(e,t,n){var r=n(60),i=n(124),o=n(90);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var s,a=n(e),l=o.f,c=0;a.length>c;)l.call(e,s=a[c++])&&t.push(s);return t}},function(e,t,n){var r=n(188);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(45),i=n(193).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return s.slice()}}(e):i(r(e))}},function(e,t){},function(e,t,n){n(131)("asyncIterator")},function(e,t,n){n(131)("observable")},function(e,t,n){e.exports={default:n(388),__esModule:!0}},function(e,t,n){n(389),e.exports=n(25).Object.setPrototypeOf},function(e,t,n){var r=n(41);r(r.S,"Object",{setPrototypeOf:n(390).set})},function(e,t,n){var r=n(59),i=n(58),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(183)(Function.call,n(132).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){e.exports={default:n(392),__esModule:!0}},function(e,t,n){n(393);var r=n(25).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(41);r(r.S,"Object",{create:n(128)})},function(e,t,n){"use strict";var r=n(395),i=n(396),o=n(397);e.exports=function(){function e(e,t,n,r,s,a){a!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,o,s,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){n(399),e.exports=n(25).Object.keys},function(e,t,n){var r=n(91),i=n(60);n(125)("keys",(function(){return function(e){return i(r(e))}}))},function(e,t,n){(function(){var t,r,i,o;i=n(93),t=n(134),n(194),r=function(e){return e.candidate},o=function(e,t){return t.score-e.score},e.exports=function(e,n,s){var a,l,c,u,h,p,d,f,m,g,y,v,b;for(f=[],c=s.key,h=s.maxResults,u=s.maxInners,y=s.usePathScoring,m=null!=u&&u>0?u:e.length+1,a=null!=c,d=y?t:i,v=0,b=e.length;v<b&&(l=e[v],!((g=a?l[c]:l)&&(p=d.score(g,n,s))>0)||(f.push({candidate:l,score:p}),--m));v++);return f.sort(o),e=f.map(r),null!=h&&(e=e.slice(0,h)),e}}).call(this)},function(e,t,n){(function(){var e,r,i,o,s,a,l,c,u,h;h=n(93),i=h.isMatch,o=h.isWordStart,u=h.scoreConsecutives,c=h.scoreCharacter,l=h.scoreAcronyms,t.match=s=function(t,n,o){var s,l,c,u,h,p;return s=o.allowErrors,h=o.preparedQuery,u=o.pathSeparator,s||i(t,h.core_lw,h.core_up)?(p=t.toLowerCase(),0===(c=r(t,p,h)).length||t.indexOf(u)>-1&&(l=e(t,p,h,u),c=a(c,l)),c):[]},t.wrap=function(e,t,n){var r,i,o,a,l,c,u,h,p;if(null!=n.wrap&&(c=(p=n.wrap).tagClass,h=p.tagOpen,u=p.tagClose),null==c&&(c="highlight"),null==h&&(h='<strong class="'+c+'">'),null==u&&(u="</strong>"),e===t)return h+e+u;if(0===(o=s(e,0,n)).length)return e;for(a="",r=-1,l=0;++r<o.length;){for((i=o[r])>l&&(a+=e.substring(l,i),l=i);++r<o.length;){if(o[r]!==i+1){r--;break}i++}++i>l&&(a+=h,a+=e.substring(l,i),a+=u,l=i)}return l<=e.length-1&&(a+=e.substring(l)),a},e=function(e,t,n,i){var o,s,a;for(a=e.length-1;e[a]===i;)a--;if(-1===(o=e.lastIndexOf(i,a)))return[];for(s=n.depth;s-- >0;)if(-1===(o=e.lastIndexOf(i,o-1)))return[];return o++,a++,r(e.slice(o,a),t.slice(o,a),n,o)},a=function(e,t){var n,r,i,o,s,a,l;if(s=e.length,0===(a=t.length))return e.slice();if(0===s)return t.slice();for(i=-1,r=t[o=0],l=[];++i<s;){for(n=e[i];r<=n&&++o<a;)r<n&&l.push(r),r=t[o];l.push(n)}for(;o<a;)l.push(t[o++]);return l},r=function(e,t,n,r){var i,s,a,h,p,d,f,m,g,y,v,b,w,C,S,E,k,x,D,_,T,R;for(null==r&&(r=0),C=n.query,S=n.query_lw,g=e.length,b=C.length,i=l(e,t,C,S).score,x=new Array(b),p=new Array(b),0,1,2,3,R=new Array(g*b),w=-1,m=-1;++m<b;)x[m]=0,p[m]=0;for(f=-1;++f<g;)for(E=0,D=0,h=0,_=t[f],m=-1;++m<b;)d=0,s=0,k=D,S[m]===_&&(T=o(f,e,t),d=h>0?h:u(e,t,C,S,f,m,T),s=k+c(f,m,T,i,d)),D=x[m],h=p[m],E>D?v=2:(E=D,v=1),s>E?(E=s,v=3):d=0,x[m]=E,p[m]=d,R[++w]=E>0?v:0;for(w=(f=g-1)*b+(m=b-1),a=!0,y=[];a&&f>=0&&m>=0;)switch(R[w]){case 1:f--,w-=b;break;case 2:m--,w--;break;case 3:y.push(f+r),m--,f--,w-=b+1;break;default:a=!1}return y.reverse(),y}}).call(this)},function(e,t,n){!function(e){"use strict";e.defineMode("javascript",(function(t,n){var r,i,o=t.indentUnit,s=n.statementIndent,a=n.jsonld,l=n.json||a,c=n.typescript,u=n.wordCharacters||/[\w$\xa1-\uffff]/,h=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("keyword d"),o=e("operator"),s={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:i,break:i,continue:i,new:e("new"),delete:r,void:r,throw:r,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:o,typeof:o,instanceof:o,true:s,false:s,null:s,undefined:s,NaN:s,Infinity:s,this:e("this"),class:e("class"),super:e("atom"),yield:r,export:e("export"),import:e("import"),extends:r,await:r}}(),p=/[+\-*&%=<>!?|~^@]/,d=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function f(e,t,n){return r=e,i=n,t}function m(e,t){var n,r=e.next();if('"'==r||"'"==r)return t.tokenize=(n=r,function(e,t){var r,i=!1;if(a&&"@"==e.peek()&&e.match(d))return t.tokenize=m,f("jsonld-keyword","meta");for(;null!=(r=e.next())&&(r!=n||i);)i=!i&&"\\"==r;return i||(t.tokenize=m),f("string","string")}),t.tokenize(e,t);if("."==r&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return f("number","number");if("."==r&&e.match(".."))return f("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(r))return f(r);if("="==r&&e.eat(">"))return f("=>","operator");if("0"==r&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return f("number","number");if(/\d/.test(r))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),f("number","number");if("/"==r)return e.eat("*")?(t.tokenize=g,g(e,t)):e.eat("/")?(e.skipToEnd(),f("comment","comment")):Ke(e,t,1)?(function(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),f("regexp","string-2")):(e.eat("="),f("operator","operator",e.current()));if("`"==r)return t.tokenize=y,y(e,t);if("#"==r&&"!"==e.peek())return e.skipToEnd(),f("meta","meta");if("#"==r&&e.eatWhile(u))return f("variable","property");if("<"==r&&e.match("!--")||"-"==r&&e.match("->")&&!/\S/.test(e.string.slice(0,e.start)))return e.skipToEnd(),f("comment","comment");if(p.test(r))return">"==r&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=r&&"="!=r||e.eat("="):/[<>*+\-|&?]/.test(r)&&(e.eat(r),">"==r&&e.eat(r))),"?"==r&&e.eat(".")?f("."):f("operator","operator",e.current());if(u.test(r)){e.eatWhile(u);var i=e.current();if("."!=t.lastType){if(h.propertyIsEnumerable(i)){var o=h[i];return f(o.type,o.style,i)}if("async"==i&&e.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return f("async","keyword",i)}return f("variable","variable",i)}}function g(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=m;break}r="*"==n}return f("comment","comment")}function y(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=m;break}r=!r&&"\\"==n}return f("quasi","string-2",e.current())}function v(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(c){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var i=0,o=!1,s=n-1;s>=0;--s){var a=e.string.charAt(s),l="([{}])".indexOf(a);if(l>=0&&l<3){if(!i){++s;break}if(0==--i){"("==a&&(o=!0);break}}else if(l>=3&&l<6)++i;else if(u.test(a))o=!0;else if(/["'\/`]/.test(a))for(;;--s){if(0==s)return;if(e.string.charAt(s-1)==a&&"\\"!=e.string.charAt(s-2)){s--;break}}else if(o&&!i){++s;break}}o&&!i&&(t.fatArrowAt=s)}}var b={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function w(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function C(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(n=r.vars;n;n=n.next)if(n.name==t)return!0}var S={state:null,column:null,marked:null,cc:null};function E(){for(var e=arguments.length-1;e>=0;e--)S.cc.push(arguments[e])}function k(){return E.apply(null,arguments),!0}function x(e,t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}function D(e){var t=S.state;if(S.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var r=function e(t,n){if(n){if(n.block){var r=e(t,n.prev);return r?r==n.prev?n:new T(r,n.vars,!0):null}return x(t,n.vars)?n:new T(n.prev,new R(t,n.vars),!1)}return null}(e,t.context);if(null!=r)return void(t.context=r)}else if(!x(e,t.localVars))return void(t.localVars=new R(e,t.localVars));n.globalVars&&!x(e,t.globalVars)&&(t.globalVars=new R(e,t.globalVars))}function _(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function T(e,t,n){this.prev=e,this.vars=t,this.block=n}function R(e,t){this.name=e,this.next=t}var A=new R("this",new R("arguments",null));function O(){S.state.context=new T(S.state.context,S.state.localVars,!1),S.state.localVars=A}function P(){S.state.context=new T(S.state.context,S.state.localVars,!0),S.state.localVars=null}function I(){S.state.localVars=S.state.context.vars,S.state.context=S.state.context.prev}function M(e,t){var n=function(){var n=S.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new w(r,S.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function F(){var e=S.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function N(e){return function t(n){return n==e?k():";"==e||"}"==n||")"==n||"]"==n?E():k(t)}}function B(e,t){return"var"==e?k(M("vardef",t),be,N(";"),F):"keyword a"==e?k(M("form"),j,B,F):"keyword b"==e?k(M("form"),B,F):"keyword d"==e?S.stream.match(/^\s*$/,!1)?k():k(M("stat"),z,N(";"),F):"debugger"==e?k(N(";")):"{"==e?k(M("}"),P,oe,F,I):";"==e?k():"if"==e?("else"==S.state.lexical.info&&S.state.cc[S.state.cc.length-1]==F&&S.state.cc.pop()(),k(M("form"),j,B,F,xe)):"function"==e?k(Re):"for"==e?k(M("form"),De,B,F):"class"==e||c&&"interface"==t?(S.marked="keyword",k(M("form","class"==e?e:t),Me,F)):"variable"==e?c&&"declare"==t?(S.marked="keyword",k(B)):c&&("module"==t||"enum"==t||"type"==t)&&S.stream.match(/^\s*\w/,!1)?(S.marked="keyword","enum"==t?k(Ve):"type"==t?k(Oe,N("operator"),ue,N(";")):k(M("form"),we,N("{"),M("}"),oe,F,F)):c&&"namespace"==t?(S.marked="keyword",k(M("form"),H,B,F)):c&&"abstract"==t?(S.marked="keyword",k(B)):k(M("stat"),Q):"switch"==e?k(M("form"),j,N("{"),M("}","switch"),P,oe,F,F,I):"case"==e?k(H,N(":")):"default"==e?k(N(":")):"catch"==e?k(M("form"),O,L,B,F,I):"export"==e?k(M("stat"),Le,F):"import"==e?k(M("stat"),Ue,F):"async"==e?k(B):"@"==t?k(H,B):E(M("stat"),H,N(";"),F)}function L(e){if("("==e)return k(Pe,N(")"))}function H(e,t){return W(e,t,!1)}function U(e,t){return W(e,t,!0)}function j(e){return"("!=e?E():k(M(")"),z,N(")"),F)}function W(e,t,n){if(S.state.fatArrowAt==S.stream.start){var r=n?Y:K;if("("==e)return k(O,M(")"),re(Pe,")"),F,N("=>"),r,I);if("variable"==e)return E(O,we,N("=>"),r,I)}var i=n?q:G;return b.hasOwnProperty(e)?k(i):"function"==e?k(Re,i):"class"==e||c&&"interface"==t?(S.marked="keyword",k(M("form"),Ie,F)):"keyword c"==e||"async"==e?k(n?U:H):"("==e?k(M(")"),z,N(")"),F,i):"operator"==e||"spread"==e?k(n?U:H):"["==e?k(M("]"),qe,F,i):"{"==e?ie(ee,"}",null,i):"quasi"==e?E(V,i):"new"==e?k(function(e){return function(t){return"."==t?k(e?X:Z):"variable"==t&&c?k(ge,e?q:G):E(e?U:H)}}(n)):k()}function z(e){return e.match(/[;\}\)\],]/)?E():E(H)}function G(e,t){return","==e?k(z):q(e,t,!1)}function q(e,t,n){var r=0==n?G:q,i=0==n?H:U;return"=>"==e?k(O,n?Y:K,I):"operator"==e?/\+\+|--/.test(t)||c&&"!"==t?k(r):c&&"<"==t&&S.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?k(M(">"),re(ue,">"),F,r):"?"==t?k(H,N(":"),i):k(i):"quasi"==e?E(V,r):";"!=e?"("==e?ie(U,")","call",r):"."==e?k(J,r):"["==e?k(M("]"),z,N("]"),F,r):c&&"as"==t?(S.marked="keyword",k(ue,r)):"regexp"==e?(S.state.lastType=S.marked="operator",S.stream.backUp(S.stream.pos-S.stream.start-1),k(i)):void 0:void 0}function V(e,t){return"quasi"!=e?E():"${"!=t.slice(t.length-2)?k(V):k(H,$)}function $(e){if("}"==e)return S.marked="string-2",S.state.tokenize=y,k(V)}function K(e){return v(S.stream,S.state),E("{"==e?B:H)}function Y(e){return v(S.stream,S.state),E("{"==e?B:U)}function Z(e,t){if("target"==t)return S.marked="keyword",k(G)}function X(e,t){if("target"==t)return S.marked="keyword",k(q)}function Q(e){return":"==e?k(F,B):E(G,N(";"),F)}function J(e){if("variable"==e)return S.marked="property",k()}function ee(e,t){return"async"==e?(S.marked="property",k(ee)):"variable"==e||"keyword"==S.style?(S.marked="property","get"==t||"set"==t?k(te):(c&&S.state.fatArrowAt==S.stream.start&&(n=S.stream.match(/^\s*:\s*/,!1))&&(S.state.fatArrowAt=S.stream.pos+n[0].length),k(ne))):"number"==e||"string"==e?(S.marked=a?"property":S.style+" property",k(ne)):"jsonld-keyword"==e?k(ne):c&&_(t)?(S.marked="keyword",k(ee)):"["==e?k(H,se,N("]"),ne):"spread"==e?k(U,ne):"*"==t?(S.marked="keyword",k(ee)):":"==e?E(ne):void 0;var n}function te(e){return"variable"!=e?E(ne):(S.marked="property",k(Re))}function ne(e){return":"==e?k(U):"("==e?E(Re):void 0}function re(e,t,n){function r(i,o){if(n?n.indexOf(i)>-1:","==i){var s=S.state.lexical;return"call"==s.info&&(s.pos=(s.pos||0)+1),k((function(n,r){return n==t||r==t?E():E(e)}),r)}return i==t||o==t?k():n&&n.indexOf(";")>-1?E(e):k(N(t))}return function(n,i){return n==t||i==t?k():E(e,r)}}function ie(e,t,n){for(var r=3;r<arguments.length;r++)S.cc.push(arguments[r]);return k(M(t,n),re(e,t),F)}function oe(e){return"}"==e?k():E(B,oe)}function se(e,t){if(c){if(":"==e)return k(ue);if("?"==t)return k(se)}}function ae(e,t){if(c&&(":"==e||"in"==t))return k(ue)}function le(e){if(c&&":"==e)return S.stream.match(/^\s*\w+\s+is\b/,!1)?k(H,ce,ue):k(ue)}function ce(e,t){if("is"==t)return S.marked="keyword",k()}function ue(e,t){return"keyof"==t||"typeof"==t||"infer"==t||"readonly"==t?(S.marked="keyword",k("typeof"==t?U:ue)):"variable"==e||"void"==t?(S.marked="type",k(me)):"|"==t||"&"==t?k(ue):"string"==e||"number"==e||"atom"==e?k(me):"["==e?k(M("]"),re(ue,"]",","),F,me):"{"==e?k(M("}"),pe,F,me):"("==e?k(re(fe,")"),he,me):"<"==e?k(re(ue,">"),ue):void 0}function he(e){if("=>"==e)return k(ue)}function pe(e){return e.match(/[\}\)\]]/)?k():","==e||";"==e?k(pe):E(de,pe)}function de(e,t){return"variable"==e||"keyword"==S.style?(S.marked="property",k(de)):"?"==t||"number"==e||"string"==e?k(de):":"==e?k(ue):"["==e?k(N("variable"),ae,N("]"),de):"("==e?E(Ae,de):e.match(/[;\}\)\],]/)?void 0:k()}function fe(e,t){return"variable"==e&&S.stream.match(/^\s*[?:]/,!1)||"?"==t?k(fe):":"==e?k(ue):"spread"==e?k(fe):E(ue)}function me(e,t){return"<"==t?k(M(">"),re(ue,">"),F,me):"|"==t||"."==e||"&"==t?k(ue):"["==e?k(ue,N("]"),me):"extends"==t||"implements"==t?(S.marked="keyword",k(ue)):"?"==t?k(ue,N(":"),ue):void 0}function ge(e,t){if("<"==t)return k(M(">"),re(ue,">"),F,me)}function ye(){return E(ue,ve)}function ve(e,t){if("="==t)return k(ue)}function be(e,t){return"enum"==t?(S.marked="keyword",k(Ve)):E(we,se,Ee,ke)}function we(e,t){return c&&_(t)?(S.marked="keyword",k(we)):"variable"==e?(D(t),k()):"spread"==e?k(we):"["==e?ie(Se,"]"):"{"==e?ie(Ce,"}"):void 0}function Ce(e,t){return"variable"!=e||S.stream.match(/^\s*:/,!1)?("variable"==e&&(S.marked="property"),"spread"==e?k(we):"}"==e?E():"["==e?k(H,N("]"),N(":"),Ce):k(N(":"),we,Ee)):(D(t),k(Ee))}function Se(){return E(we,Ee)}function Ee(e,t){if("="==t)return k(U)}function ke(e){if(","==e)return k(be)}function xe(e,t){if("keyword b"==e&&"else"==t)return k(M("form","else"),B,F)}function De(e,t){return"await"==t?k(De):"("==e?k(M(")"),_e,F):void 0}function _e(e){return"var"==e?k(be,Te):"variable"==e?k(Te):E(Te)}function Te(e,t){return")"==e?k():";"==e?k(Te):"in"==t||"of"==t?(S.marked="keyword",k(H,Te)):E(H,Te)}function Re(e,t){return"*"==t?(S.marked="keyword",k(Re)):"variable"==e?(D(t),k(Re)):"("==e?k(O,M(")"),re(Pe,")"),F,le,B,I):c&&"<"==t?k(M(">"),re(ye,">"),F,Re):void 0}function Ae(e,t){return"*"==t?(S.marked="keyword",k(Ae)):"variable"==e?(D(t),k(Ae)):"("==e?k(O,M(")"),re(Pe,")"),F,le,I):c&&"<"==t?k(M(">"),re(ye,">"),F,Ae):void 0}function Oe(e,t){return"keyword"==e||"variable"==e?(S.marked="type",k(Oe)):"<"==t?k(M(">"),re(ye,">"),F):void 0}function Pe(e,t){return"@"==t&&k(H,Pe),"spread"==e?k(Pe):c&&_(t)?(S.marked="keyword",k(Pe)):c&&"this"==e?k(se,Ee):E(we,se,Ee)}function Ie(e,t){return"variable"==e?Me(e,t):Fe(e,t)}function Me(e,t){if("variable"==e)return D(t),k(Fe)}function Fe(e,t){return"<"==t?k(M(">"),re(ye,">"),F,Fe):"extends"==t||"implements"==t||c&&","==e?("implements"==t&&(S.marked="keyword"),k(c?ue:H,Fe)):"{"==e?k(M("}"),Ne,F):void 0}function Ne(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||c&&_(t))&&S.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(S.marked="keyword",k(Ne)):"variable"==e||"keyword"==S.style?(S.marked="property",k(Be,Ne)):"number"==e||"string"==e?k(Be,Ne):"["==e?k(H,se,N("]"),Be,Ne):"*"==t?(S.marked="keyword",k(Ne)):c&&"("==e?E(Ae,Ne):";"==e||","==e?k(Ne):"}"==e?k():"@"==t?k(H,Ne):void 0}function Be(e,t){if("?"==t)return k(Be);if(":"==e)return k(ue,Ee);if("="==t)return k(U);var n=S.state.lexical.prev;return E(n&&"interface"==n.info?Ae:Re)}function Le(e,t){return"*"==t?(S.marked="keyword",k(Ge,N(";"))):"default"==t?(S.marked="keyword",k(H,N(";"))):"{"==e?k(re(He,"}"),Ge,N(";")):E(B)}function He(e,t){return"as"==t?(S.marked="keyword",k(N("variable"))):"variable"==e?E(U,He):void 0}function Ue(e){return"string"==e?k():"("==e?E(H):"."==e?E(G):E(je,We,Ge)}function je(e,t){return"{"==e?ie(je,"}"):("variable"==e&&D(t),"*"==t&&(S.marked="keyword"),k(ze))}function We(e){if(","==e)return k(je,We)}function ze(e,t){if("as"==t)return S.marked="keyword",k(je)}function Ge(e,t){if("from"==t)return S.marked="keyword",k(H)}function qe(e){return"]"==e?k():E(re(U,"]"))}function Ve(){return E(M("form"),we,N("{"),M("}"),re($e,"}"),F,F)}function $e(){return E(we,Ee)}function Ke(e,t,n){return t.tokenize==m&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}return I.lex=!0,F.lex=!0,{startState:function(e){var t={tokenize:m,lastType:"sof",cc:[],lexical:new w((e||0)-o,0,"block",!1),localVars:n.localVars,context:n.localVars&&new T(null,null,!1),indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),v(e,t)),t.tokenize!=g&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==r?n:(t.lastType="operator"!=r||"++"!=i&&"--"!=i?r:"incdec",function(e,t,n,r,i){var o=e.cc;for(S.state=e,S.stream=i,S.marked=null,S.cc=o,S.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((o.length?o.pop():l?H:B)(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return S.marked?S.marked:"variable"==n&&C(e,r)?"variable-2":t}}(t,n,r,i,e))},indent:function(t,r){if(t.tokenize==g||t.tokenize==y)return e.Pass;if(t.tokenize!=m)return 0;var i,a=r&&r.charAt(0),l=t.lexical;if(!/^\s*else\b/.test(r))for(var c=t.cc.length-1;c>=0;--c){var u=t.cc[c];if(u==F)l=l.prev;else if(u!=xe)break}for(;("stat"==l.type||"form"==l.type)&&("}"==a||(i=t.cc[t.cc.length-1])&&(i==G||i==q)&&!/^[,\.=+\-*:?[\(]/.test(r));)l=l.prev;s&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var h=l.type,d=a==h;return"vardef"==h?l.indented+("operator"==t.lastType||","==t.lastType?l.info.length+1:0):"form"==h&&"{"==a?l.indented:"form"==h?l.indented+o:"stat"==h?l.indented+(function(e,t){return"operator"==e.lastType||","==e.lastType||p.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}(t,r)?s||o:0):"switch"!=l.info||d||0==n.doubleIndentSwitch?l.align?l.column+(d?0:1):l.indented+(d?0:o):l.indented+(/^(?:case|default)\b/.test(r)?o:2*o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:a,jsonMode:l,expressionAllowed:Ke,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=H&&t!=U||e.cc.pop()}}})),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/manifest+json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(n(17))},function(e,t,n){!function(e){"use strict";function t(e){e.state.markedSelection&&e.operation((function(){!function(e){if(!e.somethingSelected())return s(e);if(e.listSelections().length>1)return a(e);var t=e.getCursor("start"),n=e.getCursor("end"),r=e.state.markedSelection;if(!r.length)return o(e,t,n);var l=r[0].find(),c=r[r.length-1].find();if(!l||!c||n.line-t.line<=8||i(t,c.to)>=0||i(n,l.from)<=0)return a(e);for(;i(t,l.from)>0;)r.shift().clear(),l=r[0].find();for(i(t,l.from)<0&&(l.to.line-t.line<8?(r.shift().clear(),o(e,t,l.to,0)):o(e,t,l.from,0));i(n,c.to)<0;)r.pop().clear(),c=r[r.length-1].find();i(n,c.to)>0&&(n.line-c.from.line<8?(r.pop().clear(),o(e,c.from,n)):o(e,c.to,n))}(e)}))}function n(e){e.state.markedSelection&&e.state.markedSelection.length&&e.operation((function(){s(e)}))}e.defineOption("styleSelectedText",!1,(function(r,i,o){var l=o&&o!=e.Init;i&&!l?(r.state.markedSelection=[],r.state.markedSelectionStyle="string"==typeof i?i:"CodeMirror-selectedtext",a(r),r.on("cursorActivity",t),r.on("change",n)):!i&&l&&(r.off("cursorActivity",t),r.off("change",n),s(r),r.state.markedSelection=r.state.markedSelectionStyle=null)}));var r=e.Pos,i=e.cmpPos;function o(e,t,n,o){if(0!=i(t,n))for(var s=e.state.markedSelection,a=e.state.markedSelectionStyle,l=t.line;;){var c=l==t.line?t:r(l,0),u=l+8,h=u>=n.line,p=h?n:r(u,0),d=e.markText(c,p,{className:a});if(null==o?s.push(d):s.splice(o++,0,d),h)break;l=u}}function s(e){for(var t=e.state.markedSelection,n=0;n<t.length;++n)t[n].clear();t.length=0}function a(e){s(e);for(var t=e.listSelections(),n=0;n<t.length;n++)o(e,t[n].from(),t[n].to())}}(n(17))},function(e,t,n){!function(e){"use strict";function t(e,t){if(this.cm=e,this.options=t,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var n=this;e.on("cursorActivity",this.activityFunc=function(){n.cursorActivity()})}}e.showHint=function(e,t,n){if(!t)return e.showHint(n);n&&n.async&&(t.async=!0);var r={hint:t};if(n)for(var i in n)r[i]=n[i];return e.showHint(r)},e.defineExtension("showHint",(function(n){n=function(e,t,n){var r=e.options.hintOptions,i={};for(var o in l)i[o]=l[o];if(r)for(var o in r)void 0!==r[o]&&(i[o]=r[o]);if(n)for(var o in n)void 0!==n[o]&&(i[o]=n[o]);return i.hint.resolve&&(i.hint=i.hint.resolve(e,t)),i}(this,this.getCursor("start"),n);var r=this.listSelections();if(!(r.length>1)){if(this.somethingSelected()){if(!n.hint.supportsSelection)return;for(var i=0;i<r.length;i++)if(r[i].head.line!=r[i].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var o=this.state.completionActive=new t(this,n);o.options.hint&&(e.signal(this,"startCompletion",this),o.update(!0))}})),e.defineExtension("closeHint",(function(){this.state.completionActive&&this.state.completionActive.close()}));var n=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},r=window.cancelAnimationFrame||clearTimeout;function i(e){return"string"==typeof e?e:e.text}function o(e,t){for(;t&&t!=e;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function s(t,n){this.completion=t,this.data=n,this.picked=!1;var r=this,s=t.cm,a=s.getInputField().ownerDocument,l=a.defaultView||a.parentWindow,c=this.hints=a.createElement("ul"),u=t.cm.options.theme;c.className="CodeMirror-hints "+u,this.selectedHint=n.selectedHint||0;for(var h=n.list,p=0;p<h.length;++p){var d=c.appendChild(a.createElement("li")),f=h[p],m="CodeMirror-hint"+(p!=this.selectedHint?"":" CodeMirror-hint-active");null!=f.className&&(m=f.className+" "+m),d.className=m,f.render?f.render(d,n,f):d.appendChild(a.createTextNode(f.displayText||i(f))),d.hintId=p}var g=t.options.container||a.body,y=s.cursorCoords(t.options.alignWithWord?n.from:null),v=y.left,b=y.bottom,w=!0,C=0,S=0;if(g!==a.body){var E=-1!==["absolute","relative","fixed"].indexOf(l.getComputedStyle(g).position)?g:g.offsetParent,k=E.getBoundingClientRect(),x=a.body.getBoundingClientRect();C=k.left-x.left-E.scrollLeft,S=k.top-x.top-E.scrollTop}c.style.left=v-C+"px",c.style.top=b-S+"px";var D=l.innerWidth||Math.max(a.body.offsetWidth,a.documentElement.offsetWidth),_=l.innerHeight||Math.max(a.body.offsetHeight,a.documentElement.offsetHeight);g.appendChild(c);var T,R=t.options.moveOnOverlap?c.getBoundingClientRect():new DOMRect,A=!!t.options.paddingForScrollbar&&c.scrollHeight>c.clientHeight+1;if(setTimeout((function(){T=s.getScrollInfo()})),R.bottom-_>0){var O=R.bottom-R.top;if(y.top-(y.bottom-R.top)-O>0)c.style.top=(b=y.top-O-S)+"px",w=!1;else if(O>_){c.style.height=_-5+"px",c.style.top=(b=y.bottom-R.top-S)+"px";var P=s.getCursor();n.from.ch!=P.ch&&(y=s.cursorCoords(P),c.style.left=(v=y.left-C)+"px",R=c.getBoundingClientRect())}}var I,M=R.right-D;if(M>0&&(R.right-R.left>D&&(c.style.width=D-5+"px",M-=R.right-R.left-D),c.style.left=(v=y.left-M-C)+"px"),A)for(var F=c.firstChild;F;F=F.nextSibling)F.style.paddingRight=s.display.nativeBarWidth+"px";s.addKeyMap(this.keyMap=function(e,t){var n={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(1-t.menuSize(),!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close};/Mac/.test(navigator.platform)&&(n["Ctrl-P"]=function(){t.moveFocus(-1)},n["Ctrl-N"]=function(){t.moveFocus(1)});var r=e.options.customKeys,i=r?{}:n;function o(e,r){var o;o="string"!=typeof r?function(e){return r(e,t)}:n.hasOwnProperty(r)?n[r]:r,i[e]=o}if(r)for(var s in r)r.hasOwnProperty(s)&&o(s,r[s]);var a=e.options.extraKeys;if(a)for(var s in a)a.hasOwnProperty(s)&&o(s,a[s]);return i}(t,{moveFocus:function(e,t){r.changeActive(r.selectedHint+e,t)},setFocus:function(e){r.changeActive(e)},menuSize:function(){return r.screenAmount()},length:h.length,close:function(){t.close()},pick:function(){r.pick()},data:n})),t.options.closeOnUnfocus&&(s.on("blur",this.onBlur=function(){I=setTimeout((function(){t.close()}),100)}),s.on("focus",this.onFocus=function(){clearTimeout(I)})),s.on("scroll",this.onScroll=function(){var e=s.getScrollInfo(),n=s.getWrapperElement().getBoundingClientRect(),r=b+T.top-e.top,i=r-(l.pageYOffset||(a.documentElement||a.body).scrollTop);if(w||(i+=c.offsetHeight),i<=n.top||i>=n.bottom)return t.close();c.style.top=r+"px",c.style.left=v+T.left-e.left+"px"}),e.on(c,"dblclick",(function(e){var t=o(c,e.target||e.srcElement);t&&null!=t.hintId&&(r.changeActive(t.hintId),r.pick())})),e.on(c,"click",(function(e){var n=o(c,e.target||e.srcElement);n&&null!=n.hintId&&(r.changeActive(n.hintId),t.options.completeOnSingleClick&&r.pick())})),e.on(c,"mousedown",(function(){setTimeout((function(){s.focus()}),20)}));var N=this.getSelectedHintRange();return 0===N.from&&0===N.to||this.scrollToActive(),e.signal(n,"select",h[this.selectedHint],c.childNodes[this.selectedHint]),!0}function a(e,t,n,r){if(e.async)e(t,r,n);else{var i=e(t,n);i&&i.then?i.then(r):r(i)}}t.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&e.signal(this.data,"close"),this.widget&&this.widget.close(),e.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,n){var r=t.list[n],o=this;this.cm.operation((function(){r.hint?r.hint(o.cm,t,r):o.cm.replaceRange(i(r),r.from||t.from,r.to||t.to,"complete"),e.signal(t,"pick",r),o.cm.scrollIntoView()})),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(r(this.debounce),this.debounce=0);var e=this.startPos;this.data&&(e=this.data.from);var t=this.cm.getCursor(),i=this.cm.getLine(t.line);if(t.line!=this.startPos.line||i.length-t.ch!=this.startLen-this.startPos.ch||t.ch<e.ch||this.cm.somethingSelected()||!t.ch||this.options.closeCharacters.test(i.charAt(t.ch-1)))this.close();else{var o=this;this.debounce=n((function(){o.update()})),this.widget&&this.widget.disable()}},update:function(e){if(null!=this.tick){var t=this,n=++this.tick;a(this.options.hint,this.cm,this.options,(function(r){t.tick==n&&t.finishUpdate(r,e)}))}},finishUpdate:function(t,n){this.data&&e.signal(this.data,"update");var r=this.widget&&this.widget.picked||n&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=t,t&&t.list.length&&(r&&1==t.list.length?this.pick(t,0):(this.widget=new s(this,t),e.signal(t,"shown")))}},s.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm;this.completion.options.closeOnUnfocus&&(e.off("blur",this.onBlur),e.off("focus",this.onFocus)),e.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var e=this;this.keyMap={Enter:function(){e.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,n){if(t>=this.data.list.length?t=n?this.data.list.length-1:0:t<0&&(t=n?0:this.data.list.length-1),this.selectedHint!=t){var r=this.hints.childNodes[this.selectedHint];r&&(r.className=r.className.replace(" CodeMirror-hint-active","")),(r=this.hints.childNodes[this.selectedHint=t]).className+=" CodeMirror-hint-active",this.scrollToActive(),e.signal(this.data,"select",this.data.list[this.selectedHint],r)}},scrollToActive:function(){var e=this.getSelectedHintRange(),t=this.hints.childNodes[e.from],n=this.hints.childNodes[e.to],r=this.hints.firstChild;t.offsetTop<this.hints.scrollTop?this.hints.scrollTop=t.offsetTop-r.offsetTop:n.offsetTop+n.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=n.offsetTop+n.offsetHeight-this.hints.clientHeight+r.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var e=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-e),to:Math.min(this.data.list.length-1,this.selectedHint+e)}}},e.registerHelper("hint","auto",{resolve:function(t,n){var r,i=t.getHelpers(n,"hint");if(i.length){var o=function(e,t,n){var r=function(e,t){if(!e.somethingSelected())return t;for(var n=[],r=0;r<t.length;r++)t[r].supportsSelection&&n.push(t[r]);return n}(e,i);!function i(o){if(o==r.length)return t(null);a(r[o],e,n,(function(e){e&&e.list.length>0?t(e):i(o+1)}))}(0)};return o.async=!0,o.supportsSelection=!0,o}return(r=t.getHelper(t.getCursor(),"hintWords"))?function(t){return e.hint.fromList(t,{words:r})}:e.hint.anyword?function(t,n){return e.hint.anyword(t,n)}:function(){}}}),e.registerHelper("hint","fromList",(function(t,n){var r,i=t.getCursor(),o=t.getTokenAt(i),s=e.Pos(i.line,o.start),a=i;o.start<i.ch&&/\w/.test(o.string.charAt(i.ch-o.start-1))?r=o.string.substr(0,i.ch-o.start):(r="",s=i);for(var l=[],c=0;c<n.words.length;c++){var u=n.words[c];u.slice(0,r.length)==r&&l.push(u)}if(l.length)return{list:l,from:s,to:a}})),e.commands.autocomplete=e.showHint;var l={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};e.defineOption("hintOptions",null)}(n(17))},function(e,t,n){!function(e){"use strict";function t(t,n,r){this.orientation=n,this.scroll=r,this.screen=this.total=this.size=1,this.pos=0,this.node=document.createElement("div"),this.node.className=t+"-"+n,this.inner=this.node.appendChild(document.createElement("div"));var i=this;function o(t){var n=e.wheelEventPixels(t)["horizontal"==i.orientation?"x":"y"],r=i.pos;i.moveTo(i.pos+n),i.pos!=r&&e.e_preventDefault(t)}e.on(this.inner,"mousedown",(function(t){if(1==t.which){e.e_preventDefault(t);var n="horizontal"==i.orientation?"pageX":"pageY",r=t[n],o=i.pos;e.on(document,"mousemove",a),e.on(document,"mouseup",s)}function s(){e.off(document,"mousemove",a),e.off(document,"mouseup",s)}function a(e){if(1!=e.which)return s();i.moveTo(o+(e[n]-r)*(i.total/i.size))}})),e.on(this.node,"click",(function(t){e.e_preventDefault(t);var n,r=i.inner.getBoundingClientRect();n="horizontal"==i.orientation?t.clientX<r.left?-1:t.clientX>r.right?1:0:t.clientY<r.top?-1:t.clientY>r.bottom?1:0,i.moveTo(i.pos+n*i.screen)})),e.on(this.node,"mousewheel",o),e.on(this.node,"DOMMouseScroll",o)}function n(e,n,r){this.addClass=e,this.horiz=new t(e,"horizontal",r),n(this.horiz.node),this.vert=new t(e,"vertical",r),n(this.vert.node),this.width=null}t.prototype.setPos=function(e,t){return e<0&&(e=0),e>this.total-this.screen&&(e=this.total-this.screen),!(!t&&e==this.pos||(this.pos=e,this.inner.style["horizontal"==this.orientation?"left":"top"]=e*(this.size/this.total)+"px",0))},t.prototype.moveTo=function(e){this.setPos(e)&&this.scroll(e,this.orientation)},t.prototype.update=function(e,t,n){var r=this.screen!=t||this.total!=e||this.size!=n;r&&(this.screen=t,this.total=e,this.size=n);var i=this.screen*(this.size/this.total);i<10&&(this.size-=10-i,i=10),this.inner.style["horizontal"==this.orientation?"width":"height"]=i+"px",this.setPos(this.pos,r)},n.prototype.update=function(e){if(null==this.width){var t=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;t&&(this.width=parseInt(t.height))}var n=this.width||0,r=e.scrollWidth>e.clientWidth+1,i=e.scrollHeight>e.clientHeight+1;return this.vert.node.style.display=i?"block":"none",this.horiz.node.style.display=r?"block":"none",i&&(this.vert.update(e.scrollHeight,e.clientHeight,e.viewHeight-(r?n:0)),this.vert.node.style.bottom=r?n+"px":"0"),r&&(this.horiz.update(e.scrollWidth,e.clientWidth,e.viewWidth-(i?n:0)-e.barLeft),this.horiz.node.style.right=i?n+"px":"0",this.horiz.node.style.left=e.barLeft+"px"),{right:i?n:0,bottom:r?n:0}},n.prototype.setScrollTop=function(e){this.vert.setPos(e)},n.prototype.setScrollLeft=function(e){this.horiz.setPos(e)},n.prototype.clear=function(){var e=this.horiz.node.parentNode;e.removeChild(this.horiz.node),e.removeChild(this.vert.node)},e.scrollbarModel.simple=function(e,t){return new n("CodeMirror-simplescroll",e,t)},e.scrollbarModel.overlay=function(e,t){return new n("CodeMirror-overlayscroll",e,t)}}(n(17))},function(e,t,n){!function(e){"use strict";function t(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null}function n(e){return e.state.search||(e.state.search=new t)}function r(e){return"string"==typeof e&&e==e.toLowerCase()}function i(e,t,n){return e.getSearchCursor(t,n,{caseFold:r(t),multiline:!0})}function o(e,t,n,r,i){e.openDialog?e.openDialog(t,i,{value:r,selectValueOnOpen:!0,bottom:e.options.search.bottom}):i(prompt(n,r))}function s(e){return e.replace(/\\([nrt\\])/g,(function(e,t){return"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"==t?"\\":e}))}function a(e){var t=e.match(/^\/(.*)\/([a-z]*)$/);if(t)try{e=new RegExp(t[1],-1==t[2].indexOf("i")?"":"i")}catch(e){}else e=s(e);return("string"==typeof e?""==e:e.test(""))&&(e=/x^/),e}function l(e,t,n){t.queryText=n,t.query=a(n),e.removeOverlay(t.overlay,r(t.query)),t.overlay=function(e,t){return"string"==typeof e?e=new RegExp(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),t?"gi":"g"):e.global||(e=new RegExp(e.source,e.ignoreCase?"gi":"g")),{token:function(t){e.lastIndex=t.pos;var n=e.exec(t.string);if(n&&n.index==t.pos)return t.pos+=n[0].length||1,"searching";n?t.pos=n.index:t.skipToEnd()}}}(t.query,r(t.query)),e.addOverlay(t.overlay),e.showMatchesOnScrollbar&&(t.annotate&&(t.annotate.clear(),t.annotate=null),t.annotate=e.showMatchesOnScrollbar(t.query,r(t.query)))}function c(t,r,i,s){var a=n(t);if(a.query)return u(t,r);var c=t.getSelection()||a.lastQuery;if(c instanceof RegExp&&"x^"==c.source&&(c=null),i&&t.openDialog){var d=null,f=function(n,r){e.e_stop(r),n&&(n!=a.queryText&&(l(t,a,n),a.posFrom=a.posTo=t.getCursor()),d&&(d.style.opacity=1),u(t,r.shiftKey,(function(e,n){var r;n.line<3&&document.querySelector&&(r=t.display.wrapper.querySelector(".CodeMirror-dialog"))&&r.getBoundingClientRect().bottom-4>t.cursorCoords(n,"window").top&&((d=r).style.opacity=.4)})))};!function(e,t,n,r,i){e.openDialog(t,r,{value:n,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){h(e)},onKeyDown:i,bottom:e.options.search.bottom})}(t,p(t),c,f,(function(r,i){var o=e.keyName(r),s=t.getOption("extraKeys"),a=s&&s[o]||e.keyMap[t.getOption("keyMap")][o];"findNext"==a||"findPrev"==a||"findPersistentNext"==a||"findPersistentPrev"==a?(e.e_stop(r),l(t,n(t),i),t.execCommand(a)):"find"!=a&&"findPersistent"!=a||(e.e_stop(r),f(i,r))})),s&&c&&(l(t,a,c),u(t,r))}else o(t,p(t),"Search for:",c,(function(e){e&&!a.query&&t.operation((function(){l(t,a,e),a.posFrom=a.posTo=t.getCursor(),u(t,r)}))}))}function u(t,r,o){t.operation((function(){var s=n(t),a=i(t,s.query,r?s.posFrom:s.posTo);(a.find(r)||(a=i(t,s.query,r?e.Pos(t.lastLine()):e.Pos(t.firstLine(),0))).find(r))&&(t.setSelection(a.from(),a.to()),t.scrollIntoView({from:a.from(),to:a.to()},20),s.posFrom=a.from(),s.posTo=a.to(),o&&o(a.from(),a.to()))}))}function h(e){e.operation((function(){var t=n(e);t.lastQuery=t.query,t.query&&(t.query=t.queryText=null,e.removeOverlay(t.overlay),t.annotate&&(t.annotate.clear(),t.annotate=null))}))}function p(e){return'<span class="CodeMirror-search-label">'+e.phrase("Search:")+'</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+e.phrase("(Use /re/ syntax for regexp search)")+"</span>"}function d(e,t,n){e.operation((function(){for(var r=i(e,t);r.findNext();)if("string"!=typeof t){var o=e.getRange(r.from(),r.to()).match(t);r.replace(n.replace(/\$(\d)/g,(function(e,t){return o[t]})))}else r.replace(n)}))}function f(e,t){if(!e.getOption("readOnly")){var r=e.getSelection()||n(e).lastQuery,l='<span class="CodeMirror-search-label">'+(t?e.phrase("Replace all:"):e.phrase("Replace:"))+"</span>";o(e,l+function(e){return' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+e.phrase("(Use /re/ syntax for regexp search)")+"</span>"}(e),l,r,(function(n){n&&(n=a(n),o(e,function(e){return'<span class="CodeMirror-search-label">'+e.phrase("With:")+'</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/>'}(e),e.phrase("Replace with:"),"",(function(r){if(r=s(r),t)d(e,n,r);else{h(e);var o=i(e,n,e.getCursor("from")),a=function(){var t,s=o.from();!(t=o.findNext())&&(o=i(e,n),!(t=o.findNext())||s&&o.from().line==s.line&&o.from().ch==s.ch)||(e.setSelection(o.from(),o.to()),e.scrollIntoView({from:o.from(),to:o.to()}),function(e,t,n,r){e.openConfirm?e.openConfirm(t,r):confirm(n)&&r[0]()}(e,function(e){return'<span class="CodeMirror-search-label">'+e.phrase("Replace?")+"</span> <button>"+e.phrase("Yes")+"</button> <button>"+e.phrase("No")+"</button> <button>"+e.phrase("All")+"</button> <button>"+e.phrase("Stop")+"</button> "}(e),e.phrase("Replace?"),[function(){l(t)},a,function(){d(e,n,r)}]))},l=function(e){o.replace("string"==typeof n?r:r.replace(/\$(\d)/g,(function(t,n){return e[n]}))),a()};a()}})))}))}}e.defineOption("search",{bottom:!1}),e.commands.find=function(e){h(e),c(e)},e.commands.findPersistent=function(e){h(e),c(e,!1,!0)},e.commands.findPersistentNext=function(e){c(e,!1,!0,!0)},e.commands.findPersistentPrev=function(e){c(e,!0,!0,!0)},e.commands.findNext=c,e.commands.findPrev=function(e){c(e,!0)},e.commands.clearSearch=h,e.commands.replace=f,e.commands.replaceAll=function(e){f(e,!0)}}(n(17),n(407),n(408))},function(e,t,n){!function(e){"use strict";var t,n,r=e.Pos;function i(e,t){for(var n=function(e){var t=e.flags;return null!=t?t:(e.ignoreCase?"i":"")+(e.global?"g":"")+(e.multiline?"m":"")}(e),r=n,i=0;i<t.length;i++)-1==r.indexOf(t.charAt(i))&&(r+=t.charAt(i));return n==r?e:new RegExp(e.source,r)}function o(e){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(e.source)}function s(e,t,n){t=i(t,"g");for(var o=n.line,s=n.ch,a=e.lastLine();o<=a;o++,s=0){t.lastIndex=s;var l=e.getLine(o),c=t.exec(l);if(c)return{from:r(o,c.index),to:r(o,c.index+c[0].length),match:c}}}function a(e,t,n){if(!o(t))return s(e,t,n);t=i(t,"gm");for(var a,l=1,c=n.line,u=e.lastLine();c<=u;){for(var h=0;h<l&&!(c>u);h++){var p=e.getLine(c++);a=null==a?p:a+"\n"+p}l*=2,t.lastIndex=n.ch;var d=t.exec(a);if(d){var f=a.slice(0,d.index).split("\n"),m=d[0].split("\n"),g=n.line+f.length-1,y=f[f.length-1].length;return{from:r(g,y),to:r(g+m.length-1,1==m.length?y+m[0].length:m[m.length-1].length),match:d}}}}function l(e,t,n){for(var r,i=0;i<=e.length;){t.lastIndex=i;var o=t.exec(e);if(!o)break;var s=o.index+o[0].length;if(s>e.length-n)break;(!r||s>r.index+r[0].length)&&(r=o),i=o.index+1}return r}function c(e,t,n){t=i(t,"g");for(var o=n.line,s=n.ch,a=e.firstLine();o>=a;o--,s=-1){var c=e.getLine(o),u=l(c,t,s<0?0:c.length-s);if(u)return{from:r(o,u.index),to:r(o,u.index+u[0].length),match:u}}}function u(e,t,n){if(!o(t))return c(e,t,n);t=i(t,"gm");for(var s,a=1,u=e.getLine(n.line).length-n.ch,h=n.line,p=e.firstLine();h>=p;){for(var d=0;d<a&&h>=p;d++){var f=e.getLine(h--);s=null==s?f:f+"\n"+s}a*=2;var m=l(s,t,u);if(m){var g=s.slice(0,m.index).split("\n"),y=m[0].split("\n"),v=h+g.length,b=g[g.length-1].length;return{from:r(v,b),to:r(v+y.length-1,1==y.length?b+y[0].length:y[y.length-1].length),match:m}}}}function h(e,t,n,r){if(e.length==t.length)return n;for(var i=0,o=n+Math.max(0,e.length-t.length);;){if(i==o)return i;var s=i+o>>1,a=r(e.slice(0,s)).length;if(a==n)return s;a>n?o=s:i=s+1}}function p(e,i,o,s){if(!i.length)return null;var a=s?t:n,l=a(i).split(/\r|\n\r?/);e:for(var c=o.line,u=o.ch,p=e.lastLine()+1-l.length;c<=p;c++,u=0){var d=e.getLine(c).slice(u),f=a(d);if(1==l.length){var m=f.indexOf(l[0]);if(-1==m)continue e;return o=h(d,f,m,a)+u,{from:r(c,h(d,f,m,a)+u),to:r(c,h(d,f,m+l[0].length,a)+u)}}var g=f.length-l[0].length;if(f.slice(g)==l[0]){for(var y=1;y<l.length-1;y++)if(a(e.getLine(c+y))!=l[y])continue e;var v=e.getLine(c+l.length-1),b=a(v),w=l[l.length-1];if(b.slice(0,w.length)==w)return{from:r(c,h(d,f,g,a)+u),to:r(c+l.length-1,h(v,b,w.length,a))}}}}function d(e,i,o,s){if(!i.length)return null;var a=s?t:n,l=a(i).split(/\r|\n\r?/);e:for(var c=o.line,u=o.ch,p=e.firstLine()-1+l.length;c>=p;c--,u=-1){var d=e.getLine(c);u>-1&&(d=d.slice(0,u));var f=a(d);if(1==l.length){var m=f.lastIndexOf(l[0]);if(-1==m)continue e;return{from:r(c,h(d,f,m,a)),to:r(c,h(d,f,m+l[0].length,a))}}var g=l[l.length-1];if(f.slice(0,g.length)==g){var y=1;for(o=c-l.length+1;y<l.length-1;y++)if(a(e.getLine(o+y))!=l[y])continue e;var v=e.getLine(c+1-l.length),b=a(v);if(b.slice(b.length-l[0].length)==l[0])return{from:r(c+1-l.length,h(v,b,v.length-l[0].length,a)),to:r(c,h(d,f,g.length,a))}}}}function f(e,t,n,o){var l;this.atOccurrence=!1,this.doc=e,n=n?e.clipPos(n):r(0,0),this.pos={from:n,to:n},"object"==typeof o?l=o.caseFold:(l=o,o=null),"string"==typeof t?(null==l&&(l=!1),this.matches=function(n,r){return(n?d:p)(e,t,r,l)}):(t=i(t,"gm"),o&&!1===o.multiline?this.matches=function(n,r){return(n?c:s)(e,t,r)}:this.matches=function(n,r){return(n?u:a)(e,t,r)})}String.prototype.normalize?(t=function(e){return e.normalize("NFD").toLowerCase()},n=function(e){return e.normalize("NFD")}):(t=function(e){return e.toLowerCase()},n=function(e){return e}),f.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){for(var n=this.matches(t,this.doc.clipPos(t?this.pos.from:this.pos.to));n&&0==e.cmpPos(n.from,n.to);)t?n.from.ch?n.from=r(n.from.line,n.from.ch-1):n=n.from.line==this.doc.firstLine()?null:this.matches(t,this.doc.clipPos(r(n.from.line-1))):n.to.ch<this.doc.getLine(n.to.line).length?n.to=r(n.to.line,n.to.ch+1):n=n.to.line==this.doc.lastLine()?null:this.matches(t,r(n.to.line+1,0));if(n)return this.pos=n,this.atOccurrence=!0,this.pos.match||!0;var i=r(t?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:i,to:i},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,n){if(this.atOccurrence){var i=e.splitLines(t);this.doc.replaceRange(i,this.pos.from,this.pos.to,n),this.pos.to=r(this.pos.from.line+i.length-1,i[i.length-1].length+(1==i.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",(function(e,t,n){return new f(this.doc,e,t,n)})),e.defineDocExtension("getSearchCursor",(function(e,t,n){return new f(this,e,t,n)})),e.defineExtension("selectMatches",(function(t,n){for(var r=[],i=this.getSearchCursor(t,this.getCursor("from"),n);i.findNext()&&!(e.cmpPos(i.to(),this.getCursor("to"))>0);)r.push({anchor:i.from(),head:i.to()});r.length&&this.setSelections(r,0)}))}(n(17))},function(e,t,n){!function(e){function t(t,n,r){var i,o=t.getWrapperElement();return(i=o.appendChild(document.createElement("div"))).className=r?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top","string"==typeof n?i.innerHTML=n:i.appendChild(n),e.addClass(o,"dialog-opened"),i}function n(e,t){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=t}e.defineExtension("openDialog",(function(r,i,o){o||(o={}),n(this,null);var s=t(this,r,o.bottom),a=!1,l=this;function c(t){if("string"==typeof t)h.value=t;else{if(a)return;a=!0,e.rmClass(s.parentNode,"dialog-opened"),s.parentNode.removeChild(s),l.focus(),o.onClose&&o.onClose(s)}}var u,h=s.getElementsByTagName("input")[0];return h?(h.focus(),o.value&&(h.value=o.value,!1!==o.selectValueOnOpen&&h.select()),o.onInput&&e.on(h,"input",(function(e){o.onInput(e,h.value,c)})),o.onKeyUp&&e.on(h,"keyup",(function(e){o.onKeyUp(e,h.value,c)})),e.on(h,"keydown",(function(t){o&&o.onKeyDown&&o.onKeyDown(t,h.value,c)||((27==t.keyCode||!1!==o.closeOnEnter&&13==t.keyCode)&&(h.blur(),e.e_stop(t),c()),13==t.keyCode&&i(h.value,t))})),!1!==o.closeOnBlur&&e.on(s,"focusout",(function(e){null!==e.relatedTarget&&c()}))):(u=s.getElementsByTagName("button")[0])&&(e.on(u,"click",(function(){c(),l.focus()})),!1!==o.closeOnBlur&&e.on(u,"blur",c),u.focus()),c})),e.defineExtension("openConfirm",(function(r,i,o){n(this,null);var s=t(this,r,o&&o.bottom),a=s.getElementsByTagName("button"),l=!1,c=this,u=1;function h(){l||(l=!0,e.rmClass(s.parentNode,"dialog-opened"),s.parentNode.removeChild(s),c.focus())}a[0].focus();for(var p=0;p<a.length;++p){var d=a[p];!function(t){e.on(d,"click",(function(n){e.e_preventDefault(n),h(),t&&t(c)}))}(i[p]),e.on(d,"blur",(function(){--u,setTimeout((function(){u<=0&&h()}),200)})),e.on(d,"focus",(function(){++u}))}})),e.defineExtension("openNotification",(function(r,i){n(this,c);var o,s=t(this,r,i&&i.bottom),a=!1,l=i&&void 0!==i.duration?i.duration:5e3;function c(){a||(a=!0,clearTimeout(o),e.rmClass(s.parentNode,"dialog-opened"),s.parentNode.removeChild(s))}return e.on(s,"click",(function(t){e.e_preventDefault(t),c()})),l&&(o=setTimeout(c,l)),c}))}(n(17))},function(e,t,n){n(410);var r=n(25).Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},function(e,t,n){var r=n(45),i=n(132).f;n(125)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(r(e),t)}}))},function(e,t,n){"use strict";var r=n(412);function i(){}e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(0!==(t=t.filter((function(e){return null!=e}))).length)return 1===t.length?t[0]:t.reduce((function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}))}},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=f(n(416)),a=f(n(418)),l=f(n(195)),c=n(419),u=f(n(0)),h=f(n(135)),p=n(16),d=n(196);function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}return e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=[];c.transitionEnd&&v.push(c.transitionEnd),c.animationEnd&&v.push(c.animationEnd);h.default.node,d.nameShape.isRequired,h.default.bool,h.default.bool,h.default.bool,h.default.number,h.default.number,h.default.number;var b=(i=r=function(e){function t(){var n,r;g(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=y(this,e.call.apply(e,[this].concat(o))),r.componentWillAppear=function(e){r.props.appear?r.transition("appear",e,r.props.appearTimeout):e()},r.componentWillEnter=function(e){r.props.enter?r.transition("enter",e,r.props.enterTimeout):e()},r.componentWillLeave=function(e){r.props.leave?r.transition("leave",e,r.props.leaveTimeout):e()},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf,m(e,t))}(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach((function(e){clearTimeout(e)})),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var r=(0,p.findDOMNode)(this);if(r){var i=this.props.name[e]||this.props.name+"-"+e,o=this.props.name[e+"Active"]||i+"-active",l=null,u=void 0;(0,s.default)(r,i),this.queueClassAndNode(o,r);var h=function(e){e&&e.target!==r||(clearTimeout(l),u&&u(),(0,a.default)(r,i),(0,a.default)(r,o),u&&u(),t&&t())};n?(l=setTimeout(h,n),this.transitionTimeouts.push(l)):c.transitionEnd&&(u=function(e,t){return v.length?v.forEach((function(n){return e.addEventListener(n,t,!1)})):setTimeout(t,0),function(){v.length&&v.forEach((function(n){return e.removeEventListener(n,t,!1)}))}}(r,h))}else t&&t()},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,l.default)((function(){return n.flushClassNameAndNodeQueueOnNextFrame()})))},t.prototype.flushClassNameAndNodeQueueOnNextFrame=function(){var e=this;this.rafHandle=(0,l.default)((function(){return e.flushClassNameAndNodeQueue()}))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach((function(e){e.node.scrollTop,(0,s.default)(e.node,e.className)})),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=o({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,u.default.cloneElement(u.default.Children.only(this.props.children),e)},t}(u.default.Component),r.displayName="CSSTransitionGroupChild",i);t.default=b,e.exports=t.default},function(e,t,n){"use strict";var r=n(92);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var i=r(n(417));e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},function(e,t,n){"use strict";var r=n(92);t.__esModule=!0,t.default=t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var i,o,s,a,l,c,u,h,p,d,f,m=r(n(133)),g="transform";if(t.transform=g,t.animationEnd=s,t.transitionEnd=o,t.transitionDelay=u,t.transitionTiming=c,t.transitionDuration=l,t.transitionProperty=a,t.animationDelay=f,t.animationTiming=d,t.animationDuration=p,t.animationName=h,m.default){var y=function(){for(var e,t,n=document.createElement("div").style,r={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},i=Object.keys(r),o="",s=0;s<i.length;s++){var a=i[s];if(a+"TransitionProperty"in n){o="-"+a.toLowerCase(),e=r[a]("TransitionEnd"),t=r[a]("AnimationEnd");break}}!e&&"transitionProperty"in n&&(e="transitionend");!t&&"animationName"in n&&(t="animationend");return n=null,{animationEnd:t,transitionEnd:e,prefix:o}}();i=y.prefix,t.transitionEnd=o=y.transitionEnd,t.animationEnd=s=y.animationEnd,t.transform=g=i+"-"+g,t.transitionProperty=a=i+"-transition-property",t.transitionDuration=l=i+"-transition-duration",t.transitionDelay=u=i+"-transition-delay",t.transitionTiming=c=i+"-transition-timing-function",t.animationName=h=i+"-animation-name",t.animationDuration=p=i+"-animation-duration",t.animationTiming=d=i+"-animation-delay",t.animationDelay=f=i+"-animation-timing-function"}var v={transform:g,end:o,property:a,timing:c,delay:u,duration:l};t.default=v},function(e,t,n){(function(e){const t=n(1).join(__dirname,"fs_admin.node");try{global.process.dlopen(e,t)}catch(e){throw new Error("Cannot open "+t+": "+e)}}).call(this,n(34)(e))},function(e,t,n){e.exports=n.p+"fff110f06938764612a1a3588659e22e.cmd"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var r=a(n(423)),i=a(n(136)),o=a(n(435)),s=a(n(436));function a(e){return e&&e.__esModule?e:{default:e}}var l=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,s.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return n.push(e)})):(0,o.default)(t)?(0,i.default)(t,(function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)})):(0,r.default)(t)&&n.push(t)})),n};t.default=l},function(e,t,n){var r=n(46),i=n(26),o=n(31);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},function(e,t,n){var r=n(62),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(427)();e.exports=r},function(e,t){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===n(o[l],l,o))break}return t}}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(46),i=n(31);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(46),i=n(138),o=n(31),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!s[r(e)]}},function(e,t,n){var r=n(141),i=n(433),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(203)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(205);e.exports=function(e){return"function"==typeof e?e:r}},function(e,t,n){var r=n(46),i=n(142),o=n(31),s=Function.prototype,a=Object.prototype,l=s.toString,c=a.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},function(e,t,n){var r=n(206),i=n(437),o=n(495),s=n(26);e.exports=function(e,t){return(s(e)?r:o)(e,i(t,3))}},function(e,t,n){var r=n(438),i=n(482),o=n(205),s=n(26),a=n(492);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?s(e)?i(e[0],e[1]):r(e):a(e)}},function(e,t,n){var r=n(439),i=n(481),o=n(216);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(143),i=n(208);e.exports=function(e,t,n,o){var s=n.length,a=s,l=!o;if(null==e)return!a;for(e=Object(e);s--;){var c=n[s];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<a;){var u=(c=n[s])[0],h=e[u],p=c[1];if(l&&c[2]){if(void 0===h&&!(u in e))return!1}else{var d=new r;if(o)var f=o(h,p,u,e,t,d);if(!(void 0===f?i(p,h,3,o,d):f))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(96),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(96);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(96);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(96);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(95);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(95),i=n(145),o=n(146);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(204),i=n(451),o=n(54),s=n(207),a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,h=c.hasOwnProperty,p=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?p:a).test(s(e))}},function(e,t,n){var r,i=n(452),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},function(e,t,n){var r=n(29)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(455),i=n(95),o=n(145);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(e,t,n){var r=n(456),i=n(457),o=n(458),s=n(459),a=n(460);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},function(e,t,n){var r=n(97);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(97),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(97),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(97);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(98);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(98);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(98);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(98);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t,n){var r=n(143),i=n(209),o=n(472),s=n(475),a=n(99),l=n(26),c=n(137),u=n(202),h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,d,f,m){var g=l(e),y=l(t),v=g?"[object Array]":a(e),b=y?"[object Array]":a(t),w=(v="[object Arguments]"==v?h:v)==h,C=(b="[object Arguments]"==b?h:b)==h,S=v==b;if(S&&c(e)){if(!c(t))return!1;g=!0,w=!1}if(S&&!w)return m||(m=new r),g||u(e)?i(e,t,n,d,f,m):o(e,t,v,n,d,f,m);if(!(1&n)){var E=w&&p.call(e,"__wrapped__"),k=C&&p.call(t,"__wrapped__");if(E||k){var x=E?e.value():e,D=k?t.value():t;return m||(m=new r),f(x,D,n,d,m)}}return!!S&&(m||(m=new r),s(e,t,n,d,f,m))}},function(e,t,n){var r=n(146),i=n(468),o=n(469);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,e.exports=s},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(62),i=n(210),o=n(144),s=n(209),a=n(473),l=n(474),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,h,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=a;case"[object Set]":var f=1&r;if(d||(d=l),e.size!=t.size&&!f)return!1;var m=p.get(e);if(m)return m==t;r|=2,p.set(e,t);var g=s(d(e),d(t),r,c,h,p);return p.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var r=n(211),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,s,a){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var h=u;h--;){var p=c[h];if(!(l?p in t:i.call(t,p)))return!1}var d=a.get(e),f=a.get(t);if(d&&f)return d==t&&f==e;var m=!0;a.set(e,t),a.set(t,e);for(var g=l;++h<u;){var y=e[p=c[h]],v=t[p];if(o)var b=l?o(v,y,p,t,e,a):o(y,v,p,e,t,a);if(!(void 0===b?y===v||s(y,v,n,o,a):b)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var w=e.constructor,C=t.constructor;w==C||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof C&&C instanceof C||(m=!1)}return a.delete(e),a.delete(t),m}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}},function(e,t,n){var r=n(47)(n(29),"DataView");e.exports=r},function(e,t,n){var r=n(47)(n(29),"Promise");e.exports=r},function(e,t,n){var r=n(47)(n(29),"Set");e.exports=r},function(e,t,n){var r=n(47)(n(29),"WeakMap");e.exports=r},function(e,t,n){var r=n(215),i=n(63);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],s=e[o];t[n]=[o,s,r(s)]}return t}},function(e,t,n){var r=n(208),i=n(483),o=n(489),s=n(148),a=n(215),l=n(216),c=n(100);e.exports=function(e,t){return s(e)&&a(t)?l(c(e),t):function(n){var s=i(n,e);return void 0===s&&s===t?o(n,e):r(t,s,3)}}},function(e,t,n){var r=n(217);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},function(e,t,n){var r=n(485),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=s},function(e,t,n){var r=n(486);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(146);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},function(e,t,n){var r=n(488);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(62),i=n(206),o=n(26),s=n(149),a=r?r.prototype:void 0,l=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(s(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t,n){var r=n(490),i=n(491);e.exports=function(e,t){return null!=e&&i(e,t,r)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(218),i=n(200),o=n(26),s=n(201),a=n(138),l=n(100);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,h=!1;++c<u;){var p=l(t[c]);if(!(h=null!=e&&n(e,p)))break;e=e[p]}return h||++c!=u?h:!!(u=null==e?0:e.length)&&a(u)&&s(p,u)&&(o(e)||i(e))}},function(e,t,n){var r=n(493),i=n(494),o=n(148),s=n(100);e.exports=function(e){return o(e)?r(s(e)):i(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(217);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(496),i=n(94);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},function(e,t,n){var r=n(198),i=n(497)(r);e.exports=i},function(e,t,n){var r=n(94);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,s=t?o:-1,a=Object(n);(t?s--:++s<o)&&!1!==i(a[s],s,a););return n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var r=s(n(136)),i=s(n(499)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function s(e){return e&&e.__esModule?e:{default:e}}var a=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,i.default)(e.default)||{};return t.map((function(t){var i=e[t];return i&&(0,r.default)(i,(function(e,t){n[t]||(n[t]={}),n[t]=o({},n[t],i[t])})),t})),n};t.default=a},function(e,t,n){var r=n(500);e.exports=function(e){return r(e,5)}},function(e,t,n){var r=n(143),i=n(501),o=n(219),s=n(503),a=n(504),l=n(507),c=n(508),u=n(509),h=n(510),p=n(211),d=n(511),f=n(99),m=n(512),g=n(513),y=n(518),v=n(26),b=n(137),w=n(520),C=n(54),S=n(522),E=n(63),k=n(150),x={};x["[object Arguments]"]=x["[object Array]"]=x["[object ArrayBuffer]"]=x["[object DataView]"]=x["[object Boolean]"]=x["[object Date]"]=x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Map]"]=x["[object Number]"]=x["[object Object]"]=x["[object RegExp]"]=x["[object Set]"]=x["[object String]"]=x["[object Symbol]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x["[object Error]"]=x["[object Function]"]=x["[object WeakMap]"]=!1,e.exports=function e(t,n,D,_,T,R){var A,O=1&n,P=2&n,I=4&n;if(D&&(A=T?D(t,_,T,R):D(t)),void 0!==A)return A;if(!C(t))return t;var M=v(t);if(M){if(A=m(t),!O)return c(t,A)}else{var F=f(t),N="[object Function]"==F||"[object GeneratorFunction]"==F;if(b(t))return l(t,O);if("[object Object]"==F||"[object Arguments]"==F||N&&!T){if(A=P||N?{}:y(t),!O)return P?h(t,a(A,t)):u(t,s(A,t))}else{if(!x[F])return T?t:{};A=g(t,F,O)}}R||(R=new r);var B=R.get(t);if(B)return B;R.set(t,A),S(t)?t.forEach((function(r){A.add(e(r,n,D,r,t,R))})):w(t)&&t.forEach((function(r,i){A.set(i,e(r,n,D,i,t,R))}));var L=M?void 0:(I?P?d:p:P?k:E)(t);return i(L||t,(function(r,i){L&&(r=t[i=r]),o(A,i,e(r,n,D,i,t,R))})),A}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(47),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,n){var r=n(101),i=n(63);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(101),i=n(150);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(54),i=n(141),o=n(506),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&n.push(a);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){(function(e){var r=n(29),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===i?r.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(34)(e))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(101),i=n(147);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){var r=n(101),i=n(221);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){var r=n(212),i=n(221),o=n(150);e.exports=function(e){return r(e,o,i)}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(151),i=n(514),o=n(515),s=n(516),a=n(517);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,n);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return o(e);case"[object Set]":return new l;case"[object Symbol]":return s(e)}}},function(e,t,n){var r=n(151);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(62),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},function(e,t,n){var r=n(151);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(519),i=n(142),o=n(141);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},function(e,t,n){var r=n(54),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t,n){var r=n(521),i=n(139),o=n(140),s=o&&o.isMap,a=s?i(s):r;e.exports=a},function(e,t,n){var r=n(99),i=n(31);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},function(e,t,n){var r=n(523),i=n(139),o=n(140),s=o&&o.isSet,a=s?i(s):r;e.exports=a},function(e,t,n){var r=n(99),i=n(31);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var r,i=n(136),o=(r=i)&&r.__esModule?r:{default:r},s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var a={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},l=t.autoprefix=function(e){var t={};return(0,o.default)(e,(function(e,n){var r={};(0,o.default)(e,(function(e,t){var n=a[t];n?r=s({},r,n(e)):r[t]=e})),t[n]=r})),t};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),s=(r=o)&&r.__esModule?r:{default:r};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,o,c;a(this,r);for(var u=arguments.length,h=Array(u),p=0;p<u;p++)h[p]=arguments[p];return o=c=l(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(h))),c.state={hover:!1},c.handleMouseOver=function(){return c.setState({hover:!0})},c.handleMouseOut=function(){return c.setState({hover:!1})},c.render=function(){return s.default.createElement(t,{onMouseOver:c.handleMouseOver,onMouseOut:c.handleMouseOut},s.default.createElement(e,i({},c.props,c.state)))},l(c,o)}return c(r,n),r}(s.default.Component)};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),s=(r=o)&&r.__esModule?r:{default:r};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,o,c;a(this,r);for(var u=arguments.length,h=Array(u),p=0;p<u;p++)h[p]=arguments[p];return o=c=l(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(h))),c.state={active:!1},c.handleMouseDown=function(){return c.setState({active:!0})},c.handleMouseUp=function(){return c.setState({active:!1})},c.render=function(){return s.default.createElement(t,{onMouseDown:c.handleMouseDown,onMouseUp:c.handleMouseUp},s.default.createElement(e,i({},c.props,c.state)))},l(c,o)}return c(r,n),r}(s.default.Component)};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2==0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n}},function(e,t,n){"use strict";const r=(e,...t)=>new Promise(n=>{n(e(...t))});e.exports=r,e.exports.default=r},function(e,t,n){!function(){"use strict";var e=function(e){return new t(e)};function t(e){if(!e||1!==e.nodeType)throw new Error("A DOM Element reference is required");this.el=e,this.classList=e.classList}function n(e,t){if(t=t||"a method","string"!=typeof e)throw new TypeError("Failed to execute '"+t+"' on 'ClassList': the token provided ('"+e+"') is not a string.");if(""===e)throw new SyntaxError("Failed to execute '"+t+"' on 'ClassList': the token provided must not be empty.");if(/\s/.test(e))throw new Error("Failed to execute '"+t+"' on 'ClassList': the token provided ('"+e+"') contains HTML space characters, which are not valid in tokens.")}t.prototype.toArray=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(/\s+/);return""===e[0]&&e.shift(),e},t.prototype.add=function(e){var t;n(e,"add"),this.classList?this.classList.add(e):-1===(t=this.toArray()).indexOf(e)&&(t.push(e),this.el.setAttribute("class",t.join(" ")))},t.prototype.contains=function(e){return n(e,"contains"),this.classList?this.classList.contains(e):this.toArray().indexOf(e)>-1},t.prototype.remove=function(e){var t,r,i,o,s;if("[object RegExp]"==Object.prototype.toString.call(e))for(i=0,s=(t=this.toArray()).length;i<s;i++)e.test(t[i])&&this.remove(t[i]);else n(e,"remove"),this.classList?this.classList.remove(e):(o=(r=this.toArray()).indexOf(e))>-1&&(r.splice(o,1),this.el.setAttribute("class",r.join(" ")))},t.prototype.toggle=function(e,t){n(e,"toggle");var r=this.contains(e),i=r?!0!==t&&"remove":!1!==t&&"add";return i&&this[i](e),"boolean"==typeof t?t:!r};var r=function(e,t){var n=window.Element.prototype,r=n.matches||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;if(!e||1!==e.nodeType)return!1;var i=e.parentNode;if(r)return r.call(e,t);for(var o=i.querySelectorAll(t),s=o.length,a=0;a<s;a++)if(o[a]===e)return!0;return!1};document.addEventListener("DOMContentLoaded",(function(){var t=!1,n=0,i=["input:not([type])","input[type=text]","input[type=search]","input[type=url]","input[type=tel]","input[type=email]","input[type=password]","input[type=number]","input[type=date]","input[type=month]","input[type=week]","input[type=time]","input[type=datetime]","input[type=datetime-local]","textarea","[role=textbox]"].join(",");function o(t){e(t).contains("focus-ring")||(e(t).add("focus-ring"),t.setAttribute("data-focus-ring-added",""))}document.body.addEventListener("keydown",(function(){t=!0,r(document.activeElement,":focus")&&o(document.activeElement),0!==n&&clearTimeout(n),n=setTimeout((function(){t=!1,n=0}),100)}),!0),document.body.addEventListener("focus",(function(e){var n;(t||(n=e.target,r(n,i)&&r(n,":not([readonly])")))&&o(e.target)}),!0),document.body.addEventListener("blur",(function(t){var n;(n=t.target).hasAttribute("data-focus-ring-added")&&(e(n).remove("focus-ring"),n.removeAttribute("data-focus-ring-added"))}),!0)}))}()},function(e,t,n){},,,,,,,function(e,t,n){"use strict";const r=document.createElement("div");r.style.setProperty("visibility","hidden"),r.style.setProperty("position","absolute");const i=["--font-size","--font-size-sm","--font-size-md","--font-size-lg","--font-size-xl","--font-size-xxl","--font-size-xs"];for(const e of i){const t=document.createElement("span");t.style.setProperty("font-size","var("+e),t.style.setProperty("font-family","Arial","important"),t.textContent="",r.appendChild(t)}document.body.appendChild(r),r.offsetHeight.toString(),document.body.removeChild(r)},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(8),o=n(102),s=n.n(o),a=n(222),l=n.n(a);const c=["renderer.js","main.js"];function u(e){if(!c.some(t=>e.endsWith(t)))return null;e.startsWith("file://")&&(e=s()(e));const t=e+".map";if(!i.existsSync(t))return null;try{const e=i.readFileSync(t,"utf8");return{url:r.basename(t),map:e}}catch(e){return null}}const h=new WeakMap;let p;function d(e,t){return h.set(e,t),e+t.map(e=>"\n    at "+e).join("")}function f(e){return{name:e.name,message:e.message,stack:m(e)}}function m(e){let t=h.get(e);return t||((e.stack||"").toString(),t=h.get(e)),t?p(e,t):e.stack}function g(e,t){return t?function(e,t){return(e=f(e)).stack?t?`${t}\n${e.stack}`:e.stack.trim():t?`${t}\n${e.name}: ${e.message}`:`${e.name}: ${e.message}`}(t,e):e}var y=n(10);function v(e,t){y.ipcRenderer.on(e,t)}function b(e,t){y.ipcRenderer.removeListener(e,t)}var w=n(4),C=n(223),S=n.n(C);function E(e,t){return(...n)=>(n=n.length!==t?n.slice(0,t):n,function(e,...t){return y.ipcRenderer.invoke(e,...t)}(e,...n))}function k(e,t){return(...n)=>{n=n.length!==t?n.slice(0,t):n,function(e,...t){y.ipcRenderer.send(e,...t)}(e,...n)}}const x=k("select-all-window-contents",0),D=k("update-menu-state",1),_=k("renderer-ready",1),T=k("execute-menu-item-by-id",1),R=E("is-window-focused",0),A=k("focus-window",0),O=E("show-item-in-folder",1),P=k("unsafe-open-directory",1);const I=E("open-external",1),M=E("move-to-trash",1),F=E("get-current-window-state",0),N=E("get-current-window-zoom-factor",0),B=E("check-for-updates",1),L=k("quit-and-install-updates",0);const H=k("set-native-theme-source",1),U=E("should-use-dark-colors",0),j=k("minimize-window",0),W=k("maximize-window",0),z=k("unmaximize-window",0),G=(k("close-window",0),E("is-window-maximized",0)),q=E("get-apple-action-on-double-click",0),V=k("show-certificate-trust-dialog",2),$=E("get-path",1),K=E("get-app-architecture",0),Y=E("get-app-path",0),Z=E("is-running-under-arm64-translation",0);function X(){!function(e,...t){y.ipcRenderer.sendSync(e,...t)}("will-quit")}const Q=E("move-to-applications-folder",0),J=k("get-app-menu",0),ee=E("show-contextual-menu",2),te=k("update-preferred-app-menu-item-labels",1);function ne(e){return{message:e.message||""+e,name:e.name||""+e.name,stack:e.stack||void 0}}const re=k("uncaught-exception",1);const ie=k("send-error-report",3);const oe=k("update-accounts",1),se=E("resolve-proxy",1),ae=E("is-in-application-folder",0),le=E("show-save-dialog",1),ce=E("show-open-dialog",1),ue=global,he=k("log",2);function pe(e,t,n){he(e,g("[ui] "+t,n))}ue.log={error(e,t){pe("error",e,t),console.error(g(e,t))},warn(e,t){pe("warn",e,t),console.warn(g(e,t))},info(e,t){pe("info",e,t),console.info(g(e,t))},debug(e,t){pe("debug",e,t),console.debug(g(e,t))}};var de=n(0),fe=n.n(de),me=n(16),ge=n.n(me),ye=n(13),ve=n.n(ye),be=n(36);function we(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Se(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Ee=n(5),ke=n.n(Ee),xe=fe.a.createContext(null);function De(e,t){var n=Object.create(null);return e&&de.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(de.isValidElement)(e)?t(e):e}(e)})),n}function _e(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Te(e,t,n){var r=De(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];a[i[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}(t,r);return Object.keys(i).forEach((function(o){var s=i[o];if(Object(de.isValidElement)(s)){var a=o in t,l=o in r,c=t[o],u=Object(de.isValidElement)(c)&&!c.props.in;!l||a&&!u?l||!a||u?l&&a&&Object(de.isValidElement)(c)&&(i[o]=Object(de.cloneElement)(s,{onExited:n.bind(null,s),in:c.props.in,exit:_e(s,"exit",e),enter:_e(s,"enter",e)})):i[o]=Object(de.cloneElement)(s,{in:!1}):i[o]=Object(de.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:_e(s,"exit",e),enter:_e(s,"enter",e)})}})),i}var Re=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Ae=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Se(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,De(n.children,(function(e){return Object(de.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:_e(e,"appear",n),enter:_e(e,"enter",n),exit:_e(e,"exit",n)})}))):Te(e,i,o),firstRender:!1}},n.handleExited=function(e,t){var n=De(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Ce({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=we(e,["component","childFactory"]),i=this.state.contextValue,o=Re(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?fe.a.createElement(xe.Provider,{value:i},o):fe.a.createElement(xe.Provider,{value:i},fe.a.createElement(t,r,o))},t}(fe.a.Component);Ae.propTypes={},Ae.defaultProps={component:"div",childFactory:function(e){return e}};var Oe=Ae;function Pe(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Ie=!1,Me=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i="exited",r.appearStatus="entering"):i="entered":i=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",r.state={status:i},r.nextCallback=null,r}Se(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(t="entering"):"entering"!==n&&"entered"!==n||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),"entering"===t?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[ge.a.findDOMNode(this),r],o=i[0],s=i[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||Ie?this.safeSetState({status:"entered"},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:"entering"},(function(){t.props.onEntering(o,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:"entered"},(function(){t.props.onEntered(o,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:ge.a.findDOMNode(this);t&&!Ie?(this.props.onExit(r),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:ge.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,we(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return fe.a.createElement(xe.Provider,{value:null},"function"==typeof n?n(e,r):fe.a.cloneElement(fe.a.Children.only(n),r))},t}(fe.a.Component);function Fe(){}Me.contextType=xe,Me.propTypes={},Me.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Fe,onEntering:Fe,onEntered:Fe,onExit:Fe,onExiting:Fe,onExited:Fe},Me.UNMOUNTED="unmounted",Me.EXITED="exited",Me.ENTERING="entering",Me.ENTERED="entered",Me.EXITING="exiting";var Ne=Me,Be=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"==typeof n.className?n.className=Pe(n.className,r):n.setAttribute("class",Pe(n.className&&n.className.baseVal||"",r)));var n,r}))},Le=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.addClass(i,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}Se(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&Be(e,r),i&&Be(e,i),o&&Be(e,o)},n.render=function(){var e=this.props,t=(e.classNames,we(e,["classNames"]));return fe.a.createElement(Ne,Ce({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(fe.a.Component);Le.defaultProps={classNames:""},Le.propTypes={};var He,Ue,je,We,ze,Ge,qe=Le;function Ve(e){return"merge"===e.kind}function $e(e){return"rebase"===e.kind}function Ke(e){return"cherryPick"===e.kind}function Ye(e){throw new Error(e)}function Ze(e,t){throw new Error(t)}function Xe(e,t){return null==t?Ye(e):t}function Qe(e,t){if(null==e)return Ye(t)}!function(e){e[e.Repository=0]="Repository",e[e.CloningRepository=1]="CloningRepository",e[e.MissingRepository=2]="MissingRepository"}(He||(He={})),function(e){e[e.Repository=0]="Repository",e[e.Branch=1]="Branch",e[e.AppMenu=2]="AppMenu",e[e.AddMenu=3]="AddMenu"}(Ue||(Ue={})),function(e){e[e.Changes=0]="",e[e.History=1]=""}(je||(je={})),function(e){e.WorkingDirectory="WorkingDirectory",e.Stash="Stash"}(We||(We={})),function(e){e.History="",e.Compare=""}(ze||(ze={})),function(e){e.Ahead="Ahead",e.Behind="Behind"}(Ge||(Ge={}));const Je={moveItemToTrash:M,beep:y.shell.beep,openExternal:I,showItemInFolder:e=>Object(w.stat)(e).then(()=>O(e)).catch(t=>log.error(`Unable show item in folder '${e}'`,t)),showFolderContents:async function(e){const t=await Object(w.stat)(e).catch(t=>(log.error("Unable to retrieve file information for "+e,t),null));if(!t)return;if(!t.isDirectory())return log.error(`Trying to get the folder contents of a non-folder at '${e}'`),void await O(e);await async function(e){const t=await S()(e);if("com.apple.application-bundle"===t.contentType)return!0;const n=t.contentTypeTree;if(Array.isArray(n))for(const e of n)switch(e){case"com.apple.application-bundle":case"com.apple.application":case"public.executable":return!0}return!1}(e).catch(t=>(log.error(`Failed to load metadata for path '${e}'`,t),!0))?(log.info(`Preventing direct open of path '${e}' as it appears to be an application bundle`),await O(e)):P(e)},openPath:y.shell.openPath};function et(e,t){const n=r.join(e.path,t);return Je.showItemInFolder(n)}var tt,nt=n(9);!function(e){e[e.Push=1]="Push",e[e.Pull=2]="",e[e.Fetch=3]="Fetch",e[e.Clone=4]="Clone",e[e.Checkout=5]="Checkout",e[e.Merge=6]="Merge",e[e.Rebase=7]="Rebase",e[e.CherryPick=8]="CherryPick",e[e.CreateBranchForCherryPick=9]="CreateBranchForCherryPick",e[e.Squash=10]="Squash",e[e.Reorder=11]="Reorder",e[e.DiscardChanges=12]="DiscardChanges"}(tt||(tt={}));class rt extends Error{constructor(e,t){super(e.message),this.name=e.name,this.stack=e.stack,this.underlyingError=e,this.metadata=t}}class it extends rt{constructor(e,t,n){super(e,{gitContext:{kind:"checkout",branchToCheckout:n},retryAction:{type:tt.Checkout,branch:n,repository:t},repository:t})}}class ot extends rt{constructor(e,t,n){super(e,{retryAction:{type:tt.DiscardChanges,files:n,repository:t}})}}var st=n(224),at=n.n(st);function lt(...e){const t=r.resolve(...e);return at()(t)}async function ct(e,t,n=r){if(0===e.length)return null;const{join:i,normalize:o,resolve:s}=n,a=o(e),l=o(i(...t));if(-1!==a.indexOf("\0")||-1!==l.indexOf("\0"))return null;const c=s(a,l),u=await Object(w.realpath)(a);return(await Object(w.realpath)(c)).startsWith(u)?c:null}const ut=/^\[([a-z]{1,})\]\s(.*)/i;function ht(e){return null!=e}function pt(e){return e.map(e=>function(e){const t=e.trim(),n=ut.exec(t);if(null===n)return log.debug("[ReleaseNotes] unable to convert text into entry: "+e),null;const r=n[1].toLowerCase(),i=n[2];return"new"===r||"fixed"===r||"improved"===r||"added"===r||"pretext"===r||"removed"===r?{kind:r,message:i}:(log.debug(`[ReleaseNotes] kind ${r} was found but is not a valid entry`),{kind:"other",message:i})}(e)).filter(ht)}function dt(e){const t=pt(e.notes),n=t.filter(e=>"new"===e.kind||"added"===e.kind||"improved"===e.kind),r=t.filter(e=>"fixed"===e.kind),i=t.filter(e=>"removed"===e.kind||"other"===e.kind),o=t.filter(e=>e.message.includes(" Thanks @")),s=ve()(e.pub_date).format("MMMM Do YYYY");return{latestVersion:e.version,datePublished:s,pretext:void 0,enhancements:n,bugfixes:r,other:i,thankYous:o}}async function ft(e){const t=new URL("https://central.github.com/deployments/desktop/desktop/changelog.json");void 0!==e&&t.searchParams.set("limit",e.toString());const n=await fetch(t.toString());if(n.ok){return await n.json()}return[]}const mt=lt(__dirname,"static/release-note-header-left.svg"),gt=lt(__dirname,"static/release-note-header-right.svg");function yt(e,t){return Object.values(e).find(e=>e===t)}function vt(e,t){const n=localStorage.getItem(e);return null===n?t:"1"===n||"true"===n||"0"!==n&&"false"!==n&&t}function bt(e,t){localStorage.setItem(e,t?"1":"0")}function wt(e,t){const n=localStorage.getItem(e);if(null===n||0===n.length)return t;const r=parseInt(n,10);return isNaN(r)?t:r}function Ct(e,t){localStorage.setItem(e,t.toString())}function St(e){return(localStorage.getItem(e)||"").split(kt).map(parseFloat).filter(e=>!isNaN(e))}function Et(e,t){localStorage.setItem(e,t.join(kt))}const kt=",";function xt(e){const t=localStorage.getItem(e);if(null!==t)try{return JSON.parse(t)}catch(e){return}}function Dt(e,t){const n=JSON.stringify(t);localStorage.setItem(e,n)}function _t(){return"1"===process.env.GITHUB_DESKTOP_PREVIEW_FEATURES}function Tt(){return _t()||!1}function Rt(){return Tt()}function At(){return Tt()}var Ot;!function(e){e[e.CheckingForUpdates=0]="CheckingForUpdates",e[e.UpdateAvailable=1]="UpdateAvailable",e[e.UpdateNotAvailable=2]="UpdateNotAvailable",e[e.UpdateReady=3]="UpdateReady"}(Ot||(Ot={}));const Pt=new class{constructor(){this.emitter=new nt.Emitter,this.status=Ot.UpdateNotAvailable,this.lastSuccessfulCheck=null,this.newRelease=null,this.userInitiatedUpdate=!0,this.onAutoUpdaterError=(e,t)=>{this.status=Ot.UpdateNotAvailable,this.emitError(t)},this.onCheckingForUpdate=()=>{this.status=Ot.CheckingForUpdates,this.emitDidChange()},this.onUpdateAvailable=()=>{this.touchLastChecked(),this.status=Ot.UpdateAvailable,this.emitDidChange()},this.onUpdateNotAvailable=()=>{this.touchLastChecked(),this.status=Ot.UpdateNotAvailable,this.emitDidChange()},this.onUpdateDownloaded=async()=>{this.newRelease=await async function(){return dt((await ft())[0])}(),this.status=Ot.UpdateReady,this.emitDidChange()};const e=wt("last-successful-update-check",0);e>0&&(this.lastSuccessfulCheck=new Date(e)),v("auto-updater-error",this.onAutoUpdaterError),v("auto-updater-checking-for-update",this.onCheckingForUpdate),function(e){v("auto-updater-update-available",e)}(this.onUpdateAvailable),function(e){v("auto-updater-update-not-available",e)}(this.onUpdateNotAvailable),function(e){v("auto-updater-update-downloaded",e)}(this.onUpdateDownloaded)}touchLastChecked(){const e=new Date;this.lastSuccessfulCheck=e,Ct("last-successful-update-check",e.getTime())}onDidChange(e){return this.emitter.on("did-change",e)}emitDidChange(){this.emitter.emit("did-change",this.state)}onError(e){return this.emitter.on("error",e)}emitError(e){const t=new rt(e,{backgroundTask:!this.userInitiatedUpdate});this.emitter.emit("error",t)}get state(){return{status:this.status,lastSuccessfulCheck:this.lastSuccessfulCheck,newRelease:this.newRelease}}async checkForUpdates(e){let t="https://central.github.com/api/deployments/desktop/desktop/latest?version=2.9.11&env=production";if(!0===await Z()){const e=new URL(t);e.pathname=e.pathname.replace(/\/desktop\/desktop\/(x64\/)?latest/,"/desktop/desktop/arm64/latest"),t=e.toString()}this.userInitiatedUpdate=!e;const n=await B(t);void 0!==n&&this.emitError(n)}quitAndInstallUpdate(){X(),L()}};const It=function(e,t,n){const r=()=>function(e,t){return vt("features/"+e,t)}(e,t);if(n){const e=r();return()=>e}return r}("should-render-application-menu",!1,!0);var Mt=n(12),Ft=n(22);function Nt(e,t){return e.endpoint===t.endpoint&&e.id===t.id}class Bt{constructor(e,t,n,r,i,o,s){this.login=e,this.endpoint=t,this.token=n,this.emails=r,this.avatarURL=i,this.id=o,this.name=s}static anonymous(){return new Bt("",Nn(),"",[],"",-1,"")}withToken(e){return new Bt(this.login,this.endpoint,e,this.emails,this.avatarURL,this.id,this.name)}get friendlyName(){return""!==this.name?this.name:this.login}}let Lt=null,Ht=null;async function Ut(){return Lt||(Lt=await Y()),Lt}class jt extends Error{constructor(e,t){let n;if(t&&t.message){n=t.message;const e=t.errors,r=e&&e.map(e=>e.message).join(", ");r&&(n=`${n} (${r})`)}else n=`API error ${e.url}: ${e.statusText} (${e.status})`;super(n),this.responseStatus=e.status,this.apiError=t}}async function Wt(e){try{return await e.json()}catch(t){const n=e.headers.get("Content-Length")||"(missing)",r=e.headers.get("X-GitHub-Request-Id")||"(missing)";throw log.warn(`deserialize: invalid JSON found at '${e.url}' - status: ${e.status}, length: '${n}' id: '${r}'`,t),t}}function zt(e,t,n,r,i,o,s=!1){const a=function(e,t){let n="/"===t[0]?t.substr(1):t;n.startsWith("api/v3/")&&(n=n.substr(7));const r=e.endsWith("/")?e:e+"/";return new Mt.URL(n,r).toString()}(e,r);let l={Accept:"application/vnd.github.v3+json, application/json","Content-Type":"application/json","User-Agent":Gt()};t&&(l.Authorization="token "+t),l=Object.assign(Object.assign({},l),o);const c={headers:l,method:n,body:JSON.stringify(i)};return s&&(c.cache="reload"),fetch(a,c)}function Gt(){return"GitHubDesktop/2.9.11 (Macintosh)"}async function qt(e){if(e.ok)return Wt(e);{let t;try{t=await Wt(e)}catch(t){throw new jt(e,null)}throw new jt(e,t)}}function Vt(e,t){const n=Object.keys(t).map(e=>`${e}=${encodeURIComponent(t[e])}`).join("&");return n.length?-1===e.indexOf("?")?`${e}?${n}`:`${e}&${n}`:e}var $t;function Kt(e){return e===$t.Sms?"We just sent you a message via SMS with your authentication code. Enter the code in the form below to verify your identity.":"Open the two-factor authentication app on your device to view your authentication code and verify your identity."}!function(e){e[e.Sms=0]="Sms",e[e.App=1]="App"}($t||($t={}));var Yt=n(225),Zt=n.n(Yt);function Xt(e){if(window.crypto){const t=new Uint8Array(e);return crypto.getRandomValues(t),t}return Object(be.randomBytes)(e)}function Qt(){return Zt()({random:Xt(16)})}var Jt=n(226),en=n.n(Jt),tn=n(227),nn=n.n(tn),rn=n(55);const on=new rn.SemVer("3.1.0"),sn=new rn.SemVer("3.2.0"),an=new Map,ln=new Map,cn=e=>"endpoint-version:"+e,un=e=>e===Nn(),hn=e=>/^https:\/\/[a-z0-9-]+\.ghe\.com$/i.test(e);function pn(e){const t=cn(e),n=ln.get(t);if(void 0!==n)return n;const r=localStorage.getItem(t),i=null===r?null:rn.parse(r);return null!==i&&ln.set(t,i),i}function dn(e,t,n){return!1!==e&&(!0===e?t:(Qe(n,"Need to provide a version to compare against"),t&&rn.satisfies(n,e)))}const fn=({dotcom:e,ae:t,es:n},r=pn)=>i=>{var o;return dn(e,un(i))||dn(t,hn(i),sn)||dn(n,(e=>!un(e)&&!hn(e))(i),null!==(o=r(i))&&void 0!==o?o:on)},mn=fn({dotcom:!1,ae:">= 3.0.0",es:">= 3.0.0"}),gn=fn({dotcom:!0,ae:">= 3.4.0",es:">= 3.4.0"}),yn=fn({dotcom:!0,ae:!1,es:!1}),vn=fn({dotcom:!0,ae:!1,es:!1}),bn=process.env.DESKTOP_GITHUB_DOTCOM_API_ENDPOINT,wn=process.env.DESKTOP_GITHUB_DOTCOM_HTML_URL,Cn=process.env.DESKTOP_GITHUB_DOTCOM_ADDITIONAL_COOKIES;void 0!==Cn&&(document.cookie+="; "+Cn);const Sn="de0e3c7e9973e1c4dd77",En="1273305a5fc2737c2ca2911948ba24a9d961e2a3";Sn.length&&En.length||log.warn("DESKTOP_OAUTH_CLIENT_ID and/or DESKTOP_OAUTH_CLIENT_SECRET is undefined. You won't be able to authenticate new users.");const kn=["repo","user","workflow"];var xn;!function(e){e[e.NotModified=304]="NotModified",e[e.NotFound=404]="NotFound"}(xn||(xn={}));class Dn extends Error{}var _n,Tn,Rn;function An(e){const t=e.headers.get("Link");if(!t)return null;for(const e of t.split(",")){const t=e.match(/<([^>]+)>; rel="([^"]+)"/);if(t&&"next"===t[2]){return Mt.parse(t[1]).path||null}}return null}function On(e){const t=An(e);if(!t)return null;const{pathname:n,query:r}=Mt.parse(t,!0),{per_page:i,page:o}=r,s="string"==typeof i?parseInt(i,10):NaN,a="string"==typeof o?parseInt(o,10):NaN;if(!s||!a)return t;const l=(a-1)*s,c=Math.min(100,2*s);return s!==c&&l%c==0?(r.per_page=""+c,r.page=""+(l/c+1),Mt.format({pathname:n,query:r})):t}!function(e){e.Queued="queued",e.InProgress="in_progress",e.Completed="completed"}(_n||(_n={})),function(e){e.ActionRequired="action_required",e.Canceled="cancelled",e.TimedOut="timed_out",e.Failure="failure",e.Neutral="neutral",e.Success="success",e.Skipped="skipped",e.Stale="stale"}(Tn||(Tn={}));class Pn{constructor(e,t){this.endpoint=e,this.token=t}static onTokenInvalidated(e){Pn.emitter.on(Pn.TOKEN_INVALIDATED_EVENT,e)}static emitTokenInvalidated(e){Pn.emitter.emit(Pn.TOKEN_INVALIDATED_EVENT,e)}static fromAccount(e){return new Pn(e.endpoint,e.token)}async getAliveDesktopChannel(){try{const e=await this.request("GET","/desktop_internal/alive-channel");return await qt(e)}catch(e){return log.warn("Alive channel request failed: "+e),null}}async getAliveWebSocketURL(){try{const e=await this.request("GET","/alive_internal/websocket-url");if(e.status===xn.NotFound)return null;return(await qt(e)).url}catch(e){throw log.warn("Alive web socket request failed: "+e),e}}async fetchRepository(e,t){try{const n=await this.request("GET",`repos/${e}/${t}`);return n.status===xn.NotFound?(log.warn(`fetchRepository: '${e}/${t}' returned a 404`),null):await qt(n)}catch(n){return log.warn(`fetchRepository: an error occurred for '${e}/${t}'`,n),null}}async fetchRepositoryCloneInfo(e,t,n){const r=await this.request("GET",`repos/${e}/${t}`,{reloadCache:!0});if(r.status===xn.NotFound)return null;const i=await qt(r);return{url:"ssh"===n?i.ssh_url:i.clone_url,defaultBranch:i.default_branch}}async fetchRepositories(){try{return(await this.fetchAll("user/repos")).filter(e=>null!==e.owner)}catch(e){return log.warn("fetchRepositories: "+e),null}}async fetchAccount(){try{const e=await this.request("GET","user");return await qt(e)}catch(e){throw log.warn("fetchAccount: failed with endpoint "+this.endpoint,e),e}}async fetchEmails(){try{const e=await this.request("GET","user/emails"),t=await qt(e);return Array.isArray(t)?t:[]}catch(e){return log.warn("fetchEmails: failed with endpoint "+this.endpoint,e),[]}}async fetchOrgs(){try{return await this.fetchAll("user/orgs")}catch(e){return log.warn("fetchOrgs: failed with endpoint "+this.endpoint,e),[]}}async createRepository(e,t,n,r){try{const i=e?`orgs/${e.login}/repos`:"user/repos",o=await this.request("POST",i,{body:{name:t,description:n,private:r}});return await qt(o)}catch(t){if(t instanceof jt){if(null!==e)throw new Error(`Unable to create repository for organization '${e.login}'. Verify that the repository does not already exist and that you have permission to create a repository there.`);throw t}throw log.error("createRepository: failed with endpoint "+this.endpoint,t),new Error("Unable to publish repository. Please check if you have an internet connection and try again.")}}async forkRepository(e,t){try{const n=`/repos/${e}/${t}/forks`,r=await this.request("POST",n);return await qt(r)}catch(n){throw log.error(`forkRepository: failed to fork ${e}/${t} at endpoint: ${this.endpoint}`,n),n}}async fetchIssues(e,t,n,r){const i={state:n};r&&!isNaN(r.getTime())&&(i.since=r.toISOString().replace(/\.\d{3}Z$/,"Z"));const o=Vt(`repos/${e}/${t}/issues`,i);try{return(await this.fetchAll(o)).filter(e=>!e.pullRequest)}catch(n){throw log.warn(`fetchIssues: failed for repository ${e}/${t}`,n),n}}async fetchAllOpenPullRequests(e,t){const n=Vt(`repos/${e}/${t}/pulls`,{state:"open"});try{return await this.fetchAll(n)}catch(n){throw log.warn(`failed fetching open PRs for repository ${e}/${t}`,n),n}}async fetchUpdatedPullRequests(e,t,n,r=320){const i=n.getTime(),o=Vt(`repos/${e}/${t}/pulls`,{state:"all",sort:"updated",direction:"desc"});try{return(await this.fetchAll(o,{perPage:10,getNextPagePath:On,continue(e){if(e.length>=r)throw new Dn("got max pull requests, aborting");const t=e[e.length-1];return void 0!==t&&Date.parse(t.updated_at)>i},suppressErrors:!1})).filter(e=>Date.parse(e.updated_at)>=i)}catch(n){throw log.warn(`failed fetching updated PRs for repository ${e}/${t}`,n),n}}async fetchPullRequest(e,t,n){try{const r=`/repos/${e}/${t}/pulls/${n}`,i=await this.request("GET",r);return await qt(i)}catch(r){throw log.warn(`failed fetching PR for ${e}/${t}/pulls/${n}`,r),r}}async fetchCombinedRefStatus(e,t,n){const r=`repos/${e}/${t}/commits/${encodeURIComponent(n)}/status?per_page=100`,i=await this.request("GET",r);try{return await qt(i)}catch(r){return log.debug(`Failed fetching check runs for ref ${n} (${e}/${t})`,r),null}}async fetchRefCheckRuns(e,t,n){const r=`repos/${e}/${t}/commits/${encodeURIComponent(n)}/check-runs?per_page=100`,i=await this.request("GET",r,{customHeaders:{Accept:"application/vnd.github.antiope-preview+json"}});try{return await qt(i)}catch(r){return log.debug(`Failed fetching check runs for ref ${n} (${e}/${t})`,r),null}}async fetchPRWorkflowRunsByBranchName(e,t,n){const r=`repos/${e}/${t}/actions/runs?event=pull_request&branch=${encodeURIComponent(n)}`,i=await this.request("GET",r,{customHeaders:{Accept:"application/vnd.github.antiope-preview+json"}});try{return await qt(i)}catch(r){log.debug(`Failed fetching workflow runs for ${n} (${e}/${t})`)}return null}async fetchPRActionWorkflowRunByCheckSuiteId(e,t,n){const r=`repos/${e}/${t}/actions/runs?event=pull_request&check_suite_id=${n}`,i=await this.request("GET",r,{customHeaders:{Accept:"application/vnd.github.antiope-preview+json"}});try{const e=await qt(i);if(e.workflow_runs.length>0)return e.workflow_runs[0]}catch(r){log.debug(`Failed fetching workflow runs for ${n} (${e}/${t})`)}return null}async fetchWorkflowRunJobs(e,t,n){const r=`repos/${e}/${t}/actions/runs/${n}/jobs`,i=await this.request("GET",r,{customHeaders:{Accept:"application/vnd.github.antiope-preview+json"}});try{return await qt(i)}catch(r){log.debug(`Failed fetching workflow jobs (${e}/${t}) workflow run: ${n}`)}return null}async fetchWorkflowRunJobLogs(e){const t=await this.request("GET",e,{customHeaders:{Accept:"application/vnd.github.antiope-preview+json"}});try{const e=await t.blob();return(new nn.a).loadAsync(e)}catch(e){}return null}async rerequestCheckSuite(e,t,n){const r=`/repos/${e}/${t}/check-suites/${n}/rerequest`,i=await this.request("POST",r);try{return i.ok}catch(r){log.debug(`Failed retry check suite id ${n} (${e}/${t})`)}return!1}async fetchCheckSuite(e,t,n){const r=`/repos/${e}/${t}/check-suites/${n}`,i=await this.request("GET",r);try{return await qt(i)}catch(r){log.debug(`[fetchCheckSuite] Failed fetch check suite id ${n} (${e}/${t})`)}return null}async fetchPushControl(e,t,n){const r=`repos/${e}/${t}/branches/${encodeURIComponent(n)}/push_control`,i={Accept:"application/vnd.github.phandalin-preview"};try{const e=await this.request("GET",r,{customHeaders:i});return await qt(e)}catch(e){return log.info("[fetchPushControl] unable to check if branch is potentially pushable",e),{pattern:null,required_signatures:!1,required_status_checks:[],required_approving_review_count:0,required_linear_history:!1,allow_actor:!0,allow_deletions:!0,allow_force_pushes:!0}}}async fetchProtectedBranches(e,t){const n=`repos/${e}/${t}/branches?protected=true`;try{const e=await this.request("GET",n);return await qt(e)}catch(e){return log.info("[fetchProtectedBranches] unable to list protected branches",e),new Array}}async fetchAll(e,t){const n=new Array,r=Object.assign({perPage:100},t);let i=Vt(e,{per_page:""+r.perPage});do{const t=await this.request("GET",i);if(!1!==r.suppressErrors&&!t.ok)return log.warn(`fetchAll: '${e}' returned a ${t.status}`),n;const o=await qt(t);o&&n.push(...o),i=r.getNextPagePath?r.getNextPagePath(t):An(t)}while(i&&(!r.continue||r.continue(n)));return n}async request(e,t,n={}){const r=await zt(this.endpoint,this.token,e,t,n.body,n.customHeaders,n.reloadCache);return 401===r.status&&r.headers.has("X-GitHub-Request-Id")&&!r.headers.has("X-GitHub-OTP")&&Pn.emitTokenInvalidated(this.endpoint),Ln(this.endpoint,r),r}async getFetchPollInterval(e,t){const n=`repos/${e}/${t}/git`;try{const e=(await this.request("HEAD",n)).headers.get("x-poll-interval");if(e){const t=parseInt(e,10);return isNaN(t)?null:t}return null}catch(n){return log.warn(`getFetchPollInterval: failed for ${e}/${t}`,n),null}}async fetchMentionables(e,t,n){const r={Accept:"application/vnd.github.jerry-maguire-preview"};void 0!==n&&(r["If-None-Match"]=n);try{const n=`repos/${e}/${t}/mentionables/users`,i=await this.request("GET",n,{customHeaders:r});if(i.status===xn.NotFound)return log.warn(`fetchMentionables: '${n}' returned a 404`),null;if(i.status===xn.NotModified)return null;const o=await qt(i);return{users:o,etag:i.headers.get("etag")||void 0}}catch(n){return log.warn(`fetchMentionables: failed for ${e}/${t}`,n),null}}async fetchUser(e){try{const t=await this.request("GET","users/"+encodeURIComponent(e));return 404===t.status?null:await qt(t)}catch(e){throw log.warn("fetchUser: failed with endpoint "+this.endpoint,e),e}}}async function In(e,t,n,r){const i="Basic "+Buffer.from(`${t}:${n}`,"utf8").toString("base64"),o=r?{"X-GitHub-OTP":r}:{},s=await async function(){let e=await en()();void 0===e&&(e="unknown",log.error(`getNote: unable to resolve machine username, using '${e}' as a fallback`));return`GitHub Desktop on ${e}@${Ft.hostname()}`}(),a=await zt(e,null,"POST","authorizations",{scopes:kn,client_id:Sn,client_secret:En,note:s,note_url:"https://desktop.github.com/",fingerprint:Qt()},Object.assign({Authorization:i},o));Ln(e,a);try{const e=await qt(a);if(e){const t=e.token;if(t&&"string"==typeof t&&t.length)return{kind:Rn.Authorized,token:t}}}catch(e){if(401===a.status){const e=a.headers.get("x-github-otp");if(e){const t=e.split(";");if(2===t.length){switch(t[1].trim()){case"app":return{kind:Rn.TwoFactorAuthenticationRequired,type:$t.App};case"sms":return{kind:Rn.TwoFactorAuthenticationRequired,type:$t.Sms};default:return{kind:Rn.Failed,response:a}}}}return{kind:Rn.Failed,response:a}}const t=e instanceof jt&&e.apiError;if(t){if(403===a.status&&"This API can only be accessed with username and password Basic Auth"===t.message)return{kind:Rn.PersonalAccessTokenBlocked};if(410===a.status)return{kind:Rn.WebFlowRequired};if(422===a.status)if(t.errors)for(const e of t.errors){const t="oauthaccess"===e.resource.toLowerCase();if("user"===e.field.toLowerCase()&&t)return{kind:Rn.UserRequiresVerification}}else if("Invalid OAuth application client_id or secret."===t.message)return{kind:Rn.EnterpriseTooOld}}}return{kind:Rn.Error,response:a}}async function Mn(e,t){const n=new Pn(e,t);try{const r=await n.fetchAccount(),i=await n.fetchEmails();return new Bt(r.login,e,t,i,r.avatar_url,r.id,r.name||r.login)}catch(t){throw log.warn("fetchUser: failed with endpoint "+e,t),t}}function Fn(e){if(void 0!==wn)return wn;if(e!==Nn()||bn){const t=Mt.parse(e);return`${t.protocol}//${t.hostname}`}return"https://github.com"}function Nn(){return bn&&bn.length>0?bn:"https://api.github.com"}function Bn(e,t){return e.find(e=>e.endpoint===t)||null}function Ln(e,t){const n=t.headers.get("x-github-enterprise-version");null!==n&&function(e,t){const n=cn(e);if(an.get(n)!==t){const e=rn.parse(t);localStorage.setItem(n,t),an.set(n,t),ln.set(n,e)}}(e,n)}Pn.TOKEN_INVALIDATED_EVENT="token-invalidated",Pn.emitter=new nt.Emitter,function(e){e[e.Authorized=0]="Authorized",e[e.Failed=1]="Failed",e[e.TwoFactorAuthenticationRequired=2]="TwoFactorAuthenticationRequired",e[e.UserRequiresVerification=3]="UserRequiresVerification",e[e.PersonalAccessTokenBlocked=4]="PersonalAccessTokenBlocked",e[e.Error=5]="Error",e[e.EnterpriseTooOld=6]="EnterpriseTooOld",e[e.WebFlowRequired=7]="WebFlowRequired"}(Rn||(Rn={}));const Hn=[{protocol:"https",regex:new RegExp("^https?://(?:.+@)?(.+)/(.+)/(.+?)(?:/|.git/?)?$")},{protocol:"ssh",regex:new RegExp("^git@(.+):(.+)/(.+?)(?:/|.git)?$")},{protocol:"ssh",regex:new RegExp("^git:(.+)/(.+)/(.+?)(?:/|.git)?$")},{protocol:"ssh",regex:new RegExp("^ssh://git@(.+)/(.+)/(.+?)(?:/|.git)?$")}];function Un(e){for(const{protocol:t,regex:n}of Hn){const r=n.exec(e);if(null!==r&&r.length>=4)return{protocol:t,hostname:r[1],owner:r[2],name:r[3]}}return null}function jn(e){const t=Un(e);if(t){const{owner:e,name:n,hostname:r}=t;if(e&&n)return{owner:e,name:n,hostname:r}}const n=e.split("/");if(2===n.length&&n[0].length>0&&n[1].length>0){return{owner:n[0],name:n[1],hostname:null}}return null}function Wn(e,t){return e<t?-1:e>t?1:0}function zn(e,t){return e<t?1:e>t?-1:0}function Gn(e,t){return e.toLowerCase()===t.toLowerCase()}function qn(e,t){return Wn(e.toLowerCase(),t.toLowerCase())}function Vn(e,t){for(const n of e){const e=Fn(n.endpoint),{hostname:r}=Mt.parse(e),i=Un(t);if(null!==i&&null!==r&&i.hostname.toLowerCase()===r.toLowerCase())return{name:i.name,owner:i.owner,account:n}}return null}function $n(e,t){const n=e=>r.normalize(e),i=n(t);return e.find(e=>n(e.path)===i)}function Kn(e,t){return Yn(e.htmlURL,t)||Yn(e.cloneURL,t)}function Yn(e,t){if(null==e)return!1;const n=Un(e),r=Un(t.url);return null!=r&&null!=n&&(!!Gn(r.hostname,n.hostname)&&(null!=r.owner&&null!=n.owner&&(null!=r.name&&null!=n.name&&(Gn(r.owner,n.owner)&&Gn(r.name,n.name)))))}function Zn(e,t){const n=jn(e),r=jn(t);return null!==n&&null!==r&&n.hostname===r.hostname&&n.owner===r.owner&&n.name===r.name}var Xn=n(153),Qn=function(e,t){return e===t};var Jn=function(e,t){var n;void 0===t&&(t=Qn);var r,i=[],o=!1,s=function(e,n){return t(e,i[n])};return function(){for(var t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return o&&n===this&&a.length===i.length&&a.every(s)||(r=e.apply(this,a),o=!0,n=this,i=a),r}};function er(){return"getSystemVersion"in process?process.getSystemVersion():void 0}function tr(e){const t=er();return void 0!==t&&Object(Xn.compare)(t,e,">=")}function nr(){return"Mac OS "+er()}const rr=Jn(()=>function(e){const t=er();return void 0!==t&&Object(Xn.compare)(t,e,"<")}("10.16")),ir=Jn(()=>tr("10.13.0")),or=Jn(()=>tr("10.16"));Jn(()=>!1);var sr=n(2),ar=n(64);function lr(e,t,n=!1){return ur(t,e.path,n)}function cr(e,t){return ur(e,null,!1,void 0,t)}async function ur(e,t,n=!1,r,i){const o=["config","-z"];t?n&&o.push("--local"):o.push("--global"),void 0!==r&&o.push("--type",r),o.push(e);const s=await pd(o,t||__dirname,"getConfigValueInPath",{successExitCodes:new Set([0,1]),env:i});if(1===s.exitCode)return null;return s.stdout.split("\0")[0]}async function hr(e,t,n,r){return dr(t,n,e.path,r)}async function pr(e,t,n){return dr(e,t,null,n)}async function dr(e,t,n,r){const i=r?{env:r}:void 0,o=["config"];n||o.push("--global"),o.push("--replace-all",e,t),await pd(o,n||__dirname,"setConfigValueInPath",i)}async function fr(e,t,n){return mr(t,e.path,n)}async function mr(e,t,n){const r=n?{env:n}:void 0,i=["config"];t||i.push("--global"),i.push("--unset-all",e),await pd(i,t||__dirname,"removeConfigValueInPath",r)}function gr(e){return e instanceof Error&&"string"==typeof e.code&&"string"==typeof e.syscall}var yr=n(104),vr=n.n(yr);function br(e,t){return function(e,t){if(!1===t.global)throw new Error("A regex has been provided that is not marked as global, and has the potential to execute forever if it finds a match");const n=new Array;let r=t.exec(e);for(;null!==r;)n.push(r),r=t.exec(e);return n}(e,t).reduce((e,t)=>e.concat([t.slice(1)]),new Array)}function wr(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function Cr(e,t){const n=Object.assign({},e);for(const e in t)n[e]=t[e];return n}var Sr=n(228);function Er(){return vt("has-shown-welcome-flow",!1)}let kr=null;function xr(){if(!kr){let e=localStorage.getItem("stats-guid");e||(e=Qt(),localStorage.setItem("stats-guid",e)),kr=e}return kr}var Dr;function _r(e){switch(e){case Dr.Light:return"light";case Dr.Dark:case Dr.HighContrast:return"dark";default:return"system"}}!function(e){e.Light="light",e.Dark="dark",e.System="system",e.HighContrast="highContrast"}(Dr||(Dr={}));async function Tr(){return await U()?Dr.Dark:Dr.Light}function Rr(){return"system"===function(){const e=vt("autoSwitchTheme",!1);return localStorage.removeItem("autoSwitchTheme"),e?(Ar(Dr.System),"system"):null}()?Dr.System:function(){const e=localStorage.getItem("theme");return e===Dr.Light||e===Dr.Dark||e===Dr.HighContrast?e:Dr.System}()}function Ar(e){const t=_r(e);localStorage.setItem("theme",e),H(t)}function Or(){return ir()}function Pr(e){return Ir(e.endpoint)}function Ir(e){return"GitHub - "+e}class Mr{constructor(){this.emitter=new nt.Emitter}emitUpdate(){this.emitter.emit("did-update",{})}emitError(e){this.emitter.emit("did-error",e)}onDidUpdate(e){return this.emitter.on("did-update",e)}onDidError(e){return this.emitter.on("did-error",e)}}class Fr{constructor(){this.emitter=new nt.Emitter}emitUpdate(e){this.emitter.emit("did-update",e)}emitError(e){this.emitter.emit("did-error",e)}onDidUpdate(e){return this.emitter.on("did-update",e)}onDidError(e){return this.emitter.on("did-error",e)}}var Nr=n(229);function Br(e,t=new Map){for(const n of e.items)t.set(n.id,n),"submenuItem"===n.type&&Br(n.menu,t);return t}function Lr(e){return"menuItem"===e.type||"submenuItem"===e.type||"checkbox"===e.type||"radio"===e.type}function Hr(e){return"separator"!==e.type&&e.enabled&&e.visible}function Ur(e,t){const n=e.toLowerCase();for(const e of t)if(Lr(e)&&e.accessKey&&e.accessKey.toLowerCase()===n)return e;return null}class jr{constructor(e,t,n){this.menu=e,this.openMenus=t,this.menuItemById=n}static fromMenu(e){const t=Br(e);return new jr(e,[e],t)}getItemById(e){return this.menuItemById.get(e)}withMenu(e){const t=Br(e),n=new Array;for(const r of this.openMenus){let i;if(r.id){const e=t.get(r.id);if(!e||"submenuItem"!==e.type)break;i=e.menu}else i=e;let o=void 0;r.selectedItem&&(o=t.get(r.selectedItem.id)),n.push({id:i.id,type:"menu",items:i.items,selectedItem:o})}return new jr(e,n,t)}withOpenedMenu(e,t=!1){const n=this.menuItemById.get(e.id);if(!n)return this;if("submenuItem"!==n.type)throw new Error("Attempt to open a submenu from an item of wrong type: "+n.type);const r=this.openMenus.findIndex(e=>-1!==e.items.indexOf(n));if(-1===r)return this;const i=this.openMenus.slice(0,r+1);if(t){const e=n.menu.items.find(Hr);i.push(Object.assign(Object.assign({},n.menu),{selectedItem:e}))}else i.push(n.menu);return new jr(this.menu,i,this.menuItemById)}withClosedMenu(e){if(!e.id)return this;const t=this.openMenus.findIndex(t=>t.id===e.id);if(-1===t)return this;const n=this.openMenus.slice(0,t);return new jr(this.menu,n,this.menuItemById)}withLastMenu(e){const t=this.openMenus.findIndex(t=>t.id===e.id);if(-1===t)return this;const n=this.openMenus.slice(0,t+1);return new jr(this.menu,n,this.menuItemById)}withSelectedItem(e){const t=this.menuItemById.get(e.id);if(!t)return this;const n=this.openMenus.findIndex(e=>-1!==e.items.indexOf(t));if(-1===n)return this;const r=this.openMenus.slice(),i=r[n];r[n]=Object.assign(Object.assign({},i),{selectedItem:t});for(let e=n+1;e<r.length;e++)r[e]=Object.assign(Object.assign({},r[e]),{selectedItem:void 0});for(let e=n-1;e>=0;e--){const t=r[e],n=r[e+1],i=t.items.find(e=>"submenuItem"===e.type&&e.id===n.id);r[e]=Object.assign(Object.assign({},t),{selectedItem:i})}return new jr(this.menu,r,this.menuItemById)}withDeselectedMenu(e){const t=this.openMenus.findIndex(t=>t.id===e.id);if(-1===t)return this;const n=this.openMenus[t],r=this.openMenus.slice();r[t]=Object.assign(Object.assign({},n),{selectedItem:void 0});for(let e=t-1;e>=0;e--){const t=r[e],n=r[e+1],i=t.items.find(e=>"submenuItem"===e.type&&e.id===n.id);r[e]=Object.assign(Object.assign({},t),{selectedItem:i})}return new jr(this.menu,r,this.menuItemById)}withReset(){return new jr(this.menu,[this.menu],this.menuItemById)}}function Wr(e){const t=e.match(/.*?\/(.*)/);return!t||t.length<2?null:t[1]}var zr,Gr,qr,Vr;!function(e){e[e.Local=0]="Local",e[e.Remote=1]="Remote"}(zr||(zr={})),function(e){e.CurrentBranch="CurrentBranch",e.DefaultBranch="DefaultBranch",e.Head="Head",e.UpstreamDefaultBranch="UpstreamDefaultBranch"}(Gr||(Gr={}));class $r{constructor(e,t,n,r,i){this.name=e,this.upstream=t,this.tip=n,this.type=r,this.ref=i}get upstreamRemoteName(){const e=this.upstream;if(!e)return null;const t=e.match(/(.*?)\/.*/);return!t||t.length<2?null:t[1]}get remoteName(){if(this.type===zr.Local)return null;const e=this.ref.match(/^refs\/remotes\/(.*?)\/.*/);if(!e||2!==e.length)throw new Error("Remote branch ref has unexpected format: "+this.ref);return e[1]}get upstreamWithoutRemote(){return this.upstream?Wr(this.upstream):null}get nameWithoutRemote(){if(this.type===zr.Local)return this.name;return Wr(this.name)||this.name}get isDesktopForkRemoteBranch(){return this.type===zr.Remote&&this.name.startsWith("github-desktop-")}}!function(e){e[e.Branches=0]="",e[e.PullRequests=1]=""}(qr||(qr={})),function(e){e[e.DotCom=0]="DotCom",e[e.Enterprise=1]="Enterprise",e[e.Generic=2]="Generic"}(Vr||(Vr={}));let Kr=1;class Yr{constructor(e,t){this.path=e,this.url=t,this.id=Kr++}get name(){return r.basename(this.url,".git")}get hash(){return`${this.id}+${this.path}+${this.url}`}}var Zr,Xr,Qr,Jr,ei,ti,ni,ri,ii,oi,si,ai;function li(e){switch(e.trim()){case"CR":return"CR";case"LF":return"LF";case"CRLF":return"CRLF";default:return null}}!function(e){e[e.Text=0]="Text",e[e.Image=1]="Image",e[e.Binary=2]="Binary",e[e.Submodule=3]="Submodule",e[e.LargeText=4]="LargeText",e[e.Unrenderable=5]="Unrenderable"}(Zr||(Zr={})),function(e){e[e.Context=0]="Context",e[e.Add=1]="Add",e[e.Delete=2]="Delete",e[e.Hunk=3]="Hunk"}(Xr||(Xr={}));class ci{constructor(e,t,n,r,i,o=!1){this.text=e,this.type=t,this.originalLineNumber=n,this.oldLineNumber=r,this.newLineNumber=i,this.noTrailingNewLine=o}withNoTrailingNewLine(e){return new ci(this.text,this.type,this.originalLineNumber,this.oldLineNumber,this.newLineNumber,e)}isIncludeableLine(){return this.type===Xr.Add||this.type===Xr.Delete}get content(){return this.text.substr(1)}}function ui(e,t){switch(e){case Qr.All:return t;case Qr.None:return!t;case Qr.Partial:return!1;default:return Ze(0,"Unknown selection type "+e)}}!function(e){e.All="All",e.Partial="Partial",e.None="None"}(Qr||(Qr={}));class hi{constructor(e,t=null,n=null){this.defaultSelectionType=e,this.divergingLines=t,this.selectableLines=n}static fromInitialSelection(e){return e!==Qr.All&&e!==Qr.None?Ze(0,"Can only instantiate a DiffSelection with All or None as the initial selection"):new hi(e,null,null)}getSelectionType(){const e=this.divergingLines,t=this.selectableLines;if(!e)return this.defaultSelectionType;if(0===e.size)return this.defaultSelectionType;if(t&&t.size===e.size){if([...t].every(t=>e.has(t)))return this.defaultSelectionType===Qr.All?Qr.None:Qr.All}return Qr.Partial}isSelected(e){const t=!!this.divergingLines&&this.divergingLines.has(e);return this.defaultSelectionType===Qr.All?!t:this.defaultSelectionType===Qr.None?t:Ze(this.defaultSelectionType,"Unknown base selection type "+this.defaultSelectionType)}isSelectable(e){return!this.selectableLines||this.selectableLines.has(e)}withLineSelection(e,t){return this.withRangeSelection(e,1,t)}withRangeSelection(e,t,n){const r=this.getSelectionType(),i=e+t;if(ui(r,n))return this;if(r===Qr.Partial){const t=new Set(this.divergingLines);if(ui(this.defaultSelectionType,n))for(let n=e;n<i;n++)t.delete(n);else for(let n=e;n<i;n++)this.isSelectable(n)&&t.add(n);return new hi(this.defaultSelectionType,0===t.size?null:t,this.selectableLines)}{const t=new Set;for(let n=e;n<i;n++)this.isSelectable(n)&&t.add(n);return new hi(r,t,this.selectableLines)}}withToggleLineSelection(e){return this.withLineSelection(e,!this.isSelected(e))}withSelectAll(){return new hi(Qr.All,null,this.selectableLines)}withSelectNone(){return new hi(Qr.None,null,this.selectableLines)}withSelectableLines(e){const t=this.divergingLines?new Set([...this.divergingLines].filter(t=>e.has(t))):null;return new hi(this.defaultSelectionType,t,e)}}class pi{constructor(e,t,n){this.contents=e,this.mediaType=t,this.bytes=n}}!function(e){e.None="None",e.Up="Up",e.Down="Down",e.Both="Both",e.Short="Short"}(Jr||(Jr={}));class di{constructor(e,t,n,r,i){this.header=e,this.lines=t,this.unifiedDiffStart=n,this.unifiedDiffEnd=r,this.expansionType=i}}class fi{constructor(e,t,n,r){this.oldStartLine=e,this.oldLineCount=t,this.newStartLine=n,this.newLineCount=r}toDiffLineRepresentation(){return`@@ -${this.oldStartLine},${this.oldLineCount} +${this.newStartLine},${this.newLineCount} @@`}}function mi(...e){return e.join("+")}!function(e){e[e.TwoUp=0]="TwoUp",e[e.Swipe=1]="Swipe",e[e.OnionSkin=2]="OnionSkin",e[e.Difference=3]="Difference"}(ei||(ei={})),function(e){e[e.BackgroundTask=0]="BackgroundTask",e[e.UserInitiatedTask=1]="UserInitiatedTask"}(ti||(ti={}));class gi{constructor(e,t,n,r=null,i=null,o=null,s=null,a=null,l=null,c=null,u=null){var h;this.name=e,this.owner=t,this.dbID=n,this.isPrivate=r,this.htmlURL=i,this.defaultBranch=o,this.cloneURL=s,this.issuesEnabled=a,this.isArchived=l,this.permissions=c,this.parent=u,this.hash=mi(this.name,this.owner.login,this.dbID,this.isPrivate,this.htmlURL,this.defaultBranch,this.cloneURL,this.issuesEnabled,this.isArchived,this.permissions,null===(h=this.parent)||void 0===h?void 0:h.hash)}get endpoint(){return this.owner.endpoint}get fullName(){return`${this.owner.login}/${this.name}`}get fork(){return!!this.parent}}function yi(e){return null===e.permissions||"read"!==e.permissions}!function(e){e.Parent="parent",e.Self="self"}(ni||(ni={}));class vi{constructor(e,t,n,i,o=null,s={},a=!1){this.id=t,this.gitHubRepository=n,this.missing=i,this.alias=o,this.workflowPreferences=s,this.isTutorialRepository=a,this.mainWorkTree={path:e},this.name=n&&n.name||function(e){const t=r.basename(e);return 0===t.length?e:t}(e),this.hash=mi(e,this.id,null==n?void 0:n.hash,this.missing,this.alias,this.workflowPreferences.forkContributionTarget,this.isTutorialRepository)}get path(){return this.mainWorkTree.path}}function bi(e){return e.gitHubRepository instanceof gi}function wi(e){return bi(e)&&null!==e.gitHubRepository.parent}function Ci(e){const{gitHubRepository:t}=e;return null!==t?t.fullName:e.name}function Si(e){return bi(e)?Ei(e).htmlURL:null}function Ei(e){if(!wi(e))return e.gitHubRepository;const t=ki(e);switch(t){case ni.Self:return e.gitHubRepository;case ni.Parent:return e.gitHubRepository.parent;default:return Ze(0,"Invalid fork contribution target")}}function ki(e){return void 0!==e.workflowPreferences.forkContributionTarget?e.workflowPreferences.forkContributionTarget:ni.Parent}function xi(e){return e.kind===ii.Conflicted}function Di(e){return e.hasOwnProperty("conflictMarkerCount")}function _i(e){return!e.hasOwnProperty("conflictMarkerCount")}!function(e){e.Modified="M",e.Added="A",e.Deleted="D",e.Renamed="R",e.Copied="C",e.Unchanged=".",e.Untracked="?",e.Ignored="!",e.UpdatedButUnmerged="U"}(ri||(ri={})),function(e){e.New="New",e.Modified="Modified",e.Deleted="Deleted",e.Copied="Copied",e.Renamed="Renamed",e.Conflicted="Conflicted",e.Untracked="Untracked"}(ii||(ii={})),function(e){e.AddedByUs="added-by-us",e.DeletedByUs="deleted-by-us",e.AddedByThem="added-by-them",e.DeletedByThem="deleted-by-them",e.BothDeleted="both-deleted",e.BothAdded="both-added",e.BothModified="both-modified"}(oi||(oi={}));class Ti{constructor(e,t){this.path=e,this.status=t,t.kind===ii.Renamed||t.kind===ii.Copied?this.id=`${t.kind}+${e}+${t.oldPath}`:this.id=`${t.kind}+${e}`}}class Ri extends Ti{constructor(e,t,n){super(e,t),this.selection=n}withIncludeAll(e){const t=e?this.selection.withSelectAll():this.selection.withSelectNone();return this.withSelection(t)}withSelection(e){return new Ri(this.path,this.status,e)}}class Ai extends Ti{constructor(e,t,n){super(e,t),this.commitish=n,this.commitish=n}}class Oi{constructor(e,t=!0){this.files=e,this.includeAll=t,this.fileIxById=new Map,e.forEach((e,t)=>this.fileIxById.set(e.id,t))}static fromFiles(e){return new Oi(e,function(e){if(!e.length)return!0;const t=e.every(e=>e.selection.getSelectionType()===Qr.All),n=e.every(e=>e.selection.getSelectionType()===Qr.None);let r=null;t?r=!0:n&&(r=!1);return r}(e))}withIncludeAllFiles(e){const t=this.files.map(t=>t.withIncludeAll(e));return new Oi(t,e)}findFileWithID(e){const t=this.fileIxById.get(e);return void 0!==t&&this.files[t]||null}findFileIndexByID(e){const t=this.fileIxById.get(e);return void 0!==t?t:-1}}!function(e){e.Unknown="Unknown",e.Unborn="Unborn",e.Detached="Detached",e.Valid="Valid"}(si||(si={})),function(e){e[e.RenameBranch=1]="RenameBranch",e[e.DeleteBranch=2]="DeleteBranch",e[e.DeleteRemoteBranch=3]="DeleteRemoteBranch",e[e.ConfirmDiscardChanges=4]="ConfirmDiscardChanges",e[e.Preferences=5]="Preferences",e[e.RepositorySettings=6]="RepositorySettings",e[e.AddRepository=7]="AddRepository",e[e.CreateRepository=8]="CreateRepository",e[e.CloneRepository=9]="CloneRepository",e[e.CreateBranch=10]="CreateBranch",e[e.SignIn=11]="SignIn",e[e.About=12]="About",e[e.InstallGit=13]="InstallGit",e[e.PublishRepository=14]="PublishRepository",e[e.Acknowledgements=15]="Acknowledgements",e[e.UntrustedCertificate=16]="UntrustedCertificate",e[e.RemoveRepository=17]="RemoveRepository",e[e.TermsAndConditions=18]="TermsAndConditions",e[e.PushBranchCommits=19]="PushBranchCommits",e[e.CLIInstalled=20]="CLIInstalled",e[e.GenericGitAuthentication=21]="GenericGitAuthentication",e[e.ExternalEditorFailed=22]="ExternalEditorFailed",e[e.OpenShellFailed=23]="OpenShellFailed",e[e.InitializeLFS=24]="InitializeLFS",e[e.LFSAttributeMismatch=25]="LFSAttributeMismatch",e[e.UpstreamAlreadyExists=26]="UpstreamAlreadyExists",e[e.ReleaseNotes=27]="ReleaseNotes",e[e.DeletePullRequest=28]="DeletePullRequest",e[e.OversizedFiles=29]="OversizedFiles",e[e.CommitConflictsWarning=30]="CommitConflictsWarning",e[e.PushNeedsPull=31]="PushNeedsPull",e[e.ConfirmForcePush=32]="ConfirmForcePush",e[e.StashAndSwitchBranch=33]="StashAndSwitchBranch",e[e.ConfirmOverwriteStash=34]="ConfirmOverwriteStash",e[e.ConfirmDiscardStash=35]="ConfirmDiscardStash",e[e.CreateTutorialRepository=36]="CreateTutorialRepository",e[e.ConfirmExitTutorial=37]="ConfirmExitTutorial",e[e.PushRejectedDueToMissingWorkflowScope=38]="PushRejectedDueToMissingWorkflowScope",e[e.SAMLReauthRequired=39]="SAMLReauthRequired",e[e.CreateFork=40]="CreateFork",e[e.CreateTag=41]="CreateTag",e[e.DeleteTag=42]="DeleteTag",e[e.LocalChangesOverwritten=43]="LocalChangesOverwritten",e[e.ChooseForkSettings=44]="ChooseForkSettings",e[e.ConfirmDiscardSelection=45]="ConfirmDiscardSelection",e[e.MoveToApplicationsFolder=46]="MoveToApplicationsFolder",e[e.ChangeRepositoryAlias=47]="ChangeRepositoryAlias",e[e.ThankYou=48]="ThankYou",e[e.CommitMessage=49]="CommitMessage",e[e.MultiCommitOperation=50]="MultiCommitOperation",e[e.WarnLocalChangesBeforeUndo=51]="WarnLocalChangesBeforeUndo",e[e.WarningBeforeReset=52]="WarningBeforeReset",e[e.InvalidatedToken=53]="InvalidatedToken",e[e.AddSSHHost=54]="AddSSHHost",e[e.SSHKeyPassphrase=55]="SSHKeyPassphrase",e[e.PullRequestChecksFailed=56]="",e[e.CICheckRunRerun=57]="CI",e[e.WarnForcePush=58]="WarnForcePush",e[e.DiscardChangesRetry=59]="DiscardChangesRetry"}(ai||(ai={}));const Pi=new class{constructor(){this.emitter=new nt.Emitter,this.subscribe=()=>{Or()&&v("native-theme-updated",this.onThemeNotificationUpdated)},this.onThemeNotificationUpdated=async()=>{const e=await Tr();this.emitThemeChanged(e)},this.subscribe()}onThemeChanged(e){return this.emitter.on("theme-changed",e)}emitThemeChanged(e){this.emitter.emit("theme-changed",e)}};class Ii extends Error{constructor(e,t={}){super(e),this.metadata=t}}const Mi="Visual Studio Code",Fi="https://code.visualstudio.com";var Ni=n(105),Bi=n.n(Ni);const Li=[{name:"Atom",bundleIdentifiers:["com.github.atom"]},{name:"MacVim",bundleIdentifiers:["org.vim.MacVim"]},{name:"Visual Studio Code",bundleIdentifiers:["com.microsoft.VSCode"]},{name:"Visual Studio Code (Insiders)",bundleIdentifiers:["com.microsoft.VSCodeInsiders"]},{name:"VSCodium",bundleIdentifiers:["com.visualstudio.code.oss"]},{name:"Sublime Text",bundleIdentifiers:["com.sublimetext.4","com.sublimetext.3","com.sublimetext.2"]},{name:"BBEdit",bundleIdentifiers:["com.barebones.bbedit"]},{name:"PhpStorm",bundleIdentifiers:["com.jetbrains.PhpStorm"]},{name:"PyCharm",bundleIdentifiers:["com.jetbrains.PyCharm"]},{name:"RubyMine",bundleIdentifiers:["com.jetbrains.RubyMine"]},{name:"RStudio",bundleIdentifiers:["org.rstudio.RStudio"]},{name:"TextMate",bundleIdentifiers:["com.macromates.TextMate"]},{name:"Brackets",bundleIdentifiers:["io.brackets.appshell"]},{name:"WebStorm",bundleIdentifiers:["com.jetbrains.WebStorm"]},{name:"Typora",bundleIdentifiers:["abnerworks.Typora"]},{name:"CodeRunner",bundleIdentifiers:["com.krill.CodeRunner"]},{name:"SlickEdit",bundleIdentifiers:["com.slickedit.SlickEditPro2018","com.slickedit.SlickEditPro2017","com.slickedit.SlickEditPro2016","com.slickedit.SlickEditPro2015"]},{name:"IntelliJ",bundleIdentifiers:["com.jetbrains.intellij"]},{name:"IntelliJ Community Edition",bundleIdentifiers:["com.jetbrains.intellij.ce"]},{name:"Xcode",bundleIdentifiers:["com.apple.dt.Xcode"]},{name:"GoLand",bundleIdentifiers:["com.jetbrains.goland"]},{name:"Android Studio",bundleIdentifiers:["com.google.android.studio"]},{name:"Rider",bundleIdentifiers:["com.jetbrains.rider"]},{name:"Nova",bundleIdentifiers:["com.panic.Nova"]}];async function Hi(e){for(const t of e.bundleIdentifiers)try{const n=await Bi()(t).catch(e=>"Couldn't find the app"===e.message?Promise.resolve(null):Promise.reject(e));if(null===n)return null;if(await Object(w.pathExists)(n))return n;log.debug(`App installation for ${e.name} not found at '${n}'`)}catch(t){log.debug(`Unable to locate ${e.name} installation`,t)}return null}var Ui=n(11);const ji=(e,...t)=>({key:e,subKey:r.win32.join(...t)}),Wi="SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall",zi=e=>ji(Ui.HKEY.HKEY_CURRENT_USER,Wi,e),Gi=e=>ji(Ui.HKEY.HKEY_LOCAL_MACHINE,Wi,e),qi=e=>ji(Ui.HKEY.HKEY_LOCAL_MACHINE,"SOFTWARE\\WOW6432Node\\Microsoft\\Windows\\CurrentVersion\\Uninstall",e),Vi=e=>{const t=(new Date).getFullYear(),n=t-2,r=new Array;for(let i=n;i<=t;i++)for(let t=1;t<=5;t++)for(let n=0;n<=5;n++){let o=`${e} ${i}.${t}`;n>0&&(o=`${o}.${n}`),r.push(qi(o)),r.push(zi(o))}return r.reverse()},$i=e=>[["bin",e+"64.exe"],["bin",e+".exe"]];zi("atom"),zi("atom-beta"),zi("atom-nightly"),zi("{771FD6B0-FA20-440A-A002-3B3BAC16DC50}_is1"),zi("{D628A17A-9713-46BF-8D57-E671B46A741E}_is1"),zi("{D9E514E7-1A56-452D-9337-2990C0DC4310}_is1"),Gi("{EA457B21-F73E-494C-ACAB-524FDE069978}_is1"),qi("{F8A2A208-72B3-4D61-95FC-8A65D340689B}_is1"),Gi("{A5270FC5-65AD-483E-AC30-2C276B63D0AC}_is1"),zi("{217B4C08-948D-4276-BFBB-BEE930AE5A2C}_is1"),zi("{26F4A15E-E392-4887-8C09-7BC55712FD5B}_is1"),zi("{69BD8F7B-65EB-4C6F-A14E-44CFA83712C0}_is1"),Gi("{1287CAD5-7C8D-410D-88B9-0D1EE4A83FF2}_is1"),qi("{C26E74D1-022E-4238-8B9D-1E7564A36CC9}_is1"),Gi("{0AEDB616-9614-463B-97D7-119DD86CCA64}_is1"),zi("{2E1F05D1-C245-4562-81EE-28188DB6FD17}_is1"),zi("{C6065F05-9603-4FC4-8101-B9781A25D88E}}_is1"),zi("{3AEBF0C8-F733-4AD4-BADE-FDB816D53D7B}_is1"),Gi("{D77B7E06-80BA-4137-BCF4-654B95CCEBC5}_is1"),qi("{E34003BB-9E10-4501-8C11-BE3FAA83F23F}_is1"),Gi("{D1ACE434-89C5-48D1-88D3-E2991DF85475}_is1"),Gi("Sublime Text_is1"),Gi("Sublime Text 3_is1"),Gi("Adobe ColdFusion Builder 3_is1"),Gi("Adobe ColdFusion Builder 2016"),Gi("{37771A20-7167-44C0-B322-FD3E54C56156}_is1"),qi("{37771A20-7167-44C0-B322-FD3E54C56156}_is1"),Gi("{18406187-F49E-4822-CAF2-1D25C0C83BA2}"),qi("{18006187-F49E-4822-CAF2-1D25C0C83BA2}"),Gi("{18606187-F49E-4822-CAF2-1D25C0C83BA2}"),qi("{18206187-F49E-4822-CAF2-1D25C0C83BA2}"),Gi("{15406187-F49E-4822-CAF2-1D25C0C83BA2}"),qi("{15006187-F49E-4822-CAF2-1D25C0C83BA2}"),Gi("{10C06187-F49E-4822-CAF2-1D25C0C83BA2}"),Gi("{10406187-F49E-4822-CAF2-1D25C0C83BA2}"),Gi("{0DC06187-F49E-4822-CAF2-1D25C0C83BA2}"),Gi("{0D406187-F49E-4822-CAF2-1D25C0C83BA2}"),Gi("{7CC0E567-ACD6-41E8-95DA-154CEEDB0A18}"),Vi("WebStorm"),$i("webstorm"),Vi("PhpStorm"),$i("phpstorm"),Gi("Notepad++"),qi("Notepad++"),Vi("JetBrains Rider"),$i("rider"),qi("RStudio"),Vi("IntelliJ IDEA"),$i("idea"),Vi("IntelliJ IDEA Community Edition"),$i("idea"),Vi("PyCharm"),$i("pycharm"),Vi("CLion"),$i("clion");let Ki=null;async function Yi(){return Ki&&Ki.length>0||(Ki=await async function(){const e=[];for(const t of Li){const n=await Hi(t);n&&e.push({editor:t.name,path:n})}return e}()),Ki}async function Zi(e){const t=await Yi();if(0===t.length)return null;if(e){const n=t.find(t=>t.editor===e)||null;if(!n){throw new Ii(`The editor '${e}' could not be found. Please open ${"Preferences"} and choose an available editor.`,{openPreferences:!0})}return n}return t[0]}var Xi=n(7);function Qi(e){return"co-authored-by"===e.token.toLowerCase()}function Ji(e,t){const n=e.split("\n"),r=new Array;for(const e of n){const n=eo(e,t);n&&r.push(n)}return r}function eo(e,t){for(const n of t){const t=e.indexOf(n);if(t>0)return{token:e.substring(0,t).trim(),value:e.substring(t+1).trim()}}return null}async function to(e){return await lr(e,"trailer.separators")||":"}async function no(e,t,n,r=!1){const i=["interpret-trailers"];r&&i.push("--unfold");for(const e of n)i.push("--trailer",`${e.token}=${e.value}`);return(await pd(i,e.path,"mergeTrailers",{stdin:t})).stdout}async function ro(e,t){const{summary:n,description:r,trailers:i}=t,o=`${n}\n\n${r||""}\n`.replace(/\s+$/,"\n");return void 0!==i&&i.length>0?no(e,o,i):o}var io=n(110);const oo={setItem:function(e,t,n){return io.setPassword(e,t,n)},getItem:function(e,t){return io.getPassword(e,t)},deleteItem:function(e,t){return io.deletePassword(e,t)}};function so(e){const t=Un(e);if(t)return t.hostname;const n=Mt.parse(e).hostname;return n||e}function ao(e){return"genericGitAuth/username/"+e}function lo(e){const t=ao(e);return localStorage.getItem(t)}function co(e,t){const n=t.gitHubRepository;return n?Bn(e,n.endpoint):null}async function uo(e,t){const n=["lfs","install"];t&&n.push("--force"),await pd(n,e.path,"installLFSHooks")}async function ho(e,t){const{stdout:n}=await pd(["check-attr","filter",t],e.path,"checkAttrForLFS");return null!==/: filter: lfs/.exec(n)}function po(e){switch(e.kind){case ii.New:case ii.Untracked:return"New";case ii.Modified:return"Modified";case ii.Deleted:return"Deleted";case ii.Renamed:return"Renamed";case ii.Conflicted:if(Di(e)){return e.conflictMarkerCount>0?"Conflicted":"Resolved"}return"Conflicted";case ii.Copied:return"Copied";default:return Ze(0,"Unknown file status "+e)}}function fo(e){return e.kind===ii.Conflicted}function mo(e){return e.files.some(e=>fo(e.status))}function go(e,t){return void 0===t&&(!Di(e)||e.conflictMarkerCount>0)}function yo(e,t){const n=t?" from "+t:"";switch(e){case ri.Added:return"Using the added file"+n;case ri.UpdatedButUnmerged:return"Using the modified file"+n;case ri.Deleted:return"Using the deleted file"+n;default:return Ze(0,"Unknown status entry to format")}}function vo(e,t){const n=t?" from "+t:"";switch(e){case ri.Added:return"Use the added file"+n;case ri.UpdatedButUnmerged:return"Use the modified file"+n;case ri.Deleted:return"Do not include this file"+(t?" on "+t:"");default:return Ze(0,"Unknown status entry to format")}}function bo(e,t){return e.files.filter(e=>xi(e.status)&&!go(e.status,t.get(e.path)))}function wo(e,t){return e.files.filter(e=>xi(e.status)&&go(e.status,t.get(e.path)))}class Co{constructor(e=new Map){this._state=e}get state(){return new Map(this._state)}updateMenuItem(e,t){const n=this._state.get(e)||{};this._state.set(e,Cr(n,t))}enable(e){return this.updateMenuItem(e,{enabled:!0}),this}disable(e){return this.updateMenuItem(e,{enabled:!1}),this}setEnabled(e,t){return this.updateMenuItem(e,{enabled:t}),this}merge(e){const t=new Map(this._state);for(const[n,r]of e._state)t.set(n,r);return new Co(t)}}function So(e,t){return void 0===e.enabled||"separator"===t.type||t.enabled===e.enabled}const Eo=["rename-branch","delete-branch","discard-all-changes","stash-all-changes","preferences","update-branch","compare-to-branch","merge-branch","rebase-branch","view-repository-on-github","compare-on-github","open-in-shell","push","pull","branch","repository","go-to-commit-message","create-branch","show-changes","show-history","show-repository-list","show-branches-list","open-working-directory","show-repository-settings","open-external-editor","remove-repository","new-repository","add-local-repository","clone-repository","about","create-pull-request",...["squash-and-merge-branch"]];function ko(e){const t=e.selectedState,n=!!t&&(!(!(r=t.repository)||r instanceof Yr||!r.gitHubRepository)&&null!==r.gitHubRepository.htmlURL);var r;let i=!1,o=!1,s=!1,a=!1,l=!1,c=!1,u=!1,h=!1,p=!1,d=!1,f=!1,m=!1,g=!1;const y=null!==t&&t.repository instanceof vi&&function(e){if(bi(e)){const t=e.gitHubRepository;return t.parent?!1!==t.parent.issuesEnabled&&!0!==t.parent.isArchived:!1!==t.issuesEnabled&&!0!==t.isArchived}return!1}(t.repository);if(t&&t.type===He.Repository){i=!0;const{branchesState:e,changesState:n}=t.state,r=e.tip,y=e.defaultBranch;u=Boolean(y),s=r.kind===si.Valid,a=r.kind===si.Detached,d=r.kind===si.Unknown,f=r.kind===si.Unborn,r.kind===si.Valid?(o=null===y||r.branch.name!==y.name,h=!!r.branch.upstream,g=null!==n.stashEntry):o=!0,p=t.state.isPushPullFetchInProgress;const{conflictState:v,workingDirectory:b}=t.state.changesState;m=null!==v&&"rebase"===v.kind,c=null!==n.conflictState||mo(b),l=b.files.length>0}const v=["branch","repository","remove-repository","open-in-shell","open-working-directory","show-repository-settings","go-to-commit-message","show-changes","show-history","show-branches-list","open-external-editor","compare-to-branch"],b=new Co,w="hidden"!==e.windowState,C=e.showWelcomeFlow,S=w&&i&&!C;if(S){for(const e of v)b.enable(e);b.setEnabled("rename-branch",(o||!h)&&!f&&!a),b.setEnabled("delete-branch",o&&!f&&!a),b.setEnabled("update-branch",o&&u&&!a),b.setEnabled("merge-branch",s),b.setEnabled("squash-and-merge-branch",s),b.setEnabled("rebase-branch",s),b.setEnabled("compare-on-github",n&&h),b.setEnabled("view-repository-on-github",n),b.setEnabled("create-issue-in-repository-on-github",y),b.setEnabled("create-pull-request",n&&!f&&!a),b.setEnabled("push",!f&&!a&&!p),b.setEnabled("pull",h&&!p),b.setEnabled("create-branch",!d&&!f&&!m),b.setEnabled("discard-all-changes",S&&l&&!m),b.setEnabled("stash-all-changes",l&&s&&!m&&!c),b.setEnabled("compare-to-branch",!a),b.setEnabled("toggle-stashed-changes",g),t&&t.type===He.MissingRepository&&b.disable("open-external-editor")}else{for(const e of v)b.disable(e);b.disable("view-repository-on-github"),b.disable("create-pull-request"),t&&t.type===He.MissingRepository&&(t.repository.gitHubRepository&&b.enable("view-repository-on-github"),b.enable("remove-repository")),b.disable("create-branch"),b.disable("rename-branch"),b.disable("delete-branch"),b.disable("discard-all-changes"),b.disable("stash-all-changes"),b.disable("update-branch"),b.disable("merge-branch"),b.disable("squash-and-merge-branch"),b.disable("rebase-branch"),b.disable("push"),b.disable("pull"),b.disable("compare-to-branch"),b.disable("compare-on-github"),b.disable("toggle-stashed-changes")}return b}function xo(e){return e.currentPopup?function(){const e=new Co;for(const t of Eo)e.disable(t);return e}().state:function(){const e=new Co;for(const t of Eo)e.enable(t);return e}().merge(ko(e)).merge(function(e){const t=["new-repository","add-local-repository","clone-repository","preferences","about"],n=new Co;if(e)for(const e of t)n.disable(e);else for(const e of t)n.enable(e);return n}(e.showWelcomeFlow)).merge(function(e){const t=["show-repository-list"],n=new Co;if(0===e.repositories.length)for(const e of t)n.disable(e);return n}(e)).state}function Do(e,t=-1/0,n=1/0){return"number"!=typeof e?Do(e.value,e.min,e.max):e<t?t:e>n?n:e}function _o(e){return Math.round(100*Do(e,0,1))/100}function To(e,t){if(null===t)return!1;const{tip:n,forcePushBranches:r}=e,{ahead:i,behind:o}=t;let s=!1;if(n.kind===si.Valid){const e=n.branch.nameWithoutRemote,{sha:t}=n.branch.tip;s=r.get(e)===t}return s&&o>0&&i>0}var Ro;!function(e){e.Terminal="Terminal",e.Hyper="Hyper",e.iTerm2="iTerm2",e.PowerShellCore="PowerShell Core",e.Kitty="Kitty",e.Alacritty="Alacritty",e.WezTerm="WezTerm"}(Ro||(Ro={}));const Ao=Ro.Terminal;function Oo(e){switch(e){case Ro.Terminal:return"com.apple.Terminal";case Ro.iTerm2:return"com.googlecode.iterm2";case Ro.Hyper:return"co.zeit.hyper";case Ro.PowerShellCore:return"com.microsoft.powershell";case Ro.Kitty:return"net.kovidgoyal.kitty";case Ro.Alacritty:return"io.alacritty";case Ro.WezTerm:return"com.github.wez.wezterm";default:return Ze(0,"Unknown shell: "+e)}}async function Po(e){const t=Oo(e);try{return await Bi()(t)}catch(e){return null}}var Io;!function(e){e.Cmd="Command Prompt",e.PowerShell="PowerShell",e.PowerShellCore="PowerShell Core",e.Hyper="Hyper",e.GitBash="Git Bash",e.Cygwin="Cygwin",e.WSL="WSL",e.WindowTerminal="Windows Terminal",e.FluentTerminal="Fluent Terminal",e.Alacritty="Alacritty"}(Io||(Io={}));Io.Cmd;var Mo;!function(e){e.Gnome="GNOME Terminal",e.Mate="MATE Terminal",e.Tilix="Tilix",e.Terminator="Terminator",e.Urxvt="URxvt",e.Konsole="Konsole",e.Xterm="XTerm",e.Terminology="Terminology",e.Deepin="Deepin Terminal",e.Elementary="Elementary Terminal",e.XFCE="XFCE Terminal",e.Alacritty="Alacritty",e.Kitty="Kitty"}(Mo||(Mo={}));Mo.Gnome;class Fo extends Error{}const No=Ao;let Bo=null;function Lo(e){return function(e){var t;return null!==(t=yt(Ro,e))&&void 0!==t?t:Ao}(e)}async function Ho(){return Bo||(Bo=await async function(){const[e,t,n,r,i,o,s]=await Promise.all([Po(Ro.Terminal),Po(Ro.Hyper),Po(Ro.iTerm2),Po(Ro.PowerShellCore),Po(Ro.Kitty),Po(Ro.Alacritty),Po(Ro.WezTerm)]),a=[];if(e&&a.push({shell:Ro.Terminal,path:e}),t&&a.push({shell:Ro.Hyper,path:t}),n&&a.push({shell:Ro.iTerm2,path:n}),r&&a.push({shell:Ro.PowerShellCore,path:r}),i){const e=i+"/Contents/MacOS/kitty";a.push({shell:Ro.Kitty,path:e})}if(o){const e=o+"/Contents/MacOS/alacritty";a.push({shell:Ro.Alacritty,path:e})}if(s){const e=s+"/Contents/MacOS/wezterm";a.push({shell:Ro.WezTerm,path:e})}return a}(),Bo)}async function Uo(e,t,n){if(!await Object(w.pathExists)(e.path)){const t="Preferences";throw new Fo(`Could not find executable for '${e.shell}' at path '${e.path}'.  Please open ${t} and select an available shell.`)}let r=null;return r=function(e,t){if(e.shell===Ro.Kitty)return Object(Xi.spawn)(e.path,["--single-instance","--directory",t]);if(e.shell===Ro.Alacritty)return Object(Xi.spawn)(e.path,["--working-directory",t]);if(e.shell===Ro.WezTerm)return Object(Xi.spawn)(e.path,["start","--cwd",t]);{const n=Oo(e.shell);return Object(Xi.spawn)("open",["-b",n,t])}}(e,t),null!=r?(function(e,t,n){null!==t.stderr&&t.stderr.on("data",t=>{const n=t instanceof Buffer?t.toString():t;log.debug(`[${e}] stderr: '${n}'`)});t.on("error",t=>{log.debug(`[${e}] an error was encountered`,t),n(t)}),t.on("exit",t=>{0!==t&&log.debug(`[${e}] exit code: ${t}`)})}(e.shell,r,n),Promise.resolve()):Promise.reject("Platform not currently supported for launching shells: darwin")}function jo(e,t){return Promise.all([e(),Wo(t)]).then(e=>e[0])}async function Wo(e){return new Promise(t=>window.setTimeout(t,e))}class zo{constructor(e,t,n,r){this.timeoutHandle=null,this.stopped=!1,this.repository=e,this.account=t,this.fetch=n,this.shouldPerformFetch=r}start(e){this.stopped&&Ye("Cannot start a background fetcher that has been stopped.");const t=this.repository.gitHubRepository;t&&(e?this.timeoutHandle=window.setTimeout(()=>this.performAndScheduleFetch(t),qo()):this.performAndScheduleFetch(t))}stop(){this.stopped=!0;const e=this.timeoutHandle;e&&(window.clearTimeout(e),this.timeoutHandle=null)}async performAndScheduleFetch(e){if(this.stopped)return;const t=await this.shouldPerformFetch(this.repository);if(this.stopped)return;if(t)try{await this.fetch(this.repository)}catch(e){const t=this.repository.gitHubRepository,n=null!==t?t.fullName:this.repository.name;log.error(`Error performing periodic fetch for '${n}'`,e)}if(this.stopped)return;const n=await this.getFetchInterval(e);this.stopped||(this.timeoutHandle=window.setTimeout(()=>this.performAndScheduleFetch(e),n))}async getFetchInterval(e){const t=Pn.fromAccount(this.account);let n=36e5;try{const r=await t.getFetchPollInterval(e.owner.login,e.name);n=r?Math.max(r,3e5):36e5}catch(e){log.error("Error fetching poll interval",e)}return n+qo()}}let Go=null;function qo(){if(null!==Go)return Go;const e=Math.ceil(3e4*Math.random());return Go=e,e}function Vo(e){return lt(__dirname,"emoji",e)}function $o(e){const t=e.toString(16);return t.length>=4?t:("0000"+t).substring(t.length)}function Ko(e){return new Promise((t,n)=>{const o=r.join(e,"emoji.json");i.readFile(o,"utf8",(e,r)=>{if(e)return void n(e);const i=new Map;try{JSON.parse(r).forEach(e=>{const t=e.emoji?function(e){const t=e.codePointAt(0);if(!t)return null;let n=$o(t);if(e.length>2){const t=e.codePointAt(2);t&&65039!==t&&(n=`${n}-${$o(t)}`)}return Vo(`unicode/${n}.png`)}(e.emoji):Vo(e.aliases[0]+".png");t?e.aliases.forEach(e=>{i.set(`:${e}:`,t)}):log.error("Could not calculate location of emoji: "+e)})}catch(e){n(e)}const o=new Map;Array.from(i.keys()).sort().forEach(e=>{const t=i.get(e);t&&o.set(e,t)}),t(o)})})}const Yo={summary:"",description:""};async function Zo(){return new Promise((e,t)=>{requestAnimationFrame(e)})}class Xo extends Error{constructor(e,t){super(`The remote '${t.name}' already exists`),this.repository=e,this.existingRemote=t}}function Qo(e,t){const n=t.find(e=>"upstream"===e.name);return n&&Kn(e,n)?n:null}class Jo{constructor(e,t){this.name=e,this.email=t}static parse(e){const t=e.match(/^(.*?)\s+<(.*?)>/);return null===t?null:new Jo(t[1],t[2])}toString(){return`${this.name} <${this.email}>`}}var es;!function(e){e.NotLoaded="NotLoaded",e.Loading="Loading",e.Loaded="Loaded"}(es||(es={}));class ts{constructor(e,t,n,r,i,o,s,a,l){this.sha=e,this.shortSha=t,this.summary=n,this.body=r,this.author=i,this.committer=o,this.parentSHAs=s,this.trailers=a,this.tags=l,this.coAuthors=function(e){const t=[];for(const n of e)if(Qi(n)){const e=Jo.parse(n.value);e&&t.push(e)}return t}(a),this.authoredByCommitter=this.author.name===this.committer.name&&this.author.email===this.committer.email,this.bodyNoCoAuthors=function(e,t){let n=t;return e.filter(Qi).forEach(({token:e,value:t})=>{n=n.replace(`${e}: ${t}`,"")}),n}(a,r),this.isMergeCommit=s.length>1}}class ns{constructor(e,t,n,r=(new Date).getTimezoneOffset()){this.name=e,this.email=t,this.date=n,this.tzOffset=r}static parseIdentity(e){const t=e.match(/^(.*?) <(.*?)> (\d+) (\+|-)?(\d{2})(\d{2})/);if(!t)throw new Error("Couldn't parse identity "+e);const n=t[1],r=t[2],i=new Date(1e3*parseInt(t[3],10));if(isNaN(i.valueOf()))throw new Error(`Couldn't parse identity ${e}, invalid date`);const o="-"===t[4]?"-":"+",s=t[5],a=t[6],l=60*parseInt(s,10)+parseInt(a,10);return new ns(n,r,i,l*("-"===o?-1:1))}}function rs(e){const t=Object.keys(e);return{formatArgs:[`--format=%00${Object.values(e).join("%00")}%00`],parse:e=>{const n=e.split("\0"),r=new Array;let i,o=0;for(let e=1;e<n.length-1;e++){if(e%(t.length+1)==0){if("\n"!==n[e])throw new Error("Expected newline");continue}i=null!=i?i:{};i[t[o%t.length]]=n[e],o++,o%t.length==0&&(r.push(i),i=void 0)}return r}}}function is(e,t){const n=e.trim();return"M"===n?{kind:ii.Modified}:"A"===n?{kind:ii.New}:"?"===n?{kind:ii.Untracked}:"D"===n?{kind:ii.Deleted}:"R"===n&&null!=t?{kind:ii.Renamed,oldPath:t}:"C"===n&&null!=t?{kind:ii.Copied,oldPath:t}:n.match(/R[0-9]+/)&&null!=t?{kind:ii.Renamed,oldPath:t}:n.match(/C[0-9]+/)&&null!=t?{kind:ii.Copied,oldPath:t}:{kind:ii.Modified}}async function os(e,t,n,r,i=[]){const{formatArgs:o,parse:s}=function(e){const t=Object.keys(e);return{formatArgs:["-z","--format="+Object.values(e).join("%x00")],parse:e=>{const n=e.split("\0"),r=[];for(let e=0;e<n.length-t.length;e+=t.length){const i={};t.forEach((t,r)=>i[t]=n[e+r]),r.push(i)}return r}}}({sha:"%H",shortSha:"%h",summary:"%s",body:"%b",author:"%an <%ae> %ad",committer:"%cn <%ce> %cd",parents:"%P",trailers:"%(trailers:unfold,only)",refs:"%D"}),a=["log"];void 0!==t&&a.push(t),a.push("--date=raw"),void 0!==n&&a.push("--max-count="+n),void 0!==r&&a.push("--skip="+r),a.push(...o,"--no-show-signature","--no-color",...i,"--");const l=await pd(a,e.path,"getCommits",{successExitCodes:new Set([0,128])});if(128===l.exitCode)return new Array;const c=await to(e);return s(l.stdout).map(e=>{const t=br(e.refs,/tag: ([^\s,]+)/g).filter(e=>void 0!==e[0]).map(e=>e[0]);return new ts(e.sha,e.shortSha,e.summary,e.body,ns.parseIdentity(e.author),ns.parseIdentity(e.committer),e.parents.length>0?e.parents.split(" "):[],Ji(e.trailers,c),t)})}async function ss(e,t){const n=["log",t,"-C","-M","-m","-1","--no-show-signature","--first-parent","--format=format:","-z"],r=as((await pd([...n,"--name-status","--"],e.path,"getChangedFilesNameStatus")).stdout,t);const i=function(e){const t=e.split("\0");let n=0,r=0;for(const e of t){const t=e.split("\t");if(3!==t.length)continue;const[i,o]=t;"-"!==i&&"-"!==o&&(n+=parseInt(i,10),r+=parseInt(o,10))}return{linesAdded:n,linesDeleted:r}}((await pd([...n,"--numstat","--"],e.path,"getChangedFilesNumStats")).stdout);return Object.assign({files:r},i)}function as(e,t){const n=e.split("\0");n.splice(-1,1);const r=[];for(let e=0;e<n.length;e++){const i=n[e];let o=void 0;i.length>0&&("R"===i[0]||"C"===i[0])&&(o=n[++e]);const s=is(i,o),a=n[++e];r.push(new Ai(a,s,t))}return r}async function ls(e,t){const n=await os(e,t,1);return n.length<1?null:n[0]}async function cs(e,t){const n=null===t?void 0:Ul(t,"HEAD");return(await os(e,n,void 0,void 0,["--merges"])).length>0}async function us(e,t,n={}){if(0===t.length)return;const r=["update-index"];!1!==n.add&&r.push("--add"),!1===n.remove&&!0!==n.forceRemove||r.push("--remove"),n.forceRemove&&r.push("--force-remove"),!1!==n.replace&&r.push("--replace"),r.push("-z","--stdin"),await pd(r,e.path,"updateIndex",{stdin:t.join("\0")})}async function hs(e,t){const n=[],r=[],i=[],o=[];for(const e of t)e.selection.getSelectionType()===Qr.All?(n.push(e.path),e.status.kind===ii.Renamed?r.push(e.status.oldPath):e.status.kind===ii.Deleted&&o.push(e.path)):i.push(e);await us(e,r,{forceRemove:!0}),await us(e,n),await us(e,o,{forceRemove:!0});for(const t of i)await Sd(e,t)}const ps=/!!GitHub_Desktop<(.+)>$/;async function ds(e){const t=String.fromCharCode(parseInt("1F",16)),n=["%gD","%H","%gs"].join("%x1F"),r=await pd(["log","-g","-z","--pretty="+n,"refs/stash"],e.path,"getStashEntries",{successExitCodes:new Set([0,128])});if(128===r.exitCode)return{desktopEntries:[],stashEntryCount:0};const i=[],o={kind:es.NotLoaded},s=r.stdout.split("\0").filter(e=>""!==e);for(const e of s){const n=e.split(t);if(3===n.length){const[e,t,r]=n,s=vs(r);null!==s&&i.push({name:e,branchName:s,stashSha:t,files:o})}}return{desktopEntries:i,stashEntryCount:s.length-1}}async function fs(e,t){const n=await ds(e),r="string"==typeof t?t:t.name;return n.desktopEntries.find(e=>e.branchName===r)||null}async function ms(e,t){return(await ds(e)).desktopEntries.find(e=>e.stashSha===t)||null}async function gs(e,t){const n=await ms(e,t);if(null!==n){const t=["stash","drop",n.name];await pd(t,e.path,"dropStashEntry")}}async function ys(e,t){const n=new Set([sr.GitError.MergeConflicts]),r=new Set([0,1]),i=await ms(e,t);if(null!==i){const o=["stash","pop","--quiet",""+i.name],s=await pd(o,e.path,"popStashEntry",{expectedErrors:n,successExitCodes:r});if(1===s.exitCode){if(s.stderr.length>0)throw new hd(s,o);log.info(`[popStashEntry] a stash was popped successfully but exit code ${s.exitCode} reported.`),await gs(e,t)}}}function vs(e){const t=ps.exec(e);return null===t||0===t[1].length?null:t[1]}async function bs(e,t){const n=["log",t,"-C","-M","-m","-1","--no-show-signature","--first-parent","--name-status","--format=format:","-z","--"],r=await pd(n,e.path,"getChangedFilesForStash",{successExitCodes:new Set([0,128])});return 0===r.exitCode&&r.stdout.length>0?as(r.stdout,t):[]}function ws(e,t){0===t.length?Ss(e):function(e,t){const n=JSON.stringify(t);localStorage.setItem(e,n)}(Es(e),t)}function Cs(e){return function(e){const t=localStorage.getItem(e)||"[]";try{const e=JSON.parse(t);return e instanceof Array?e.some(e=>"string"!=typeof e)?[]:e:[]}catch(e){return[]}}(Es(e))}function Ss(e){localStorage.removeItem(Es(e))}function Es(e){return"tags-to-push-"+e.id}const ks=["main","master"];async function xs(){var e;return null!==(e=await async function(){return cr("init.defaultBranch")}())&&void 0!==e?e:"main"}class Ds extends Mr{constructor(e,t,n){super(),this.repository=e,this.shell=t,this.statsStore=n,this.commitLookup=new Map,this._history=[],this.requestsInFight=new Set,this._tip={kind:si.Unknown},this._defaultBranch=null,this._localTags=null,this._allBranches=[],this._recentBranches=[],this._localCommitSHAs=[],this._commitMessage=Yo,this._showCoAuthoredBy=!1,this._coAuthors=[],this._aheadBehind=null,this._tagsToPush=[],this._defaultRemote=null,this._currentRemote=null,this._upstreamRemote=null,this._lastFetched=null,this._desktopStashEntries=new Map,this._stashEntryCount=0,this._tagsToPush=Cs(e)}async reconcileHistory(e){if(0===this._history.length)return;if(this.requestsInFight.has("history"))return;this.requestsInFight.add("history");const t=Ul("HEAD",e),n=await this.performFailableOperation(()=>os(this.repository,t,100));if(null==n)return;const r=this._history,i=r.findIndex(t=>t===e);if(i>-1){log.debug(`reconciling history - adding ${n.length} commits before merge base ${e.substr(0,8)}`);const t=r.slice(i);this._history=[...n.map(e=>e.sha),...t]}this.storeCommits(n),this.requestsInFight.delete("history"),this.emitUpdate()}async loadCommitBatch(e,t){if(this.requestsInFight.has("history"))return null;const n=`history/compare/${e}/skip/${t}`;if(this.requestsInFight.has(n))return null;this.requestsInFight.add(n);const r=await this.performFailableOperation(()=>os(this.repository,e,100,t));return this.requestsInFight.delete(n),r?(this.storeCommits(r),r.map(e=>e.sha)):null}async refreshTags(){const e=this._localTags,t=await this.performFailableOperation(()=>async function(e){const t=(await pd(["show-ref","--tags","-d"],e.path,"getAllTags",{successExitCodes:new Set([0,1])})).stdout.split("\n").filter(e=>""!==e).map(e=>{const[t,n]=e.split(" ");return[n.replace(/^refs\/tags\//,"").replace(/\^\{\}$/,""),t]});return new Map(t)}(this.repository));if(void 0!==t){this._localTags=t;for(const e of this._tagsToPush)this._localTags.has(e)||this.removeTagToPush(e);null!==e&&this.emitUpdatesForChangedTags(e,this._localTags)}}async emitUpdatesForChangedTags(e,t){const n=new Set;let r=0;for(const[r,i]of e){const e=t.get(r);e?e!==i&&(n.add(i),n.add(e)):n.add(i)}for(const[i,o]of t)e.has(i)||(n.add(o),r++);r>0&&this.statsStore.recordTagCreated(r);const i=[];for(const e of n){const t=await ls(this.repository,e);null!==t&&i.push(t)}this.storeCommits(i)}async createBranch(e,t,n=!1){if(!0===await this.performFailableOperation(async()=>(await async function(e,t,n,r){const i=null!==n?["branch",t,n]:["branch",t];r&&i.push("--no-track");await pd(i,e.path,"createBranch")}(this.repository,e,t,n),!0)))return await this.loadBranches(),this.allBranches.find(t=>t.type===zr.Local&&t.name===e)}async createTag(e,t){void 0!==await this.performFailableOperation(async()=>(await async function(e,t,n){const r=["tag","-a","-m","",t,n];await pd(r,e.path,"createTag")}(this.repository,e,t),!0))&&(await this.refreshTags(),this.addTagToPush(e),this.statsStore.recordTagCreatedInDesktop())}async deleteTag(e){void 0!==await this.performFailableOperation(async()=>(await async function(e,t){const n=["tag","-d",t];await pd(n,e.path,"deleteTag")}(this.repository,e),!0))&&(await this.refreshTags(),this.removeTagToPush(e),this.statsStore.recordTagDeleted())}get history(){return this._history}get tagsToPush(){return this._tagsToPush}get localTags(){return this._localTags}async loadBranches(){const[e,t]=await Promise.all([this.performFailableOperation(()=>Nd(this.repository))||[],this.performFailableOperation(()=>async function(e,t){const n=new RegExp(/.*? (renamed|checkout)(?:: moving from|\s*) (?:refs\/heads\/|\s*)(.*?) to (?:refs\/heads\/|\s*)(.*?)$/i),r=await pd(["log","-g","--no-abbrev-commit","--pretty=oneline","HEAD","-n","2500","--"],e.path,"getRecentBranches",{successExitCodes:new Set([0,128])});if(128===r.exitCode)return[];const i=r.stdout.split("\n"),o=new Set,s=new Set;for(const e of i){const r=n.exec(e);if(r&&4===r.length){const e=r[1],t=r[2],n=r[3];"renamed"===e&&s.add(t),s.has(n)||o.add(n)}if(o.size===t)break}return[...o]}(this.repository,6))]);e&&(this._allBranches=this.mergeRemoteAndLocalBranches(e),await this.refreshDefaultBranch(),this.refreshRecentBranches(t),await this.checkPullWithRebase(),this.emitUpdate())}mergeRemoteAndLocalBranches(e){const t=new Array,n=new Array;for(const r of e)r.type===zr.Local?t.push(r):r.type===zr.Remote&&n.push(r);const r=new Set,i=new Array;for(const e of t)i.push(e),e.upstream&&r.add(e.upstream);for(const e of n)r.has(e.name)||i.push(e);return i}async checkPullWithRebase(){const e=await lr(this.repository,"pull.rebase");null===e||""===e?this.pullWithRebase=void 0:"true"===e?this.pullWithRebase=!0:"false"===e?this.pullWithRebase=!1:(log.warn(`Unexpected value found for pull.rebase in config: '${e}'`),this.pullWithRebase=void 0)}async refreshDefaultBranch(){const e=await this.resolveDefaultBranch();this._defaultBranch=this._allBranches.filter(t=>t.name===e&&null===t.upstreamWithoutRemote||t.upstreamWithoutRemote===e).sort((e,t)=>Wn(e.type,t.type)).shift()||null}addTagToPush(e){this._tagsToPush=[...this._tagsToPush,e],ws(this.repository,this._tagsToPush),this.emitUpdate()}removeTagToPush(e){this._tagsToPush=this._tagsToPush.filter(t=>t!==e),ws(this.repository,this._tagsToPush),this.emitUpdate()}clearTagsToPush(){this._tagsToPush=[],ws(this.repository,this._tagsToPush),this.emitUpdate()}async resolveDefaultBranch(){const{gitHubRepository:e}=this.repository;if(e&&null!=e.defaultBranch)return e.defaultBranch;if(null!==this.currentRemote){const e=`refs/remotes/${this.currentRemote.name}/`,t=await kd(this.repository,e+"HEAD");if(null!=t&&t.length>e.length&&t.startsWith(e))return t.substr(e.length)}return xs()}refreshRecentBranches(e){var t;if(!e||!e.length)return void(this._recentBranches=[]);const n=new Map;for(const e of this._allBranches)e.type===zr.Local&&n.set(e.name,e);const r=new Array;for(const i of e){if(i===(null===(t=this.defaultBranch)||void 0===t?void 0:t.name))continue;const e=n.get(i);if(e&&(r.push(e),r.length>=5))break}this._recentBranches=r}get tip(){return this._tip}get defaultBranch(){return this._defaultBranch}get allBranches(){return this._allBranches}get recentBranches(){return this._recentBranches}async loadLocalCommits(e){if(null===e)return void(this._localCommitSHAs=[]);let t;if(e.upstream){const n=Ul(e.upstream,e.name);t=await this.performFailableOperation(()=>os(this.repository,n,100))}else t=await this.performFailableOperation(()=>os(this.repository,"HEAD",100,void 0,["--not","--remotes"]));t&&(this.storeCommits(t),this._localCommitSHAs=t.map(e=>e.sha),this.emitUpdate())}get localCommitSHAs(){return this._localCommitSHAs}storeCommits(e){for(const t of e)this.commitLookup.set(t.sha,t)}async undoFirstCommit(e){const t=await this.performFailableOperation(()=>nc(this.repository));if(null==t)throw new Error("Unable to undo commit because there are too many files in your repository's working directory.");const n=t.workingDirectory.files.filter(e=>e.status.kind===ii.Deleted).map(e=>e.path);return await async function(e,t){await pd(["checkout","HEAD","--",...t],e.path,"checkoutPaths")}(e,n),await xd(e,"HEAD","Reverting first commit"),await async function(e){await pd(["rm","--cached","-r","-f","."],e.path,"unstageAllFiles")}(e),!0}async undoCommit(e){if(void 0!==await this.performFailableOperation(()=>0===e.parentSHAs.length?this.undoFirstCommit(this.repository):Id(this.repository,2,e.parentSHAs[0]))){if(this.repository.gitHubRepository)try{return await this.loadCommitAndCoAuthors(e),void this.emitUpdate()}catch(e){log.error("Failed to restore commit and co-authors, falling back",e)}this._commitMessage={summary:e.summary,description:e.body},this.emitUpdate()}}async loadCommitAndCoAuthors(e){const t=this.repository,n=await ro(t,{summary:e.summary,description:e.body}),r=(await async function(e,t){const n=await pd(["interpret-trailers","--parse"],e.path,"parseTrailers",{stdin:t});if(0===n.stdout.length)return[];const r=await to(e);return Ji(n.stdout,r)}(t,n)).filter(Qi);if(0===r.length)return void(this._commitMessage={summary:e.summary,description:e.body});const i=(await no(t,n,[],!0)).split("\n"),o=await to(this.repository),s=/^co-authored-by(.)\s(.*)/i,a=[];for(let e=i.length-1;e>=0;e--){const t=i[e],n=s.exec(t);if(!n||-1===o.indexOf(n[1]))continue;const l=eo(t,n[1]);if(!l)continue;const c=r.findIndex(e=>e.value===l.value);-1!==c&&(a.unshift(r[c]),r.splice(c,1),i.splice(e,1))}i.splice(0,2);const l=i.join("\n").trim();this._commitMessage={summary:e.summary,description:l};const c=a.map(e=>Jo.parse(e.value)),u=new Array;for(let e=0;e<c.length;e++){const t=c[e];if(null===t)continue;const{name:n,email:r}=t,i=this.coAuthors.find(e=>e.name===n&&e.email===r&&null!==e.username);u.push(i||{name:n,email:r,username:null})}this._coAuthors=u,this._coAuthors.length>0&&!1===this._showCoAuthoredBy&&(this._showCoAuthoredBy=!0)}async performFailableOperation(e,t){try{return await e()}catch(e){return e=new rt(e,Object.assign({repository:this.repository},t)),void this.emitError(e)}}get commitMessage(){return this._commitMessage}get showCoAuthoredBy(){return this._showCoAuthoredBy}get coAuthors(){return this._coAuthors}async fetch(e,t,n){const r=new Map;if(null!==this.currentRemote&&r.set(this.currentRemote.name,this.currentRemote),null!==this.defaultRemote&&r.set(this.defaultRemote.name,this.defaultRemote),null!==this.upstreamRemote&&r.set(this.upstreamRemote.name,this.upstreamRemote),r.size>0&&await this.fetchRemotes(e,[...r.values()],t,n),this.tip.kind===si.Valid){const e=this.tip.branch;if(null!==e.upstreamRemoteName&&null!==e.upstream){const t=jl(e.name,e.upstream);this._aheadBehind=await Wl(this.repository,t)}else this._aheadBehind=null}else this._aheadBehind=null;this.emitUpdate()}async fetchRemotes(e,t,n,r){if(!t.length)return;const i=1/t.length;for(let o=0;o<t.length;o++){const s=t[o],a=o*i;await this.fetchRemote(e,s,n,e=>{e&&r&&r(Object.assign(Object.assign({},e),{value:a+e.value*i}))})}}async fetchRemote(e,t,n,r){const i={type:tt.Fetch,repository:this.repository};await this.performFailableOperation(()=>async function(e,t,n,r){let i={successExitCodes:new Set([0]),env:await ka(t,n.url)};if(r){const e="Fetching "+n.name,t="fetch";i=await ya(Object.assign(Object.assign({},i),{trackLFSProgress:!0}),new oa,i=>{if("context"===i.kind&&!i.text.startsWith("remote: Counting objects"))return;const o="progress"===i.kind?i.details.text:i.text,s=i.percent;r({kind:t,title:e,description:o,value:s,remote:n.name})}),r({kind:t,title:e,value:0,remote:n.name})}const o=await async function(e,t,n,r){const i=await yd(e,n);return Rt()?null!=r?[...i,"fetch","--progress","--prune","--recurse-submodules=on-demand",t]:[...i,"fetch","--prune","--recurse-submodules=on-demand",t]:null!=r?[...i,"fetch","--progress","--prune",t]:[...i,"fetch","--prune",t]}(e,n.name,t,r);await pd(o,e.path,"fetch",i)}(this.repository,e,t,r),{backgroundTask:n,retryAction:i})}async fetchRefspec(e,t){const n=await Dd(this.repository);for(const r of n)await this.performFailableOperation(()=>Fd(this.repository,e,r,t))}async loadStatus(){const e=await this.performFailableOperation(()=>nc(this.repository));if(!e)return null;this._aheadBehind=e.branchAheadBehind||null;const{currentBranch:t,currentTip:n}=e;if(t||n)if(n&&t){const r=await this.lookupCommit(n),i=new $r(t,e.currentUpstreamBranch||null,r,zr.Local,"refs/heads/"+t);this._tip={kind:si.Valid,branch:i}}else n?this._tip={kind:si.Detached,currentSha:n}:t&&(this._tip={kind:si.Unborn,ref:t});else this._tip={kind:si.Unknown};return this.emitUpdate(),e}async lookupCommit(e){const t=this.commitLookup.get(e);if(null!=t)return Promise.resolve(t);const n=await this.performFailableOperation(()=>ls(this.repository,e));if(null!=n)return this.commitLookup.set(e,n),n;throw new Error(`Could not load commit: '${e}'`)}async loadStashEntries(){const e=new Map,t=await ds(this.repository);for(const n of t.desktopEntries)if(!e.has(n.branchName)){const t=this._desktopStashEntries.get(n.branchName);void 0!==t&&t.stashSha===n.stashSha?e.set(n.branchName,Object.assign(Object.assign({},n),{files:t.files})):e.set(n.branchName,n)}this._desktopStashEntries=e,this._stashEntryCount=t.stashEntryCount,this.emitUpdate(),this.loadFilesForCurrentStashEntry()}get currentBranchStashEntry(){return this._tip&&this._tip.kind===si.Valid&&this._desktopStashEntries.get(this._tip.branch.name)||null}get stashEntryCount(){return this._stashEntryCount}get desktopStashEntryCount(){return this._desktopStashEntries.size}async loadFilesForCurrentStashEntry(){const e=this.currentBranchStashEntry;if(!e||e.files.kind!==es.NotLoaded)return;const{branchName:t}=e;this._desktopStashEntries.set(t,Object.assign(Object.assign({},e),{files:{kind:es.Loading}})),this.emitUpdate();const n=await async function(e,t){const[n,r]=await Promise.all([bs(e,t),bs(e,t+"^3")]),i=new Map;return n.forEach(e=>i.set(e.path,e)),r.forEach(e=>i.set(e.path,e)),[...i.values()].sort((e,t)=>e.path.localeCompare(t.path))}(this.repository,e.stashSha),r=this._desktopStashEntries.get(t);r&&r.stashSha===e.stashSha&&(this._desktopStashEntries.set(t,Object.assign(Object.assign({},r),{files:{kind:es.Loaded,files:n}})),this.emitUpdate())}async loadRemotes(){const e=await Dd(this.repository);this._defaultRemote=function(e){return e.find(e=>"origin"===e.name)||e[0]||null}(e);const t=this.tip.kind===si.Valid&&null!==this.tip.branch.upstreamRemoteName?this.tip.branch.upstreamRemoteName:null;this._currentRemote=null!==t&&e.find(e=>e.name===t)||this._defaultRemote;const n=this.repository.gitHubRepository&&this.repository.gitHubRepository.parent;this._upstreamRemote=n?Qo(n,e):null,this.emitUpdate()}async addUpstreamRemoteIfNeeded(){var e;const t=this.repository.gitHubRepository&&this.repository.gitHubRepository.parent;if(!t)return;const n=await Dd(this.repository);if(Qo(t,n))return;const r=n.find(e=>"upstream"===e.name);if(r){const e=new Xo(this.repository,r);return void this.emitError(e)}const i=Xe("Parent repositories are fully loaded",t.cloneURL);this._upstreamRemote=null!==(e=await this.performFailableOperation(()=>_d(this.repository,"upstream",i)))&&void 0!==e?e:null}async ensureUpstreamRemoteURL(e){await this.performFailableOperation(async()=>{try{await _d(this.repository,"upstream",e)}catch(t){if(!(t instanceof hd&&t.result.gitError===sr.GitError.RemoteAlreadyExists))throw t;await Rd(this.repository,"upstream",e)}})}get aheadBehind(){return this._aheadBehind}get defaultRemote(){return this._defaultRemote}get currentRemote(){return this._currentRemote}get upstreamRemote(){return this._upstreamRemote}setShowCoAuthoredBy(e){this._showCoAuthoredBy=e,e||(this._coAuthors=[]),this.emitUpdate()}setCoAuthors(e){this._coAuthors=e,this.emitUpdate()}setCommitMessage(e){return this._commitMessage=e,this.emitUpdate(),Promise.resolve()}get lastFetched(){return this._lastFetched}async updateLastFetched(){const e=r.join(this.repository.path,".git","FETCH_HEAD");try{const t=await Object(w.stat)(e);t.size>0&&(this._lastFetched=t.mtime)}catch(e){this._lastFetched=null}return this.emitUpdate(),this._lastFetched}merge(e,t=!1){if(this.tip.kind!==si.Valid)throw new Error(`unable to merge as tip state is '${this.tip.kind}' and the application expects the repository to be on a branch currently`);const n=this.tip.branch.name;return this.performFailableOperation(()=>async function(e,t,n=!1){const r=["merge"];n&&r.push("--squash");r.push(t);const{exitCode:i,stdout:o}=await pd(r,e.path,"merge",{expectedErrors:new Set([sr.GitError.MergeConflicts])});if(0!==i)return Ja.Failed;if(n){const{exitCode:t}=await pd(["commit","--no-edit"],e.path,"createSquashMergeCommit");if(0!==t)return Ja.Failed}return o===el?Ja.AlreadyUpToDate:Ja.Success}(this.repository,e.name,t),{gitContext:{kind:"merge",currentBranch:n,theirBranch:e.name},retryAction:{type:tt.Merge,currentBranch:n,theirBranch:e,repository:this.repository}})}async setRemoteURL(e,t){const n=!0===await this.performFailableOperation(()=>Rd(this.repository,e,t));return await this.loadRemotes(),this.emitUpdate(),n}async discardChanges(e,t=!0,n=!1){const i=new Array,o=new Array,s=await async function(e){const[t,n]=await Promise.all([Object(w.pathExists)(r.join(e.path,".gitmodules")),Object(w.pathExists)(r.join(e.path,".git","modules"))]);if(!t&&!n)return log.info('No submodules found. Skipping "git submodule status"'),[];const{stdout:i,exitCode:o}=await pd(["submodule","status","--"],e.path,"listSubmodules",{successExitCodes:new Set([0,128])});if(128===o)return[];const s=new Array,a=/^.([^ ]+) (.+) \((.+?)\)$/gm;for(const[,e,t,n]of i.matchAll(a))s.push(new Vd(e,t,n));return s}(this.repository);await async function(e,t){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;){const e=await Zo();do{await Promise.resolve(t(r.value)),r=n.next()}while(!r.done&&performance.now()-e<10)}}(e,async a=>{const l=s.some(e=>e.path===a.path);if(a.status.kind!==ii.Deleted&&!l&&t)try{await this.shell.moveItemToTrash(r.resolve(this.repository.path,a.path))}catch(t){if(n)throw new ot(t,this.repository,e)}a.status.kind===ii.Copied||a.status.kind===ii.Renamed?(o.push(a.path),i.push(a.status.oldPath),o.push(a.status.oldPath)):(i.push(a.path),o.push(a.path))});const a=await async function(e){const t=["diff-index","--cached","--name-status","--no-renames","-z"];let n=await pd([...t,"HEAD","--"],e.path,"getIndexChanges",{successExitCodes:new Set([0,128])});128===n.exitCode&&(n=await pd([...t,"4b825dc642cb6eb9a060e54bf8d69288fbee4904"],e.path,"getIndexChanges"));const r=new Map,i=n.stdout.split("\0");for(let e=0;e<i.length-1;e+=2){const t=zd(i[e]),n=i[e+1];r.set(n,t)}return r}(this.repository),l=o.filter(e=>a.has(e)),c=i.filter(e=>s.find(t=>t.path===e)),u=i.filter(e=>-1===c.indexOf(e)||a.get(e)!==Wd.Added);await this.performFailableOperation(async()=>{c.length>0&&await async function(e,t){if(0===t.length)return;await pd(["submodule","update","--recursive","--force","--",...t],e.path,"updateSubmodule")}(this.repository,c),await async function(e,t,n,r){if(!r.length)return;const i=Pd(t,n);{const t=[...i,"--",...r];await pd(t,e.path,"resetPaths")}}(this.repository,2,"HEAD",l),await async function(e,t){if(!t.length)return;const n={successExitCodes:new Set([0,1]),stdin:t.join("\0")};await pd(["checkout-index","-f","-u","-q","--stdin","-z"],e.path,"checkoutIndex",n)}(this.repository,u)})}async discardChangesFromSelection(e,t,n){await this.performFailableOperation(()=>async function(e,t,n,r){const i=function(e,t,n){let r="";if(t.hunks.forEach((e,t)=>{let i="",o=0,s=0,a=!1;e.lines.forEach((t,r)=>{const l=e.unifiedDiffStart+r;if(t.type!==Xr.Hunk){if(t.type===Xr.Context)i+=t.text+"\n",o++,s++;else if(n.isSelected(l))t.type===Xr.Add?(i+=`-${t.text.substr(1)}\n`,s++):t.type===Xr.Delete?(i+=`+${t.text.substr(1)}\n`,o++):Ze(t.type,"Unsupported line type "+t.type),a=!0;else if(t.type===Xr.Add)o++,s++,i+=` ${t.text.substr(1)}\n`;else{if(t.type===Xr.Delete)return;Ze(t.type,"Unsupported line type "+t.type)}t.noTrailingNewLine&&(i+="\\ No newline at end of file\n")}}),a&&(r+=wd(e.header.newStartLine,s,e.header.oldStartLine,o),r+=i)}),0===r.length)return null;return bd(e,e)+r}(t,n,r);if(null===i)return;await pd(["apply","--unidiff-zero","--whitespace=nowarn","-"],e.path,"discardChangesFromSelection",{stdin:i})}(this.repository,e,t,n))}async revertCommit(e,t,n,r){await this.performFailableOperation(()=>async function(e,t,n,r){const i=[...await yd(e,n),"revert"];t.parentSHAs.length>1&&i.push("-m","1");i.push(t.sha);let o={};if(r){const t=await ka(n,Ea(n,e));o=await ya({env:t,trackLFSProgress:!0},new qd,e=>{const t="progress"===e.kind?e.details.text:e.text,n="progress"===e.kind?e.details.title:"",i=e.percent;r({kind:"revert",description:t,value:i,title:n})})}await pd(i,e.path,"revert",o)}(e,t,n,r)),this.emitUpdate()}async updateExistingUpstreamRemote(){const e=Xe("To update an upstream remote, the repository must be a GitHub repository",this.repository.gitHubRepository),t=Xe("To update an upstream remote, the repository must have a parent",e.parent),n=Xe("Parent repositories are always fully loaded",t.cloneURL);await this.performFailableOperation(()=>Rd(this.repository,"upstream",n))}async getCompareCommits(e,t){if(this.tip.kind!==si.Valid)return null;const n=this.tip.branch,r=await Wl(this.repository,jl(n.name,e.name));if(null==r)return null;const i=t===Ge.Ahead?Ul(e.name,n.name):Ul(n.name,e.name),o=t===Ge.Ahead?r.ahead:r.behind,s=await os(this.repository,i,o);return s.length>0&&this.storeCommits(s),{commits:s,ahead:r.ahead,behind:r.behind}}async pruneForkedRemotes(e){const t=function(e,t,n){const r=new Set(t.map(e=>e.head.gitHubRepository.cloneURL)),i=new Set(n.map(e=>e.upstreamRemoteName));return e.filter(e=>e.name.startsWith("github-desktop-")&&!r.has(e.url)&&!i.has(e.name))}(await Dd(this.repository),e,this.allBranches);for(const e of t)await Td(this.repository,e.name)}}class _s{constructor(e,t,n,r){this.shell=e,this.statsStore=t,this.onGitStoreUpdated=n,this.onDidError=r,this.gitStores=new Map}remove(e){this.gitStores.has(e.hash)&&this.gitStores.delete(e.hash)}get(e){let t=this.gitStores.get(e.hash);return void 0===t&&(t=new Ds(e,this.shell,this.statsStore),t.onDidUpdate(()=>this.onGitStoreUpdated(e,t)),t.onDidError(e=>this.onDidError(e)),this.gitStores.set(e.hash,t)),t}}function Ts(e,t,n){const r=e.conflictState,i=function(e,t){if(null!==e.rebaseInternalState){const{currentTip:n}=e;if(null==n)return null;const{targetBranch:r,originalBranchTip:i,baseBranchTip:o}=e.rebaseInternalState;return{kind:"rebase",currentTip:n,manualResolutions:t,targetBranch:r,originalBranchTip:i,baseBranchTip:o}}if(e.isCherryPickingHeadFound){const{currentBranch:n}=e;return null==n?null:{kind:"cherryPick",manualResolutions:t,targetBranchName:n}}const{currentBranch:n,currentTip:r,mergeHeadFound:i,squashMsgFound:o}=e;return null==n||null==r||!i&&!o||!i&&!e.doConflictedFilesExist?null:{kind:"merge",currentBranch:n,currentTip:r,manualResolutions:t}}(t,null!==r?r.manualResolutions:new Map);return null==r&&null==i?null:null!=r&&!Ve(r)||null!=i&&!Ve(i)?(null!=r&&!$e(r)||null!=i&&!$e(i)||function(e,t,n,r){const i=null!=e?e.targetBranch:null,o=null!=t?t.targetBranch:null;if(null!=i&&null!=o&&i!==o)return void r.recordRebaseAbortedAfterConflicts();const{currentTip:s,currentBranch:a}=n;if(null!=e&&null==t&&null!=s&&null!=a){e.originalBranchTip!==s&&a===e.targetBranch||r.recordRebaseAbortedAfterConflicts()}}(r,i,t,n),i):(function(e,t,n,r){const i=null!=e?e.currentBranch:null,o=null!=t?t.currentBranch:null;if(null!=i&&null!=o&&i!==o)return void r.recordMergeAbortedAfterConflicts();const{currentTip:s}=n;if(null!=e&&null==t&&null!=s){e.currentTip!==s?r.recordMergeSuccessAfterConflicts():r.recordMergeAbortedAfterConflicts()}}(r,i,t,n),i)}const Rs=["HEAD","refs/heads/main","refs/heads/master","refs/heads/gh-pages","refs/heads/develop","refs/heads/dev","refs/heads/development","refs/heads/trunk","refs/heads/devel","refs/heads/release"],As={enforcePruneThreshold:!0,deleteBranch:!0};class Os{constructor(e,t,n,r,i){this.repository=e,this.gitStoreCache=t,this.repositoriesStore=n,this.repositoriesStateCache=r,this.onPruneCompleted=i,this.timer=null}async start(){null!==this.timer&&Ye("A background prune task is already active and cannot begin pruning on "+this.repository.name),await this.pruneLocalBranches(As),this.timer=window.setInterval(()=>this.pruneLocalBranches(As),144e5)}stop(){null!==this.timer&&(clearInterval(this.timer),this.timer=null)}async testPrune(){return this.pruneLocalBranches({enforcePruneThreshold:!1,deleteBranch:!1})}async findBranchesMergedIntoDefaultBranch(e,t){const n=this.gitStoreCache.get(e),r=await n.performFailableOperation(()=>async function(e,t){const n=Ed(t),{formatArgs:r,parse:i}=rs({sha:"%(objectname)",canonicalRef:"%(refname)"}),o=["branch",...r,"--merged",t],s=new Map,{stdout:a}=await pd(o,e.path,"mergedBranches");for(const e of i(a))e.canonicalRef!==n&&s.set(e.canonicalRef,e.sha);return s}(e,t.name));if(void 0===r)return new Map;const i=await kd(e,"HEAD");return i&&r.delete(i),r}async pruneLocalBranches(e){if(!bi(this.repository))return;const t=await this.repositoriesStore.getLastPruneDate(this.repository),n=ve()(),r=n.subtract(24,"hours");if(e.enforcePruneThreshold&&null!=t&&r.isBefore(t))return void log.info(`[BranchPruner] Last prune took place ${ve()(t).from(n)} - skipping`);await this.repositoriesStore.updateLastPruneDate(this.repository,Date.now());const{branchesState:i}=this.repositoriesStateCache.get(this.repository),{defaultBranch:o,allBranches:s}=i;if(null===o)return;const a=await this.findBranchesMergedIntoDefaultBranch(this.repository,o);if(0===a.size)return void log.info("[BranchPruner] No branches to prune.");const l=ve()().subtract(2,"weeks").toDate(),c=await async function(e,t){const n=new RegExp(/^[a-z0-9]{40}\sHEAD@{(.*)}\scheckout: moving from\s.*\sto\s(.*)$/),r=await pd(["reflog","--date=iso",`--after="${t.toISOString()}"`,"--pretty=%H %gd %gs","--grep-reflog=checkout: moving from .* to .*$","--"],e.path,"getCheckoutsAfterDate",{successExitCodes:new Set([0,128])}),i=new Map;if(128===r.exitCode&&Bd.test(r.stderr))return i;const o=r.stdout.split("\n");for(const e of o){const t=n.exec(e);if(null===t||3!==t.length)continue;const[,r,o]=t;i.has(o)||i.set(o,new Date(r))}return i}(this.repository,l),u=new Set([...c.keys()].map(Ed)),h=(await Nd(this.repository,"refs/remotes/")).map(e=>Ed(e.name)),p=Array.from(a.keys()).filter(e=>{if(Rs.includes(e))return!1;if(u.has(e))return!1;const t=function(e,t){const n=t.find(t=>Ed(t.name)===e);if(void 0===n)return;const{upstream:r}=n;if(null===r)return;return Ed(r)}(e,s);return void 0!==t&&!h.includes(t)});log.info(`[BranchPruner] Pruning ${p.length} branches that have been merged into the default branch, ${o.name} (${o.tip.sha}), from '${this.repository.name}`);const d=this.gitStoreCache.get(this.repository);for(const t of p){if(!t.startsWith("refs/heads/"))continue;const n=t.substr("refs/heads/".length);if(e.deleteBranch){await d.performFailableOperation(()=>Ad(this.repository,n))&&log.info(`[BranchPruner] Pruned branch ${n} ((was ${a.get(t)}))`)}else log.info(`[BranchPruner] Branch '${n}' marked for deletion`)}this.onPruneCompleted(this.repository)}}var Ps,Is,Ms;!function(e){e.SuccessfulMerge="SuccessfulMerge",e.MergeConflictsFound="MergeConflictsFound",e.SuccessfulRebase="SuccessfulRebase",e.RebaseConflictsFound="RebaseConflictsFound",e.BranchAlreadyUpToDate="BranchAlreadyUpToDate",e.SuccessfulCherryPick="SuccessfulCherryPick",e.CherryPickConflictsFound="CherryPickConflictsFound",e.CherryPickUndone="CherryPickUndone",e.SquashUndone="SquashUndone",e.ReorderUndone="ReorderUndone",e.OpenThankYouCard="OpenThankYouCard",e.SuccessfulSquash="SuccessfulSquash",e.SuccessfulReorder="SuccessfulReorder",e.ConflictsFound="ConflictsFound"}(Ps||(Ps={})),function(e){e.Loading="loading",e.Clean="clean",e.Conflicts="conflicts",e.Invalid="invalid"}(Is||(Is={})),function(e){e.AskForConfirmation="AskForConfirmation",e.StashOnCurrentBranch="StashOnCurrentBranch",e.MoveToNewBranch="MoveToNewBranch"}(Ms||(Ms={}));const Fs=Ms.AskForConfirmation;var Ns,Bs=n(230),Ls=n.n(Bs);function Hs(e,t){return Ls()(e,t,{strict:!0})}function Us(e,t){if(Object.is(e,t))return!0;if(null===e||null===t||"object"!=typeof e||"object"!=typeof t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!Object.prototype.hasOwnProperty.call(t,i)||!Object.is(e[i],t[i]))return!1}return!0}function js(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Ws(e,t){if(e===t)return!0;if(e.size!==t.size)return!1;for(const n of e.keys())if(!t.has(n))return!1;return!0}function zs(e,t,n){return e.kind!==si.Valid?null:null!==e.branch.upstreamWithoutRemote&&null!==t&&function(e,t){return null!==t.cloneURL&&Zn(t.cloneURL,e)}(t.url,n)?e.branch.upstreamWithoutRemote:e.branch.nameWithoutRemote}function Gs(e){return e!==Ns.NotApplicable&&e!==Ns.Paused}!function(e){e.NotApplicable="NotApplicable",e.PickEditor="PickEditor",e.CreateBranch="CreateBranch",e.EditFile="EditFile",e.MakeCommit="MakeCommit",e.PushBranch="PushBranch",e.OpenPullRequest="OpenPullRequest",e.AllDone="AllDone",e.Paused="Paused"}(Ns||(Ns={}));const qs=[Ns.PickEditor,Ns.CreateBranch,Ns.EditFile,Ns.MakeCommit,Ns.PushBranch,Ns.OpenPullRequest,Ns.AllDone];class Vs{constructor(e){this.getResolvedExternalEditor=e,this.installEditorSkipped=vt("tutorial-install-editor-skipped",!1),this.prStepComplete=vt("tutorial-pull-request-step-complete",!1),this.tutorialPaused=vt("tutorial-paused",!1),this.skipPickEditor=()=>{this.installEditorSkipped=!0,bt("tutorial-install-editor-skipped",this.installEditorSkipped)},this.markPullRequestTutorialStepAsComplete=()=>{this.prStepComplete=!0,bt("tutorial-pull-request-step-complete",this.prStepComplete)},this.onNewTutorialRepository=()=>{this.installEditorSkipped=!1,localStorage.removeItem("tutorial-install-editor-skipped"),this.prStepComplete=!1,localStorage.removeItem("tutorial-pull-request-step-complete"),this.tutorialPaused=!1,localStorage.removeItem("tutorial-paused")}}async getCurrentStep(e,t){return e?this.tutorialPaused?Ns.Paused:await this.isEditorInstalled()?this.isBranchCheckedOut(t)?this.hasChangedFile(t)?this.hasMultipleCommits(t)?this.commitPushed(t)?this.pullRequestCreated(t)?Ns.AllDone:Ns.OpenPullRequest:Ns.PushBranch:Ns.MakeCommit:Ns.EditFile:Ns.CreateBranch:Ns.PickEditor:(this.tutorialPaused&&this.resumeTutorial(),Ns.NotApplicable)}async isEditorInstalled(){return this.installEditorSkipped||null!==this.getResolvedExternalEditor()}isBranchCheckedOut(e){const{branchesState:t}=e,{tip:n}=t,r=n.kind===si.Valid?n.branch.name:null,i=null!==t.defaultBranch?t.defaultBranch.name:null;return null!==r&&null!==i&&r!==i}hasChangedFile(e){if(this.hasMultipleCommits(e))return!0;const{changesState:t}=e;return t.workingDirectory.files.length>0}hasMultipleCommits(e){const{branchesState:t}=e,{tip:n}=t;if(n.kind===si.Valid){const t=e.commitLookup.get(n.branch.tip.sha);return void 0!==t&&t.parentSHAs.some(e=>e.length>0)}return!1}commitPushed(e){const{aheadBehind:t}=e;return null!==t&&0===t.ahead}pullRequestCreated(e){return null!==e.branchesState.currentPullRequest&&this.markPullRequestTutorialStepAsComplete(),this.prStepComplete}pauseTutorial(){this.tutorialPaused=!0,bt("tutorial-paused",this.tutorialPaused)}resumeTutorial(){this.tutorialPaused=!1,bt("tutorial-paused",this.tutorialPaused)}}function $s(e,t,n){return null==e.upstreamWithoutRemote?null:t.find(t=>Ks(e,t,n))||null}function Ks(e,t,n){return t.head.ref===e.upstreamWithoutRemote&&Kn(t.head.gitHubRepository,n)}class Ys{constructor(e){if(this.stepIndex=0,this.lastPercent=0,!e.length)throw new Error("must specify at least one step");const t=e.reduce((e,t)=>e+t.weight,0);this.steps=e.map(e=>({title:e.title,weight:e.weight/t}))}parse(e){const t=function(e){const t=e.lastIndexOf(": ");if(0===t)return null;if(t-2>=e.length)return null;const n=e.substr(0,t),r=e.substr(n.length+2).trim();if(!r.length)return null;const i=r.split(", ");if(!i.length)return null;let o,s=void 0,a=void 0;if(Xs.test(i[0])){if(o=parseInt(i[0],10),isNaN(o))return null}else{const e=Zs.exec(i[0]);if(!e||4!==e.length)return null;if(a=parseInt(e[1],10),o=parseInt(e[2],10),s=parseInt(e[3],10),isNaN(a)||isNaN(o)||isNaN(s))return null}let l=!1;for(let e=1;e<i.length;e++)if("done."===i[e]){l=!0;break}return{title:n,value:o,percent:a,total:s,done:l,text:e}}(e);if(!t)return{kind:"context",text:e,percent:this.lastPercent};let n=0;for(let e=0;e<this.steps.length;e++){const r=this.steps[e];if(e>=this.stepIndex&&t.title===r.title)return t.total&&(n+=r.weight*(t.value/t.total)),this.stepIndex=e,this.lastPercent=n,{kind:"progress",percent:n,details:t};n+=r.weight}return{kind:"context",text:e,percent:this.lastPercent}}}const Zs=/^(\d{1,3})% \((\d+)\/(\d+)\)$/,Xs=/^\d+$/;const Qs=[{title:"Checking out files",weight:1}];class Js extends Ys{constructor(){super(Qs)}}const ea=[{title:"remote: Compressing objects",weight:.1},{title:"Receiving objects",weight:.6},{title:"Resolving deltas",weight:.1},{title:"Checking out files",weight:.2}];class ta extends Ys{constructor(){super(ea)}}const na=[{title:"Compressing objects",weight:.2},{title:"Writing objects",weight:.7},{title:"remote: Resolving deltas",weight:.1}];class ra extends Ys{constructor(){super(na)}}const ia=[{title:"remote: Compressing objects",weight:.1},{title:"Receiving objects",weight:.7},{title:"Resolving deltas",weight:.2}];class oa extends Ys{constructor(){super(ia)}}const sa=[{title:"remote: Compressing objects",weight:.1},{title:"Receiving objects",weight:.7},{title:"Resolving deltas",weight:.15},{title:"Checking out files",weight:.15}];class aa extends Ys{constructor(){super(sa)}}var la=n(37),ca=n.n(la);class ua{constructor(e){this.emitter=new nt.Emitter,this.state=null,this.onWatchEvent=e=>{"change"===e&&this.state&&i.stat(this.path,(e,t)=>{if(e)return;const n=this.state;n&&(t.size<=n.position||(this.state=Object.assign(Object.assign({},n),{position:t.size}),this.readChunk(t,n.position)))})},this.path=e}onDataAvailable(e){return this.emitter.on("data",e)}onError(e){return this.emitter.on("error",e)}handleError(e){this.state=null,this.emitter.emit("error",e)}start(){if(this.state)throw new Error("Tailer already running");try{const e=i.watch(this.path,this.onWatchEvent);e.on("error",e=>{this.handleError(e)}),this.state={watcher:e,position:0}}catch(e){this.handleError(e)}}readChunk(e,t){const n=i.createReadStream(this.path,{start:t,end:e.size});this.emitter.emit("data",n)}stop(){const e=this.state;e&&(e.watcher.close(),this.state=null)}}async function ha(e){const t=r.join(Ft.tmpdir(),e+"-"),n=await w.mkdtemp(t);return r.join(n,e)}function pa(e,t){if(t<=0)return Math.round(e);const n=Math.pow(10,t);return Math.round((e+Number.EPSILON)*n)/n}const da=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];function fa(e,t=0,n=!0){if(!Number.isFinite(e))return""+e;const r=Math.floor(Math.log(Math.abs(e))/Math.log(1024)),i=pa(e/Math.pow(1024,r),t);return`${n?i.toFixed(t):i} ${da[r]}`}const ma=/^(.+?)\s{1}(\d+)\/(\d+)\s{1}(\d+)\/(\d+)\s{1}(.+)$/;class ga{constructor(){this.files=new Map}parse(e){const t=e.match(ma);if(!t||7!==t.length)return{kind:"context",percent:0,text:e};const n=t[1],r=parseInt(t[3],10),i=parseInt(t[4],10),o=parseInt(t[5],10),s=t[6];if(isNaN(r)||isNaN(i)||isNaN(o))return{kind:"context",percent:0,text:e};this.files.set(s,{transferred:i,size:o,done:i===o});let a=0,l=0,c=0;const u=Math.max(r,this.files.size);for(const e of this.files.values())a+=e.transferred,l+=e.size,c+=e.done?1:0;const h=`${fa(a,1)} / ${fa(l,1)}`,p=this.directionToHumanFacingVerb(n);return{kind:"progress",percent:0,details:{title:`${p} "${s}"`,value:a,total:l,percent:0,done:!1,text:`${p} ${s} (${c} out of an estimated ${u} completed, ${h})`}}}directionToHumanFacingVerb(e){switch(e){case"download":return"Downloading";case"upload":return"Uploading";case"checkout":return"Checking out";default:return"Downloading"}}}async function ya(e,t,n){let r=null,i={};if(e.trackLFSProgress)try{r=await async function(){const e=await ha("GitHubDesktop-lfs-progress");return await w.ensureFile(e),e}(),i={GIT_LFS_PROGRESS:r}}catch(e){log.error("Error writing LFS progress file",e),i={GIT_LFS_PROGRESS:null}}return Cr(e,{processCallback:va(t,r,n),env:Cr(e.env,i)})}function va(e,t,n){return o=>{let s=!1;if(t){const e=new ga,a=function(e,t){const n=new ua(e),r=n.onError(t=>{log.warn("Unable to tail path: "+e,t)}),i=n.onDataAvailable(e=>{ca()(e).on("data",e=>{if(i.disposed)return;const n=e.toString();t(n)})});return n.start(),new nt.Disposable(()=>{i.dispose(),r.dispose(),n.stop()})}(t,t=>{const r=e.parse(t);"progress"===r.kind&&(s=!0,n(r))});o.on("close",()=>{a.dispose(),i.unlink(t,e=>{if(null==e){const e=r.dirname(t);i.rmdir(e,()=>{})}})})}o.stderr&&ca()(o.stderr).on("data",t=>{const r=e.parse(t);if(s){if("context"===r.kind)return;const{title:e,done:t}=r.details;if("Filtering content"===e)return void(t&&(s=!1))}n(r)})}}function ba(e){return e.endpoint===Nn()?"GitHub.com":Mt.parse(e.endpoint).hostname||e.endpoint}const wa=new Set([sr.GitError.HTTPSAuthenticationFailed,sr.GitError.SSHAuthenticationFailed,sr.GitError.HTTPSRepositoryNotFound,sr.GitError.SSHRepositoryNotFound]);function Ca(e,t){switch(e.toLowerCase()){case"proxy":case"http":return"http://"+t;case"https":return"https://"+t;case"socks":case"socks4":return"socks4://"+t;case"socks5":return"socks5://"+t}return null}async function Sa(e){const t=function(e){if("DIRECT"===e)return null;const t=e.trim().split(/\s*;\s*/),n=new Array;for(const e of t){if(e.match(/^direct/i))break;const[t,r]=e.split(/\s+/,2);if(void 0!==r){const i=Ca(t,r);null!==i?n.push(i):log.warn("Skipping proxy spec: "+e)}}return n.length>0?n:null}(await se(e).catch(t=>(log.error(`Failed resolving proxy for '${e}'`,t),"DIRECT")));if(null!==t)for(const e of t)return e}function Ea(e,t){return null!==e?e.endpoint===Nn()?"https://github.com":e.endpoint:null!==t.gitHubRepository&&null!==t.gitHubRepository.cloneURL?t.gitHubRepository.cloneURL:"https://github.com"}async function ka(e,t){return Object.assign(Object.assign({},function(e){const t={GIT_TERMINAL_PROMPT:"0",GIT_TRACE:localStorage.getItem("git-trace")||"0"};return e?Object.assign(Object.assign({},t),{DESKTOP_USERNAME:e.login,DESKTOP_ENDPOINT:e.endpoint}):t}(e)),await async function(e,t=process.env,n=Sa){const r=/^(https?):\/\//i.exec(e);if(null===r)return;const i=r[1].toLowerCase();if("ALL_PROXY"in t||"all_proxy"in t)return void log.info("proxy url not resolved, ALL_PROXY already set");const o=i+"_proxy";if(o in t||"https"===i&&"HTTPS_PROXY"in t)return void log.info(`proxy url not resolved, ${o} already set`);const s=await n(e).catch(e=>{log.error("Failed resolving Git proxy",e)});return void 0===s?void 0:{[o]:s}}(t))}async function xa(e,t,n,i){var o;const s=ba(e);if(i("Creating repository on "+s,0),await Object(w.pathExists)(n))throw new Error(`The path '${n}' already exists. Please move it out of the way, or remove it, and then try again.`);const a=await async function(e,t){const n=new Pn(e.endpoint,e.token);try{return await n.createRepository(null,t,"GitHub Desktop tutorial repository",!0)}catch(n){if(n instanceof jt&&422===n.responseStatus&&null!==n.apiError&&"Repository creation failed."===n.apiError.message&&n.apiError.errors&&n.apiError.errors.some(e=>"name already exists on this account"===e.message))throw new Error(`You already have a repository named "${t}" on your account at ${ba(e)}.\n\nPlease delete the repository and try again.`);throw n}}(e,t),l=null!==(o=a.default_branch)&&void 0!==o?o:await xs();i("Initializing local repository",.2),await Object(w.ensureDir)(n),await pd(["-c","init.defaultBranch="+l,"init"],n,"tutorial:init"),await Object(w.writeFile)(r.join(n,"README.md"),"# Welcome to GitHub Desktop!\n\nThis is your README. READMEs are where you can communicate what your project is and how to use it.\n\nWrite your name on line 6, save it, and then head back to GitHub Desktop.\n"),await pd(["add","--","README.md"],n,"tutorial:add"),await pd(["commit","-m","Initial commit"],n,"tutorial:commit");const c={name:"origin",url:a.clone_url};return await pd(["remote","add",c.name,c.url],n,"tutorial:add-remote"),await async function(e,t,n,r,i){const o=" "+ba(t);i(o,0);const s=await ya({env:await ka(t,n.url)},new ra,e=>{"progress"===e.kind&&i(o,e.percent,e.details.text)}),a=["push","-u",n.name,r];await pd(a,e,"tutorial:push",s)}(n,e,c,l,(e,t,n)=>{i(e,.3+.6*t,n)}),i("Finalizing tutorial repository",.9),a}async function Da(){return localStorage.getItem("last-clone-location")||r.join(await async function(){if(!Ht)try{Ht=await $("documents")}catch(e){Ht=await $("home")}return Ht}(),"GitHub")}function _a(e){localStorage.setItem("last-clone-location",e)}const Ta=Math.ceil(3e4*Math.random());class Ra{constructor(e,t){this.getRepositories=e,this.refreshRepositoryIndicators=t,this.running=!1,this.refreshTimeoutId=null,this.paused=!1,this.pausePromise=Promise.resolve(),this.resolvePausePromise=null,this.lastRefreshStartedAt=null}start(){this.running||(log.debug("[RepositoryIndicatorUpdater] Starting"),this.running=!0,this.scheduleRefresh())}scheduleRefresh(){if(this.running&&null===this.refreshTimeoutId){const e=null===this.lastRefreshStartedAt?1/0:Date.now()-this.lastRefreshStartedAt,t=Math.max(9e5-e,0)+Ta,n=isFinite(e)?(e/1e3).toFixed(3)+"s ago":"never",r=(t/1e3).toFixed(3)+"s";log.debug(`[RepositoryIndicatorUpdater] Last refresh: ${n}, scheduling in ${r}`),this.refreshTimeoutId=window.setTimeout(()=>this.refreshAllRepositories(),t)}}async refreshAllRepositories(){if(this.refreshTimeoutId=null,log.debug("[RepositoryIndicatorUpdater] Running refreshAllRepositories"),this.paused&&(log.debug("[RepositoryIndicatorUpdater] Paused before starting refreshAllRepositories"),await this.pausePromise,!this.running))return;let e;this.lastRefreshStartedAt=Date.now();const t=new Set,n=()=>this.getRepositories().find(e=>!t.has(e.id)),r=Date.now();let i=0;for(;this.running&&void 0!==(e=n());){if(await this.refreshRepositoryIndicators(e),this.paused){log.debug(`[RepositoryIndicatorUpdater] Pausing after ${t.size} repositories`);const e=Date.now();await this.pausePromise,i+=Date.now()-e,log.debug(`[RepositoryIndicatorUpdater] Resuming after ${i/1e3}s`)}t.add(e.id)}if(t.size>=1){const e=Date.now()-r,n=((e-i)/1e3).toFixed(1),o=(i/1e3).toFixed(1),s=(e/1e3).toFixed(1);log.info(`[RepositoryIndicatorUpdater]: Refreshing sidebar indicators for ${t.size} repositories took ${n}s of which ${o}s paused, total ${s}s`)}this.scheduleRefresh()}clearRefreshTimeout(){null!==this.refreshTimeoutId&&(window.clearTimeout(),this.refreshTimeoutId=null)}stop(){this.running&&(log.debug("[RepositoryIndicatorUpdater] Stopping"),this.running=!1,this.clearRefreshTimeout())}pause(){!1===this.paused&&(this.pausePromise=new Promise(e=>{this.resolvePausePromise=e}),this.paused=!0)}resume(){this.paused&&(null!==this.resolvePausePromise&&(this.resolvePausePromise(),this.resolvePausePromise=null),this.paused=!1)}}function Aa(e){const t=e.emails;if(0===t.length)return Ia(e.id,e.login,e.endpoint);const n=t.find(e=>e.primary);if(n&&("public"===(r=n).visibility||!r.visibility))return n.email;var r;const i="@"+Oa(e.endpoint),o=t.find(e=>e.email.toLowerCase().endsWith(i));return o?o.email:t[0].email}function Oa(e){return Nn()!==e?"users.noreply."+Mt.parse(e).hostname:"users.noreply.github.com"}function Pa(e,t){return`${e}@${Oa(t)}`}function Ia(e,t,n){return`${e}+${t}@${Oa(n)}`}const Ma=(e,t)=>{const{id:n,login:r,endpoint:i,emails:o}=e,s=t.toLowerCase();return o.some(({email:e})=>e.toLowerCase()===s)||Ia(n,r,i).toLowerCase()===s||Pa(r,i).toLowerCase()===s};function Fa(){return vt("show-side-by-side-diff",!1)}async function Na(e,t,n,r,i){return cd(o=>{const s=`${n}: git ${e.join(" ")}`;return ar.measure(s,()=>new Promise(async(s,a)=>{const l=sr.GitProcess.spawn(e,t,{env:o});l.on("error",e=>{gr(e)?a(new Error(`Failed to execute ${n}: ${e.code}`)):a(e)});let c=0,u=!1;const h=new Array;l.stdout&&l.stdout.on("data",e=>{(!i||c<i)&&(h.push(e),c+=e.length),i&&c>=i&&!u&&(l.kill(),u=!0)});const p=new Array;l.stderr&&l.stderr.on("data",e=>{p.push(e)}),l.on("close",(e,t)=>{const n=Buffer.concat(h,i?Math.min(i,c):c),o=Buffer.concat(p),l=r||new Set([0]);null!==e&&l.has(e)||t?s({output:n,error:o,exitCode:e}):a(new Error(`Git returned an unexpected exit code '${e}' which should be handled by the caller.'`))})}))})}async function Ba(e){const{output:t}=await Na(["diff","--check"],e,"getFilesWithConflictMarkers",new Set([0,2])),n=br(t.toString("utf8"),La);if(0===n.length)return new Map;return n.reduce((e,t)=>e.concat(t)).reduce((e,t)=>e.set(t,(e.get(t)||0)+1),new Map)}const La=/(.+):\d+: leftover conflict marker/gi;var Ha=n(231),Ua=n.n(Ha);function ja(e){return"header"===e.kind}function Wa(e){return"entry"===e.kind}const za=/^1 ([MADRCUTX?!.]{2}) (N\.\.\.|S[C.][M.][U.]) (\d+) (\d+) (\d+) ([a-f0-9]+) ([a-f0-9]+) ([\s\S]*?)$/;function Ga(e){const t=za.exec(e);if(!t)throw log.debug("parseChangedEntry parse error: "+e),new Error("Failed to parse status line for changed entry");return{kind:"entry",statusCode:t[1],path:t[8]}}const qa=/^2 ([MADRCUTX?!.]{2}) (N\.\.\.|S[C.][M.][U.]) (\d+) (\d+) (\d+) ([a-f0-9]+) ([a-f0-9]+) ([RC]\d+) ([\s\S]*?)$/;function Va(e,t){const n=qa.exec(e);if(!n)throw log.debug("parsedRenamedOrCopiedEntry parse error: "+e),new Error("Failed to parse status line for renamed or copied entry");if(!t)throw new Error("Failed to parse renamed or copied entry, could not parse old path");return{kind:"entry",statusCode:n[1],oldPath:t,path:n[9]}}const $a=/^u ([DAU]{2}) (N\.\.\.|S[C.][M.][U.]) (\d+) (\d+) (\d+) (\d+) ([a-f0-9]+) ([a-f0-9]+) ([a-f0-9]+) ([\s\S]*?)$/;function Ka(e){const t=$a.exec(e);if(!t)throw log.debug("parseUnmergedEntry parse error: "+e),new Error("Failed to parse status line for unmerged entry");return{kind:"entry",statusCode:t[1],path:t[10]}}function Ya(e){return{kind:"entry",statusCode:"??",path:e.substr(2)}}function Za(e,t,n){const r=e||{context:t,diff:""},i={sha:n.sha,mode:n.mode,path:n.path};switch(n.type){case"base":return Object.assign(Object.assign({},r),{base:i});case"result":return Object.assign(Object.assign({},r),{result:i});case"our":return Object.assign(Object.assign({},r),{our:i});case"their":return Object.assign(Object.assign({},r),{their:i});default:return r}}const Xa=/^(merged|added in remote|removed in remote|changed in both|removed in local|added in both)$/,Qa=/^\s{2}(result|our|their|base)\s+(\d{6})\s([0-9a-f]{40})\s(.+)$/;var Ja;!function(e){e[e.Success=0]="Success",e[e.AlreadyUpToDate=1]="AlreadyUpToDate",e[e.Failed=2]="Failed"}(Ja||(Ja={}));const el="Already up to date.\n";async function tl(e,t,n){const r=await pd(["merge-base",t,n],e.path,"merge-base",{successExitCodes:new Set([0,1,128])});return 1===r.exitCode||128===r.exitCode?null:r.stdout.trim()}async function nl(e,t,n){const r=await tl(e,t.tip.sha,n.tip.sha);if(null===r)return{kind:Is.Invalid};if(r===t.tip.sha||r===n.tip.sha)return{kind:Is.Clean,entries:[]};const i=(await Na(["merge-tree",r,t.tip.sha,n.tip.sha],e.path,"mergeTree")).output.toString();return 0===i.length?{kind:Is.Clean,entries:[]}:function(e){const t=new Array,n=e.split("\n");let r,i;for(let e=0;e<n.length;e++){const o=n[e],s=Xa.exec(o);if(null!=s){r=s[1],null!=i&&(t.push(i),i=void 0);continue}const a=Qa.exec(o);if(null==a){if(null==i)throw new Error("invalid state - trying to append the diff to a merge entry that isn't defined on line "+e);{const e=i.diff+o+"\n";i=Object.assign(Object.assign({},i),{diff:e});(o.startsWith("+<<<<<<<")||o.startsWith("+=======")||o.startsWith("+>>>>>>>"))&&(i=Object.assign(Object.assign({},i),{hasConflicts:!0}))}}else{const t=a[1],n={type:t,mode:a[2],sha:a[3],path:a[4]};if(null==r){log.warn("An unknown header was set while trying to parse the blob on line "+e);continue}switch(t){case"base":case"result":case"our":case"their":i=Za(i,r,n);break;default:throw new Error(`invalid state - unexpected entry ${t} found when parsing rows`)}}}null!=i&&(t.push(i),i=void 0);const o=t.filter(e=>e.hasConflicts||!1);return o.length>0?{kind:Is.Conflicts,conflictedFiles:o.length}:{kind:Is.Clean,entries:t}}(i)}async function rl(e,t,n,r){const i=new Set([0,1]),o=["show",`${t}:${n}`],{output:s}=await Na(o,e.path,"getPartialBlobContents",i,r);return s}var il,ol,sl=n(3),al=n.n(sl);function ll(e){return e.location+e.length}function cl(e,t,n,r,i){const o=Math.min(t.length,r.length),s=i?ll(t)-1:t.location,a=i?ll(r)-1:r.location,l=i?-1:1;let c=0;for(;Math.abs(c)<o&&e[s+c]===n[a+c];)c+=l;return Math.abs(c)}function ul(e,t){let n={location:0,length:t.length},r={location:0,length:e.length};const i=cl(t,n,e,r,!1);n={location:n.location+i,length:n.length-i},r={location:r.location+i,length:r.length-i};const o=cl(t,n,e,r,!0);return n.length-=o,r.length-=o,{stringARange:r,stringBRange:n}}function hl(e,t){const n=ul(e,t);return{before:{[n.stringARange.location]:{token:"diff-delete-inner",length:n.stringARange.length}},after:{[n.stringBRange.location]:{token:"diff-add-inner",length:n.stringBRange.length}}}}function pl(e){return e instanceof Ri}function dl(e){return 10*Math.max(e,3)+5}function fl(e){var t,n;if(0===e.length)return 0;for(let r=e.length-1;r>=0;r--){const i=e[r];for(let e=i.lines.length-1;e>=0;e--){const r=i.lines[e];if(r.type===Xr.Hunk)continue;const o=null!==(t=r.newLineNumber)&&void 0!==t?t:0,s=null!==(n=r.oldLineNumber)&&void 0!==n?n:0;return o>s?o:s}}return 0}function ml(e){return Math.log(e)*Math.LOG10E+1|0}!function(e){e.Context="Context",e.Hunk="Hunk",e.Added="Added",e.Deleted="Deleted",e.Modified="Modified"}(il||(il={})),function(e){e.Before="before",e.After="after"}(ol||(ol={}));function gl(e){return e.reduce((e,t)=>e.concat(t.lines),[]).map(e=>e.text).join("\n")}function yl(e,t){const n=e.lines.slice(1),r=t.lines.slice(1),i=new fi(e.header.oldStartLine,e.header.oldLineCount+t.header.oldLineCount,e.header.newStartLine,e.header.newLineCount+t.header.newLineCount),o=[new ci(i.toDiffLineRepresentation(),Xr.Hunk,null,null,null,!1),...n,...r];return new di(i,o,e.unifiedDiffStart,e.unifiedDiffStart+o.length-1,e.expansionType)}function vl(e,t,n){const r=null===n?1/0:t.oldStartLine-n.header.oldStartLine-n.header.oldLineCount;return 0===e?t.oldStartLine>1&&t.newStartLine>1?Jr.Up:Jr.None:r<=20?Jr.Short:Jr.Both}function bl(e,t){let n=e;for(;n.hunks.length>1||1===n.hunks.length&&n.hunks[0].expansionType===Jr.Up;){const e=n.hunks[0],r=wl(n,e,e.expansionType===Jr.Up?"up":"down",t,t.length);if(void 0===r)return;n=r}return n}function wl(e,t,n,r,i=20){const o=e.hunks.indexOf(t);if(-1===o)return;const s="up"===n,a=s&&o>0?o-1:!s&&o<e.hunks.length-1?o+1:null,l=null!==a?e.hunks[a]:null,c=null!==l&&!1===s&&1===l.lines.length&&l.lines[0].type===Xr.Hunk&&a===e.hunks.length-1,u=t.header.newStartLine,h=t.header.oldStartLine;let[p,d]=s?[u-i,u]:[u+t.header.newLineCount,u+t.header.newLineCount+i],f=!1;if(null!==l)if(s){const e=l.header.newStartLine+l.header.newLineCount;p=Math.max(p,e),f=p===e}else if(!1===c){const e=l.header.newStartLine;d=Math.min(d,e),f=d===e}const m=r.slice(Math.max(p-1,0),Math.min(d-1,r.length)),g=m.length;if(0===g)return;const y=m.map((e,n)=>{const r=s?u-(g-n):u+t.header.newLineCount+n,i=s?h-(g-n):h+t.header.oldLineCount+n;return new ci(" "+e,Xr.Context,null,i,r,!1)}),v=e.hasHiddenBidiChars||m.some(e=>Sl.test(e)),b=new fi(s?t.header.oldStartLine-g:t.header.oldStartLine,t.header.oldLineCount+g,s?t.header.newStartLine-g:t.header.newStartLine,t.header.newLineCount+g),w=t.lines[0],C=new ci(b.toDiffLineRepresentation(),Xr.Hunk,null,w.oldLineNumber,w.newLineNumber,w.noTrailingNewLine),S=t.lines.slice(1),E=s?[C,...y,...S]:[C,...S,...y];let k=E.length-t.lines.length;const x=vl(o,b,0===o?null:e.hunks[o-1]);let D=new di(b,E,t.unifiedDiffStart,t.unifiedDiffEnd+k,x),_=0,T=0;f&&null!==l?(s?(D=yl(l,D),_=o-1,T=o+1):(_=o,T=o+2,D=yl(D,l)),k-=1):(_=o,T=o+1);const R=e.hunks.slice(0,_),A=b.newStartLine+b.newLineCount-1>=r.length?[]:e.hunks.slice(T).map((t,n)=>{const r=n+T===e.hunks.length-1&&1===t.lines.length&&t.lines[0].type===Xr.Hunk,i=0===n&&!r;return new di(t.header,t.lines,t.unifiedDiffStart+k,t.unifiedDiffEnd+k,i?vl(T,t.header,D):t.expansionType)}),O=[...R,D,...A],P=gl(O);return Object.assign(Object.assign({},e),{text:P,hunks:O,maxLineNumber:fl(O),hasHiddenBidiChars:v})}const Cl=/^@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/,Sl=/[\u202A-\u202E]|[\u2066-\u2069]/,El=new Set(["+","-"," ","\\"]);class kl{constructor(){this.reset()}reset(){this.ls=0,this.le=-1,this.text=""}nextLine(){return this.ls=this.le+1,!(this.ls>=this.text.length)&&(this.le=this.text.indexOf("\n",this.ls),-1===this.le&&(this.le=this.text.length),this.ls!==this.le)}readLine(){return this.nextLine()?this.text.substring(this.ls,this.le):null}lineStartsWith(e){return this.text.startsWith(e,this.ls)}lineEndsWith(e){return this.text.endsWith(e,this.le)}peek(){const e=this.le+1;return e<this.text.length?this.text[e]:null}parseDiffHeader(){for(;this.nextLine();){if(this.lineStartsWith("Binary files ")&&this.lineEndsWith("differ"))return{isBinary:!0};if(this.lineStartsWith("+++"))return{isBinary:!1}}return null}numberFromGroup(e,t,n=null){const r=e[t];if(!r){if(!n)throw new Error(`Group ${t} missing from regexp match and no defaultValue was provided`);return n}const i=parseInt(r,10);if(isNaN(i))throw new Error(`Could not parse capture group ${t} into number: ${r}`);return i}parseHunkHeader(e){const t=Cl.exec(e);if(!t)throw new Error("Invalid hunk header format");const n=this.numberFromGroup(t,1),r=this.numberFromGroup(t,2,1),i=this.numberFromGroup(t,3),o=this.numberFromGroup(t,4,1);return new fi(n,r,i,o)}parseLinePrefix(e){return e&&e.length&&El.has(e[0])?e[0]:null}parseHunk(e,t,n){const r=this.readLine();if(!r)throw new Error("Expected hunk header but reached end of diff");const i=this.parseHunkHeader(r),o=new Array;let s;o.push(new ci(r,Xr.Hunk,1,null,null));let a=i.oldStartLine,l=i.newStartLine,c=e;for(;s=this.parseLinePrefix(this.peek());){const e=this.readLine();if(c++,!e)throw new Error("Expected unified diff line but reached end of diff");if("\\"===s){if(e.length<12)throw new Error('Expected "no newline at end of file" marker to be at least 12 bytes long');const t=o.length-1,n=o[t];o[t]=n.withNoTrailingNewLine(!0);continue}let t;if("+"===s)t=new ci(e,Xr.Add,c,null,l++);else if("-"===s)t=new ci(e,Xr.Delete,c,a++,null);else{if(" "!==s)return Ze(0,"Unknown DiffLinePrefix: "+s);t=new ci(e,Xr.Context,c,a++,l++)}o.push(t)}if(1===o.length)throw new Error("Malformed diff, empty hunk");return new di(i,o,e,e+o.length-1,vl(t,i,n))}parse(e){this.text=e;try{const t=this.parseDiffHeader(),n=this.le,r=this.text.substring(0,n);if(!t)return{header:r,contents:"",hunks:[],isBinary:!1,maxLineNumber:0,hasHiddenBidiChars:!1};if(t.isBinary)return{header:r,contents:"",hunks:[],isBinary:!0,maxLineNumber:0,hasHiddenBidiChars:!1};const i=new Array;let o=0,s=null;do{const e=this.parseHunk(o,i.length,s);i.push(e),s=e,o+=e.lines.length}while(this.peek());return{header:r,contents:this.text.substring(n+1,this.le).replace(/\n\\ No newline at end of file/g,""),hunks:i,isBinary:t.isBinary,maxLineNumber:fl(i),hasHiddenBidiChars:Sl.test(e)}}finally{this.reset()}}}function xl(e){return e.status.kind===ii.Renamed||e.status.kind===ii.Copied?e.status.oldPath:e.path}const Dl=new Set([".png",".jpg",".jpeg",".gif",".ico",".webp",".bmp",".avif"]);async function _l(e,t,n,r=!1){const i=["log",n,...r?["-w"]:[],"-m","-1","--first-parent","--patch-with-raw","-z","--no-color","--",t.path];t.status.kind!==ii.Renamed&&t.status.kind!==ii.Copied||i.push(t.status.oldPath);const{output:o}=await Na(i,e.path,"getCommitDiff");return Pl(o,e,t,n)}async function Tl(e,t,n=!1){const r=["diff",...n?["-w"]:[],"--no-ext-diff","--patch-with-raw","-z","--no-color"],i=new Set([0]);t.status.kind===ii.New||t.status.kind===ii.Untracked?(i.add(1),r.push("--no-index","--","/dev/null",t.path)):t.status.kind===ii.Renamed?r.push("--",t.path):r.push("HEAD","--",t.path);const{output:o,error:s}=await Na(r,e.path,"getWorkingDirectoryDiff",i);return Pl(o,e,t,"HEAD",function(e){if(0===e.length)return;const t=e.toString("utf-8"),n=Ol.exec(t);if(n){const e=li(n[1]),t=li(n[2]);if(e&&t)return{from:e,to:t}}return}(s))}async function Rl(e,t,n){let i=void 0,o=void 0;if(t instanceof Ri){if(t.status.kind===ii.Conflicted)return{kind:Zr.Image};t.status.kind!==ii.Deleted&&(i=await async function(e,t){const n=await async function(e,t){return new Promise((n,r)=>{t=t||{flag:"r"},w.readFile(e,t,(e,t)=>{e?r(e):n(t)})})}(r.join(e.path,t.path));return new pi(n.toString("base64"),Al(r.extname(t.path)),n.length)}(e,t)),t.status.kind!==ii.New&&t.status.kind!==ii.Untracked&&(o=await Il(e,xl(t),"HEAD"))}else t.status.kind!==ii.Deleted&&(i=await Il(e,t.path,n)),t.status.kind!==ii.New&&t.status.kind!==ii.Untracked&&(o=await Il(e,xl(t),n+"^"));return{kind:Zr.Image,previous:o,current:i}}function Al(e){return".png"===e?"image/png":".jpg"===e||".jpeg"===e?"image/jpg":".gif"===e?"image/gif":".ico"===e?"image/x-icon":".webp"===e?"image/webp":".bmp"===e?"image/bmp":".avif"===e?"image/avif":"text/plain"}const Ol=/warning: (CRLF|CR|LF) will be replaced by (CRLF|CR|LF) in .*/;function Pl(e,t,n,i,o){if(!function(e){return e.length<=7e7}(e))return Promise.resolve({kind:Zr.Unrenderable});const s=function(e){const t=e.toString("utf-8").split("\0");return(new kl).parse(t[t.length-1])}(e);if(function(e){return e.length>=4375e3}(e)||function(e){for(const t of e.hunks)for(const e of t.lines)if(e.text.length>5e3)return!0;return!1}(s)){const e={kind:Zr.LargeText,text:s.contents,hunks:s.hunks,lineEndingsChange:o,maxLineNumber:s.maxLineNumber,hasHiddenBidiChars:s.hasHiddenBidiChars};return Promise.resolve(e)}return async function(e,t,n,i,o){const s=r.extname(t.path).toLowerCase();return n.isBinary?Dl.has(s)?Rl(e,t,i):{kind:Zr.Binary}:{kind:Zr.Text,text:n.contents,hunks:n.hunks,lineEndingsChange:o,maxLineNumber:n.maxLineNumber,hasHiddenBidiChars:n.hasHiddenBidiChars}}(t,n,s,i,o)}async function Il(e,t,n){const i=r.extname(t),o=await async function(e,t,n){const r=["show",`${t}:${n}`],i={successExitCodes:new Set([0,1]),processCallback:e=>{e.stdout&&e.stdout.setEncoding("binary")}},o=await pd(r,e.path,"getBlobContents",i);return Buffer.from(o.stdout,"binary")}(e,n,t);return new pi(o.toString("base64"),Al(i),o.length)}async function Ml(e,t){const{output:n}=await Na(["diff","--numstat","-z",t],e.path,"getBinaryPaths"),r=br(n.toString("utf8"),Fl);if(0===r.length)return[];return r.reduce((e,t)=>e.concat(t))}const Fl=/-\t-\t(?:\0.+\0)?([^\0]*)/gi;var Nl,Bl;async function Ll(e,t,n,r){let i={env:await ka(t,Ea(t,e)),expectedErrors:wa};if(r){const e="Checking out branch "+n.name,t="checkout",o=n.name;i=await ya(Object.assign(Object.assign({},i),{trackLFSProgress:!0}),new Js,n=>{if("progress"===n.kind){const i=n.details.text,s=n.percent;r({kind:t,title:e,description:i,value:s,targetBranch:o})}}),r({kind:t,title:e,value:0,targetBranch:o})}const o=await async function(e,t,n,r){const i=await yd(e,n),o=null!=r?[...i,"checkout","--progress"]:[...i,"checkout"];return Rt()?t.type===zr.Remote?o.concat(t.name,"-b",t.nameWithoutRemote,"--recurse-submodules","--"):o.concat(t.name,"--recurse-submodules","--"):t.type===zr.Remote?o.concat(t.name,"-b",t.nameWithoutRemote,"--"):o.concat(t.name,"--")}(e,n,t,r);return await pd(o,e.path,"checkoutBranch",i),!0}async function Hl(e,t,n){const{status:r}=t;if(!xi(r))return void log.error(`tried to manually resolve unconflicted file (${t.path})`);if(Di(r)&&0===r.conflictMarkerCount)return;const i=n===Nl.theirs?r.entry.them:r.entry.us,o=r.entry.us===ri.Added&&r.entry.them===ri.Added;switch((i===ri.UpdatedButUnmerged||o)&&await async function(e,t,n){await pd(["checkout","--"+n,"--",t.path],e.path,"checkoutConflictedFile")}(e,t,n),i){case ri.Deleted:return async function(e,t){await pd(["rm","--",t.path],e.path,"removeConflictedFile")}(e,t);case ri.Added:case ri.UpdatedButUnmerged:return async function(e,t){await pd(["add","--",t.path],e.path,"addConflictedFile")}(e,t);default:Ze(0,"unaccounted for git status entry possibility")}}function Ul(e,t){return`${e}..${t}`}function jl(e,t){return`${e}...${t}`}async function Wl(e,t){const n=["rev-list","--left-right","--count",t,"--"],r=await pd(n,e.path,"getAheadBehind",{expectedErrors:new Set([sr.GitError.BadRevision])});if(r.gitError===sr.GitError.BadRevision)return null;const i=r.stdout.split("\t");if(2!==i.length)return null;const o=parseInt(i[0],10);if(isNaN(o))return null;const s=parseInt(i[1],10);return isNaN(s)?null:{ahead:o,behind:s}}async function zl(e,t,n){return Gl(e,Ul(t,n))}async function Gl(e,t){const n=["rev-list",t,"--reverse","--oneline","--no-abbrev-commit","--"],r={expectedErrors:new Set([sr.GitError.BadRevision])},i=await pd(n,e.path,"getCommitsInRange",r);if(i.gitError===sr.GitError.BadRevision)return null;const o=i.stdout.split("\n"),s=new Array,a=/^([a-z0-9]{40}) (.*)$/;for(const e of o){const t=a.exec(e);if(null!==t&&3===t.length){const e=t[1],n=t[2];s.push({sha:e,summary:n})}}return s}function ql(e){const t=r.join(e.path,".git","REBASE_HEAD");return w.pathExists(t)}async function Vl(e){if(!await ql(e))return null;let t=null,n=null,i=null;try{t=await w.readFile(r.join(e.path,".git","rebase-merge","orig-head"),"utf8"),t=t.trim(),n=await w.readFile(r.join(e.path,".git","rebase-merge","head-name"),"utf8"),n.startsWith("refs/heads/")&&(n=n.substr(11).trim()),i=await w.readFile(r.join(e.path,".git","rebase-merge","onto"),"utf8"),i=i.trim()}catch(e){}return null!=t&&null!=n&&null!=i?{originalBranchTip:t,targetBranch:n,baseBranchTip:i}:null}async function $l(e){if(!await ql(e))return null;let t=-1,n=-1,i=null,o=null;try{const s=await w.readFile(r.join(e.path,".git","rebase-merge","msgnum"),"utf8");t=parseInt(s,10),isNaN(t)&&(log.warn(`[getCurrentProgress] found '${s}' in .git/rebase-merge/msgnum which could not be parsed to a valid number`),t=-1);const a=await w.readFile(r.join(e.path,".git","rebase-merge","end"),"utf8");n=parseInt(a,10),isNaN(n)&&(log.warn(`[getCurrentProgress] found '${a}' in .git/rebase-merge/last which could not be parsed to a valid number`),n=-1),i=await w.readFile(r.join(e.path,".git","rebase-merge","orig-head"),"utf8"),i=i.trim(),o=await w.readFile(r.join(e.path,".git","rebase-merge","onto"),"utf8"),o=o.trim()}catch(e){}if(t>0&&n>0&&null!==i&&null!==o){const r=_o(t/n),s=await zl(e,o,i);if(null===s||0===s.length)return null;const a=t-1;return{progress:{kind:"multiCommitOperation",value:r,position:t,totalCommitCount:n,currentCommitSummary:s.length>0&&a>=0&&a<s.length?s[a].summary:""},commits:s}}return null}!function(e){e.theirs="theirs",e.ours="ours"}(Nl||(Nl={})),function(e){e.CompletedWithoutError="CompletedWithoutError",e.ConflictsEncountered="ConflictsEncountered",e.OutstandingFilesNotStaged="OutstandingFilesNotStaged",e.Aborted="Aborted",e.Error="Error"}(Bl||(Bl={}));const Kl=/^Rebasing \((\d+)\/(\d+)\)$/;class Yl{constructor(e){this.commits=e}parse(e){var t,n;const r=Kl.exec(e);if(null===r||3!==r.length)return null;const i=parseInt(r[1],10),o=parseInt(r[2],10);if(isNaN(i)||isNaN(o))return null;const s=null!==(n=null===(t=this.commits[i-1])||void 0===t?void 0:t.summary)&&void 0!==n?n:"";return{kind:"multiCommitOperation",value:_o(i/o),position:i,totalCommitCount:o,currentCommitSummary:s}}}function Zl(e,t){if(void 0===t)return e;const{commits:n,progressCallback:r}=t;return Cr(e,{processCallback:e=>{if(null===e.stderr)return;const t=new Yl(n);ca()(e.stderr).on("data",e=>{const n=t.parse(e);null!=n&&r(n)})}})}function Xl(e){if(0===e.exitCode)return Bl.CompletedWithoutError;if(e.gitError===sr.GitError.RebaseConflicts)return Bl.ConflictsEncountered;if(e.gitError===sr.GitError.UnresolvedConflicts)return Bl.OutstandingFilesNotStaged;throw new Error(`Unhandled result found: '${JSON.stringify(e)}'`)}async function Ql(e,t,n=new Map,i,o=":"){const s=t.filter(e=>e.status.kind!==ii.Untracked);for(const[r,i]of n){const n=t.find(e=>e.path===r);void 0!==n?await Hl(e,n,i):log.error(`[continueRebase] couldn't find file ${r} even though there's a manual resolution for it`)}const a=s.filter(e=>!n.has(e.path));await hs(e,a);const l=await nc(e);if(null==l)return log.warn("[continueRebase] unable to get status after staging changes, skipping any other steps"),Bl.Aborted;const c=await async function(e){try{const t=r.join(e.path,".git","REBASE_HEAD");return(await w.readFile(t,"utf8")).trim()}catch(e){return log.warn("[rebase] a problem was encountered reading .git/REBASE_HEAD, so it is unsafe to continue rebasing",e),null}}(e);if(null===c)return Bl.Aborted;const u=l.workingDirectory.files.filter(e=>e.status.kind!==ii.Untracked),h={expectedErrors:new Set([sr.GitError.RebaseConflicts,sr.GitError.UnresolvedConflicts]),env:{GIT_EDITOR:o}};let p=h;if(void 0!==i){const t=await $l(e);if(null===t)return log.warn("[continueRebase] unable to get rebase status, skipping any other steps"),Bl.Aborted;p=Zl(h,{commits:t.commits,progressCallback:i})}if(0===u.length){log.warn(`[rebase] no tracked changes to commit for ${c}, continuing rebase but skipping this commit`);return Xl(await pd(["rebase","--skip"],e.path,"continueRebaseSkipCurrentCommit",p))}return Xl(await pd(["rebase","--continue"],e.path,"continueRebase",p))}async function Jl(e,t,n,r="Interactive rebase",i=":",o,s){const a={expectedErrors:new Set([sr.GitError.RebaseConflicts]),env:{GIT_EDITOR:i}};let l=a;if(void 0!==o){if(void 0===s)return log.warn("Unable to interactively rebase if no commits"),Bl.Error;l=Zl(a,{commits:s,progressCallback:o})}const c=null==n?"--root":n;return Xl(await pd(["-c",`sequence.editor=cat "${t}" >`,"rebase","-i",c],e.path,r,l))}function ec(e,t,n,r){if("ordinary"===t.kind)switch(t.type){case"added":return{kind:ii.New};case"modified":return{kind:ii.Modified};case"deleted":return{kind:ii.Deleted}}else{if("copied"===t.kind&&null!=r)return{kind:ii.Copied,oldPath:r};if("renamed"===t.kind&&null!=r)return{kind:ii.Renamed,oldPath:r};if("untracked"===t.kind)return{kind:ii.Untracked};if("conflicted"===t.kind)return function(e,t,n){switch(e.action){case oi.BothAdded:return n.binaryFilePaths.includes(t)?{kind:ii.Conflicted,entry:e}:{kind:ii.Conflicted,entry:e,conflictMarkerCount:n.conflictCountsByPath.get(t)||0};case oi.BothModified:return n.binaryFilePaths.includes(t)?{kind:ii.Conflicted,entry:e}:{kind:ii.Conflicted,entry:e,conflictMarkerCount:n.conflictCountsByPath.get(t)||0};default:return{kind:ii.Conflicted,entry:e}}}(t,e,n)}return Ye("Unknown file status "+status)}const tc=["DD","AU","UD","UA","DU","AA","UU"];async function nc(e){const t=await Na(["--no-optional-locks","status","--untracked-files=all","--branch","--porcelain=2","-z"],e.path,"getStatus",new Set([0,128]));if(128===t.exitCode)return log.debug(`'git status' returned 128 for '${e.path}' and is likely missing its .git directory`),null;if(t.output.length>2e7)return log.error(`'git status' emitted ${t.output.length} bytes, which is beyond the supported threshold of 20000000 bytes`),null;const n=function(e){const t=new Array,n=e.split("\0"),r=new Ua.a(n);let i;for(;i=r.shift();){if(i.startsWith("# ")&&i.length>2){t.push({kind:"header",value:i.substr(2)});continue}const e=i.substr(0,1);"1"===e?t.push(Ga(i)):"2"===e?t.push(Va(i,r.shift())):"u"===e?t.push(Ka(i)):"?"===e&&t.push(Ya(i))}return t}(t.output.toString("utf8")),i=n.filter(ja),o=n.filter(Wa),s=await async function(e){const t=r.join(e.path,".git","MERGE_HEAD");return await w.pathExists(t)}(e),a=o.some(e=>tc.indexOf(e.statusCode)>-1),l=await Vl(e),c=await async function(e,t,n,r){try{if(t)return await async function(e){const t=await Ba(e.path),n=await Ml(e,"MERGE_HEAD");return{conflictCountsByPath:t,binaryFilePaths:n}}(e);if(null!==r)return await async function(e){const t=await Ba(e.path),n=await Ml(e,"REBASE_HEAD");return{conflictCountsByPath:t,binaryFilePaths:n}}(e);if(n)return await async function(e){const t=await Ba(e.path);let n=[];try{n=await Ml(e,"HEAD")}catch(e){}return{conflictCountsByPath:t,binaryFilePaths:n}}(e)}catch(e){log.error("Unexpected error from git operations in getConflictDetails",e)}return{conflictCountsByPath:new Map,binaryFilePaths:new Array}}(e,s,a,l),u=o.reduce((e,t)=>function(e,t,n){const r=function(e){return"??"===e?{kind:"untracked"}:".M"===e?{kind:"ordinary",type:"modified",index:ri.Unchanged,workingTree:ri.Modified}:"M."===e?{kind:"ordinary",type:"modified",index:ri.Modified,workingTree:ri.Unchanged}:".A"===e?{kind:"ordinary",type:"added",index:ri.Unchanged,workingTree:ri.Added}:"A."===e?{kind:"ordinary",type:"added",index:ri.Added,workingTree:ri.Unchanged}:".D"===e?{kind:"ordinary",type:"deleted",index:ri.Unchanged,workingTree:ri.Deleted}:"D."===e?{kind:"ordinary",type:"deleted",index:ri.Deleted,workingTree:ri.Unchanged}:"R."===e?{kind:"renamed",index:ri.Renamed,workingTree:ri.Unchanged}:".R"===e?{kind:"renamed",index:ri.Unchanged,workingTree:ri.Renamed}:"C."===e?{kind:"copied",index:ri.Copied,workingTree:ri.Unchanged}:".C"===e?{kind:"copied",index:ri.Unchanged,workingTree:ri.Copied}:"AD"===e?{kind:"ordinary",type:"added",index:ri.Added,workingTree:ri.Deleted}:"AM"===e?{kind:"ordinary",type:"added",index:ri.Added,workingTree:ri.Modified}:"RM"===e?{kind:"renamed",index:ri.Renamed,workingTree:ri.Modified}:"RD"===e?{kind:"renamed",index:ri.Renamed,workingTree:ri.Deleted}:"DD"===e?{kind:"conflicted",action:oi.BothDeleted,us:ri.Deleted,them:ri.Deleted}:"AU"===e?{kind:"conflicted",action:oi.AddedByUs,us:ri.Added,them:ri.UpdatedButUnmerged}:"UD"===e?{kind:"conflicted",action:oi.DeletedByThem,us:ri.UpdatedButUnmerged,them:ri.Deleted}:"UA"===e?{kind:"conflicted",action:oi.AddedByThem,us:ri.UpdatedButUnmerged,them:ri.Added}:"DU"===e?{kind:"conflicted",action:oi.DeletedByUs,us:ri.Deleted,them:ri.UpdatedButUnmerged}:"AA"===e?{kind:"conflicted",action:oi.BothAdded,us:ri.Added,them:ri.Added}:"UU"===e?{kind:"conflicted",action:oi.BothModified,us:ri.UpdatedButUnmerged,them:ri.UpdatedButUnmerged}:{kind:"ordinary",type:"modified"}}(t.statusCode);if("ordinary"===r.kind&&r.index===ri.Added&&r.workingTree===ri.Deleted)return e;"untracked"===r.kind&&e.delete(t.path);const i=ec(t.path,r,n,t.oldPath),o=hi.fromInitialSelection(Qr.All);return e.set(t.path,new Ri(t.path,i,o)),e}(e,t,c),new Map),{currentBranch:h,currentUpstreamBranch:p,currentTip:d,branchAheadBehind:f}=i.reduce(rc,{currentBranch:void 0,currentUpstreamBranch:void 0,currentTip:void 0,branchAheadBehind:void 0,match:null});return{currentBranch:h,currentTip:d,currentUpstreamBranch:p,branchAheadBehind:f,exists:!0,mergeHeadFound:s,rebaseInternalState:l,workingDirectory:Oi.fromFiles([...u.values()]),isCherryPickingHeadFound:await hc(e),squashMsgFound:await async function(e){const t=r.join(e.path,".git","SQUASH_MSG");return await w.pathExists(t)}(e),doConflictedFilesExist:a}}function rc(e,t){let{currentBranch:n,currentUpstreamBranch:r,currentTip:i,branchAheadBehind:o,match:s}=e;const a=t.value;if(s=a.match(/^branch\.oid ([a-f0-9]+)$/))i=s[1];else if(s=a.match(/^branch.head (.*)/))"(detached)"!==s[1]&&(n=s[1]);else if(s=a.match(/^branch.upstream (.*)/))r=s[1];else if(s=a.match(/^branch.ab \+(\d+) -(\d+)$/)){const e=parseInt(s[1],10),t=parseInt(s[2],10);isNaN(e)||isNaN(t)||(o={ahead:e,behind:t})}return{currentBranch:n,currentUpstreamBranch:r,currentTip:i,branchAheadBehind:o,match:s}}var ic,oc;!function(e){e.CompletedWithoutError="CompletedWithoutError",e.ConflictsEncountered="ConflictsEncountered",e.OutstandingFilesNotStaged="OutstandingFilesNotStaged",e.UnableToStart="UnableToStart",e.Error="Error"}(ic||(ic={}));class sc{constructor(e,t=0){this.commits=e,this.count=t}parse(e){var t,n;return null===/^\[(.*\s.*)\]/.exec(e)?null:(this.count++,{kind:"multiCommitOperation",value:pa(this.count/this.commits.length,2),position:this.count,totalCommitCount:this.commits.length,currentCommitSummary:null!==(n=null===(t=this.commits[this.count-1])||void 0===t?void 0:t.summary)&&void 0!==n?n:""})}}function ac(e,t,n,r=0){return Cr(e,{processCallback:e=>{if(null===e.stdout)return;const i=new sc(t,r);ca()(e.stdout).on("data",e=>{const t=i.parse(e);null!=t&&n(t)})}})}function lc(e){if(0===e.exitCode)return ic.CompletedWithoutError;switch(e.gitError){case sr.GitError.ConflictModifyDeletedInBranch:case sr.GitError.MergeConflicts:return ic.ConflictsEncountered;case sr.GitError.UnresolvedConflicts:return ic.OutstandingFilesNotStaged;default:throw new Error(`Unhandled result found: '${JSON.stringify(e)}'`)}}async function cc(e){var t;if(!hc(e))return null;let n="",i="";const o=[];try{if(n=(await w.readFile(r.join(e.path,".git","sequencer","abort-safety"),"utf8")).trim(),""===n)return null;if(i=(await w.readFile(r.join(e.path,".git","sequencer","head"),"utf8")).trim(),""===i)return null;const t=(await w.readFile(r.join(e.path,".git","sequencer","todo"),"utf8")).trim();if(""===t)return null;if(t.split("\n").forEach(e=>{if((e=e.replace(/^pick /,"")).trim().includes(" ")){const t=e.substr(0,e.indexOf(" ")),n={sha:t,summary:e.substr(t.length+1)};o.push(n)}}),0===o.length)return null}catch(t){if(!hc(e))return null;const n=(await w.readFile(r.join(e.path,".git","CHERRY_PICK_HEAD"),"utf8")).trim(),o=await ls(e,n);return null===o?null:{progress:{kind:"multiCommitOperation",value:1,position:1,totalCommitCount:1,currentCommitSummary:o.summary},remainingCommits:[],commits:[{sha:o.sha,summary:o.summary}],targetBranchUndoSha:i,cherryPickedCount:0}}const s=n!==i?await Gl(e,Ul(i,n)):[];if(null===s)return null;const a=[...s,...o],l=s.length+1;return{progress:{kind:"multiCommitOperation",value:pa(l/a.length,2),position:l,totalCommitCount:a.length,currentCommitSummary:null!==(t=o[0].summary)&&void 0!==t?t:""},remainingCommits:o,commits:a,targetBranchUndoSha:i,cherryPickedCount:s.length}}async function uc(e){await pd(["cherry-pick","--abort"],e.path,"abortCherryPick")}async function hc(e){try{const t=r.join(e.path,".git","CHERRY_PICK_HEAD");return w.pathExists(t)}catch(e){return log.warn("[cherryPick] a problem was encountered reading .git/CHERRY_PICK_HEAD,\n       so it is unsafe to continue cherry-picking",e),!1}}function pc(e){return e.kind===si.Valid?e.branch.tip.sha:e.kind===si.Detached?e.currentSha:"(unknown)"}!function(e){e.CherryPick="cherry-pick",e.Squash="squash",e.Reorder="reorder"}(oc||(oc={}));const dc=Object.values(oc),fc={[oc.CherryPick]:{title:"Drag and drop to cherry-pick!",body:"Copy commits to another branch by dragging and dropping them onto a branch in the branch menu, or by right-clicking on a commit."},[oc.Squash]:{title:"Drag and drop to squash!",body:"Squash commits by dragging and dropping them onto another commit, or by right-clicking on multiple commits."},[oc.Reorder]:{title:"Drag and drop to reorder!",body:"Reorder commits to tidy up your history by dragging and dropping them to a different position."}},mc=Jn(async()=>!1);async function gc(){const e={SSH_ASKPASS:ud(),DISPLAY:"."};return await mc()&&function(){try{return vt("useWindowsOpenSSH",!1)}catch(e){return!1}}()?Object.assign(Object.assign({},e),{GIT_SSH_COMMAND:"C:/Windows/System32/OpenSSH/ssh.exe"}):e}const yc=["ShowConflicts","ConfirmAbort"];function vc(e,t){const{defaultBranch:n,allBranches:r,recentBranches:i,tip:o}=e.branchesState;let s=null;if(o.kind!==si.Valid)throw new Error("Tip is not in a valid state, which is required to start the multi commit operation");return s=o.branch,{kind:"ChooseBranch",defaultBranch:n,currentBranch:s,allBranches:r,recentBranches:i,initialBranch:null!==t?t:void 0}}function bc(e){let t,n=null;return"success"===e.state?(t=_n.Completed,n=Tn.Success):"pending"===e.state?t=_n.InProgress:(t=_n.Completed,n=Tn.Failure),{id:e.id,name:e.context,description:Cc(t,n),status:t,conclusion:n,appName:"",checkSuiteId:null,htmlUrl:e.target_url}}function wc(e){if(null===e)return"In progress";switch(e){case Tn.ActionRequired:return"Action required";case Tn.Canceled:return"Canceled";case Tn.TimedOut:return"Timed out";case Tn.Failure:return"Failed";case Tn.Neutral:return"Neutral";case Tn.Success:return"Successful";case Tn.Skipped:return"Skipped";case Tn.Stale:return"Marked as stale"}}function Cc(e,t,n){if(e!==_n.Completed||null===t)return"In progress";const r=wc(t);if([Tn.ActionRequired,Tn.Skipped,Tn.Stale].includes(t))return r;const i=t===Tn.Success?"in":"after";if(void 0!==n&&n>0){return`${r} ${i} ${n<60?n+"s":Math.round(n/60)+"m"}`}return r}function Sc(e){try{const t=new Date(e.completed_at).getTime(),n=(t-new Date(e.started_at).getTime())/1e3;if(!isNaN(n))return n}catch(e){}return 0}function Ec(e){return{id:e.id,name:e.name,description:Cc(e.status,e.conclusion,Sc(e)),status:e.status,conclusion:e.conclusion,appName:e.app.name,checkSuiteId:e.check_suite.id,htmlUrl:e.html_url}}function kc(e){if(0===e.length)return null;if(1===e.length){const{status:t,conclusion:n}=e[0];return{status:t,conclusion:n,checks:e}}return e.some(xc)?{status:_n.Completed,conclusion:Tn.Failure,checks:e}:e.every(_c)?{status:_n.Completed,conclusion:Tn.Success,checks:e}:{status:_n.InProgress,conclusion:null,checks:e}}function xc(e){return function(e){if("completed"===e.status)switch(e.conclusion){case"timed_out":case"stale":case"cancelled":return!0}return!1}(e)||Dc(e)}function Dc(e){if("completed"===e.status)switch(e.conclusion){case"failure":case"action_required":return!0}return!1}function _c(e){if("completed"===e.status)switch(e.conclusion){case"success":case"neutral":case"skipped":return!0}return!1}function Tc(e){const t=new Map;for(const n of e){const e=n.name+(n.pull_requests.length>0?"isPullRequestCheckRun":"isPushCheckRun"),r=t.get(e);(void 0===r||r.check_suite.id<n.check_suite.id)&&t.set(e,n)}return[...t.values()]}async function Rc(e,t,n,r){var i;new Map;const o=new Map,s=new Array;for(const a of r){if(void 0===a.actionsWorkflow){s.push(a);continue}const{id:r,logs_url:l}=a.actionsWorkflow,c=null!==(i=o.get(r))&&void 0!==i?i:await e.fetchWorkflowRunJobs(t,n,r);o.set(r,c);const u=null==c?void 0:c.jobs.find(e=>e.id===a.id);void 0!==u?s.push(Object.assign(Object.assign({},a),{htmlUrl:u.html_url,actionJobSteps:u.steps})):s.push(a)}return s}async function Ac(e,t,n,r,i){const o=Pn.fromAccount(e);return yn(e.endpoint)?async function(e,t,n,r){if(0===r.length)return r;const i=new Array,o=new Map;for(const s of r){if(null===s.checkSuiteId){i.push(s);continue}const r=o.get(s.checkSuiteId),a=void 0===r?await e.fetchPRActionWorkflowRunByCheckSuiteId(t,n,s.checkSuiteId):r;o.set(s.checkSuiteId,a),null!==a?i.push(Object.assign(Object.assign({},s),{actionsWorkflow:a})):i.push(s)}return i}(o,t,n,i):async function(e,t,n,r,i){const o=await async function(e,t,n,r){const i=new Map,o=await e.fetchPRWorkflowRunsByBranchName(t,n,r);if(null===o)return[];for(const e of o.workflow_runs){const t=i.get(e.workflow_id);if(void 0===t){i.set(e.workflow_id,e);continue}const n=new Date(t.created_at),r=new Date(e.created_at);n.getTime()<r.getTime()&&i.set(e.workflow_id,e)}return Array.from(i.values())}(e,t,n,r);if(0===o.length)return i;return function(e,t){if(0===t.length||0===e.length)return e;const n=new Array;for(const r of e){const e=t.find(e=>e.check_suite_id===r.checkSuiteId);void 0!==e?n.push(Object.assign(Object.assign({},r),{actionsWorkflow:e})):n.push(r)}return n}(i,o)}(o,t,n,r,i)}function Oc(e,t,n,r){if(null===e.htmlUrl&&null===n.htmlURL)return null;return null!==e.htmlUrl?`${e.htmlUrl}/#step:${t.number}:1`:`${n.htmlURL}/pull/${r}`}function Pc(e){var t;const n=new Set(e.map(e=>{var t;return null===(t=e.actionsWorkflow)||void 0===t?void 0:t.event}).filter(e=>void 0!==e&&""!==e.trim())).size>1,r=new Map;for(const i of e){let e=(null===(t=i.actionsWorkflow)||void 0===t?void 0:t.name)||"Other";n&&void 0!==i.actionsWorkflow&&""!==i.actionsWorkflow.event.trim()&&(e=`${e} (${i.actionsWorkflow.event})`),"Other"===e&&"GitHub Code Scanning"===i.appName&&(e="Code scanning results");const o=r.get(e),s=void 0!==o?[...o,i]:[i];r.set(e,s)}return Ic(r).forEach(e=>{const t=r.get(e);if(void 0!==t){const n=t.sort((e,t)=>e.name.localeCompare(t.name));r.set(e,n)}}),r}function Ic(e){const t=[...e.keys()];return t.sort((e,t)=>"Other"===e&&"Other"!==t?1:"Other"!==e&&"Other"===t?-1:"Other"===e&&"Other"===t?0:e.localeCompare(t)),t}function Mc(e){const t=new Map;return e.forEach(e=>{var n,r;const i=null!==(n=e.conclusion)&&void 0!==n?n:e.status,o=null!==(r=t.get(i))&&void 0!==r?r:0;t.set(i,o+1)}),t}const Fc=[Tn.Failure,Tn.Canceled,Tn.ActionRequired,Tn.TimedOut];var Nc=n(111);function Bc(e){try{const t=y.shell.readShortcutLink(e);if(void 0===t.toastActivatorClsid||""===t.toastActivatorClsid)return;return t.toastActivatorClsid}catch(t){return void log.error("Error looking for toast activator CLSID in shortcut "+e,t)}}let Lc=void 0;function Hc(){void 0===Lc&&(Lc=function(){const e=[r.join(Ft.homedir(),"AppData","Roaming","Microsoft","Windows","Start Menu","Programs","GitHub, Inc","GitHub Desktop.lnk"),r.join(Ft.homedir(),"Desktop","GitHub Desktop.lnk")];for(const t of e){const e=Bc(t);if(void 0!==e)return e}}(),void 0===Lc&&(log.error("Toast activator CLSID not found in any of the shortucts. Falling back to known CLSIDs."),Lc="{27D44D0C-A542-5B90-BCDB-AC3126048BA2}"),log.info("Using toast activator CLSID "+Lc),Object(Nc.initializeNotifications)(Lc))}function Uc(e,t,n){if(Object(Nc.supportsNotifications)()){Hc();const r=new Nc.DesktopNotification(e,t);return r.onclick=()=>{A(),n()},void r.show()}new Notification(e,{body:t}).onclick=()=>{A(),n()}}function jc(){return vt("high-signal-notifications-enabled",!0)}const Wc=ei.TwoUp;function zc(e,t=-1/0,n=1/0){return{value:"number"==typeof e?e:e.value,min:t,max:n}}class Gc{constructor(e,t,n){this.login=e,this.endpoint=t,this.id=n}get hash(){return`${this.login}+${this.endpoint}+${this.id}`}}function qc(e,t){return`${Vc(e)}${t}`}function Vc(e){return e+"-"}let $c=null;function Kc(e){return new Promise((t,n)=>{$c={state:Qt(),endpoint:e,resolve:t,reject:n};const r=function(e,t){const n=Fn(e),r=encodeURIComponent(kn.join(" "));return`${n}/login/oauth/authorize?client_id=${Sn}&scope=${r}&state=${t}`}(e,$c.state);Je.openExternal(r)})}async function Yc(e,t){if(!$c||t!==$c.state)return void log.warn("requestAuthenticatedUser was not called with valid OAuth state. This is likely due to a browser reloading the callback URL. Contact GitHub Support if you believe this is an error");const n=await async function(e,t){try{const n=Fn(e),r=await zt(n,null,"POST","login/oauth/access_token",{client_id:Sn,client_secret:En,code:t});Ln(e,r);return(await qt(r)).access_token}catch(t){return log.warn("requestOAuthToken: failed with endpoint "+e,t),null}}($c.endpoint,e);return n?Mn($c.endpoint,n):null}function Zc(e){$c||Ye("`askUserToOAuth` must be called before rejecting an auth request."),$c.reject(e),$c=null}const Xc=new Set(["https:","http:"]);function Qc(e){return`Unable to authenticate. The account ${e} is lacking a verified email address. Please sign in to GitHub.com, confirm your email address in the Emails section under Personal settings, and try again.`}const Jc="GitHubGitHub DesktopGitHub Enterprise.";var eu,tu;!function(e){e.EndpointEntry="EndpointEntry",e.Authentication="Authentication",e.TwoFactorAuthentication="TwoFactorAuthentication",e.Success="Success"}(eu||(eu={})),function(e){e.Basic="basic",e.Web="web"}(tu||(tu={}));var nu=n(103),ru=n.n(nu),iu=Object.keys,ou=Array.isArray,su="undefined"!=typeof self?self:"undefined"!=typeof window?window:global;function au(e,t){return"object"!=typeof t||iu(t).forEach((function(n){e[n]=t[n]})),e}var lu=Object.getPrototypeOf,cu={}.hasOwnProperty;function uu(e,t){return cu.call(e,t)}function hu(e,t){"function"==typeof t&&(t=t(lu(e))),iu(t).forEach((function(n){du(e,n,t[n])}))}var pu=Object.defineProperty;function du(e,t,n,r){pu(e,t,au(n&&uu(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function fu(e){return{from:function(t){return e.prototype=Object.create(t.prototype),du(e.prototype,"constructor",e),{extend:hu.bind(null,e.prototype)}}}}var mu=Object.getOwnPropertyDescriptor;var gu=[].slice;function yu(e,t,n){return gu.call(e,t,n)}function vu(e,t){return t(e)}function bu(e){if(!e)throw new Error("Assertion Failed")}function wu(e){su.setImmediate?setImmediate(e):setTimeout(e,0)}function Cu(e,t){return e.reduce((function(e,n,r){var i=t(n,r);return i&&(e[i[0]]=i[1]),e}),{})}function Su(e,t){return function(){try{e.apply(this,arguments)}catch(e){t(e)}}}function Eu(e,t,n){try{e.apply(null,n)}catch(e){t&&t(e)}}function ku(e,t){if(uu(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var o=ku(e,t[r]);n.push(o)}return n}var s=t.indexOf(".");if(-1!==s){var a=e[t.substr(0,s)];return void 0===a?void 0:ku(a,t.substr(s+1))}}function xu(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){bu("string"!=typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)xu(e,t[r],n[r])}else{var o=t.indexOf(".");if(-1!==o){var s=t.substr(0,o),a=t.substr(o+1);if(""===a)void 0===n?delete e[s]:e[s]=n;else{var l=e[s];l||(l=e[s]={}),xu(l,a,n)}}else void 0===n?delete e[t]:e[t]=n}}function Du(e){var t={};for(var n in e)uu(e,n)&&(t[n]=e[n]);return t}var _u=[].concat;function Tu(e){return _u.apply([],e)}var Ru="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(Tu([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return su[e]})).map((function(e){return su[e]}));function Au(e){if(!e||"object"!=typeof e)return e;var t;if(ou(e)){t=[];for(var n=0,r=e.length;n<r;++n)t.push(Au(e[n]))}else if(Ru.indexOf(e.constructor)>=0)t=e;else for(var i in t=e.constructor?Object.create(e.constructor.prototype):{},e)uu(e,i)&&(t[i]=Au(e[i]));return t}function Ou(e,t,n,r){return n=n||{},r=r||"",iu(e).forEach((function(i){if(uu(t,i)){var o=e[i],s=t[i];"object"==typeof o&&"object"==typeof s&&o&&s&&""+o.constructor==""+s.constructor?Ou(o,s,n,r+i+"."):o!==s&&(n[r+i]=t[i])}else n[r+i]=void 0})),iu(t).forEach((function(i){uu(e,i)||(n[r+i]=t[i])})),n}var Pu="undefined"!=typeof Symbol&&Symbol.iterator,Iu=Pu?function(e){var t;return null!=e&&(t=e[Pu])&&t.apply(e)}:function(){return null},Mu={};function Fu(e){var t,n,r,i;if(1===arguments.length){if(ou(e))return e.slice();if(this===Mu&&"string"==typeof e)return[e];if(i=Iu(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var Nu="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Bu(e,t){Nu=e,Lu=t}var Lu=function(){return!0},Hu=!new Error("").stack;function Uu(){if(Hu)try{throw Uu.arguments,new Error}catch(e){return e}return new Error}function ju(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(Lu).map((function(e){return"\n"+e})).join("")):""}var Wu=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],zu=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Wu),Gu={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function qu(e,t){this._e=Uu(),this.name=e,this.message=t}function Vu(e,t,n,r){this._e=Uu(),this.failures=t,this.failedKeys=r,this.successCount=n}function $u(e,t){this._e=Uu(),this.name="BulkError",this.failures=t,this.message=function(e,t){return e+". Errors: "+t.map((function(e){return e.toString()})).filter((function(e,t,n){return n.indexOf(e)===t})).join("\n")}(e,t)}fu(qu).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+ju(this._e,2))}},toString:function(){return this.name+": "+this.message}}),fu(Vu).from(qu),fu($u).from(qu);var Ku=zu.reduce((function(e,t){return e[t]=t+"Error",e}),{}),Yu=qu,Zu=zu.reduce((function(e,t){var n=t+"Error";function r(e,r){this._e=Uu(),this.name=n,e?"string"==typeof e?(this.message=e,this.inner=r||null):"object"==typeof e&&(this.message=e.name+" "+e.message,this.inner=e):(this.message=Gu[t]||n,this.inner=null)}return fu(r).from(Yu),e[t]=r,e}),{});Zu.Syntax=SyntaxError,Zu.Type=TypeError,Zu.Range=RangeError;var Xu=Wu.reduce((function(e,t){return e[t+"Error"]=Zu[t],e}),{});var Qu=zu.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=Zu[t]),e}),{});function Ju(){}function eh(e){return e}function th(e,t){return null==e||e===eh?t:function(n){return t(e(n))}}function nh(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function rh(e,t){return e===Ju?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?nh(r,this.onsuccess):r),i&&(this.onerror=this.onerror?nh(i,this.onerror):i),void 0!==o?o:n}}function ih(e,t){return e===Ju?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?nh(n,this.onsuccess):n),r&&(this.onerror=this.onerror?nh(r,this.onerror):r)}}function oh(e,t){return e===Ju?t:function(n){var r=e.apply(this,arguments);au(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?nh(i,this.onsuccess):i),o&&(this.onerror=this.onerror?nh(o,this.onerror):o),void 0===r?void 0===s?void 0:s:au(r,s)}}function sh(e,t){return e===Ju?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function ah(e,t){return e===Ju?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then((function(){return t.apply(r,o)}))}return t.apply(this,arguments)}}Qu.ModifyError=Vu,Qu.DexieError=qu,Qu.BulkError=$u;var lh={},ch=function(){try{return new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];")()}catch(t){var e=su.Promise;return e?[e.resolve(),e.prototype,e.resolve()]:[]}}(),uh=ch[0],hh=ch[1],ph=ch[2],dh=hh&&hh.then,fh=uh&&uh.constructor,mh=ch[3],gh=!!ph,yh=!1,vh=ph?function(){ph.then(Uh)}:su.setImmediate?setImmediate.bind(null,Uh):su.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){Uh(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(Uh,0)},bh=function(e,t){Th.push([e,t]),Ch&&(vh(),Ch=!1)},wh=!0,Ch=!0,Sh=[],Eh=[],kh=null,xh=eh,Dh={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:cp,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{cp(e[0],e[1])}catch(e){}}))}},_h=Dh,Th=[],Rh=0,Ah=[];function Oh(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Ju,this._lib=!1;var t=this._PSD=_h;if(Nu&&(this._stackHolder=Uu(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==lh)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Fh(this,this._value))}this._state=null,this._value=null,++t.ref,Mh(this,e)}var Ph={get:function(){var e=_h,t=Zh;function n(n,r){var i=this,o=!e.global&&(e!==_h||t!==Zh);o&&ep();var s=new Oh((function(t,s){Bh(i,new Ih(ap(n,e,o),ap(r,e,o),t,s,e))}));return Nu&&Hh(s,this),s}return n.prototype=lh,n},set:function(e){du(this,"then",e&&e.prototype===lh?Ph:{get:function(){return e},set:Ph.set})}};function Ih(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function Mh(e,t){try{t((function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&jh();t&&"function"==typeof t.then?Mh(e,(function(e,n){t instanceof Oh?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,Nh(e)),n&&Wh()}}),Fh.bind(null,e))}catch(t){Fh(e,t)}}function Fh(e,t){if(Eh.push(t),null===e._state){var n=e._lib&&jh();t=xh(t),e._state=!1,e._value=t,Nu&&null!==t&&"object"==typeof t&&!t._promise&&Eu((function(){var n=function e(t,n){var r;return mu(t,n)||(r=lu(t))&&e(r,n)}(t,"stack");t._promise=e,du(t,"stack",{get:function(){return yh?n&&(n.get?n.get.apply(t):n.value):e.stack}})})),function(e){Sh.some((function(t){return t._value===e._value}))||Sh.push(e)}(e),Nh(e),n&&Wh()}}function Nh(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Bh(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===Rh&&(++Rh,bh((function(){0==--Rh&&zh()}),[]))}function Bh(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Rh,bh(Lh,[n,e,t])}else e._listeners.push(t)}function Lh(e,t,n){try{kh=t;var r,i=t._value;t._state?r=e(i):(Eh.length&&(Eh=[]),r=e(i),-1===Eh.indexOf(i)&&function(e){var t=Sh.length;for(;t;)if(Sh[--t]._value===e._value)return void Sh.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{kh=null,0==--Rh&&zh(),--n.psd.ref||n.psd.finalize()}}function Hh(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Uh(){jh()&&Wh()}function jh(){var e=wh;return wh=!1,Ch=!1,e}function Wh(){var e,t,n;do{for(;Th.length>0;)for(e=Th,Th=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Th.length>0);wh=!0,Ch=!0}function zh(){var e=Sh;Sh=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Ah.slice(0),n=t.length;n;)t[--n]()}function Gh(e){return new Oh(lh,!1,e)}function qh(e,t){var n=_h;return function(){var r=jh(),i=_h;try{return ip(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{ip(i,!1),r&&Wh()}}}hu(Oh.prototype,{then:Ph,_then:function(e,t){Bh(this,new Ih(null,null,e,t,_h))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(function(e){return e instanceof t?n(e):Gh(e)})):this.then(null,(function(e){return e&&e.name===t?n(e):Gh(e)}))},finally:function(e){return this.then((function(t){return e(),t}),(function(t){return e(),Gh(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{yh=!0;var e=function e(t,n,r){if(n.length===r)return n;var i="";if(!1===t._state){var o,s,a=t._value;null!=a?(o=a.name||"Error",s=a.message||a,i=ju(a,0)):(o=a,s=""),n.push(o+(s?": "+s:"")+i)}Nu&&((i=ju(t._stackHolder,2))&&-1===n.indexOf(i)&&n.push(i),t._prev&&e(t._prev,n,r));return n}(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{yh=!1}}},timeout:function(e,t){var n=this;return e<1/0?new Oh((function(r,i){var o=setTimeout((function(){return i(new Zu.Timeout(t))}),e);n.then(r,i).finally(clearTimeout.bind(null,o))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&du(Oh.prototype,Symbol.toStringTag,"Promise"),Dh.env=op(),hu(Oh,{all:function(){var e=Fu.apply(null,arguments).map(tp);return new Oh((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((function(i,o){return Oh.resolve(i).then((function(n){e[o]=n,--r||t(e)}),n)}))}))},resolve:function(e){if(e instanceof Oh)return e;if(e&&"function"==typeof e.then)return new Oh((function(t,n){e.then(t,n)}));var t=new Oh(lh,!0,e);return Hh(t,kh),t},reject:Gh,race:function(){var e=Fu.apply(null,arguments).map(tp);return new Oh((function(t,n){e.map((function(e){return Oh.resolve(e).then(t,n)}))}))},PSD:{get:function(){return _h},set:function(e){return _h=e}},newPSD:Qh,usePSD:sp,scheduler:{get:function(){return bh},set:function(e){bh=e}},rejectionMapper:{get:function(){return xh},set:function(e){xh=e}},follow:function(e,t){return new Oh((function(n,r){return Qh((function(t,n){var r=_h;r.unhandleds=[],r.onunhandled=n,r.finalize=nh((function(){var e=this;!function(e){Ah.push((function t(){e(),Ah.splice(Ah.indexOf(t),1)})),++Rh,bh((function(){0==--Rh&&zh()}),[])}((function(){0===e.unhandleds.length?t():n(e.unhandleds[0])}))}),r.finalize),e()}),t,n,r)}))}});var Vh={awaits:0,echoes:0,id:0},$h=0,Kh=[],Yh=0,Zh=0,Xh=0;function Qh(e,t,n,r){var i=_h,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++Xh;var s=Dh.env;o.env=gh?{Promise:Oh,PromiseProp:{value:Oh,configurable:!0,writable:!0},all:Oh.all,race:Oh.race,resolve:Oh.resolve,reject:Oh.reject,nthen:lp(s.nthen,o),gthen:lp(s.gthen,o)}:{},t&&au(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=sp(o,e,n,r);return 0===o.ref&&o.finalize(),a}function Jh(){return Vh.id||(Vh.id=++$h),++Vh.awaits,Vh.echoes+=7,Vh.id}function ep(e){!Vh.awaits||e&&e!==Vh.id||(0==--Vh.awaits&&(Vh.id=0),Vh.echoes=7*Vh.awaits)}function tp(e){return Vh.echoes&&e&&e.constructor===fh?(Jh(),e.then((function(e){return ep(),e}),(function(e){return ep(),up(e)}))):e}function np(e){++Zh,Vh.echoes&&0!=--Vh.echoes||(Vh.echoes=Vh.id=0),Kh.push(_h),ip(e,!0)}function rp(){var e=Kh[Kh.length-1];Kh.pop(),ip(e,!1)}function ip(e,t){var n,r=_h;if((t?!Vh.echoes||Yh++&&e===_h:!Yh||--Yh&&e===_h)||(n=t?np.bind(null,e):rp,dh.call(uh,n)),e!==_h&&(_h=e,r===Dh&&(Dh.env=op()),gh)){var i=Dh.env.Promise,o=e.env;hh.then=o.nthen,i.prototype.then=o.gthen,(r.global||e.global)&&(Object.defineProperty(su,"Promise",o.PromiseProp),i.all=o.all,i.race=o.race,i.resolve=o.resolve,i.reject=o.reject)}}function op(){var e=su.Promise;return gh?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(su,"Promise"),all:e.all,race:e.race,resolve:e.resolve,reject:e.reject,nthen:hh.then,gthen:e.prototype.then}:{}}function sp(e,t,n,r,i){var o=_h;try{return ip(e,!0),t(n,r,i)}finally{ip(o,!1)}}function ap(e,t,n){return"function"!=typeof e?e:function(){var r=_h;n&&Jh(),ip(t,!0);try{return e.apply(this,arguments)}finally{ip(r,!1)}}}function lp(e,t){return function(n,r){return e.call(this,ap(n,t,!1),ap(r,t,!1))}}function cp(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var r,i={promise:t,reason:e};if(su.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),au(r,i)):su.CustomEvent&&au(r=new CustomEvent("unhandledrejection",{detail:i}),i),r&&su.dispatchEvent&&(dispatchEvent(r),!su.PromiseRejectionEvent&&su.onunhandledrejection))try{su.onunhandledrejection(r)}catch(e){}r.defaultPrevented||console.warn("Unhandled rejection: "+(e.stack||e))}catch(e){}}var up=Oh.reject;function hp(e){var t={},n=function(n,r){if(r){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return t[n].subscribe.apply(null,o),e}if("string"==typeof n)return t[n]};n.addEventType=o;for(var r=1,i=arguments.length;r<i;++r)o(arguments[r]);return n;function o(e,r,i){if("object"==typeof e)return s(e);r||(r=sh),i||(i=Ju);var o={subscribers:[],fire:i,subscribe:function(e){-1===o.subscribers.indexOf(e)&&(o.subscribers.push(e),o.fire=r(o.fire,e))},unsubscribe:function(e){o.subscribers=o.subscribers.filter((function(t){return t!==e})),o.fire=o.subscribers.reduce(r,i)}};return t[e]=n[e]=o,o}function s(e){iu(e).forEach((function(t){var n=e[t];if(ou(n))o(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new Zu.InvalidArgument("Invalid event config");var r=o(t,eh,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){wu((function(){e.apply(null,t)}))}))}))}}))}}var pp,dp=String.fromCharCode(65535),fp=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(e){return dp}}(),mp="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",gp=[],yp="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),vp=yp,bp=yp,wp=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)};function Cp(e,t){var n,r,i,o,s,a=Cp.dependencies,l=au({addons:Cp.addons,autoOpen:!0,indexedDB:a.indexedDB,IDBKeyRange:a.IDBKeyRange},t),c=l.addons,u=l.autoOpen,h=l.indexedDB,p=l.IDBKeyRange,d=this._dbSchema={},f=[],m=[],g={},y=null,v=null,b=!1,w=null,C=!1,S="readwrite",E=this,k=new Oh((function(e){n=e})),x=new Oh((function(e,t){r=t})),D=!0,_=!!Pp(h);function T(e){this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function R(e,t,n){var r=E._createTransaction(S,m,d);r.create(t),r._completion.catch(n);var i=r._reject.bind(r);Qh((function(){_h.trans=r,0===e?(iu(d).forEach((function(e){A(t,e,d[e].primKey,d[e].indexes)})),Oh.follow((function(){return E.on.populate.fire(r)})).catch(i)):function(e,t,n){var r=[],i=f.filter((function(t){return t._cfg.version===e}))[0];if(!i)throw new Zu.Upgrade("Dexie specification of currently installed DB version is missing");d=E._dbSchema=i._cfg.dbschema;var o=!1;function s(){return r.length?Oh.resolve(r.shift()(t.idbtrans)).then(s):Oh.resolve()}return f.filter((function(t){return t._cfg.version>e})).forEach((function(e){r.push((function(){var r=d,i=e._cfg.dbschema;Z(r,n),Z(i,n),d=E._dbSchema=i;var s=function(e,t){var n={del:[],add:[],change:[]};for(var r in e)t[r]||n.del.push(r);for(r in t){var i=e[r],o=t[r];if(i){var s={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(i.primKey.src!==o.primKey.src)s.recreate=!0,n.change.push(s);else{var a=i.idxByName,l=o.idxByName;for(var c in a)l[c]||s.del.push(c);for(c in l){var u=a[c],h=l[c];u?u.src!==h.src&&s.change.push(h):s.add.push(h)}(s.del.length>0||s.add.length>0||s.change.length>0)&&n.change.push(s)}}else n.add.push([r,o])}return n}(r,i);if(s.add.forEach((function(e){A(n,e[0],e[1].primKey,e[1].indexes)})),s.change.forEach((function(e){if(e.recreate)throw new Zu.Upgrade("Not yet support for changing primary key");var t=n.objectStore(e.name);e.add.forEach((function(e){O(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),O(t,e)})),e.del.forEach((function(e){t.deleteIndex(e)}))})),e._cfg.contentUpgrade)return o=!0,Oh.follow((function(){e._cfg.contentUpgrade(t)}))})),r.push((function(t){o&&vp||function(e,t){for(var n=0;n<t.db.objectStoreNames.length;++n){var r=t.db.objectStoreNames[n];null==e[r]&&t.db.deleteObjectStore(r)}}(e._cfg.dbschema,t)}))})),s().then((function(){!function(e,t){iu(e).forEach((function(n){t.db.objectStoreNames.contains(n)||A(t,n,e[n].primKey,e[n].indexes)}))}(d,n)}))}(e,r,t).catch(i)}))}function A(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(e){O(i,e)})),i}function O(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function P(e,t,n){var r=arguments.length;if(r<2)throw new Zu.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var o=Tu(i);return[e,o,n]}function I(e,t,n){this.name=e,this.schema=t,this._tx=n,this.hook=g[e]?g[e].hook:hp(null,{creating:[rh,Ju],reading:[th,eh],updating:[oh,Ju],deleting:[ih,Ju]})}function M(e,t,n){return(n?Dp:kp)((function(n){e.push(n),t&&t()}))}function F(e,t,n,r,i){return new Oh((function(o,s){var a=n.length,l=a-1;if(0===a)return o();if(r){var c,u=Dp(s),h=Ep(null);Eu((function(){for(var r=0;r<a;++r){c={onsuccess:null,onerror:null};var s=n[r];i.call(c,s[0],s[1],t);var p=e.delete(s[0]);p._hookCtx=c,p.onerror=u,p.onsuccess=r===l?Ep(o):h}}),(function(e){throw c.onerror&&c.onerror(e),e}))}else for(var p=0;p<a;++p){var d=e.delete(n[p]);d.onerror=kp(s),p===l&&(d.onsuccess=qh((function(){return o()})))}}))}function N(e,t,n,r){var i=this;this.db=E,this.mode=e,this.storeNames=t,this.idbtrans=null,this.on=hp(this,"complete","error","abort"),this.parent=r||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Oh((function(e,t){i._resolve=e,i._reject=t})),this._completion.then((function(){i.active=!1,i.on.complete.fire()}),(function(e){var t=i.active;return i.active=!1,i.on.error.fire(e),i.parent?i.parent._reject(e):t&&i.idbtrans&&i.idbtrans.abort(),up(e)}))}function B(e,t,n){this._ctx={table:e,index:":id"===t?null:t,or:n}}function L(e,t){var n=null,r=null;if(t)try{n=t()}catch(e){r=e}var i=e._ctx,o=i.table;this._ctx={table:o,index:i.index,isPrimKey:!i.index||o.schema.primKey.keyPath&&i.index===o.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:o.hook.reading.fire}}function H(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function U(e,t){return e._cfg.version-t._cfg.version}function j(e,t,n){t.forEach((function(t){var r=n[t];e.forEach((function(e){t in e||(e===N.prototype||e instanceof N?du(e,t,{get:function(){return this.table(t)}}):e[t]=new I(t,r))}))}))}function W(e,t,n,r,i,o){var s=qh(o?function(e,t,r){return n(o(e),t,r)}:n,i);e.onerror||(e.onerror=kp(i)),e.onsuccess=Su(t?function(){var n=e.result;if(n){var o=function(){n.continue()};t(n,(function(e){o=e}),r,i)&&s(n.value,n,(function(e){o=e})),o()}else r()}:function(){var t=e.result;if(t){var n=function(){t.continue()};s(t.value,t,(function(e){n=e})),n()}else r()},i)}function z(e,t){return h.cmp(e,t)}function G(e,t){return z(e,t)>0?e:t}function q(e,t){return h.cmp(e,t)}function V(e,t){return h.cmp(t,e)}function $(e,t){return e<t?-1:e===t?0:1}function K(e,t){return e>t?-1:e===t?0:1}function Y(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}function Z(e,t){for(var n=t.db.objectStoreNames,r=0;r<n.length;++r){var o=n[r],s=t.objectStore(o);i="getAll"in s;for(var a=0;a<s.indexNames.length;++a){var l=s.indexNames[a],c=s.index(l).keyPath,u="string"==typeof c?c:"["+yu(c).join("+")+"]";if(e[o]){var h=e[o].idxByName[u];h&&(h.name=l)}}}/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&su.WorkerGlobalScope&&su instanceof su.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(i=!1)}function X(e){E.on("blocked").fire(e),gp.filter((function(e){return e.name===E.name&&e!==E&&!e._vcFired})).map((function(t){return t.on("versionchange").fire(e)}))}this.version=function(e){if(y||b)throw new Zu.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=f.filter((function(t){return t._cfg.version===e}))[0];return t||(t=new T(e),f.push(t),f.sort(U),D=!1,t)},au(T.prototype,{stores:function(e){this._cfg.storesSource=this._cfg.storesSource?au(this._cfg.storesSource,e):e;var t={};f.forEach((function(e){au(t,e._cfg.storesSource)}));var n=this._cfg.dbschema={};return this._parseStoresSpec(t,n),d=E._dbSchema=n,[g,E,N.prototype].forEach((function(e){for(var t in e)e[t]instanceof I&&delete e[t]})),j([g,E,N.prototype,this._cfg.tables],iu(n),n),m=iu(n),this},upgrade:function(e){return this._cfg.contentUpgrade=e,this},_parseStoresSpec:function(e,t){iu(e).forEach((function(n){if(null!==e[n]){var r={},i=function(e){var t=[];return e.split(",").forEach((function(e){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;t.push(new Rp(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),ou(r),/\./.test(e)))})),t}(e[n]),o=i.shift();if(o.multi)throw new Zu.Schema("Primary key cannot be multi-valued");o.keyPath&&xu(r,o.keyPath,o.auto?0:o.keyPath),i.forEach((function(e){if(e.auto)throw new Zu.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new Zu.Schema("Index must have a name and cannot be an empty string");xu(r,e.keyPath,e.compound?e.keyPath.map((function(){return""})):"")})),t[n]=new Ap(n,o,i,r)}}))}}),this._allTables=g,this._createTransaction=function(e,t,n,r){return new N(e,t,n,r)},this._whenReady=function(e){return C||_h.letThrough?e():new Oh((function(e,t){if(!b){if(!u)return void t(new Zu.DatabaseClosed);E.open().catch(Ju)}k.then(e,t)})).then(e)},this.verno=0,this.open=function(){if(b||y)return k.then((function(){return v?up(v):E}));Nu&&(x._stackHolder=Uu()),b=!0,v=null,C=!1;var t=n,r=null;return Oh.race([x,new Oh((function(t,n){if(!h)throw new Zu.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var i=D?h.open(e):h.open(e,Math.round(10*E.verno));if(!i)throw new Zu.MissingAPI("IndexedDB API not available");i.onerror=kp(n),i.onblocked=qh(X),i.onupgradeneeded=qh((function(t){if(r=i.transaction,D&&!E._allowEmptyDB){i.onerror=_p,r.abort(),i.result.close();var o=h.deleteDatabase(e);o.onsuccess=o.onerror=qh((function(){n(new Zu.NoSuchDatabase("Database "+e+" doesnt exist"))}))}else{r.onerror=kp(n),R((t.oldVersion>Math.pow(2,62)?0:t.oldVersion)/10,r,n)}}),n),i.onsuccess=qh((function(){if(r=null,y=i.result,gp.push(E),D)!function(){if(E.verno=y.version/10,E._dbSchema=d={},0===(m=yu(y.objectStoreNames,0)).length)return;var e=y.transaction(Op(m),"readonly");m.forEach((function(t){for(var n=e.objectStore(t),r=n.keyPath,i=r&&"string"==typeof r&&-1!==r.indexOf("."),o=new Rp(r,r||"",!1,!1,!!n.autoIncrement,r&&"string"!=typeof r,i),s=[],a=0;a<n.indexNames.length;++a){var l=n.index(n.indexNames[a]);i=(r=l.keyPath)&&"string"==typeof r&&-1!==r.indexOf(".");var c=new Rp(l.name,r,!!l.unique,!!l.multiEntry,!1,r&&"string"!=typeof r,i);s.push(c)}d[t]=new Ap(t,o,s,{})})),j([g],iu(d),d)}();else if(y.objectStoreNames.length>0)try{Z(d,y.transaction(Op(y.objectStoreNames),"readonly"))}catch(e){}y.onversionchange=qh((function(e){E._vcFired=!0,E.on("versionchange").fire(e)})),_||"__dbnames"===e||pp.dbnames.put({name:e}).catch(Ju),t()}),n)}))]).then((function(){return w=[],Oh.resolve(Cp.vip(E.on.ready.fire)).then((function e(){if(w.length>0){var t=w.reduce(ah,Ju);return w=[],Oh.resolve(Cp.vip(t)).then(e)}}))})).finally((function(){w=null})).then((function(){return b=!1,E})).catch((function(e){try{r&&r.abort()}catch(e){}return b=!1,E.close(),up(v=e)})).finally((function(){C=!0,t()}))},this.close=function(){var e=gp.indexOf(E);if(e>=0&&gp.splice(e,1),y){try{y.close()}catch(e){}y=null}u=!1,v=new Zu.DatabaseClosed,b&&r(v),k=new Oh((function(e){n=e})),x=new Oh((function(e,t){r=t}))},this.delete=function(){var t=arguments.length>0;return new Oh((function(n,r){if(t)throw new Zu.InvalidArgument("Arguments not allowed in db.delete()");function i(){E.close();var t=h.deleteDatabase(e);t.onsuccess=qh((function(){_||pp.dbnames.delete(e).catch(Ju),n()})),t.onerror=kp(r),t.onblocked=X}b?k.then(i):i()}))},this.backendDB=function(){return y},this.isOpen=function(){return null!==y},this.hasBeenClosed=function(){return v&&v instanceof Zu.DatabaseClosed},this.hasFailed=function(){return null!==v},this.dynamicallyOpened=function(){return D},this.name=e,hu(this,{tables:{get:function(){return iu(g).map((function(e){return g[e]}))}}}),this.on=hp(this,"populate","blocked","versionchange",{ready:[ah,Ju]}),this.on.ready.subscribe=vu(this.on.ready.subscribe,(function(e){return function(t,n){Cp.vip((function(){C?(v||Oh.resolve().then(t),n&&e(t)):w?(w.push(t),n&&e(t)):(e(t),n||e((function e(){E.on.ready.unsubscribe(t),E.on.ready.unsubscribe(e)})))}))}})),this.transaction=function(){var e=P.apply(this,arguments);return this._transaction.apply(this,e)},this._transaction=function(e,t,n){var r=_h.trans;r&&r.db===E&&-1===e.indexOf("!")||(r=null);var i=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{var o=t.map((function(e){var t=e instanceof I?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t}));if("r"==e||"readonly"==e)e="readonly";else{if("rw"!=e&&e!=S)throw new Zu.InvalidArgument("Invalid transaction mode: "+e);e=S}if(r){if("readonly"===r.mode&&e===S){if(!i)throw new Zu.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&o.forEach((function(e){if(r&&-1===r.storeNames.indexOf(e)){if(!i)throw new Zu.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),i&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,(function(t,n){n(e)})):up(e)}return r?r._promise(e,s,"lock"):_h.trans?sp(_h.transless,(function(){return E._whenReady(s)})):E._whenReady(s);function s(){return Oh.resolve().then((function(){var t,i=_h.transless||_h,s=E._createTransaction(e,o,d,r),a={trans:s,transless:i};r?s.idbtrans=r.idbtrans:s.create(),n.constructor===mh&&Jh();var l=Oh.follow((function(){if(t=n.call(s,s))if(t.constructor===fh){var e=ep.bind(null,null);t.then(e,e)}else"function"==typeof t.next&&"function"==typeof t.throw&&(t=Tp(t))}),a);return(t&&"function"==typeof t.then?Oh.resolve(t).then((function(e){return s.active?e:up(new Zu.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):l.then((function(){return t}))).then((function(e){return r&&s._resolve(),s._completion.then((function(){return e}))})).catch((function(e){return s._reject(e),up(e)}))}))}},this.table=function(e){if(!uu(g,e))throw new Zu.InvalidTable("Table "+e+" does not exist");return g[e]},hu(I.prototype,{_trans:function(e,t,n){var r=this._tx||_h.trans;return r&&r.db===E?r===_h.trans?r._promise(e,t,n):Qh((function(){return r._promise(e,t,n)}),{trans:r,transless:_h.transless||_h}):function e(t,n,r){if(C||_h.letThrough){var i=E._createTransaction(t,n,d);try{i.create()}catch(e){return up(e)}return i._promise(t,(function(e,t){return Qh((function(){return _h.trans=i,r(e,t,i)}))})).then((function(e){return i._completion.then((function(){return e}))}))}if(!b){if(!u)return up(new Zu.DatabaseClosed);E.open().catch(Ju)}return k.then((function(){return e(t,n,r)}))}(e,[this.name],t)},_idbstore:function(e,t,n){var r=this.name;return this._trans(e,(function(e,n,i){if(-1===i.storeNames.indexOf(r))throw new Zu.NotFound("Table"+r+" not part of transaction");return t(e,n,i.idbtrans.objectStore(r),i)}),n)},get:function(e,t){if(e&&e.constructor===Object)return this.where(e).first(t);var n=this;return this._idbstore("readonly",(function(t,r,i){var o=i.get(e);o.onerror=kp(r),o.onsuccess=qh((function(){t(n.hook.reading.fire(o.result))}),r)})).then(t)},where:function(e){if("string"==typeof e)return new B(this,e);if(ou(e))return new B(this,"["+e.join("+")+"]");var t=iu(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&t.every((function(t){return e.keyPath.indexOf(t)>=0}))&&e.keyPath.every((function(e){return t.indexOf(e)>=0}))}))[0];if(n&&fp!==dp)return this.where(n.name).equals(n.keyPath.map((function(t){return e[t]})));n||console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a compound index ["+t.join("+")+"]");var r=this.schema.idxByName,i=t.reduce((function(t,n){return[t[0]||r[n],t[0]||!r[n]?Y(t[1],(function(t){return""+ku(t,n)==""+e[n]})):t[1]]}),[null,null]),o=i[0];return o?this.where(o.name).equals(e[o.keyPath]).filter(i[1]):n?this.filter(i[1]):this.where(t).equals("")},count:function(e){return this.toCollection().count(e)},offset:function(e){return this.toCollection().offset(e)},limit:function(e){return this.toCollection().limit(e)},reverse:function(){return this.toCollection().reverse()},filter:function(e){return this.toCollection().and(e)},each:function(e){return this.toCollection().each(e)},toArray:function(e){return this.toCollection().toArray(e)},orderBy:function(e){return new L(new B(this,ou(e)?"["+e.join("+")+"]":e))},toCollection:function(){return new L(new B(this))},mapToClass:function(e,t){this.schema.mappedClass=e;var n=Object.create(e.prototype);t&&Sp(n,t),this.schema.instanceTemplate=n;var r=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var r in t)if(uu(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),e},defineClass:function(e){return this.mapToClass(Cp.defineClass(e),e)},bulkDelete:function(e){return this.hook.deleting.fire===Ju?this._idbstore(S,(function(t,n,r,i){t(F(r,i,e,!1,Ju))})):this.where(":id").anyOf(e).delete().then((function(){}))},bulkPut:function(e,t){var n=this;return this._idbstore(S,(function(r,i,o){if(!o.keyPath&&!n.schema.primKey.auto&&!t)throw new Zu.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(o.keyPath&&t)throw new Zu.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new Zu.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return r();var s,a,l=function(e){0===c.length?r(e):i(new $u(n.name+".bulkPut(): "+c.length+" of "+u+" operations failed",c))},c=[],u=e.length,h=n;if(n.hook.creating.fire===Ju&&n.hook.updating.fire===Ju){a=M(c);for(var p=0,d=e.length;p<d;++p)(s=t?o.put(e[p],t[p]):o.put(e[p])).onerror=a;s.onerror=M(c,l),s.onsuccess=xp(l)}else{var f=t||o.keyPath&&e.map((function(e){return ku(e,o.keyPath)})),m=f&&Cu(f,(function(t,n){return null!=t&&[t,e[n]]}));(f?h.where(":id").anyOf(f.filter((function(e){return null!=e}))).modify((function(){this.value=m[this.primKey],m[this.primKey]=null})).catch(Vu,(function(e){c=e.failures})).then((function(){for(var n=[],r=t&&[],i=f.length-1;i>=0;--i){var o=f[i];(null==o||m[o])&&(n.push(e[i]),t&&r.push(o),null!=o&&(m[o]=null))}return n.reverse(),t&&r.reverse(),h.bulkAdd(n,r)})).then((function(e){var t=f[f.length-1];return null!=t?t:e})):h.bulkAdd(e)).then(l).catch($u,(function(e){c=c.concat(e.failures),l()})).catch(i)}}),"locked")},bulkAdd:function(e,t){var n=this,r=this.hook.creating.fire;return this._idbstore(S,(function(i,o,s,a){if(!s.keyPath&&!n.schema.primKey.auto&&!t)throw new Zu.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(s.keyPath&&t)throw new Zu.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new Zu.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return i();function l(e){0===p.length?i(e):o(new $u(n.name+".bulkAdd(): "+p.length+" of "+d+" operations failed",p))}var c,u,h,p=[],d=e.length;if(r!==Ju){var f,m=s.keyPath;u=M(p,null,!0),h=Ep(null),Eu((function(){for(var n=0,i=e.length;n<i;++n){f={onerror:null,onsuccess:null};var o=t&&t[n],l=e[n],p=t?o:m?ku(l,m):void 0,d=r.call(f,p,l,a);null==p&&null!=d&&(m?xu(l=Au(l),m,d):o=d),(c=null!=o?s.add(l,o):s.add(l))._hookCtx=f,n<i-1&&(c.onerror=u,f.onsuccess&&(c.onsuccess=h))}}),(function(e){throw f.onerror&&f.onerror(e),e})),c.onerror=M(p,l,!0),c.onsuccess=Ep(l)}else{u=M(p);for(var g=0,y=e.length;g<y;++g)(c=t?s.add(e[g],t[g]):s.add(e[g])).onerror=u;c.onerror=M(p,l),c.onsuccess=xp(l)}}))},add:function(e,t){var n=this.hook.creating.fire;return this._idbstore(S,(function(r,i,o,s){var a={onsuccess:null,onerror:null};if(n!==Ju){var l=null!=t?t:o.keyPath?ku(e,o.keyPath):void 0,c=n.call(a,l,e,s);null==l&&null!=c&&(o.keyPath?xu(e,o.keyPath,c):t=c)}try{var u=null!=t?o.add(e,t):o.add(e);u._hookCtx=a,u.onerror=Dp(i),u.onsuccess=Ep((function(t){var n=o.keyPath;n&&xu(e,n,t),r(t)}))}catch(e){throw a.onerror&&a.onerror(e),e}}))},put:function(e,t){var n=this,r=this.hook.creating.fire,i=this.hook.updating.fire;if(r!==Ju||i!==Ju){var o=this.schema.primKey.keyPath,s=void 0!==t?t:o&&ku(e,o);return null==s?this.add(e):(e=Au(e),this._trans(S,(function(){return n.where(":id").equals(s).modify((function(){this.value=e})).then((function(r){return 0===r?n.add(e,t):s}))}),"locked"))}return this._idbstore(S,(function(n,r,i){var o=void 0!==t?i.put(e,t):i.put(e);o.onerror=kp(r),o.onsuccess=qh((function(t){var r=i.keyPath;r&&xu(e,r,t.target.result),n(o.result)}))}))},delete:function(e){return this.hook.deleting.subscribers.length?this.where(":id").equals(e).delete():this._idbstore(S,(function(t,n,r){var i=r.delete(e);i.onerror=kp(n),i.onsuccess=qh((function(){t(i.result)}))}))},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(S,(function(e,t,n){var r=n.clear();r.onerror=kp(t),r.onsuccess=qh((function(){e(r.result)}))}))},update:function(e,t){if("object"!=typeof t||ou(t))throw new Zu.InvalidArgument("Modifications must be an object.");if("object"!=typeof e||ou(e))return this.where(":id").equals(e).modify(t);iu(t).forEach((function(n){xu(e,n,t[n])}));var n=ku(e,this.schema.primKey.keyPath);return void 0===n?up(new Zu.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(t)}}),hu(N.prototype,{_lock:function(){return bu(!_h.global),++this._reculock,1!==this._reculock||_h.global||(_h.lockOwnerFor=this),this},_unlock:function(){if(bu(!_h.global),0==--this._reculock)for(_h.global||(_h.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{sp(e[1],e[0])}catch(e){}}return this},_locked:function(){return this._reculock&&_h.lockOwnerFor!==this},create:function(e){var t=this;if(!this.mode)return this;if(bu(!this.idbtrans),!e&&!y)switch(v&&v.name){case"DatabaseClosedError":throw new Zu.DatabaseClosed(v);case"MissingAPIError":throw new Zu.MissingAPI(v.message,v);default:throw new Zu.OpenFailed(v)}if(!this.active)throw new Zu.TransactionInactive;return bu(null===this._completion._state),(e=this.idbtrans=e||y.transaction(Op(this.storeNames),this.mode)).onerror=qh((function(n){_p(n),t._reject(e.error)})),e.onabort=qh((function(n){_p(n),t.active&&t._reject(new Zu.Abort(e.error)),t.active=!1,t.on("abort").fire(n)})),e.oncomplete=qh((function(){t.active=!1,t._resolve()})),this},_promise:function(e,t,n){var r=this;if(e===S&&this.mode!==S)return up(new Zu.ReadOnly("Transaction is readonly"));if(!this.active)return up(new Zu.TransactionInactive);if(this._locked())return new Oh((function(i,o){r._blockedFuncs.push([function(){r._promise(e,t,n).then(i,o)},_h])}));if(n)return Qh((function(){var e=new Oh((function(e,n){r._lock();var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return e.finally((function(){return r._unlock()})),e._lib=!0,e}));var i=new Oh((function(e,n){var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return i._lib=!0,i},_root:function(){return this.parent?this.parent._root():this},waitFor:function(e){var t=this._root();if(e=Oh.resolve(e),t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return e}));else{t._waitingFor=e,t._waitingQueue=[];var n=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(n.get(-1/0).onsuccess=e)}()}var r=t._waitingFor;return new Oh((function(n,i){e.then((function(e){return t._waitingQueue.push(qh(n.bind(null,e)))}),(function(e){return t._waitingQueue.push(qh(i.bind(null,e)))})).finally((function(){t._waitingFor===r&&(t._waitingFor=null)}))}))},abort:function(){this.active&&this._reject(new Zu.Abort),this.active=!1},tables:{get:(o="Transaction.tables",s=function(){return g},function(){return console.warn(o+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+ju(Uu(),1)),s.apply(this,arguments)})},table:function(e){return new I(e,E.table(e).schema,this)}}),hu(B.prototype,(function(){function e(e,t,n){var r=e instanceof B?new L(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function t(e){return new L(e,(function(){return p.only("")})).limit(0)}function n(e,t,n,r,i,o){for(var s=Math.min(e.length,r.length),a=-1,l=0;l<s;++l){var c=t[l];if(c!==r[l])return i(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):i(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;i(e[l],c)<0&&(a=l)}return s<r.length&&"next"===o?e+n.substr(e.length):s<e.length&&"prev"===o?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}function r(t,r,i,o){var s,a,l,c,u,h,d,f=i.length;if(!i.every((function(e){return"string"==typeof e})))return e(t,"String expected.");function m(e){s=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),a=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),l="next"===e?$:K;var t=i.map((function(e){return{lower:a(e),upper:s(e)}})).sort((function(e,t){return l(e.lower,t.lower)}));c=t.map((function(e){return e.upper})),u=t.map((function(e){return e.lower})),h=e,d="next"===e?"":o}m("next");var g=new L(t,(function(){return p.bound(c[0],u[f-1]+o)}));g._ondirectionchange=function(e){m(e)};var y=0;return g._addAlgorithm((function(e,t,i){var o=e.key;if("string"!=typeof o)return!1;var s=a(o);if(r(s,u,y))return!0;for(var p=null,m=y;m<f;++m){var g=n(o,s,c[m],u[m],l,h);null===g&&null===p?y=m+1:(null===p||l(p,g)>0)&&(p=g)}return t(null!==p?function(){e.continue(p+d)}:i),!1})),g}return{between:function(n,r,i,o){i=!1!==i,o=!0===o;try{return z(n,r)>0||0===z(n,r)&&(i||o)&&(!i||!o)?t(this):new L(this,(function(){return p.bound(n,r,!i,!o)}))}catch(t){return e(this,mp)}},equals:function(e){return new L(this,(function(){return p.only(e)}))},above:function(e){return new L(this,(function(){return p.lowerBound(e,!0)}))},aboveOrEqual:function(e){return new L(this,(function(){return p.lowerBound(e)}))},below:function(e){return new L(this,(function(){return p.upperBound(e,!0)}))},belowOrEqual:function(e){return new L(this,(function(){return p.upperBound(e)}))},startsWith:function(t){return"string"!=typeof t?e(this,"String expected."):this.between(t,t+dp,!0,!0)},startsWithIgnoreCase:function(e){return""===e?this.startsWith(e):r(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],dp)},equalsIgnoreCase:function(e){return r(this,(function(e,t){return e===t[0]}),[e],"")},anyOfIgnoreCase:function(){var e=Fu.apply(Mu,arguments);return 0===e.length?t(this):r(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")},startsWithAnyOfIgnoreCase:function(){var e=Fu.apply(Mu,arguments);return 0===e.length?t(this):r(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,dp)},anyOf:function(){var n=Fu.apply(Mu,arguments),r=q;try{n.sort(r)}catch(t){return e(this,mp)}if(0===n.length)return t(this);var i=new L(this,(function(){return p.bound(n[0],n[n.length-1])}));i._ondirectionchange=function(e){r="next"===e?q:V,n.sort(r)};var o=0;return i._addAlgorithm((function(e,t,i){for(var s=e.key;r(s,n[o])>0;)if(++o===n.length)return t(i),!1;return 0===r(s,n[o])||(t((function(){e.continue(n[o])})),!1)})),i},notEqual:function(e){return this.inAnyRange([[-1/0,e],[e,fp]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var t=Fu.apply(Mu,arguments);if(0===t.length)return new L(this);try{t.sort(q)}catch(t){return e(this,mp)}var n=t.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]}),null);return n.push([t[t.length-1],fp]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(n,r){if(0===n.length)return t(this);if(!n.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&q(e[0],e[1])<=0})))return e(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Zu.InvalidArgument);var i=!r||!1!==r.includeLowers,o=r&&!0===r.includeUppers;var s,a=q;function l(e,t){return a(e[0],t[0])}try{(s=n.reduce((function(e,t){for(var n=0,r=e.length;n<r;++n){var i=e[n];if(z(t[0],i[1])<0&&z(t[1],i[0])>0){i[0]=(o=i[0],s=t[0],z(o,s)<0?o:s),i[1]=G(i[1],t[1]);break}}var o,s;return n===r&&e.push(t),e}),[])).sort(l)}catch(t){return e(this,mp)}var c=0,u=o?function(e){return q(e,s[c][1])>0}:function(e){return q(e,s[c][1])>=0},h=i?function(e){return V(e,s[c][0])>0}:function(e){return V(e,s[c][0])>=0};var d=u,f=new L(this,(function(){return p.bound(s[0][0],s[s.length-1][1],!i,!o)}));return f._ondirectionchange=function(e){"next"===e?(d=u,a=q):(d=h,a=V),s.sort(l)},f._addAlgorithm((function(e,t,n){for(var r=e.key;d(r);)if(++c===s.length)return t(n),!1;return!!function(e){return!u(e)&&!h(e)}(r)||(0===z(r,s[c][1])||0===z(r,s[c][0])||t((function(){a===q?e.continue(s[c][0]):e.continue(s[c][1])})),!1)})),f},startsWithAnyOf:function(){var n=Fu.apply(Mu,arguments);return n.every((function(e){return"string"==typeof e}))?0===n.length?t(this):this.inAnyRange(n.map((function(e){return[e,e+dp]}))):e(this,"startsWithAnyOf() only works with strings")}}})),hu(L.prototype,(function(){function e(e,t){e.filter=Y(e.filter,t)}function t(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return Y(r(),t())}:t,e.justLimit=n&&!r}function n(e,t){if(e.isPrimKey)return t;var n=e.table.schema.idxByName[e.index];if(!n)throw new Zu.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return t.index(n.name)}function r(e,t){var r=n(e,t);return e.keysOnly&&"openKeyCursor"in r?r.openKeyCursor(e.range||null,e.dir+e.unique):r.openCursor(e.range||null,e.dir+e.unique)}function o(e,t,n,i,o){var s=e.replayFilter?Y(e.filter,e.replayFilter()):e.filter;e.or?function(){var a={},l=0;function c(){2==++l&&n()}function u(e,n,r){if(!s||s(n,r,c,i)){var o=n.primaryKey,l=""+o;"[object ArrayBuffer]"===l&&(l=""+new Uint8Array(o)),uu(a,l)||(a[l]=!0,t(e,n,r))}}e.or._iterate(u,c,i,o),W(r(e,o),e.algorithm,u,c,i,!e.keysOnly&&e.valueMapper)}():W(r(e,o),Y(e.algorithm,s),t,n,i,!e.keysOnly&&e.valueMapper)}return{_read:function(e,t){var n=this._ctx;return n.error?n.table._trans(null,up.bind(null,n.error)):n.table._idbstore("readonly",e).then(t)},_write:function(e){var t=this._ctx;return t.error?t.table._trans(null,up.bind(null,t.error)):t.table._idbstore(S,e,"locked")},_addAlgorithm:function(e){var t=this._ctx;t.algorithm=Y(t.algorithm,e)},_iterate:function(e,t,n,r){return o(this._ctx,e,t,n,r)},clone:function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&au(n,e),t._ctx=n,t},raw:function(){return this._ctx.valueMapper=null,this},each:function(e){var t=this._ctx;return this._read((function(n,r,i){o(t,e,n,r,i)}))},count:function(e){var t=this._ctx;if(H(t,!0))return this._read((function(e,r,i){var o=n(t,i),s=t.range?o.count(t.range):o.count();s.onerror=kp(r),s.onsuccess=function(n){e(Math.min(n.target.result,t.limit))}}),e);var r=0;return this._read((function(e,n,i){o(t,(function(){return++r,!1}),(function(){e(r)}),n,i)}),e)},sortBy:function(e,t){var n=e.split(".").reverse(),r=n[0],i=n.length-1;function o(e,t){return t?o(e[n[t]],t-1):e[r]}var s="next"===this._ctx.dir?1:-1;function a(e,t){var n=o(e,i),r=o(t,i);return n<r?-s:n>r?s:0}return this.toArray((function(e){return e.sort(a)})).then(t)},toArray:function(e){var t=this._ctx;return this._read((function(e,r,s){if(i&&"next"===t.dir&&H(t,!0)&&t.limit>0){var a=t.table.hook.reading.fire,l=n(t,s),c=t.limit<1/0?l.getAll(t.range,t.limit):l.getAll(t.range);c.onerror=kp(r),c.onsuccess=xp(a===eh?e:function(t){try{e(t.map(a))}catch(e){r(e)}})}else{var u=[];o(t,(function(e){u.push(e)}),(function(){e(u)}),r,s)}}),e)},offset:function(e){var n=this._ctx;return e<=0||(n.offset+=e,H(n)?t(n,(function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n((function(){e.advance(t),t=0})),!1))}})):t(n,(function(){var t=e;return function(){return--t<0}}))),this},limit:function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),t(this._ctx,(function(){var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this},until:function(t,n){return e(this._ctx,(function(e,r,i){return!t(e.value)||(r(i),n)})),this},first:function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)},last:function(e){return this.reverse().first(e)},filter:function(t){return e(this._ctx,(function(e){return t(e.value)})),function(e,t){e.isMatch=Y(e.isMatch,t)}(this._ctx,t),this},and:function(e){return this.filter(e)},or:function(e){return new B(this._ctx.table,e,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))},eachUniqueKey:function(e){return this._ctx.unique="unique",this.eachKey(e)},eachPrimaryKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))},keys:function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)},primaryKeys:function(e){var t=this._ctx;if(i&&"next"===t.dir&&H(t,!0)&&t.limit>0)return this._read((function(e,r,i){var o=n(t,i),s=t.limit<1/0?o.getAllKeys(t.range,t.limit):o.getAllKeys(t.range);s.onerror=kp(r),s.onsuccess=xp(e)})).then(e);t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.primaryKey)})).then((function(){return r})).then(e)},uniqueKeys:function(e){return this._ctx.unique="unique",this.keys(e)},firstKey:function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)},lastKey:function(e){return this.reverse().firstKey(e)},distinct:function(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return e(this._ctx,(function(e){var t=e.primaryKey.toString(),n=uu(r,t);return r[t]=!0,!n})),this},modify:function(e){var t=this,n=this._ctx.table.hook,r=n.updating.fire,i=n.deleting.fire;return this._write((function(n,o,s,a){var l;if("function"==typeof e)l=r===Ju&&i===Ju?e:function(t){var n=Au(t);if(!1===e.call(this,t,this))return!1;if(uu(this,"value")){var o=Ou(n,this.value),s=r.call(this,o,this.primKey,n,a);s&&(t=this.value,iu(s).forEach((function(e){xu(t,e,s[e])})))}else i.call(this,this.primKey,t,a)};else if(r===Ju){var c=iu(e),u=c.length;l=function(t){for(var n=!1,r=0;r<u;++r){var i=c[r],o=e[i];ku(t,i)!==o&&(xu(t,i,o),n=!0)}return n}}else{var h=e;e=Du(h),l=function(t){var n=!1,i=r.call(this,e,this.primKey,Au(t),a);return i&&au(e,i),iu(e).forEach((function(r){var i=e[r];ku(t,r)!==i&&(xu(t,r,i),n=!0)})),i&&(e=Du(h)),n}}var p=0,d=0,f=!1,m=[],g=[],y=null;function v(e){return e&&(m.push(e),g.push(y)),o(new Vu("Error modifying one or more objects",m,d,g))}function b(){f&&d+m.length===p&&(m.length>0?v():n(d))}t.clone().raw()._iterate((function(e,t){y=t.primaryKey;var n={primKey:t.primaryKey,value:e,onsuccess:null,onerror:null};function r(e){return m.push(e),g.push(n.primKey),b(),!0}if(!1!==l.call(n,e,n)){var i=!uu(n,"value");++p,Eu((function(){var e=i?t.delete():t.update(n.value);e._hookCtx=n,e.onerror=Dp(r),e.onsuccess=Ep((function(){++d,b()}))}),r)}else n.onsuccess&&n.onsuccess(n.value)}),(function(){f=!0,b()}),v,s)}))},delete:function(){var e=this,t=this._ctx,n=t.range,r=t.table.hook.deleting.fire,i=r!==Ju;if(!i&&H(t)&&(t.isPrimKey&&!bp||!n))return this._write((function(e,t,r){var i=kp(t),o=n?r.count(n):r.count();o.onerror=i,o.onsuccess=function(){var s=o.result;Eu((function(){var t=n?r.delete(n):r.clear();t.onerror=i,t.onsuccess=function(){return e(s)}}),(function(e){return t(e)}))}}));var o=i?2e3:1e4;return this._write((function(n,s,a,l){var c=0,u=e.clone({keysOnly:!t.isMatch&&!i}).distinct().limit(o).raw(),h=[],p=function(){return u.each(i?function(e,t){h.push([t.primaryKey,t.value])}:function(e,t){h.push(t.primaryKey)}).then((function(){return i?h.sort((function(e,t){return q(e[0],t[0])})):h.sort(q),F(a,l,h,i,r)})).then((function(){var e=h.length;return c+=e,h=[],e<o?c:p()}))};n(p())}))}}})),au(this,{Collection:L,Table:I,Transaction:N,Version:T,WhereClause:B}),E.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '"+E.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+E.name+"'. Closing db now to resume the delete request."),E.close()})),E.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('"+E.name+"') was blocked"):console.warn("Upgrade '"+E.name+"' blocked by other connection holding version "+e.oldVersion/10)})),c.forEach((function(e){e(E)}))}function Sp(e,t){return iu(t).forEach((function(n){var r=function e(t){if("function"==typeof t)return new t;if(ou(t))return[e(t[0])];if(t&&"object"==typeof t){var n={};return Sp(n,t),n}return t}(t[n]);e[n]=r})),e}function Ep(e){return qh((function(t){var n=t.target,r=n._hookCtx,i=r.value||n.result,o=r&&r.onsuccess;o&&o(i),e&&e(i)}),e)}function kp(e){return qh((function(t){return _p(t),e(t.target.error),!1}))}function xp(e){return qh((function(t){e(t.target.result)}))}function Dp(e){return qh((function(t){var n=t.target,r=n.error,i=n._hookCtx,o=i&&i.onerror;return o&&o(r),_p(t),e(r),!1}))}function _p(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}function Tp(e){var t=function(t){return e.next(t)},n=i(t),r=i((function(t){return e.throw(t)}));function i(e){return function(t){var i=e(t),o=i.value;return i.done?o:o&&"function"==typeof o.then?o.then(n,r):ou(o)?Oh.all(o).then(n,r):n(o)}}return i(t)()}function Rp(e,t,n,r,i,o,s){this.name=e,this.keyPath=t,this.unique=n,this.multi=r,this.auto=i,this.compound=o,this.dotted=s;var a="string"==typeof t?t:t&&"["+[].join.call(t,"+")+"]";this.src=(n?"&":"")+(r?"*":"")+(i?"++":"")+a}function Ap(e,t,n,r){this.name=e,this.primKey=t||new Rp,this.indexes=n||[new Rp],this.instanceTemplate=r,this.mappedClass=null,this.idxByName=Cu(n,(function(e){return[e.name,e]}))}function Op(e){return 1===e.length?e[0]:e}function Pp(e){var t=e&&(e.getDatabaseNames||e.webkitGetDatabaseNames);return t&&t.bind(e)}Bu(Nu,wp),hu(Cp,Qu),hu(Cp,{delete:function(e){var t=new Cp(e),n=t.delete();return n.onblocked=function(e){return t.on("blocked",e),this},n},exists:function(e){return new Cp(e).open().then((function(e){return e.close(),!0})).catch(Cp.NoSuchDatabaseError,(function(){return!1}))},getDatabaseNames:function(e){var t=Pp(Cp.dependencies.indexedDB);return t?new Oh((function(e,n){var r=t();r.onsuccess=function(t){e(yu(t.target.result,0))},r.onerror=kp(n)})).then(e):pp.dbnames.toCollection().primaryKeys(e)},defineClass:function(){return function(e){e&&au(this,e)}},applyStructure:Sp,ignoreTransaction:function(e){return _h.trans?sp(_h.transless,e):e()},vip:function(e){return Qh((function(){return _h.letThrough=!0,e()}))},async:function(e){return function(){try{var t=Tp(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Oh.resolve(t)}catch(e){return up(e)}}},spawn:function(e,t,n){try{var r=Tp(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:Oh.resolve(r)}catch(e){return up(e)}},currentTransaction:{get:function(){return _h.trans||null}},waitFor:function(e,t){var n=Oh.resolve("function"==typeof e?Cp.ignoreTransaction(e):e).timeout(t||6e4);return _h.trans?_h.trans.waitFor(n):n},Promise:Oh,debug:{get:function(){return Nu},set:function(e){Bu(e,"dexie"===e?function(){return!0}:wp)}},derive:fu,extend:au,props:hu,override:vu,Events:hp,getByKeyPath:ku,setByKeyPath:xu,delByKeyPath:function(e,t){"string"==typeof t?xu(e,t,void 0):"length"in t&&[].map.call(t,(function(t){xu(e,t,void 0)}))},shallowClone:Du,deepClone:Au,getObjectDiff:Ou,asap:wu,maxKey:fp,minKey:-1/0,addons:[],connections:gp,MultiModifyError:Zu.Modify,errnames:Ku,IndexSpec:Rp,TableSchema:Ap,dependencies:function(){try{return{indexedDB:su.indexedDB||su.mozIndexedDB||su.webkitIndexedDB||su.msIndexedDB,IDBKeyRange:su.IDBKeyRange||su.webkitIDBKeyRange}}catch(e){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:"{version}",version:"{version}".split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,n){return e+t/Math.pow(10,2*n)})),default:Cp,Dexie:Cp}),Oh.rejectionMapper=function(e,t){if(!e||e instanceof qu||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Xu[e.name])return e;var n=new Xu[e.name](t||e.message,e);return"stack"in e&&du(n,"stack",{get:function(){return this.inner.stack}}),n},(pp=new Cp("__dbnames")).version(1).stores({dbnames:"name"}),function(){try{void 0!==typeof localStorage&&void 0!==su.document&&(JSON.parse(localStorage.getItem("Dexie.DatabaseNames")||"[]").forEach((function(e){return pp.dbnames.put({name:e}).catch(Ju)})),localStorage.removeItem("Dexie.DatabaseNames"))}catch(e){}}();var Ip=Cp;class Mp extends Ip{constructor(e,t){super(e),this.schemaVersion=t}async conditionalVersion(e,t,n){if(null!=this.schemaVersion&&this.schemaVersion<e)return;const r=this.version(e).stores(t);null!=n&&await r.upgrade(n)}}function Fp(e,t){return[e.dbID,t]}function Np(e){return`refs/pull/${e}/head`}class Bp{constructor(e,t,n){this.ref=e,this.sha=t,this.gitHubRepository=n}}class Lp{constructor(e,t,n,r,i,o,s,a){this.created=e,this.title=t,this.pullRequestNumber=n,this.head=r,this.base=i,this.author=o,this.draft=s,this.body=a}}function Hp(e){const t=e.owner.login;return{name:e.name,owner:t}}class Up{constructor(e,t,n){this.repository=e,this.account=t,this.coordinator=n,this.timeoutId=null,this.running=!1}start(){this.running||(this.running=!0,this.scheduleTick(12e4))}getTimeSinceLastRefresh(){const e=this.coordinator.getLastRefreshed(this.repository);return void 0===e?1/0:Date.now()-e}scheduleTick(e=18e5){if(this.running){const t=Math.max(e-this.getTimeSinceLastRefresh(),0);this.timeoutId=window.setTimeout(()=>this.tick(),t)}}tick(){this.running&&(this.timeoutId=null,this.getTimeSinceLastRefresh()<12e4&&this.scheduleTick(),this.coordinator.refreshPullRequests(this.repository,this.account).catch(()=>{}).then(()=>this.scheduleTick()))}stop(){this.running&&(null!==this.timeoutId&&(window.clearTimeout(this.timeoutId),this.timeoutId=null),this.running=!1)}}function jp(e,t){const{dbID:n}=e;return t.filter(e=>Ei(e).dbID===n)}const Wp="https://desktop.github.com/usage-data/",zp={commits:0,partialCommits:0,openShellCount:0,coAuthoredCommits:0,commitsUndoneWithChanges:0,commitsUndoneWithoutChanges:0,branchComparisons:0,defaultBranchComparisons:0,mergesInitiatedFromComparison:0,updateFromDefaultBranchMenuCount:0,mergeIntoCurrentBranchMenuCount:0,prBranchCheckouts:0,repoWithIndicatorClicked:0,repoWithoutIndicatorClicked:0,dotcomPushCount:0,dotcomForcePushCount:0,enterprisePushCount:0,enterpriseForcePushCount:0,externalPushCount:0,externalForcePushCount:0,active:!1,mergeConflictFromPullCount:0,mergeConflictFromExplicitMergeCount:0,mergedWithLoadingHintCount:0,mergedWithCleanMergeHintCount:0,mergedWithConflictWarningHintCount:0,mergeSuccessAfterConflictsCount:0,mergeAbortedAfterConflictsCount:0,unattributedCommits:0,enterpriseCommits:0,dotcomCommits:0,mergeConflictsDialogDismissalCount:0,anyConflictsLeftOnMergeConflictsDialogDismissalCount:0,mergeConflictsDialogReopenedCount:0,guidedConflictedMergeCompletionCount:0,unguidedConflictedMergeCompletionCount:0,createPullRequestCount:0,rebaseConflictsDialogDismissalCount:0,rebaseConflictsDialogReopenedCount:0,rebaseAbortedAfterConflictsCount:0,rebaseSuccessAfterConflictsCount:0,rebaseSuccessWithoutConflictsCount:0,pullWithRebaseCount:0,pullWithDefaultSettingCount:0,stashEntriesCreatedOutsideDesktop:0,errorWhenSwitchingBranchesWithUncommmittedChanges:0,rebaseCurrentBranchMenuCount:0,stashViewedAfterCheckoutCount:0,stashCreatedOnCurrentBranchCount:0,stashNotViewedAfterCheckoutCount:0,changesTakenToNewBranchCount:0,stashRestoreCount:0,stashDiscardCount:0,stashViewCount:0,noActionTakenOnStashCount:0,suggestedStepOpenInExternalEditor:0,suggestedStepOpenWorkingDirectory:0,suggestedStepViewOnGitHub:0,suggestedStepPublishRepository:0,suggestedStepPublishBranch:0,suggestedStepCreatePullRequest:0,suggestedStepViewStash:0,commitsToProtectedBranch:0,commitsToRepositoryWithBranchProtections:0,tutorialStarted:!1,tutorialRepoCreated:!1,tutorialEditorInstalled:!1,tutorialBranchCreated:!1,tutorialFileEdited:!1,tutorialCommitCreated:!1,tutorialBranchPushed:!1,tutorialPrCreated:!1,tutorialCompleted:!1,highestTutorialStepCompleted:-1,commitsToRepositoryWithoutWriteAccess:0,forksCreated:0,issueCreationWebpageOpenedCount:0,tagsCreatedInDesktop:0,tagsCreated:0,tagsDeleted:0,diffModeChangeCount:0,diffOptionsViewedCount:0,repositoryViewChangeCount:0,unhandledRejectionCount:0,cherryPickSuccessfulCount:0,cherryPickViaDragAndDropCount:0,cherryPickViaContextMenuCount:0,dragStartedAndCanceledCount:0,cherryPickConflictsEncounteredCount:0,cherryPickSuccessfulWithConflictsCount:0,cherryPickMultipleCommitsCount:0,cherryPickUndoneCount:0,cherryPickBranchCreatedCount:0,amendCommitStartedCount:0,amendCommitSuccessfulWithFileChangesCount:0,amendCommitSuccessfulWithoutFileChangesCount:0,reorderSuccessfulCount:0,reorderStartedCount:0,reorderConflictsEncounteredCount:0,reorderSuccessfulWithConflictsCount:0,reorderMultipleCommitsCount:0,reorderUndoneCount:0,squashConflictsEncounteredCount:0,squashMultipleCommitsInvokedCount:0,squashSuccessfulCount:0,squashSuccessfulWithConflictsCount:0,squashViaContextMenuInvokedCount:0,squashViaDragAndDropInvokedCount:0,squashUndoneCount:0,squashMergeIntoCurrentBranchMenuCount:0,squashMergeSuccessfulWithConflictsCount:0,squashMergeSuccessfulCount:0,squashMergeInvokedCount:0,resetToCommitCount:0,opensCheckRunsPopover:0,viewsCheckOnline:0,viewsCheckJobStepOnline:0,rerunsChecks:0,checksFailedNotificationCount:0,checksFailedNotificationClicked:0,checksFailedDialogOpenCount:0,checksFailedDialogSwitchToPullRequestCount:0,checksFailedDialogRerunChecksCount:0};function Gp(e){null===localStorage.getItem(e)&&Ct(e,Date.now())}function qp(e){const t=wt(e);return void 0===t?null:t}function Vp(e){const t=qp("welcome-wizard-initiated-at");if(null===t)return;const n=qp(e);return null===n||n<=t?-1:Math.round((n-t)/1e3)}function $p(){return vt("stats-opt-out")}let Kp=void 0;function Yp(e,t){if($p())return;const n=Date.now();void 0!==Kp&&n-Kp<6e4||(Kp=n,process.emit("send-non-fatal-exception",t,{kind:e}))}async function Zp(e){return async function(e,t){return new Promise((n,r)=>{const i=be.createHash(t);i.setEncoding("hex");const o=w.createReadStream(e);i.on("finish",()=>{n(i.read())}),o.on("error",r),i.on("error",r),o.pipe(i)})}(e,"sha256")}const Xp=new Map;function Qp(e){Xp.delete(e)}const Jp=new class{setDispatcher(e){this.dispatcher=e}promptAddingSSHHost(e,t,n,r){return new Promise(i=>{this.dispatcher.showPopup({type:ai.AddSSHHost,host:e,ip:t,keyType:n,fingerprint:r,onSubmit:e=>i(e)})})}promptSSHKeyPassphrase(e){return new Promise(t=>{this.dispatcher.showPopup({type:ai.SSHKeyPassphrase,keyPath:e,onSubmit:(e,n)=>t({passphrase:e,storePassphrase:n})})})}};async function ed(e,t){const n=/^Enter passphrase for key '(.+)': $/.exec(t);if(null===n||n.length<2)return;let r=n[1];const i=await async function(e){try{const t=await Zp(e);return oo.getItem("GitHub Desktop - SSH key passphrases",t)}catch(e){return log.error("Could not retrieve passphrase for SSH key:",e),null}}(r);if(null!==i)return i;const{passphrase:o,storePassphrase:s}=await Jp.promptSSHKeyPassphrase(r);return void 0!==o&&s?async function(e,t,n){try{const r=await Zp(t);Xp.set(e,{keyHash:r,passphrase:n})}catch(e){log.error("Could not store passphrase for SSH key:",e)}}(e,r,o):Qp(e),null!=o?o:""}const td=async e=>{if(1!==e.parameters.length)return;const t=e.parameters[0];if(t.startsWith("The authenticity of host "))return async function(e){const t=function(e){const t=/^The authenticity of host '([^ ]+) \(([^\)]+)\)' can't be established[^.]*\.\n([^ ]+) key fingerprint is ([^.]+)\./.exec(e);return null===t||t.length<5?null:{host:t[1],ip:t[2],keyType:t[3],fingerprint:t[4]}}(e);if(null===t)return;return"github.com"===t.host&&"RSA"===t.keyType&&"SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8"===t.fingerprint||await Jp.promptAddingSSHHost(t.host,t.ip,t.keyType,t.fingerprint)?"yes":"no"}(t);if(t.startsWith("Enter passphrase for key "))return ed(e.trampolineToken,t);const n=e.environmentVariables.get("DESKTOP_USERNAME");if(void 0!==n&&0!==n.length){if(t.startsWith("Username"))return n;if(t.startsWith("Password")){const t=e.environmentVariables.get("DESKTOP_ENDPOINT");if(void 0===t||0===t.length)return;const r=Ir(t),i=await oo.getItem(r,n);return null!=i?i:void 0}}};var nd,rd;!function(e){e.AskPass="ASKPASS"}(nd||(nd={})),function(e){e[e.ParameterCount=0]="ParameterCount",e[e.Parameters=1]="Parameters",e[e.EnvironmentVariablesCount=2]="EnvironmentVariablesCount",e[e.EnvironmentVariables=3]="EnvironmentVariables",e[e.Finished=4]="Finished"}(rd||(rd={}));class id{constructor(){this.parameterCount=0,this.parameters=[],this.environmentVariablesCount=0,this.environmentVariables=new Map,this.state=rd.ParameterCount}hasFinished(){return this.state===rd.Finished}processValue(e){switch(this.state){case rd.ParameterCount:this.parameterCount=parseInt(e),this.parameterCount>0?this.state=rd.Parameters:this.state=rd.EnvironmentVariablesCount;break;case rd.Parameters:this.parameters.push(e),this.parameters.length===this.parameterCount&&(this.state=rd.EnvironmentVariablesCount);break;case rd.EnvironmentVariablesCount:this.environmentVariablesCount=parseInt(e),this.environmentVariablesCount>0?this.state=rd.EnvironmentVariables:this.state=rd.Finished;break;case rd.EnvironmentVariables:const t=/([^=]+)=(.*)/.exec(e);if(null===t||3!==t.length)throw new Error("Unexpected environment variable format: "+e);const n=t[1],r=t[2];this.environmentVariables.set(n,r),this.environmentVariables.size===this.environmentVariablesCount&&(this.state=rd.Finished);break;default:throw new Error("Received value during invalid state: "+this.state)}}toCommand(){if(!1===this.hasFinished()){const e=new Error("The command cannot be generated if parsing is not finished");return this.logCommandCreationError(e),null}const e=this.environmentVariables.get("DESKTOP_TRAMPOLINE_IDENTIFIER");if(void 0===e){const e=new Error("The command identifier is missing. Env variables received: "+Array.from(this.environmentVariables.keys()));return this.logCommandCreationError(e),null}const t=yt(nd,e);if(void 0===t){const t=new Error(`The command identifier ${e} is not supported`);return this.logCommandCreationError(t),null}const n=this.environmentVariables.get("DESKTOP_TRAMPOLINE_TOKEN");if(void 0===n){const e=new Error("The trampoline token is missing");return this.logCommandCreationError(e),null}return{identifier:t,trampolineToken:n,parameters:this.parameters,environmentVariables:this.environmentVariables}}logCommandCreationError(e){log.error("Error creating trampoline command:",e),Yp("trampolineCommandParser",e)}}const od=new Set;async function sd(e){const t=function(){const e=Qt();return od.add(e),e}();let n;try{n=await e(t)}finally{!function(e){od.delete(e)}(t)}return n}const ad=new class{constructor(){this.listeningPromise=null,this.commandHandlers=new Map,this.onServerError=e=>{Yp("trampolineServer",e),this.close()},this.onClientError=e=>{log.error("Trampoline client error",e)},this.server=Object(Sr.createServer)(e=>this.onNewConnection(e)),this.server.unref(),this.registerCommandHandler(nd.AskPass,td)}async listen(){return this.listeningPromise=new Promise((e,t)=>{this.server.on("error",e=>{t(e),this.close()}),this.server.listen(0,"127.0.0.1",async()=>{this.server.removeAllListeners("error"),this.server.on("error",this.onServerError),e()})}),this.listeningPromise}async close(){null!==this.listeningPromise&&await this.listeningPromise,this.server.close(),this.server.removeAllListeners("error"),this.listeningPromise=null}async getPort(){return null!==this.port||(null!==this.listeningPromise?await this.listeningPromise:await this.listen()),this.port}get port(){const e=this.server.address();return e&&e.port?e.port:null}onNewConnection(e){const t=new id;e.pipe(vr()(/\0/)).on("data",n=>{this.onDataReceived(e,t,n)}),e.on("error",this.onClientError)}onDataReceived(e,t,n){const r=n.toString("utf8");if(t.processValue(r),!t.hasFinished())return;const i=t.toCommand();null!==i?this.processCommand(e,i):e.end()}registerCommandHandler(e,t){this.commandHandlers.set(e,t)}async processCommand(e,t){if(n=t.trampolineToken,!od.has(n))throw new Error("Tried to use invalid trampoline token");var n;const r=this.commandHandlers.get(t.identifier);if(void 0===r)return void e.end();const i=await r(t);void 0!==i?e.end(i):e.end()}};var ld=n(232);async function cd(e){const t=await gc();return sd(async n=>{try{const r=await e(Object.assign({DESKTOP_PORT:await ad.getPort(),DESKTOP_TRAMPOLINE_TOKEN:n,GIT_ASKPASS:ud(),DESKTOP_TRAMPOLINE_IDENTIFIER:nd.AskPass},t));return await async function(e){const t=Xp.get(e);void 0!==t&&await oo.setItem("GitHub Desktop - SSH key passphrases",t.keyHash,t.passphrase)}(n),r}finally{Qp(n)}})}function ud(){return r.resolve(__dirname,"desktop-trampoline",Object(ld.getDesktopTrampolineFilename)())}class hd extends Error{constructor(e,t){let n,r=!0;e.gitErrorDescription?(n=e.gitErrorDescription,r=!1):e.combinedOutput.length>0?n=e.combinedOutput:e.stderr.length?n=e.stderr:e.stdout.length?n=e.stdout:(n="Unknown error",r=!1),super(n),this.name="GitError",this.result=e,this.args=t,this.isRawMessage=r}}async function pd(e,t,n,r){const i={successExitCodes:new Set([0]),expectedErrors:new Set};let o="";const s=Object.assign(Object.assign({},i),r);return s.processCallback=e=>{var t;null===(t=null==r?void 0:r.processCallback)||void 0===t||t.call(r,e);const n=e=>{e&&e.pipe(vr()()).on("data",e=>{o+=e+"\n"})};n(e.stderr),n(e.stdout)},cd(async r=>{const i=Cr(s.env,r);s.env=Object.assign({TERM:"dumb"},i);const a=`${n}: git ${e.join(" ")}`,l=await ar.measure(a,()=>sr.GitProcess.exec(e,t,s)).catch(e=>{if(gr(e))throw new Error(`Failed to execute ${n}: ${e.code}`);throw e}),c=l.exitCode;let u=null;const h=!!s.successExitCodes&&s.successExitCodes.has(c);h||(u=sr.GitProcess.parseError(l.stderr),u||(u=sr.GitProcess.parseError(l.stdout)));const p=u?function(e){if(dd(e)){return`:\n\n- :  ${"GitHub Desktop > Preferences."}\n- .\n- .\n- GitHub, .\n- SSH, SSH.\n- SSH, .\n- /.`}switch(e){case sr.GitError.SSHKeyAuditUnverified:return"The SSH key is unverified.";case sr.GitError.RemoteDisconnection:return"The remote disconnected. Check your Internet connection and try again.";case sr.GitError.HostDown:return"The host is down. Check your Internet connection and try again.";case sr.GitError.RebaseConflicts:return"We found some conflicts while trying to rebase. Please resolve the conflicts before continuing.";case sr.GitError.MergeConflicts:return"We found some conflicts while trying to merge. Please resolve the conflicts and commit the changes.";case sr.GitError.HTTPSRepositoryNotFound:case sr.GitError.SSHRepositoryNotFound:return"The repository does not seem to exist anymore. You may not have access, or it may have been deleted or renamed.";case sr.GitError.PushNotFastForward:return"The repository has been updated since you last pulled. Try pulling before pushing.";case sr.GitError.BranchDeletionFailed:return"Could not delete the branch. It was probably already deleted.";case sr.GitError.DefaultBranchDeletionFailed:return"The branch is the repository's default branch and cannot be deleted.";case sr.GitError.RevertConflicts:return"To finish reverting, please merge and commit the changes.";case sr.GitError.EmptyRebasePatch:return"There arent any changes left to apply.";case sr.GitError.NoMatchingRemoteBranch:return"There arent any remote branches that match the current branch.";case sr.GitError.NothingToCommit:return".";case sr.GitError.NoSubmoduleMapping:return"A submodule was removed from .gitmodules, but the folder still exists in the repository. Delete the folder, commit the change, then try again.";case sr.GitError.SubmoduleRepositoryDoesNotExist:return"A submodule points to a location which does not exist.";case sr.GitError.InvalidSubmoduleSHA:return"A submodule points to a commit which does not exist.";case sr.GitError.LocalPermissionDenied:return"Permission denied.";case sr.GitError.InvalidMerge:return"This is not something we can merge.";case sr.GitError.InvalidRebase:return"This is not something we can rebase.";case sr.GitError.NonFastForwardMergeIntoEmptyHead:return"The merge you attempted is not a fast-forward, so it cannot be performed on an empty branch.";case sr.GitError.PatchDoesNotApply:return"The requested changes conflict with one or more files in the repository.";case sr.GitError.BranchAlreadyExists:return"A branch with that name already exists.";case sr.GitError.BadRevision:return"Bad revision.";case sr.GitError.NotAGitRepository:return"This is not a git repository.";case sr.GitError.ProtectedBranchForcePush:return"This branch is protected from force-push operations.";case sr.GitError.ProtectedBranchRequiresReview:return"This branch is protected and any changes requires an approved review. Open a pull request with changes targeting this branch instead.";case sr.GitError.PushWithFileSizeExceedingLimit:return"The push operation includes a file which exceeds GitHub's file size restriction of 100MB. Please remove the file from history and try again.";case sr.GitError.HexBranchNameRejected:return"The branch name cannot be a 40-character string of hexadecimal characters, as this is the format that Git uses for representing objects.";case sr.GitError.ForcePushRejected:return"The force push has been rejected for the current branch.";case sr.GitError.InvalidRefLength:return"A ref cannot be longer than 255 characters.";case sr.GitError.CannotMergeUnrelatedHistories:return"Unable to merge unrelated histories in this repository.";case sr.GitError.PushWithPrivateEmail:return'Cannot push these commits as they contain an email address marked as private on GitHub. To push anyway, visit https://github.com/settings/emails, uncheck "Keep my email address private", then switch back to GitHub Desktop to push your commits. You can then enable the setting again.';case sr.GitError.LFSAttributeDoesNotMatch:return"Git LFS attribute found in global Git configuration does not match expected value.";case sr.GitError.ProtectedBranchDeleteRejected:return"This branch cannot be deleted from the remote repository because it is marked as protected.";case sr.GitError.ProtectedBranchRequiredStatus:return"The push was rejected by the remote server because a required status check has not been satisfied.";case sr.GitError.BranchRenameFailed:return"The branch could not be renamed.";case sr.GitError.PathDoesNotExist:return"The path does not exist on disk.";case sr.GitError.InvalidObjectName:return"The object was not found in the Git repository.";case sr.GitError.OutsideRepository:return"This path is not a valid path inside the repository.";case sr.GitError.LockFileAlreadyExists:return"A lock file already exists in the repository, which blocks this operation from completing.";case sr.GitError.NoMergeToAbort:return"There is no merge in progress, so there is nothing to abort.";case sr.GitError.NoExistingRemoteBranch:return"The remote branch does not exist.";case sr.GitError.LocalChangesOverwritten:return"Unable to switch branches as there are working directory changes which would be overwritten. Please commit or stash your changes.";case sr.GitError.UnresolvedConflicts:return"There are unresolved conflicts in the working directory.";case sr.GitError.ConfigLockFileAlreadyExists:case sr.GitError.RemoteAlreadyExists:return null;case sr.GitError.TagAlreadyExists:return"A tag with that name already exists";case sr.GitError.MergeWithLocalChanges:case sr.GitError.RebaseWithLocalChanges:case sr.GitError.GPGFailedToSignData:case sr.GitError.ConflictModifyDeletedInBranch:case sr.GitError.MergeCommitNoMainlineOption:return null;default:return Ze(0,"Unknown error: "+e)}}(u):null,d=Object.assign(Object.assign({},l),{gitError:u,gitErrorDescription:p,combinedOutput:o,path:t});let f=!0;if(u&&s.expectedErrors&&(f=s.expectedErrors.has(u)),u&&f||h)return d;const m=new Array;if(m.push(`\`git ${e.join(" ")}\` exited with an unexpected code: ${c}.`),l.stdout&&(m.push("stdout:"),m.push(l.stdout)),l.stderr&&(m.push("stderr:"),m.push(l.stderr)),u&&m.push(`(The error was parsed as ${u}: ${p})`),log.error(m.join("\n")),u===sr.GitError.PushWithFileSizeExceedingLimit){const e=function(e){const t=Array.from(e.matchAll(/(^remote:\serror:\sFile\s)/gm)),n=Array.from(e.matchAll(/(;\sthis\sexceeds\sGitHub's\sfile\ssize\slimit\sof\s100.00\sMB)/gm));if(t.length!==n.length)return[];const r=[];for(let i=0;i<t.length;i++){const o=t[i],s=n[i];if(void 0===o.index||void 0===s.index)continue;const a=o.index+o[0].length,l=s.index;let c=e.slice(a,l);c=c.replace("is ","("),c+=")",r.push(c)}return r}(m.join()).join("\n");""!==e&&(d.gitErrorDescription+="\n\nFile causing error:\n\n"+e)}throw new hd(d,e)})}function dd(e){switch(e){case sr.GitError.SSHAuthenticationFailed:case sr.GitError.SSHPermissionDenied:case sr.GitError.HTTPSAuthenticationFailed:return!0}return!1}function fd(e){return e instanceof hd&&e.result.gitError===sr.GitError.ConfigLockFileAlreadyExists}const md=/^error: could not lock config file (.+?): File exists$/m;function gd(e){const t=md.exec(e.stderr);if(null===t)return null;const n=t[1];return r.resolve(e.path,n+".lock")}async function yd(e,t){const n=["-c","credential.helper="];if(null===t)return n;if(!(t.endpoint===Nn()))return n;const r="protocol.version";return null!==(null!=e?await lr(e,r):await cr(r))?n:[...n,"-c","protocol.version=2"]}function vd(e){return e.stdout.split("]")[0].split(" ")[1]}function bd(e,t){return`--- ${e?"a/"+e:"/dev/null"}\n+++ ${t?"b/"+t:"/dev/null"}\n`}function wd(e,t,n,r,i){return`@@ -${1===t?""+e:`${e},${t}`} +${1===r?""+n:`${n},${r}`} @@${i=i?" "+i:""}\n`}function Cd(e,t){let n="";if(t.hunks.forEach((t,r)=>{let i="",o=0,s=0,a=!1;t.lines.forEach((n,r)=>{const l=t.unifiedDiffStart+r;if(n.type!==Xr.Hunk){if(n.type===Xr.Context)i+=n.text+"\n",o++,s++;else if(e.selection.isSelected(l))i+=n.text+"\n",n.type===Xr.Add&&s++,n.type===Xr.Delete&&o++,a=!0;else{if(e.status.kind===ii.New||e.status.kind===ii.Untracked)return;if(n.type===Xr.Add)return;n.type===Xr.Delete?(i+=` ${n.text.substr(1)}\n`,o++,s++):Ze(n.type,"Unsupported line type "+n.type)}n.noTrailingNewLine&&(i+="\\ No newline at end of file\n")}}),a&&(n+=wd(t.header.oldStartLine,o,t.header.newStartLine,s),n+=i)}),!n.length)throw log.debug("formatPatch: empty path for "+e.path),new Error("Could not generate a patch, no changes");return n=function(e){switch(e.status.kind){case ii.New:case ii.Untracked:return bd(null,e.path);case ii.Renamed:case ii.Deleted:case ii.Modified:case ii.Copied:case ii.Conflicted:return bd(e.path,e.path);default:return Ze(e.status,"Unknown file status "+e.status)}}(e)+n,n}async function Sd(e,t){if(t.status.kind===ii.Renamed){await pd(["add","--u","--",t.status.oldPath],e.path,"applyPatchToIndex");const n=await pd(["ls-tree","HEAD","--",t.status.oldPath],e.path,"applyPatchToIndex"),[r]=n.stdout.split("\t",1),[i,,o]=r.split(" ",3);await pd(["update-index","--add","--cacheinfo",i,o,t.path],e.path,"applyPatchToIndex")}const n=await Tl(e,t);if(n.kind!==Zr.Text&&n.kind!==Zr.LargeText){const{kind:e}=n;switch(n.kind){case Zr.Binary:case Zr.Image:throw new Error("Can't create partial commit in binary file: "+t.path);case Zr.Unrenderable:throw new Error("File diff is too large to generate a partial commit: "+t.path);default:Ze(0,"Unknown diff kind: "+e)}}const r=await Cd(t,n);return await pd(["apply","--cached","--unidiff-zero","--whitespace=nowarn","-"],e.path,"applyPatchToIndex",{stdin:r}),Promise.resolve()}function Ed(e){return e.startsWith("heads/")?"refs/"+e:e.startsWith("refs/heads/")?e:"refs/heads/"+e}async function kd(e,t){const n=await pd(["symbolic-ref","-q",t],e.path,"getSymbolicRef",{successExitCodes:new Set([0,1,128])});return 1===n.exitCode||128===n.exitCode?null:n.stdout.trim()}async function xd(e,t,n){const r=["update-ref","-d",t];void 0!==n&&r.push("-m",n),await pd(r,e.path,"deleteRef")}async function Dd(e){const t=await pd(["remote","-v"],e.path,"getRemotes",{expectedErrors:new Set([sr.GitError.NotAGitRepository])});if(t.gitError===sr.GitError.NotAGitRepository)return[];return t.stdout.split("\n").filter(e=>e.endsWith("(fetch)")).map(e=>e.split(/\s+/)).map(e=>({name:e[0],url:e[1]}))}async function _d(e,t,n){return await pd(["remote","add",t,n],e.path,"addRemote"),{url:n,name:t}}async function Td(e,t){const n={successExitCodes:new Set([0,2,128])};await pd(["remote","remove",t],e.path,"removeRemote",n)}async function Rd(e,t,n){return await pd(["remote","set-url",t,n],e.path,"setRemoteURL"),!0}async function Ad(e,t){return await pd(["branch","-D",t],e.path,"deleteLocalBranch"),!0}async function Od(e,t,n,r){const i=await yd(e,t),o=await async function(e,t){const n=await pd(["remote","get-url",t],e.path,"getRemoteURL",{successExitCodes:new Set([0,2,128])});return 0!==n.exitCode?null:n.stdout}(e,n).catch(e=>(log.error("Could not resolve remote url for remote "+n,e),null))||Ea(t,e),s=[...i,"push",n,":"+r];if((await pd(s,e.path,"deleteRemoteBranch",{env:await ka(t,o),expectedErrors:new Set([sr.GitError.BranchDeletionFailed])})).gitError===sr.GitError.BranchDeletionFailed){const t=`refs/remotes/${n}/${r}`;await xd(e,t)}return!0}function Pd(e,t){switch(e){case 0:return["reset","--hard",t];case 2:return["reset",t];case 1:return["reset","--soft",t];default:return Ze(0,"Unknown reset mode: "+e)}}async function Id(e,t,n){const r=Pd(t,n);return await pd(r,e.path,"reset"),!0}async function Md(e,t,n,r=!1){await async function(e){return await pd(["reset","--","."],e.path,"unstageAll"),!0}(e),await hs(e,n);const i=["-F","-"];r&&i.push("--amend");return vd(await pd(["commit",...i],e.path,"createCommit",{stdin:t}))}async function Fd(e,t,n,r){const i={successExitCodes:new Set([0,128]),env:await ka(t,n.url)},o=[...await yd(e,t),"fetch",n.name,r];await pd(o,e.path,"fetchRefspec",i)}async function Nd(e,...t){const{formatArgs:n,parse:r}=rs({fullName:"%(refname)",shortName:"%(refname:short)",upstreamShortName:"%(upstream:short)",sha:"%(objectname)",author:"%(author)",symRef:"%(symref)"});t&&t.length||(t=["refs/heads","refs/remotes"]);const i=await pd(["for-each-ref",...n,...t],e.path,"getBranches",{expectedErrors:new Set([sr.GitError.NotAGitRepository])});if(i.gitError===sr.GitError.NotAGitRepository)return[];const o=[];for(const e of r(i.stdout)){if(e.symRef.length>0)continue;const t=ns.parseIdentity(e.author),n={sha:e.sha,author:t},r=e.fullName.startsWith("refs/heads")?zr.Local:zr.Remote,i=e.upstreamShortName.length>0?e.upstreamShortName:null;o.push(new $r(e.shortName,i,n,r,e.fullName))}return o}const Bd=new RegExp("fatal: your current branch '.*' does not have any commits yet");async function Ld(e){let t;try{t=await pd(["rev-parse","--show-cdup"],e,"getTopLevelWorkingDirectory",{successExitCodes:new Set([0,128])})}catch(e){if(e.code===sr.RepositoryDoesNotExistErrorCode)return null;throw e}if(128===t.exitCode)return null;const n=t.stdout.trim();return n?r.resolve(e,n):e}async function Hd(e){try{return"true"===(await pd(["rev-parse","--is-bare-repository"],e,"isBareRepository")).stdout.trim()}catch(e){if(e.message.includes("not a git repository"))return!1;throw e}}async function Ud(e){return null!==await Ld(e)}async function jd(e){const t=await pd(["var","GIT_AUTHOR_IDENT"],e.path,"getAuthorIdentity",{successExitCodes:new Set([0,128])});if(128===t.exitCode)return null;try{return ns.parseIdentity(t.stdout)}catch(e){return null}}var Wd;function zd(e){const t=function(e){switch(e[0]){case"A":return Wd.Added;case"C":return Wd.Copied;case"D":return Wd.Deleted;case"M":return Wd.Modified;case"R":return Wd.Renamed;case"T":return Wd.TypeChanged;case"U":return Wd.Unmerged;case"X":return Wd.Unknown;default:throw new Error("Unknown index status: "+e)}}(e);switch(t){case Wd.Copied:case Wd.Renamed:throw new Error("Invalid index status for no-rename index status: "+t)}return t}!function(e){e[e.Unknown=0]="Unknown",e[e.Added=1]="Added",e[e.Copied=2]="Copied",e[e.Deleted=3]="Deleted",e[e.Modified=4]="Modified",e[e.Renamed=5]="Renamed",e[e.TypeChanged=6]="TypeChanged",e[e.Unmerged=7]="Unmerged"}(Wd||(Wd={}));const Gd=[{title:"",weight:0}];class qd extends Ys{constructor(){super(Gd)}}class Vd{constructor(e,t,n){this.sha=e,this.path=t,this.describe=n}}async function $d(e){const t=r.join(e.path,".gitignore");return new Promise((e,n)=>{i.readFile(t,"utf8",(t,r)=>{t?"ENOENT"===t.code?e(null):n(t):e(r)})})}async function Kd(e,t){const n=r.join(e.path,".gitignore");if(""===t)return new Promise((e,t)=>{i.unlink(n,n=>{n?t(n):e()})});const o=await Yd(t,e);return new Promise((e,t)=>{i.writeFile(n,o,n=>{n?t(n):e()})})}async function Yd(e,t){const n=await lr(t,"core.autocrlf"),r=await lr(t,"core.safecrlf");return new Promise((t,i)=>{if("true"!==n||"true"!==r)if(e.endsWith("\n"))t(e);else if(null==n)t(e+"\n");else{t("true"===n?e+"\n":e+"\r\n")}else{t(e.replace(/\r\n|\n\r|\n|\r/g,"\r\n"))}})}async function Zd(e){try{return await Ld(e)}catch(e){return null}}var Xd;!function(e){e[e.Accounts=0]="",e[e.Integrations=1]="",e[e.Git=2]="Git",e[e.Appearance=3]="",e[e.Prompts=4]="",e[e.Advanced=5]=""}(Xd||(Xd={}));de.Component;function Qd(){const e=new Set,t=Object.assign(n=>{t.current=n,e.forEach(e=>e(n))},{current:null,subscribe:t=>e.add(t),unsubscribe:t=>e.delete(t)});return t}const Jd=new Set;function ef(e){const t=("__"+e).replace(/[^a-z0-9\-_:.]+/gi,"_");for(let e=0;e<100;e++){const n=e>0?`${t}_${e}`:t;if(!Jd.has(n))return Jd.add(n),n}return Qt()}function tf(e){Jd.delete(e)}function nf(e,t){return e===t||e.left===t.left&&e.right===t.right&&e.top===t.top&&e.bottom===t.bottom&&e.width===t.width&&e.height===t.height}var rf;!function(e){e.NORTH="n",e.NORTH_EAST="ne",e.EAST="e",e.SOUTH_EAST="se",e.SOUTH="s",e.SOUTH_WEST="sw",e.WEST="w",e.NORTH_WEST="nw"}(rf||(rf={}));class of extends de.Component{constructor(e){super(e),this.mouseRect=new DOMRect,this.mouseOverTarget=!1,this.mouseOverTooltip=!1,this.showTooltipTimeout=null,this.hideTooltipTimeout=null,this.tooltipRef=null,this.onTargetRef=e=>{this.setState({target:e,tooltipHost:af(e)})},this.onTooltipRef=e=>{var t,n,r;if(null===e){this.state.id&&(tf(this.state.id),this.setState({id:void 0})),this.resizeObserver.disconnect();const{tooltipRef:e}=this;null!==e&&(e.removeEventListener("mouseenter",this.onTooltipMouseEnter),e.removeEventListener("mouseleave",this.onTooltipMouseLeave))}else this.setState({tooltipRect:null!==(t=e.getBoundingClientRect())&&void 0!==t?t:new DOMRect,show:!0,measure:!1,id:null!==(n=this.state.id)&&void 0!==n?n:ef("tooltip")}),null===(r=this.state.target)||void 0===r||r.dispatchEvent(new CustomEvent("tooltip-shown",{bubbles:!0})),this.resizeObserver.observe(e),!0===this.props.interactive&&(e.addEventListener("mouseenter",this.onTooltipMouseEnter),e.addEventListener("mouseleave",this.onTooltipMouseLeave));this.tooltipRef=e},this.onTooltipMouseEnter=e=>{this.mouseOverTooltip=!0,this.cancelHideTooltip()},this.onTooltipMouseLeave=e=>{this.mouseOverTooltip=!1,this.beginHideTooltip()},this.onTargetMouseEnter=e=>{this.mouseOverTarget=!0,this.cancelHideTooltip(),this.state.show||this.beginShowTooltip()},this.onTargetMouseMove=e=>{this.mouseRect=new DOMRect(e.clientX-10,e.clientY-10,20,20)},this.onTargetMouseDown=e=>{this.hideTooltip()},this.onTargetFocus=e=>{var t;(null===(t=this.state.target)||void 0===t?void 0:t.matches(":focus-visible"))&&this.beginShowTooltip()},this.onTargetBlur=e=>{this.mouseOverTarget||this.mouseOverTooltip||this.beginHideTooltip()},this.onTooltipShown=e=>{e.target!==this.state.target&&this.state.show&&this.hideTooltip()},this.onTooltipHidden=e=>{e.target!==this.state.target&&this.mouseOverTarget&&this.beginShowTooltip()},this.showTooltip=()=>{this.cancelShowTooltip();const{tooltipHost:e,target:t}=this.state;null!==e&&null!==t&&(this.props.onlyWhenOverflowed&&!this.isTargetOverflowed()||this.setState({measure:!0,show:!1,targetRect:void 0===this.props.direction?this.mouseRect:t.getBoundingClientRect(),hostRect:e.getBoundingClientRect(),windowRect:new DOMRect(0,0,window.innerWidth,window.innerHeight)}))},this.onTargetMouseLeave=e=>{this.mouseOverTarget=!1,this.beginHideTooltip()},this.hideTooltip=()=>{var e;this.cancelShowTooltip(),this.cancelHideTooltip(),this.state.show&&(null===(e=this.state.target)||void 0===e||e.dispatchEvent(new CustomEvent("tooltip-hidden",{bubbles:!0}))),this.setState({show:!1,measure:!1})};const t=e.target.current;this.state={target:t,measure:!1,show:!1,targetRect:new DOMRect,hostRect:new DOMRect,windowRect:new DOMRect,tooltipRect:new DOMRect,tooltipHost:af(t)},this.resizeObserver=new ResizeObserver(e=>{for(const t of e)if(t.target===this.tooltipRef){const e=this.tooltipRef.getBoundingClientRect();nf(this.state.tooltipRect,e)||this.setState({tooltipRect:e})}else if(t.target===this.state.target){const e=this.state.target.getBoundingClientRect();nf(this.state.targetRect,e)||this.setState({targetRect:e})}})}componentDidMount(){const{target:e}=this.props;e.subscribe(this.onTargetRef),null!==e.current&&this.state.target!==e.current?this.onTargetRef(e.current):null!==this.state.target&&this.installTooltip(this.state.target)}componentDidUpdate(e,t){const{target:n}=this.state;e.target!==this.props.target&&(e.target.unsubscribe(this.onTargetRef),this.props.target.subscribe(this.onTargetRef)),n!==t.target&&(this.removeTooltip(t.target),null!==n&&this.installTooltip(n)),this.state.show!==t.show&&(this.state.show&&!1!==this.props.accessible&&this.state.id?null==n||n.setAttribute("aria-describedby",this.state.id):null==n||n.removeAttribute("aria-describedby"))}installTooltip(e){e.addEventListener("mouseenter",this.onTargetMouseEnter),e.addEventListener("mouseleave",this.onTargetMouseLeave),e.addEventListener("mousemove",this.onTargetMouseMove),e.addEventListener("mousedown",this.onTargetMouseDown),e.addEventListener("focus",this.onTargetFocus),e.addEventListener("blur",this.onTargetBlur),e.addEventListener("tooltip-shown",this.onTooltipShown),e.addEventListener("tooltip-hidden",this.onTooltipHidden)}removeTooltip(e){null!==e&&(e.getAttribute("aria-describedby")&&e.removeAttribute("aria-describedby"),e.removeEventListener("mouseenter",this.onTargetMouseEnter),e.removeEventListener("mouseleave",this.onTargetMouseLeave),e.removeEventListener("mousemove",this.onTargetMouseMove),e.removeEventListener("mousedown",this.onTargetMouseDown),e.removeEventListener("focus",this.onTargetFocus),e.removeEventListener("blur",this.onTargetBlur))}beginShowTooltip(){var e;this.cancelShowTooltip(),this.showTooltipTimeout=window.setTimeout(this.showTooltip,null!==(e=this.props.delay)&&void 0!==e?e:400)}isTargetOverflowed(){const{isTargetOverflowed:e}=this.props,{target:t}=this.state;return null!==t&&(void 0===e?t.scrollWidth>t.clientWidth:"boolean"==typeof e?e:e(t))}cancelShowTooltip(){null!==this.showTooltipTimeout&&(clearTimeout(this.showTooltipTimeout),this.showTooltipTimeout=null)}beginHideTooltip(){this.cancelShowTooltip(),!0===this.props.interactive&&null===this.hideTooltipTimeout?this.hideTooltipTimeout=window.setTimeout(this.hideTooltip,250):this.hideTooltip()}cancelHideTooltip(){null!==this.hideTooltipTimeout&&(clearTimeout(this.hideTooltipTimeout),this.hideTooltipTimeout=null)}componentWillUnmount(){this.cancelShowTooltip(),this.props.target.unsubscribe(this.onTargetRef),this.removeTooltip(this.state.target),this.state.id&&tf(this.state.id)}render(){return null===this.state.target||null===this.state.tooltipHost?null:me.createPortal(this.renderPortal(),this.state.tooltipHost)}renderPortal(){const{show:e,measure:t}=this.state;if(!e&&!t)return null;const n=e&&!t,{targetRect:r,hostRect:i,windowRect:o,tooltipRect:s}=this.state,a=n?function(e,t,n,r){const i=e=>{return i=n,o=sf(t,e,r),i===o||o.top>=i.top&&o.left>=i.left&&o.bottom<=i.bottom&&o.right<=i.right;var i,o};let o=new Set([rf.NORTH,rf.NORTH_EAST,rf.NORTH_WEST,rf.SOUTH,rf.SOUTH_EAST,rf.SOUTH_WEST,rf.EAST,rf.WEST]);if(void 0!==e){if(i(e))return e;e.startsWith(rf.SOUTH)?o=new Set([rf.SOUTH,rf.SOUTH_EAST,rf.SOUTH_WEST,...o]):e.startsWith(rf.NORTH)&&(o=new Set([rf.NORTH,rf.NORTH_EAST,rf.NORTH_WEST,...o])),o.delete(e)}else o=new Set([rf.SOUTH_EAST,rf.NORTH_EAST,...o]);for(const e of o)if(i(e))return e;return rf.SOUTH}(this.props.direction,r,o,s):rf.SOUTH,l=n?function(e,t,n,r){const i=sf(t,e,r);return i.x-=n.x,i.y-=n.y,{transform:`translate(${i.left}px, ${i.top}px)`}}(a,r,i,s):{visibility:"hidden",left:"0px",top:"0px"},c=al()("tooltip",this.props.className,{interactive:this.props.interactive,["tooltip-"+a]:e});return de.createElement("div",{role:"tooltip","aria-hidden":"true",className:c,id:this.state.id,style:l,ref:this.onTooltipRef,onClick:lf,onContextMenu:lf,onDoubleClick:lf,onDrag:lf,onDragEnd:lf,onDragEnter:lf,onDragExit:lf,onDragLeave:lf,onDragOver:lf,onDragStart:lf,onDrop:lf,onMouseDown:lf,onMouseEnter:lf,onMouseLeave:lf,onMouseMove:lf,onMouseOver:lf,onMouseOut:lf,onMouseUp:lf,onKeyDown:lf,onKeyPress:lf,onKeyUp:lf,onFocus:lf,onBlur:lf,onChange:lf,onInput:lf,onInvalid:lf,onSubmit:lf},de.createElement("div",{className:"tooltip-content"},this.props.children))}}function sf(e,t,n){const{left:r,right:i,bottom:o}=e,s=e.left+e.width/2,a=e.top-n.height,l=e.top+e.height/2-n.height/2,{width:c,height:u}=n,h=new DOMRect(10,0,6,6);switch(t){case rf.NORTH_EAST:return new DOMRect(s-h.x-h.width,a-h.height,c,u);case rf.NORTH:return new DOMRect(s-c/2,a-h.height,c,u);case rf.NORTH_WEST:return new DOMRect(s-c+h.right,a-h.height,c,u);case rf.EAST:return new DOMRect(i+h.width,l,c,u);case rf.SOUTH_EAST:return new DOMRect(s-h.x-h.width,o+h.height,c,u);case rf.SOUTH:return new DOMRect(s-c/2,o+h.height,c,u);case rf.SOUTH_WEST:return new DOMRect(s-c+h.right,o+h.height,c,u);case rf.WEST:return new DOMRect(r-c-h.width,l,c,u);default:return Ze(0,"Unknown direction "+t)}}const af=e=>{var t;return null!==(t=null==e?void 0:e.closest(".tooltip-host"))&&void 0!==t?t:document.body},lf=e=>e.stopPropagation();class cf extends de.Component{constructor(){super(...arguments),this.svgRef=Qd()}render(){const{symbol:e,title:t,tooltipDirection:n}=this.props,r=`0 0 ${e.w} ${e.h}`,i=al()("octicon",this.props.className),o=void 0===t?"true":void 0,s=null!=n?n:rf.NORTH;return de.createElement("svg",{"aria-hidden":o,className:i,version:"1.1",viewBox:r,ref:this.svgRef,tabIndex:-1},void 0!==t&&de.createElement(of,{target:this.svgRef,direction:s},t),de.createElement("path",{fillRule:e.fr,d:e.d}))}}function uf(e,t,n){const r=document.createElement("div");r.id=null!=n?n:"",void 0!==t&&r.classList.add(t);const i=de.createElement(cf,{symbol:e});return ge.a.render(i,r),r}const hf={w:16,h:16,d:"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z",fr:"evenodd"},pf={w:16,h:16,d:"M13.03 8.22a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06 0L3.47 9.28a.75.75 0 011.06-1.06l2.97 2.97V3.75a.75.75 0 011.5 0v7.44l2.97-2.97a.75.75 0 011.06 0z",fr:"evenodd"},df={w:16,h:16,d:"M8.22 2.97a.75.75 0 011.06 0l4.25 4.25a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06-1.06l2.97-2.97H3.75a.75.75 0 010-1.5h7.44L8.22 4.03a.75.75 0 010-1.06z",fr:"evenodd"},ff={w:16,h:16,d:"M3.47 7.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L9 4.81v7.44a.75.75 0 01-1.5 0V4.81L4.53 7.78a.75.75 0 01-1.06 0z",fr:"evenodd"},mf={w:16,h:16,d:"M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z",fr:"evenodd"},gf={w:16,h:16,d:"M8 16A8 8 0 108 0a8 8 0 000 16zm3.78-9.72a.75.75 0 00-1.06-1.06L6.75 9.19 5.28 7.72a.75.75 0 00-1.06 1.06l2 2a.75.75 0 001.06 0l4.5-4.5z",fr:"evenodd"},yf={w:16,h:16,d:"M12.78 6.22a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06 0L3.22 7.28a.75.75 0 011.06-1.06L8 9.94l3.72-3.72a.75.75 0 011.06 0z",fr:"evenodd"},vf={w:16,h:16,d:"M6.22 3.22a.75.75 0 011.06 0l4.25 4.25a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06-1.06L9.94 8 6.22 4.28a.75.75 0 010-1.06z",fr:"evenodd"},bf={w:16,h:16,d:"M3.22 9.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L8 6.06 4.28 9.78a.75.75 0 01-1.06 0z",fr:"evenodd"},wf={w:16,h:16,d:"M8.75 5V.75a.75.75 0 00-1.5 0V5H5.104a.25.25 0 00-.177.427l2.896 2.896a.25.25 0 00.354 0l2.896-2.896A.25.25 0 0010.896 5H8.75zM1.5 2.75a.25.25 0 01.25-.25h3a.75.75 0 000-1.5h-3A1.75 1.75 0 000 2.75v7.5C0 11.216.784 12 1.75 12h3.727c-.1 1.041-.52 1.872-1.292 2.757A.75.75 0 004.75 16h6.5a.75.75 0 00.565-1.243c-.772-.885-1.193-1.716-1.292-2.757h3.727A1.75 1.75 0 0016 10.25v-7.5A1.75 1.75 0 0014.25 1h-3a.75.75 0 000 1.5h3a.25.25 0 01.25.25v7.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25v-7.5zM9.018 12H6.982a5.72 5.72 0 01-.765 2.5h3.566a5.72 5.72 0 01-.765-2.5z",fr:"evenodd"},Cf={w:16,h:16,d:"M1.75 2.5h12.5a.25.25 0 01.25.25v7.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25v-7.5a.25.25 0 01.25-.25zM14.25 1H1.75A1.75 1.75 0 000 2.75v7.5C0 11.216.784 12 1.75 12h3.727c-.1 1.041-.52 1.872-1.292 2.757A.75.75 0 004.75 16h6.5a.75.75 0 00.565-1.243c-.772-.885-1.193-1.716-1.292-2.757h3.727A1.75 1.75 0 0016 10.25v-7.5A1.75 1.75 0 0014.25 1zM9.018 12H6.982a5.72 5.72 0 01-.765 2.5h3.566a5.72 5.72 0 01-.765-2.5z",fr:"evenodd"},Sf={w:16,h:16,d:"M8.75 1.75a.75.75 0 00-1.5 0V5H4a.75.75 0 000 1.5h3.25v3.25a.75.75 0 001.5 0V6.5H12A.75.75 0 0012 5H8.75V1.75zM4 13a.75.75 0 000 1.5h8a.75.75 0 100-1.5H4z",fr:"evenodd"},Ef={w:16,h:16,d:"M13.25 2.5H2.75a.25.25 0 00-.25.25v10.5c0 .138.112.25.25.25h10.5a.25.25 0 00.25-.25V2.75a.25.25 0 00-.25-.25zM2.75 1h10.5c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0113.25 15H2.75A1.75 1.75 0 011 13.25V2.75C1 1.784 1.784 1 2.75 1zM8 4a.75.75 0 01.75.75v2.5h2.5a.75.75 0 010 1.5h-2.5v2.5a.75.75 0 01-1.5 0v-2.5h-2.5a.75.75 0 010-1.5h2.5v-2.5A.75.75 0 018 4z",fr:"evenodd"},kf={w:16,h:16,d:"M2.75 2.5h10.5a.25.25 0 01.25.25v10.5a.25.25 0 01-.25.25H2.75a.25.25 0 01-.25-.25V2.75a.25.25 0 01.25-.25zM13.25 1H2.75A1.75 1.75 0 001 2.75v10.5c0 .966.784 1.75 1.75 1.75h10.5A1.75 1.75 0 0015 13.25V2.75A1.75 1.75 0 0013.25 1zM8 10a2 2 0 100-4 2 2 0 000 4z",fr:"evenodd"},xf={w:16,h:16,d:"M2.75 2.5h10.5a.25.25 0 01.25.25v10.5a.25.25 0 01-.25.25H2.75a.25.25 0 01-.25-.25V2.75a.25.25 0 01.25-.25zM13.25 1H2.75A1.75 1.75 0 001 2.75v10.5c0 .966.784 1.75 1.75 1.75h10.5A1.75 1.75 0 0015 13.25V2.75A1.75 1.75 0 0013.25 1zm-2 7.75a.75.75 0 000-1.5h-6.5a.75.75 0 000 1.5h6.5z",fr:"evenodd"},Df={w:16,h:16,d:"M2.75 2.5h10.5a.25.25 0 01.25.25v10.5a.25.25 0 01-.25.25H2.75a.25.25 0 01-.25-.25V2.75a.25.25 0 01.25-.25zM13.25 1H2.75A1.75 1.75 0 001 2.75v10.5c0 .966.784 1.75 1.75 1.75h10.5A1.75 1.75 0 0015 13.25V2.75A1.75 1.75 0 0013.25 1zm-1.47 7.53a.75.75 0 000-1.06L8.53 4.22a.75.75 0 00-1.06 1.06l1.97 1.97H4.75a.75.75 0 000 1.5h4.69l-1.97 1.97a.75.75 0 101.06 1.06l3.25-3.25z",fr:"evenodd"},_f={w:16,h:16,d:"M8 4a4 4 0 100 8 4 4 0 000-8z",fr:"evenodd"},Tf={w:16,h:16,d:"M4 1.75C4 .784 4.784 0 5.75 0h5.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v8.586A1.75 1.75 0 0114.25 15h-9a.75.75 0 010-1.5h9a.25.25 0 00.25-.25V6h-2.75A1.75 1.75 0 0110 4.25V1.5H5.75a.25.25 0 00-.25.25v2.5a.75.75 0 01-1.5 0v-2.5zm7.5-.188V4.25c0 .138.112.25.25.25h2.688a.252.252 0 00-.011-.013l-2.914-2.914a.272.272 0 00-.013-.011zM5.72 6.72a.75.75 0 000 1.06l1.47 1.47-1.47 1.47a.75.75 0 101.06 1.06l2-2a.75.75 0 000-1.06l-2-2a.75.75 0 00-1.06 0zM3.28 7.78a.75.75 0 00-1.06-1.06l-2 2a.75.75 0 000 1.06l2 2a.75.75 0 001.06-1.06L1.81 9.25l1.47-1.47z",fr:"evenodd"},Rf={w:16,h:16,d:"M1.75 1A1.75 1.75 0 000 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0016 13.25v-8.5A1.75 1.75 0 0014.25 3h-6.5a.25.25 0 01-.2-.1l-.9-1.2c-.33-.44-.85-.7-1.4-.7h-3.5z",fr:"evenodd"},Af={w:16,h:16,d:"M10.896 2H8.75V.75a.75.75 0 00-1.5 0V2H5.104a.25.25 0 00-.177.427l2.896 2.896a.25.25 0 00.354 0l2.896-2.896A.25.25 0 0010.896 2zM8.75 15.25a.75.75 0 01-1.5 0V14H5.104a.25.25 0 01-.177-.427l2.896-2.896a.25.25 0 01.354 0l2.896 2.896a.25.25 0 01-.177.427H8.75v1.25zm-6.5-6.5a.75.75 0 000-1.5h-.5a.75.75 0 000 1.5h.5zM6 8a.75.75 0 01-.75.75h-.5a.75.75 0 010-1.5h.5A.75.75 0 016 8zm2.25.75a.75.75 0 000-1.5h-.5a.75.75 0 000 1.5h.5zM12 8a.75.75 0 01-.75.75h-.5a.75.75 0 010-1.5h.5A.75.75 0 0112 8zm2.25.75a.75.75 0 000-1.5h-.5a.75.75 0 000 1.5h.5z",fr:"evenodd"},Of={w:16,h:16,d:"M8.177 14.323l2.896-2.896a.25.25 0 00-.177-.427H8.75V7.764a.75.75 0 10-1.5 0V11H5.104a.25.25 0 00-.177.427l2.896 2.896a.25.25 0 00.354 0zM2.25 5a.75.75 0 000-1.5h-.5a.75.75 0 000 1.5h.5zM6 4.25a.75.75 0 01-.75.75h-.5a.75.75 0 010-1.5h.5a.75.75 0 01.75.75zM8.25 5a.75.75 0 000-1.5h-.5a.75.75 0 000 1.5h.5zM12 4.25a.75.75 0 01-.75.75h-.5a.75.75 0 010-1.5h.5a.75.75 0 01.75.75zm2.25.75a.75.75 0 000-1.5h-.5a.75.75 0 000 1.5h.5z",fr:"evenodd"},Pf={w:16,h:16,d:"M7.823 1.677L4.927 4.573A.25.25 0 005.104 5H7.25v3.236a.75.75 0 101.5 0V5h2.146a.25.25 0 00.177-.427L8.177 1.677a.25.25 0 00-.354 0zM13.75 11a.75.75 0 000 1.5h.5a.75.75 0 000-1.5h-.5zm-3.75.75a.75.75 0 01.75-.75h.5a.75.75 0 010 1.5h-.5a.75.75 0 01-.75-.75zM7.75 11a.75.75 0 000 1.5h.5a.75.75 0 000-1.5h-.5zM4 11.75a.75.75 0 01.75-.75h.5a.75.75 0 010 1.5h-.5a.75.75 0 01-.75-.75zM1.75 11a.75.75 0 000 1.5h.5a.75.75 0 000-1.5h-.5z",fr:"evenodd"},If={w:16,h:16,d:"M7.429 1.525a6.593 6.593 0 011.142 0c.036.003.108.036.137.146l.289 1.105c.147.56.55.967.997 1.189.174.086.341.183.501.29.417.278.97.423 1.53.27l1.102-.303c.11-.03.175.016.195.046.219.31.41.641.573.989.014.031.022.11-.059.19l-.815.806c-.411.406-.562.957-.53 1.456a4.588 4.588 0 010 .582c-.032.499.119 1.05.53 1.456l.815.806c.08.08.073.159.059.19a6.494 6.494 0 01-.573.99c-.02.029-.086.074-.195.045l-1.103-.303c-.559-.153-1.112-.008-1.529.27-.16.107-.327.204-.5.29-.449.222-.851.628-.998 1.189l-.289 1.105c-.029.11-.101.143-.137.146a6.613 6.613 0 01-1.142 0c-.036-.003-.108-.037-.137-.146l-.289-1.105c-.147-.56-.55-.967-.997-1.189a4.502 4.502 0 01-.501-.29c-.417-.278-.97-.423-1.53-.27l-1.102.303c-.11.03-.175-.016-.195-.046a6.492 6.492 0 01-.573-.989c-.014-.031-.022-.11.059-.19l.815-.806c.411-.406.562-.957.53-1.456a4.587 4.587 0 010-.582c.032-.499-.119-1.05-.53-1.456l-.815-.806c-.08-.08-.073-.159-.059-.19a6.44 6.44 0 01.573-.99c.02-.029.086-.075.195-.045l1.103.303c.559.153 1.112.008 1.529-.27.16-.107.327-.204.5-.29.449-.222.851-.628.998-1.189l.289-1.105c.029-.11.101-.143.137-.146zM8 0c-.236 0-.47.01-.701.03-.743.065-1.29.615-1.458 1.261l-.29 1.106c-.017.066-.078.158-.211.224a5.994 5.994 0 00-.668.386c-.123.082-.233.09-.3.071L3.27 2.776c-.644-.177-1.392.02-1.82.63a7.977 7.977 0 00-.704 1.217c-.315.675-.111 1.422.363 1.891l.815.806c.05.048.098.147.088.294a6.084 6.084 0 000 .772c.01.147-.038.246-.088.294l-.815.806c-.474.469-.678 1.216-.363 1.891.2.428.436.835.704 1.218.428.609 1.176.806 1.82.63l1.103-.303c.066-.019.176-.011.299.071.213.143.436.272.668.386.133.066.194.158.212.224l.289 1.106c.169.646.715 1.196 1.458 1.26a8.094 8.094 0 001.402 0c.743-.064 1.29-.614 1.458-1.26l.29-1.106c.017-.066.078-.158.211-.224a5.98 5.98 0 00.668-.386c.123-.082.233-.09.3-.071l1.102.302c.644.177 1.392-.02 1.82-.63.268-.382.505-.789.704-1.217.315-.675.111-1.422-.364-1.891l-.814-.806c-.05-.048-.098-.147-.088-.294a6.1 6.1 0 000-.772c-.01-.147.039-.246.088-.294l.814-.806c.475-.469.679-1.216.364-1.891a7.992 7.992 0 00-.704-1.218c-.428-.609-1.176-.806-1.82-.63l-1.103.303c-.066.019-.176.011-.299-.071a5.991 5.991 0 00-.668-.386c-.133-.066-.194-.158-.212-.224L10.16 1.29C9.99.645 9.444.095 8.701.031A8.094 8.094 0 008 0zm1.5 8a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM11 8a3 3 0 11-6 0 3 3 0 016 0z",fr:"evenodd"},Mf={w:16,h:16,d:"M11.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122V6A2.5 2.5 0 0110 8.5H6a1 1 0 00-1 1v1.128a2.251 2.251 0 11-1.5 0V5.372a2.25 2.25 0 111.5 0v1.836A2.492 2.492 0 016 7h4a1 1 0 001-1v-.628A2.25 2.25 0 019.5 3.25zM4.25 12a.75.75 0 100 1.5.75.75 0 000-1.5zM3.5 3.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0z",fr:"evenodd"},Ff={w:16,h:16,d:"M10.5 7.75a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0zm1.43.75a4.002 4.002 0 01-7.86 0H.75a.75.75 0 110-1.5h3.32a4.001 4.001 0 017.86 0h3.32a.75.75 0 110 1.5h-3.32z",fr:"evenodd"},Nf={w:16,h:16,d:"M5 3.254V3.25v.005a.75.75 0 110-.005v.004zm.45 1.9a2.25 2.25 0 10-1.95.218v5.256a2.25 2.25 0 101.5 0V7.123A5.735 5.735 0 009.25 9h1.378a2.251 2.251 0 100-1.5H9.25a4.25 4.25 0 01-3.8-2.346zM12.75 9a.75.75 0 100-1.5.75.75 0 000 1.5zm-8.5 4.5a.75.75 0 100-1.5.75.75 0 000 1.5z",fr:"evenodd"},Bf={w:16,h:16,d:"M7.177 3.073L9.573.677A.25.25 0 0110 .854v4.792a.25.25 0 01-.427.177L7.177 3.427a.25.25 0 010-.354zM3.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122v5.256a2.251 2.251 0 11-1.5 0V5.372A2.25 2.25 0 011.5 3.25zM11 2.5h-1V4h1a1 1 0 011 1v5.628a2.251 2.251 0 101.5 0V5A2.5 2.5 0 0011 2.5zm1 10.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0zM3.75 12a.75.75 0 100 1.5.75.75 0 000-1.5z",fr:"evenodd"},Lf={w:16,h:16,d:"M2.5 3.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0zM3.25 1a2.25 2.25 0 00-.75 4.372v5.256a2.251 2.251 0 101.5 0V5.372A2.25 2.25 0 003.25 1zm0 11a.75.75 0 100 1.5.75.75 0 000-1.5zm9.5 3a2.25 2.25 0 100-4.5 2.25 2.25 0 000 4.5zm0-3a.75.75 0 100 1.5.75.75 0 000-1.5zM14 7.5a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zm0-4.25a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0z",fr:"evenodd"},Hf={w:16,h:16,d:"M8.156 1.835a.25.25 0 00-.312 0l-5.25 4.2a.25.25 0 00-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 01.75-.75h3.5a.75.75 0 01.75.75v5.25h2.75a.25.25 0 00.25-.25V6.23a.25.25 0 00-.094-.195l-5.25-4.2zM6.906.664a1.75 1.75 0 012.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0113.25 15h-3.5a.75.75 0 01-.75-.75V9H7v5.25a.75.75 0 01-.75.75h-3.5A1.75 1.75 0 011 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2h-.001z",fr:"evenodd"},Uf={w:16,h:16,d:"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z",fr:"evenodd"},jf={w:16,h:16,d:"M8 1.5a6.491 6.491 0 00-5.285 2.715l1.358 1.358A.25.25 0 013.896 6H.25A.25.25 0 010 5.75V2.104a.25.25 0 01.427-.177l1.216 1.216a8 8 0 0114.315 4.03.748.748 0 01-.668.83.75.75 0 01-.824-.676A6.501 6.501 0 008 1.5zM.712 8.004a.75.75 0 01.822.67 6.501 6.501 0 0011.751 3.111l-1.358-1.358a.25.25 0 01.177-.427h3.646a.25.25 0 01.25.25v3.646a.25.25 0 01-.427.177l-1.216-1.216A8 8 0 01.042 8.827a.75.75 0 01.67-.823zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-6.25a.75.75 0 00-1.5 0v3.5a.75.75 0 001.5 0v-3.5z",fr:"evenodd"},Wf={w:16,h:16,d:"M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 01-1.484.211c-.04-.282-.163-.547-.37-.847a8.695 8.695 0 00-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.75.75 0 01-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75zM6 15.25a.75.75 0 01.75-.75h2.5a.75.75 0 010 1.5h-2.5a.75.75 0 01-.75-.75zM5.75 12a.75.75 0 000 1.5h4.5a.75.75 0 000-1.5h-4.5z",fr:"evenodd"},zf={w:16,h:16,d:"M10.604 1h4.146a.25.25 0 01.25.25v4.146a.25.25 0 01-.427.177L13.03 4.03 9.28 7.78a.75.75 0 01-1.06-1.06l3.75-3.75-1.543-1.543A.25.25 0 0110.604 1zM3.75 2A1.75 1.75 0 002 3.75v8.5c0 .966.784 1.75 1.75 1.75h8.5A1.75 1.75 0 0014 12.25v-3.5a.75.75 0 00-1.5 0v3.5a.25.25 0 01-.25.25h-8.5a.25.25 0 01-.25-.25v-8.5a.25.25 0 01.25-.25h3.5a.75.75 0 000-1.5h-3.5z",fr:"evenodd"},Gf={w:16,h:16,d:"M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z",fr:"evenodd"},qf={w:16,h:16,d:"M4 4v2h-.25A1.75 1.75 0 002 7.75v5.5c0 .966.784 1.75 1.75 1.75h8.5A1.75 1.75 0 0014 13.25v-5.5A1.75 1.75 0 0012.25 6H12V4a4 4 0 10-8 0zm6.5 2V4a2.5 2.5 0 00-5 0v2h5zM12 7.5h.25a.25.25 0 01.25.25v5.5a.25.25 0 01-.25.25h-8.5a.25.25 0 01-.25-.25v-5.5a.25.25 0 01.25-.25H12z",fr:"evenodd"},Vf={w:16,h:16,d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z",fr:"evenodd"},$f={w:16,h:16,d:"M7.693 1.066a.75.75 0 01.614 0l7.25 3.25a.75.75 0 010 1.368L13 6.831v2.794c0 1.024-.81 1.749-1.66 2.173-.893.447-2.075.702-3.34.702-.278 0-.55-.012-.816-.036a.75.75 0 01.133-1.494c.22.02.45.03.683.03 1.082 0 2.025-.221 2.67-.543.69-.345.83-.682.83-.832V7.503L8.307 8.934a.75.75 0 01-.614 0L4 7.28v1.663c.296.105.575.275.812.512.438.438.688 1.059.688 1.796v3a.75.75 0 01-.75.75h-3a.75.75 0 01-.75-.75v-3c0-.737.25-1.358.688-1.796.237-.237.516-.407.812-.512V6.606L.443 5.684a.75.75 0 010-1.368l7.25-3.25zM2.583 5L8 7.428 13.416 5 8 2.572 2.583 5zM2.5 11.25c0-.388.125-.611.25-.735a.704.704 0 01.5-.203c.19 0 .37.071.5.203.125.124.25.347.25.735v2.25H2.5v-2.25z",fr:"evenodd"},Kf={w:16,h:16,d:"M11.134 1.535C9.722 2.562 8.16 4.057 6.889 5.312 5.8 6.387 5.041 7.401 4.575 8.294a3.745 3.745 0 00-3.227 1.054c-.43.431-.69 1.066-.86 1.657a11.982 11.982 0 00-.358 1.914A21.263 21.263 0 000 15.203v.054l.75-.007-.007.75h.054a14.404 14.404 0 00.654-.012 21.243 21.243 0 001.63-.118c.62-.07 1.3-.18 1.914-.357.592-.17 1.226-.43 1.657-.861a3.745 3.745 0 001.055-3.217c.908-.461 1.942-1.216 3.04-2.3 1.279-1.262 2.764-2.825 3.775-4.249.501-.706.923-1.428 1.125-2.096.2-.659.235-1.469-.368-2.07-.606-.607-1.42-.55-2.069-.34-.66.213-1.376.646-2.076 1.155zm-3.95 8.48a3.76 3.76 0 00-1.19-1.192 9.758 9.758 0 011.161-1.607l1.658 1.658a9.853 9.853 0 01-1.63 1.142zM.742 16l.007-.75-.75.008A.75.75 0 00.743 16zM12.016 2.749c-1.224.89-2.605 2.189-3.822 3.384l1.718 1.718c1.21-1.205 2.51-2.597 3.387-3.833.47-.662.78-1.227.912-1.662.134-.444.032-.551.009-.575h-.001V1.78c-.014-.014-.112-.113-.548.027-.432.14-.995.462-1.655.942zM1.62 13.089a19.56 19.56 0 00-.104 1.395 19.55 19.55 0 001.396-.104 10.528 10.528 0 001.668-.309c.526-.151.856-.325 1.011-.48a2.25 2.25 0 00-3.182-3.182c-.155.155-.329.485-.48 1.01a10.515 10.515 0 00-.309 1.67z",fr:"evenodd"},Yf={w:16,h:16,d:"M10.5 5a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0zm.061 3.073a4 4 0 10-5.123 0 6.004 6.004 0 00-3.431 5.142.75.75 0 001.498.07 4.5 4.5 0 018.99 0 .75.75 0 101.498-.07 6.005 6.005 0 00-3.432-5.142z",fr:"evenodd"},Zf={w:16,h:16,d:"M8 2a.75.75 0 01.75.75v4.5h4.5a.75.75 0 010 1.5h-4.5v4.5a.75.75 0 01-1.5 0v-4.5h-4.5a.75.75 0 010-1.5h4.5v-4.5A.75.75 0 018 2z",fr:"evenodd"},Xf={w:16,h:16,d:"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm9 3a1 1 0 11-2 0 1 1 0 012 0zM6.92 6.085c.081-.16.19-.299.34-.398.145-.097.371-.187.74-.187.28 0 .553.087.738.225A.613.613 0 019 6.25c0 .177-.04.264-.077.318a.956.956 0 01-.277.245c-.076.051-.158.1-.258.161l-.007.004a7.728 7.728 0 00-.313.195 2.416 2.416 0 00-.692.661.75.75 0 001.248.832.956.956 0 01.276-.245 6.3 6.3 0 01.26-.16l.006-.004c.093-.057.204-.123.313-.195.222-.149.487-.355.692-.662.214-.32.329-.702.329-1.15 0-.76-.36-1.348-.863-1.725A2.76 2.76 0 008 4c-.631 0-1.155.16-1.572.438-.413.276-.68.638-.849.977a.75.75 0 101.342.67z",fr:"evenodd"},Qf={w:16,h:16,d:"M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z",fr:"evenodd"},Jf={w:16,h:16,d:"M15 0H9v7c0 .55.45 1 1 1h1v1h1V8h3c.55 0 1-.45 1-1V1c0-.55-.45-1-1-1zm-4 7h-1V6h1v1zm4 0h-3V6h3v1zm0-2h-4V1h4v4zM4 5H3V4h1v1zm0-2H3V2h1v1zM2 1h6V0H1C.45 0 0 .45 0 1v12c0 .55.45 1 1 1h2v2l1.5-1.5L6 16v-2h5c.55 0 1-.45 1-1v-3H2V1zm9 10v2H6v-1H3v1H1v-2h10zM3 8h1v1H3V8zm1-1H3V6h1v1z",fr:"evenodd"},em={w:16,h:16,d:"M5 3.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm0 2.122a2.25 2.25 0 10-1.5 0v.878A2.25 2.25 0 005.75 8.5h1.5v2.128a2.251 2.251 0 101.5 0V8.5h1.5a2.25 2.25 0 002.25-2.25v-.878a2.25 2.25 0 10-1.5 0v.878a.75.75 0 01-.75.75h-4.5A.75.75 0 015 6.25v-.878zm3.75 7.378a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm3-8.75a.75.75 0 100-1.5.75.75 0 000 1.5z",fr:"evenodd"},tm={w:24,h:24,d:"M11.31 2.525a9.648 9.648 0 011.38 0c.055.004.135.05.162.16l.351 1.45c.153.628.626 1.08 1.173 1.278.205.074.405.157.6.249a1.832 1.832 0 001.733-.074l1.275-.776c.097-.06.186-.036.228 0 .348.302.674.628.976.976.036.042.06.13 0 .228l-.776 1.274a1.832 1.832 0 00-.074 1.734c.092.195.175.395.248.6.198.547.652 1.02 1.278 1.172l1.45.353c.111.026.157.106.161.161a9.653 9.653 0 010 1.38c-.004.055-.05.135-.16.162l-1.45.351a1.833 1.833 0 00-1.278 1.173 6.926 6.926 0 01-.25.6 1.832 1.832 0 00.075 1.733l.776 1.275c.06.097.036.186 0 .228a9.555 9.555 0 01-.976.976c-.042.036-.13.06-.228 0l-1.275-.776a1.832 1.832 0 00-1.733-.074 6.926 6.926 0 01-.6.248 1.833 1.833 0 00-1.172 1.278l-.353 1.45c-.026.111-.106.157-.161.161a9.653 9.653 0 01-1.38 0c-.055-.004-.135-.05-.162-.16l-.351-1.45a1.833 1.833 0 00-1.173-1.278 6.928 6.928 0 01-.6-.25 1.832 1.832 0 00-1.734.075l-1.274.776c-.097.06-.186.036-.228 0a9.56 9.56 0 01-.976-.976c-.036-.042-.06-.13 0-.228l.776-1.275a1.832 1.832 0 00.074-1.733 6.948 6.948 0 01-.249-.6 1.833 1.833 0 00-1.277-1.172l-1.45-.353c-.111-.026-.157-.106-.161-.161a9.648 9.648 0 010-1.38c.004-.055.05-.135.16-.162l1.45-.351a1.833 1.833 0 001.278-1.173 6.95 6.95 0 01.249-.6 1.832 1.832 0 00-.074-1.734l-.776-1.274c-.06-.097-.036-.186 0-.228.302-.348.628-.674.976-.976.042-.036.13-.06.228 0l1.274.776a1.832 1.832 0 001.734.074 6.95 6.95 0 01.6-.249 1.833 1.833 0 001.172-1.277l.353-1.45c.026-.111.106-.157.161-.161zM12 1c-.268 0-.534.01-.797.028-.763.055-1.345.617-1.512 1.304l-.352 1.45c-.02.078-.09.172-.225.22a8.45 8.45 0 00-.728.303c-.13.06-.246.044-.315.002l-1.274-.776c-.604-.368-1.412-.354-1.99.147-.403.348-.78.726-1.129 1.128-.5.579-.515 1.387-.147 1.99l.776 1.275c.042.069.059.185-.002.315a8.45 8.45 0 00-.302.728c-.05.135-.143.206-.221.225l-1.45.352c-.687.167-1.249.749-1.304 1.512a11.149 11.149 0 000 1.594c.055.763.617 1.345 1.304 1.512l1.45.352c.078.02.172.09.22.225.09.248.191.491.303.729.06.129.044.245.002.314l-.776 1.274c-.368.604-.354 1.412.147 1.99.348.403.726.78 1.128 1.129.579.5 1.387.515 1.99.147l1.275-.776c.069-.042.185-.059.315.002.237.112.48.213.728.302.135.05.206.143.225.221l.352 1.45c.167.687.749 1.249 1.512 1.303a11.125 11.125 0 001.594 0c.763-.054 1.345-.616 1.512-1.303l.352-1.45c.02-.078.09-.172.225-.22.248-.09.491-.191.729-.303.129-.06.245-.044.314-.002l1.274.776c.604.368 1.412.354 1.99-.147.403-.348.78-.726 1.129-1.128.5-.579.515-1.387.147-1.99l-.776-1.275c-.042-.069-.059-.185.002-.315.112-.237.213-.48.302-.728.05-.135.143-.206.221-.225l1.45-.352c.687-.167 1.249-.749 1.303-1.512a11.125 11.125 0 000-1.594c-.054-.763-.616-1.345-1.303-1.512l-1.45-.352c-.078-.02-.172-.09-.22-.225a8.469 8.469 0 00-.303-.728c-.06-.13-.044-.246-.002-.315l.776-1.274c.368-.604.354-1.412-.147-1.99-.348-.403-.726-.78-1.128-1.129-.579-.5-1.387-.515-1.99-.147l-1.275.776c-.069.042-.185.059-.315-.002a8.465 8.465 0 00-.728-.302c-.135-.05-.206-.143-.225-.221l-.352-1.45c-.167-.687-.749-1.249-1.512-1.304A11.149 11.149 0 0012 1zm2.5 11a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0zm1.5 0a4 4 0 11-8 0 4 4 0 018 0z",fr:"evenodd"},nm={w:16,h:16,d:"M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zm3.28 5.78a.75.75 0 00-1.06-1.06l-5.5 5.5a.75.75 0 101.06 1.06l5.5-5.5z",fr:"evenodd"},rm={w:16,h:16,d:"M5.75 4A1.75 1.75 0 004 5.75v4.5c0 .966.784 1.75 1.75 1.75h4.5A1.75 1.75 0 0012 10.25v-4.5A1.75 1.75 0 0010.25 4h-4.5z",fr:"evenodd"},im={w:16,h:16,d:"M4.47.22A.75.75 0 015 0h6a.75.75 0 01.53.22l4.25 4.25c.141.14.22.331.22.53v6a.75.75 0 01-.22.53l-4.25 4.25A.75.75 0 0111 16H5a.75.75 0 01-.53-.22L.22 11.53A.75.75 0 010 11V5a.75.75 0 01.22-.53L4.47.22zm.84 1.28L1.5 5.31v5.38l3.81 3.81h5.38l3.81-3.81V5.31L10.69 1.5H5.31zM8 4a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 018 4zm0 8a1 1 0 100-2 1 1 0 000 2z",fr:"evenodd"},om={w:16,h:16,d:"M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z",fr:"evenodd"},sm={w:16,h:16,d:"M4.427 6.427l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 6H4.604a.25.25 0 00-.177.427z",fr:void 0},am={w:16,h:16,d:"M4.427 9.573l3.396-3.396a.25.25 0 01.354 0l3.396 3.396a.25.25 0 01-.177.427H4.604a.25.25 0 01-.177-.427z",fr:void 0},lm={w:16,h:16,d:"M8.177.677l2.896 2.896a.25.25 0 01-.177.427H8.75v1.25a.75.75 0 01-1.5 0V4H5.104a.25.25 0 01-.177-.427L7.823.677a.25.25 0 01.354 0zM7.25 10.75a.75.75 0 011.5 0V12h2.146a.25.25 0 01.177.427l-2.896 2.896a.25.25 0 01-.354 0l-2.896-2.896A.25.25 0 015.104 12H7.25v-1.25zm-5-2a.75.75 0 000-1.5h-.5a.75.75 0 000 1.5h.5zM6 8a.75.75 0 01-.75.75h-.5a.75.75 0 010-1.5h.5A.75.75 0 016 8zm2.25.75a.75.75 0 000-1.5h-.5a.75.75 0 000 1.5h.5zM12 8a.75.75 0 01-.75.75h-.5a.75.75 0 010-1.5h.5A.75.75 0 0112 8zm2.25.75a.75.75 0 000-1.5h-.5a.75.75 0 000 1.5h.5z",fr:"evenodd"},cm={w:16,h:16,d:"M8.53 1.22a.75.75 0 00-1.06 0L3.72 4.97a.75.75 0 001.06 1.06l2.47-2.47v6.69a.75.75 0 001.5 0V3.56l2.47 2.47a.75.75 0 101.06-1.06L8.53 1.22zM3.75 13a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5z",fr:"evenodd"},um={w:16,h:16,d:"M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z",fr:"evenodd"},hm={w:24,h:24,d:"M1 12C1 5.925 5.925 1 12 1s11 4.925 11 11-4.925 11-11 11S1 18.075 1 12zm8.036-4.024a.75.75 0 00-1.06 1.06L10.939 12l-2.963 2.963a.75.75 0 101.06 1.06L12 13.06l2.963 2.964a.75.75 0 001.061-1.06L13.061 12l2.963-2.964a.75.75 0 10-1.06-1.06L12 10.939 9.036 7.976z",fr:"evenodd"};function pm(){return or()?26:22}class dm extends de.Component{constructor(){super(...arguments),this.getStyle=Jn(e=>{const t={height:pm()};return void 0!==e&&(t.zoom=1/e),t}),this.onTitlebarDoubleClickDarwin=async()=>{switch(await q()){case"Minimize":j();break;case"None":return;default:await G()?z():W()}}}render(){this.props.windowState,this.props.windowState;const e="light"===this.props.titleBarStyle?"light-title-bar":"",t=this.props.showAppIcon?de.createElement(cf,{className:"app-icon",symbol:Vf}):null,n=this.onTitlebarDoubleClickDarwin;return de.createElement("div",{className:e,id:"desktop-app-title-bar",onDoubleClick:n,style:this.getStyle(this.props.windowZoomFactor)},null,null,t,this.props.children,null)}}class fm extends de.Component{constructor(e){super(e),this.infoDisappearTimeoutId=null,this.transitionGroupDisappearTimeoutId=null,this.onInfoDisappearTimeout=()=>{this.setState({renderInfo:!1})},this.onTransitionGroupDisappearTimeout=()=>{this.setState({renderTransitionGroup:!1})},this.state={windowZoomFactor:e.windowZoomFactor,renderTransitionGroup:!1,renderInfo:!1,transitionName:"zoom-in"}}componentWillReceiveProps(e){const t=this.state.windowZoomFactor!==e.windowZoomFactor;if(!t)return;null!==this.infoDisappearTimeoutId&&window.clearTimeout(this.infoDisappearTimeoutId),null!==this.transitionGroupDisappearTimeoutId&&window.clearTimeout(this.transitionGroupDisappearTimeoutId),this.infoDisappearTimeoutId=window.setTimeout(this.onInfoDisappearTimeout,750),this.transitionGroupDisappearTimeoutId=window.setTimeout(this.onTransitionGroupDisappearTimeout,950);const n=e.windowZoomFactor>this.state.windowZoomFactor?"zoom-in":"zoom-out";this.setState({windowZoomFactor:e.windowZoomFactor,renderTransitionGroup:t,renderInfo:t,transitionName:n})}renderZoomInfo(){if(!this.state.renderInfo)return null;const e=(100*this.state.windowZoomFactor).toFixed(0)+"%";return de.createElement(qe,{classNames:this.state.transitionName,appear:!0,enter:!1,exit:!0,timeout:100},de.createElement("div",null,de.createElement("span",null,e)))}render(){return this.state.renderTransitionGroup?de.createElement(Oe,{id:"window-zoom-info"},this.renderZoomInfo()):null}}const mm={appear:100,exit:250};class gm extends de.Component{constructor(e){super(e),this.infoDisappearTimeoutId=null,this.transitionGroupDisappearTimeoutId=null,this.onInfoDisappearTimeout=()=>{this.setState({renderInfo:!1})},this.onTransitionGroupDisappearTimeout=()=>{this.setState({renderTransitionGroup:!1})},this.state={renderInfo:!1,renderTransitionGroup:!1}}static getDerivedStateFromProps(e,t){if("hidden"===e.windowState)return null;if(t.windowState!==e.windowState){const t="full-screen"===e.windowState;return{windowState:e.windowState,renderInfo:t,renderTransitionGroup:t}}return null}componentDidMount(){this.state.renderInfo&&this.scheduleInfoDisappear(),this.state.renderTransitionGroup&&this.scheduleTransitionGroupDisappear()}componentDidUpdate(e,t){t.renderInfo!==this.state.renderInfo&&(this.state.renderInfo?this.scheduleInfoDisappear():this.clearInfoDisappearTimeout()),t.renderTransitionGroup!==this.state.renderTransitionGroup&&(this.state.renderTransitionGroup?this.scheduleTransitionGroupDisappear():this.clearTransitionGroupDisappearTimeout())}componentWillUnmount(){this.clearInfoDisappearTimeout(),this.clearTransitionGroupDisappearTimeout()}scheduleInfoDisappear(){this.infoDisappearTimeoutId=window.setTimeout(this.onInfoDisappearTimeout,3e3)}clearInfoDisappearTimeout(){null!==this.infoDisappearTimeoutId&&(window.clearTimeout(this.infoDisappearTimeoutId),this.infoDisappearTimeoutId=null)}scheduleTransitionGroupDisappear(){this.transitionGroupDisappearTimeoutId=window.setTimeout(this.onTransitionGroupDisappearTimeout,mm.appear+3e3+mm.exit)}clearTransitionGroupDisappearTimeout(){null!==this.transitionGroupDisappearTimeoutId&&(window.clearTimeout(this.transitionGroupDisappearTimeoutId),this.transitionGroupDisappearTimeoutId=null)}renderFullScreenNotification(){if(!this.state.renderInfo)return null;return de.createElement(qe,{classNames:"toast-animation",appear:!0,enter:!1,exit:!0,timeout:mm},de.createElement("div",{key:"notification",className:"toast-notification"},"Press ",de.createElement("kbd",null,"F")," to exit fullscreen"))}render(){return this.state.renderTransitionGroup?de.createElement(Oe,{className:"toast-notification-container"},this.renderFullScreenNotification()):null}}function ym(e){if(e instanceof Yr)return wf;if(e.missing)return hf;const t=e.gitHubRepository;return t?t.isPrivate?qf:t.fork?em:Qf:Cf}function vm(e){switch(e.kind){case ii.New:case ii.Untracked:return Ef;case ii.Modified:return kf;case ii.Deleted:return xf;case ii.Renamed:return Df;case ii.Conflicted:if(Di(e)){return e.conflictMarkerCount>0?hf:mf}return hf;case ii.Copied:return Ef;default:return Ze(0,"Unknown file status "+e)}}const bm={w:16,h:16,d:"M8 2.5c1.645 0 3.123.722 4.131 1.869l-1.204 1.204a.25.25 0 0 0 .177.427h3.646a.25.25 0 0 0 .25-.25V2.104a.25.25 0 0 0-.427-.177l-1.38 1.38A7.001 7.001 0 0 0 1.05 7.16a.75.75 0 1 0 1.49.178A5.501 5.501 0 0 1 8 2.5zm6.294 5.505a.75.75 0 0 0-.833.656 5.501 5.501 0 0 1-9.592 2.97l1.204-1.204A.25.25 0 0 0 4.896 10H1.25a.25.25 0 0 0-.25.25v3.646c0 .223.27.335.427.177l1.38-1.38A7.001 7.001 0 0 0 14.95 8.84a.75.75 0 0 0-.657-.834z",fr:"evenodd"};function wm(e){switch(e.toLowerCase()){case"cmdorctrl":case"commandorcontrol":return"";case"ctrl":case"control":return"";case"shift":return"";case"alt":return"";case"cmd":case"command":return"";case"option":return"";case" ":return"Space"}return e}async function Cm(e,t=!1){const n=await ee(function e(t){return t.map(t=>Object.assign(Object.assign({},t),{action:void 0,submenu:t.submenu?e(t.submenu):void 0}))}(e),t);if(null!==n){const t=function(e,t){let n={submenu:e};for(const e of t){if(void 0===n||void 0===n.submenu)return;n=n.submenu[e]}return n}(e,n);void 0!==t&&void 0!==t.action&&t.action()}}const Sm=({text:e,highlight:t})=>de.createElement("span",null,e.split("").map((e,n)=>[e,t.includes(n)]).concat([["",!1]]).reduce((e,[t,n],r,i)=>{if(n===e.matched&&r<i.length-1)e.str+=t;else{const i=e.matched?"mark":"span";e.result.push(de.createElement(i,{key:r},e.str)),e.str=t,e.matched=n}return e},{matched:!1,str:"",result:new Array}).result)
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */;function Em(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;class km extends de.Component{constructor(){super(...arguments),this.wrapperRef=Qd()}render(){const e=this.props,{tooltip:t,tagName:n,children:r,className:i,tooltipClassName:o}=e,s=Em(e,["tooltip","tagName","children","className","tooltipClassName"]);return de.createElement(null!=n?n:"span",{ref:this.wrapperRef,className:i,children:de.createElement(de.Fragment,null,void 0!==t&&de.createElement(of,Object.assign({target:this.wrapperRef,className:o},s),t),r)})}}class xm extends de.Component{constructor(){super(...arguments),this.listItemRef=Qd(),this.onContextMenu=e=>{e.preventDefault();const t=this.props.repository,n=t instanceof vi&&t.missing,r=t instanceof vi&&null!=t.gitHubRepository,i=this.props.externalEditorLabel?" "+this.props.externalEditorLabel+" ":"";Cm([...this.buildAliasMenuItems(),{label:"Copy Repo Name",action:this.copyToClipboard},{type:"separator"},{label:"Github",action:this.viewOnGitHub,enabled:r},{label:" "+this.props.shellLabel+" ",action:this.openInShell,enabled:!n},{label:"Reveal in Finder",action:this.showRepository,enabled:!n},{label:i,action:this.openInExternalEditor,enabled:!n},{type:"separator"},{label:this.props.askForConfirmationOnRemoveRepository?"Remove":"Remove",action:this.removeRepository}])},this.removeRepository=()=>{this.props.onRemoveRepository(this.props.repository)},this.showRepository=()=>{this.props.onShowRepository(this.props.repository)},this.viewOnGitHub=()=>{this.props.onViewOnGitHub(this.props.repository)},this.openInShell=()=>{this.props.onOpenInShell(this.props.repository)},this.openInExternalEditor=()=>{this.props.onOpenInExternalEditor(this.props.repository)},this.changeAlias=()=>{this.props.repository instanceof vi&&this.props.onChangeRepositoryAlias(this.props.repository)},this.removeAlias=()=>{this.props.repository instanceof vi&&this.props.onRemoveRepositoryAlias(this.props.repository)},this.copyToClipboard=()=>{y.clipboard.writeText(this.props.repository.name)}}render(){const e=this.props.repository,t=e instanceof vi?e.gitHubRepository:null,n=this.props.changedFilesCount>0,r=e instanceof vi?e.alias:null;let i=null;this.props.needsDisambiguation&&t&&(i=t.owner.login+"/");const o=al()("name",{alias:null!==r});return de.createElement("div",{onContextMenu:this.onContextMenu,className:"repository-list-item",ref:this.listItemRef},de.createElement(of,{target:this.listItemRef},this.renderTooltip()),de.createElement(cf,{className:"icon-for-repository",symbol:ym(e)}),de.createElement("div",{className:al()(o)},i?de.createElement("span",{className:"prefix"},i):null,de.createElement(Sm,{text:null!=r?r:e.name,highlight:this.props.matches.title})),e instanceof vi&&Dm({aheadBehind:this.props.aheadBehind,hasChanges:n}))}renderTooltip(){const e=this.props.repository,t=e instanceof vi?e.gitHubRepository:null,n=e instanceof vi?e.alias:null,r=t?t.fullName:e.name;return de.createElement(de.Fragment,null,de.createElement("div",null,de.createElement("strong",null,r),n&&de.createElement(de.Fragment,null," (",n,")")),de.createElement("div",null,e.path))}shouldComponentUpdate(e){return!(e.repository instanceof vi&&this.props.repository instanceof vi)||(e.repository.id!==this.props.repository.id||e.matches!==this.props.matches)}buildAliasMenuItems(){const e=this.props.repository;if(!(e instanceof vi))return[];const t=[{label:(null==e.alias?"Create":"Change")+" Alias",action:this.changeAlias}];return null!==e.alias&&t.push({label:"Remove Alias",action:this.removeAlias}),t}}const Dm=e=>de.createElement("div",{className:"repo-indicators"},e.aheadBehind&&_m(e.aheadBehind),e.hasChanges&&Tm()),_m=e=>{const{ahead:t,behind:n}=e;if(0===t&&0===n)return null;const r="The currently checked out branch is"+(n?` ${Rm(n)} behind `:"")+(n&&t?"and":"")+(t?` ${Rm(t)} ahead of `:"")+"its tracked branch.";return de.createElement("div",{className:"ahead-behind",title:r},t>0&&de.createElement(cf,{symbol:ff}),n>0&&de.createElement(cf,{symbol:pf}))},Tm=()=>de.createElement(km,{className:"change-indicator-wrapper",tooltip:"There are uncommitted changes in this repository"},de.createElement(cf,{symbol:_f})),Rm=e=>`${e} commit${e>1?"s":""}`;var Am;!function(e){e.Enterprise="_Enterprise_",e.NonGitHub="_Non-GitHub_"}(Am||(Am={}));const Om={changedFilesCount:0,aheadBehind:null};function Pm(e,t,n){const r=new Map;for(const n of e){const e=t.find(e=>e.id===n);if(void 0!==e){const t=e instanceof vi?e.alias:null,n=null!=t?t:e.name,i=r.get(n)||0;r.set(n,i+1)}}const i=new Array;for(const o of e){const e=t.find(e=>e.id===o);if(void 0===e)continue;const{aheadBehind:s,changedFilesCount:a}=n.get(o)||Om,l=e instanceof vi?e.alias:null,c=e instanceof vi?[null!=l?l:e.name,Ci(e)]:[e.name],u=r.get(null!=l?l:e.name)||0;i.push({text:c,id:o.toString(),repository:e,needsDisambiguation:u>1,aheadBehind:s,changedFilesCount:a})}return{identifier:"Recent",items:i}}const Im=e=>e instanceof vi&&null!==e.alias?e.alias:e.name;var Mm=n(23),Fm=n.n(Mm),Nm=n(38),Bm=n.n(Nm),Lm=n(19),Hm=n.n(Lm),Um=n(20),jm=n.n(Um),Wm=n(27),zm=n.n(Wm),Gm=n(39),qm=n.n(Gm);function Vm(e){var t;t="undefined"!=typeof window?window:"undefined"!=typeof self?self:global;var n,r="undefined"!=typeof document&&document.attachEvent;if(!r){var i=function(){var e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||function(e){return t.setTimeout(e,20)};return function(t){return e(t)}}(),o=(n=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.clearTimeout,function(e){return n(e)}),s=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},a=function(e){if(!(e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;s(this),this.__resizeRAF__&&o(this.__resizeRAF__),this.__resizeRAF__=i((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))}},l=!1,c="",u="animationstart",h="Webkit Moz O ms".split(" "),p="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),d=document.createElement("fakeelement");if(void 0!==d.style.animationName&&(l=!0),!1===l)for(var f=0;f<h.length;f++)if(void 0!==d.style[h[f]+"AnimationName"]){c="-"+h[f].toLowerCase()+"-",u=p[f],l=!0;break}var m="resizeanim",g="@"+c+"keyframes "+m+" { from { opacity: 0; } to { opacity: 0; } } ",y=c+"animation: 1ms "+m+"; "}return{addResizeListener:function(n,i){if(r)n.attachEvent("onresize",i);else{if(!n.__resizeTriggers__){var o=n.ownerDocument,l=t.getComputedStyle(n);l&&"static"==l.position&&(n.style.position="relative"),function(t){if(!t.getElementById("detectElementResize")){var n=(g||"")+".resize-triggers { "+(y||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=t.head||t.getElementsByTagName("head")[0],i=t.createElement("style");i.id="detectElementResize",i.type="text/css",null!=e&&i.setAttribute("nonce",e),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(t.createTextNode(n)),r.appendChild(i)}}(o),n.__resizeLast__={},n.__resizeListeners__=[],(n.__resizeTriggers__=o.createElement("div")).className="resize-triggers",n.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',n.appendChild(n.__resizeTriggers__),s(n),n.addEventListener("scroll",a,!0),u&&(n.__resizeTriggers__.__animationListener__=function(e){e.animationName==m&&s(n)},n.__resizeTriggers__.addEventListener(u,n.__resizeTriggers__.__animationListener__))}n.__resizeListeners__.push(i)}},removeResizeListener:function(e,t){if(r)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",a,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(u,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}n(61);var $m=function(e){function t(){var e,n,r,i;Hm()(this,t);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return n=r=zm()(this,(e=t.__proto__||Bm()(t)).call.apply(e,[this].concat(s))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var e=r.props,t=e.disableHeight,n=e.disableWidth,i=e.onResize;if(r._parentNode){var o=r._parentNode.offsetHeight||0,s=r._parentNode.offsetWidth||0,a=window.getComputedStyle(r._parentNode)||{},l=parseInt(a.paddingLeft,10)||0,c=parseInt(a.paddingRight,10)||0,u=parseInt(a.paddingTop,10)||0,h=parseInt(a.paddingBottom,10)||0,p=o-u-h,d=s-l-c;(!t&&r.state.height!==p||!n&&r.state.width!==d)&&(r.setState({height:o-u-h,width:s-l-c}),i({height:o,width:s}))}},r._setRef=function(e){r._autoSizer=e},i=n,zm()(r,i)}return qm()(t,e),jm()(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=Vm(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.disableHeight,i=e.disableWidth,o=e.style,s=this.state,a=s.height,l=s.width,c={overflow:"visible"},u={};return r||(c.height=0,u.height=a),i||(c.width=0,u.width=l),de.createElement("div",{className:n,ref:this._setRef,style:Fm()({},c,o)},t(u))}}]),t}(de.PureComponent);$m.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},$m.propTypes=null;var Km=$m,Ym=n(106),Zm=n.n(Ym);function Xm(e){var t=e.cellCount,n=e.cellSize,r=e.computeMetadataCallback,i=e.computeMetadataCallbackProps,o=e.nextCellsCount,s=e.nextCellSize,a=e.nextScrollToIndex,l=e.scrollToIndex,c=e.updateScrollOffsetForScrollToIndex;t===o&&("number"!=typeof n&&"number"!=typeof s||n===s)||(r(i),l>=0&&l===a&&c())}var Qm=n(234),Jm=n.n(Qm),eg=function(){function e(t){var n=t.cellCount,r=t.cellSizeGetter,i=t.estimatedCellSize;Hm()(this,e),this._cellSizeAndPositionData={},this._lastMeasuredIndex=-1,this._lastBatchedIndex=-1,this._cellSizeGetter=r,this._cellCount=n,this._estimatedCellSize=i}return jm()(e,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(e){var t=e.cellCount,n=e.estimatedCellSize,r=e.cellSizeGetter;this._cellCount=t,this._estimatedCellSize=n,this._cellSizeGetter=r}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(e){if(e<0||e>=this._cellCount)throw Error("Requested index "+e+" is outside of range 0.."+this._cellCount);if(e>this._lastMeasuredIndex)for(var t=this.getSizeAndPositionOfLastMeasuredCell(),n=t.offset+t.size,r=this._lastMeasuredIndex+1;r<=e;r++){var i=this._cellSizeGetter({index:r});if(void 0===i||isNaN(i))throw Error("Invalid size returned for cell "+r+" of value "+i);null===i?(this._cellSizeAndPositionData[r]={offset:n,size:0},this._lastBatchedIndex=e):(this._cellSizeAndPositionData[r]={offset:n,size:i},n+=i,this._lastMeasuredIndex=e)}return this._cellSizeAndPositionData[e]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var e=this.getSizeAndPositionOfLastMeasuredCell();return e.offset+e.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,r=e.containerSize,i=e.currentOffset,o=e.targetIndex;if(r<=0)return 0;var s=this.getSizeAndPositionOfCell(o),a=s.offset,l=a-r+s.size,c=void 0;switch(n){case"start":c=a;break;case"end":c=l;break;case"center":c=a-(r-s.size)/2;break;default:c=Math.max(l,Math.min(a,i))}var u=this.getTotalSize();return Math.max(0,Math.min(u-r,c))}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;if(0===this.getTotalSize())return{};var r=n+t,i=this._findNearestCell(n),o=this.getSizeAndPositionOfCell(i);n=o.offset+o.size;for(var s=i;n<r&&s<this._cellCount-1;)s++,n+=this.getSizeAndPositionOfCell(s).size;return{start:i,stop:s}}},{key:"resetCell",value:function(e){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,e-1)}},{key:"_binarySearch",value:function(e,t,n){for(;t<=e;){var r=t+Math.floor((e-t)/2),i=this.getSizeAndPositionOfCell(r).offset;if(i===n)return r;i<n?t=r+1:i>n&&(e=r-1)}return t>0?t-1:0}},{key:"_exponentialSearch",value:function(e,t){for(var n=1;e<this._cellCount&&this.getSizeAndPositionOfCell(e).offset<t;)e+=n,n*=2;return this._binarySearch(Math.min(e,this._cellCount-1),Math.floor(e/2),t)}},{key:"_findNearestCell",value:function(e){if(isNaN(e))throw Error("Invalid offset "+e+" specified");e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredCell(),n=Math.max(0,this._lastMeasuredIndex);return t.offset>=e?this._binarySearch(n,0,e):this._exponentialSearch(n,e)}}]),e}(),tg=function(){return"undefined"!=typeof window&&window.chrome&&window.chrome.webstore?16777100:15e5},ng=function(){function e(t){var n=t.maxScrollSize,r=void 0===n?tg():n,i=Jm()(t,["maxScrollSize"]);Hm()(this,e),this._cellSizeAndPositionManager=new eg(i),this._maxScrollSize=r}return jm()(e,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(e){this._cellSizeAndPositionManager.configure(e)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),i=this.getTotalSize(),o=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:i});return Math.round(o*(i-r))}},{key:"getSizeAndPositionOfCell",value:function(e){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(e)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,r=e.containerSize,i=e.currentOffset,o=e.targetIndex;i=this._safeOffsetToOffset({containerSize:r,offset:i});var s=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:n,containerSize:r,currentOffset:i,targetIndex:o});return this._offsetToSafeOffset({containerSize:r,offset:s})}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;return n=this._safeOffsetToOffset({containerSize:t,offset:n}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:t,offset:n})}},{key:"resetCell",value:function(e){this._cellSizeAndPositionManager.resetCell(e)}},{key:"_getOffsetPercentage",value:function(e){var t=e.containerSize,n=e.offset,r=e.totalSize;return r<=t?0:n/(r-t)}},{key:"_offsetToSafeOffset",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),i=this.getTotalSize();if(r===i)return n;var o=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:r});return Math.round(o*(i-t))}},{key:"_safeOffsetToOffset",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),i=this.getTotalSize();if(r===i)return n;var o=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:i});return Math.round(o*(r-t))}}]),e}(),rg=n(154),ig=n.n(rg);function og(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};return function(n){var r=n.callback,i=n.indices,o=ig()(i),s=!e||o.every((function(e){var t=i[e];return Array.isArray(t)?t.length>0:t>=0})),a=o.length!==ig()(t).length||o.some((function(e){var n=t[e],r=i[e];return Array.isArray(r)?n.join(",")!==r.join(","):n!==r}));t=i,s&&a&&r(i)}}function sg(e){var t=e.cellSize,n=e.cellSizeAndPositionManager,r=e.previousCellsCount,i=e.previousCellSize,o=e.previousScrollToAlignment,s=e.previousScrollToIndex,a=e.previousSize,l=e.scrollOffset,c=e.scrollToAlignment,u=e.scrollToIndex,h=e.size,p=e.sizeJustIncreasedFromZero,d=e.updateScrollIndexCallback,f=n.getCellCount(),m=u>=0&&u<f;m&&(h!==a||p||!i||"number"==typeof t&&t!==i||c!==o||u!==s)?d(u):!m&&f>0&&(h<a||f<r)&&l>n.getTotalSize()-h&&d(f-1)}var ag=n(233),lg=n.n(ag);function cg(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function ug(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function hg(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}cg.__suppressDeprecationWarning=!0,ug.__suppressDeprecationWarning=!0,hg.__suppressDeprecationWarning=!0;var pg=void 0,dg=(pg="undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).requestAnimationFrame||pg.webkitRequestAnimationFrame||pg.mozRequestAnimationFrame||pg.oRequestAnimationFrame||pg.msRequestAnimationFrame||function(e){return pg.setTimeout(e,1e3/60)},fg=pg.cancelAnimationFrame||pg.webkitCancelAnimationFrame||pg.mozCancelAnimationFrame||pg.oCancelAnimationFrame||pg.msCancelAnimationFrame||function(e){pg.clearTimeout(e)},mg=dg,gg=fg,yg=function(e){return gg(e.id)},vg="observed",bg="requested",wg=function(e){function t(e){Hm()(this,t);var n=zm()(this,(t.__proto__||Bm()(t)).call(this,e));n._onGridRenderedMemoizer=og(),n._onScrollMemoizer=og(!1),n._deferredInvalidateColumnIndex=null,n._deferredInvalidateRowIndex=null,n._recomputeScrollLeftFlag=!1,n._recomputeScrollTopFlag=!1,n._horizontalScrollBarSize=0,n._verticalScrollBarSize=0,n._scrollbarPresenceChanged=!1,n._renderedColumnStartIndex=0,n._renderedColumnStopIndex=0,n._renderedRowStartIndex=0,n._renderedRowStopIndex=0,n._styleCache={},n._cellCache={},n._debounceScrollEndedCallback=function(){n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1,needToResetStyleCache:!1})},n._invokeOnGridRenderedHelper=function(){var e=n.props.onSectionRendered;n._onGridRenderedMemoizer({callback:e,indices:{columnOverscanStartIndex:n._columnStartIndex,columnOverscanStopIndex:n._columnStopIndex,columnStartIndex:n._renderedColumnStartIndex,columnStopIndex:n._renderedColumnStopIndex,rowOverscanStartIndex:n._rowStartIndex,rowOverscanStopIndex:n._rowStopIndex,rowStartIndex:n._renderedRowStartIndex,rowStopIndex:n._renderedRowStopIndex}})},n._setScrollingContainerRef=function(e){n._scrollingContainer=e},n._onScroll=function(e){e.target===n._scrollingContainer&&n.handleScrollEvent(e.target)};var r=new ng({cellCount:e.columnCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.columnWidth)(n)},estimatedCellSize:t._getEstimatedColumnSize(e)}),i=new ng({cellCount:e.rowCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.rowHeight)(n)},estimatedCellSize:t._getEstimatedRowSize(e)});return n.state={instanceProps:{columnSizeAndPositionManager:r,rowSizeAndPositionManager:i,prevColumnWidth:e.columnWidth,prevRowHeight:e.rowHeight,prevColumnCount:e.columnCount,prevRowCount:e.rowCount,prevIsScrolling:!0===e.isScrolling,prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:1,scrollDirectionVertical:1,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},e.scrollToRow>0&&(n._initialScrollTop=n._getCalculatedScrollTop(e,n.state)),e.scrollToColumn>0&&(n._initialScrollLeft=n._getCalculatedScrollLeft(e,n.state)),n}return qm()(t,e),jm()(t,[{key:"getOffsetForCell",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alignment,n=void 0===t?this.props.scrollToAlignment:t,r=e.columnIndex,i=void 0===r?this.props.scrollToColumn:r,o=e.rowIndex,s=void 0===o?this.props.scrollToRow:o,a=Fm()({},this.props,{scrollToAlignment:n,scrollToColumn:i,scrollToRow:s});return{scrollLeft:this._getCalculatedScrollLeft(a),scrollTop:this._getCalculatedScrollTop(a)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var t=e.scrollLeft,n=void 0===t?0:t,r=e.scrollTop,i=void 0===r?0:r;if(!(i<0)){this._debounceScrollEnded();var o=this.props,s=o.autoHeight,a=o.autoWidth,l=o.height,c=o.width,u=this.state.instanceProps,h=u.scrollbarSize,p=u.rowSizeAndPositionManager.getTotalSize(),d=u.columnSizeAndPositionManager.getTotalSize(),f=Math.min(Math.max(0,d-c+h),n),m=Math.min(Math.max(0,p-l+h),i);if(this.state.scrollLeft!==f||this.state.scrollTop!==m){var g={isScrolling:!0,scrollDirectionHorizontal:f!==this.state.scrollLeft?f>this.state.scrollLeft?1:-1:this.state.scrollDirectionHorizontal,scrollDirectionVertical:m!==this.state.scrollTop?m>this.state.scrollTop?1:-1:this.state.scrollDirectionVertical,scrollPositionChangeReason:vg};s||(g.scrollTop=m),a||(g.scrollLeft=f),g.needToResetStyleCache=!1,this.setState(g)}this._invokeOnScrollMemoizer({scrollLeft:f,scrollTop:m,totalColumnsWidth:d,totalRowsHeight:p})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,t):t,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,n):n}},{key:"measureAllCells",value:function(){var e=this.props,t=e.columnCount,n=e.rowCount,r=this.state.instanceProps;r.columnSizeAndPositionManager.getSizeAndPositionOfCell(t-1),r.rowSizeAndPositionManager.getSizeAndPositionOfCell(n-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,i=void 0===r?0:r,o=this.props,s=o.scrollToColumn,a=o.scrollToRow,l=this.state.instanceProps;l.columnSizeAndPositionManager.resetCell(n),l.rowSizeAndPositionManager.resetCell(i),this._recomputeScrollLeftFlag=s>=0&&n<=s,this._recomputeScrollTopFlag=a>=0&&i<=a,this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var t=e.columnIndex,n=e.rowIndex,r=this.props.columnCount,i=this.props;r>1&&void 0!==t&&this._updateScrollLeftForScrollToColumn(Fm()({},i,{scrollToColumn:t})),void 0!==n&&this._updateScrollTopForScrollToRow(Fm()({},i,{scrollToRow:n}))}},{key:"componentDidMount",value:function(){var e=this.props,n=e.getScrollbarSize,r=e.height,i=e.scrollLeft,o=e.scrollToColumn,s=e.scrollTop,a=e.scrollToRow,l=e.width,c=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),c.scrollbarSizeMeasured||this.setState((function(e){var t=Fm()({},e,{needToResetStyleCache:!1});return t.instanceProps.scrollbarSize=n(),t.instanceProps.scrollbarSizeMeasured=!0,t})),"number"==typeof i&&i>=0||"number"==typeof s&&s>=0){var u=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:i,scrollTop:s});u&&(u.needToResetStyleCache=!1,this.setState(u))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var h=r>0&&l>0;o>=0&&h&&this._updateScrollLeftForScrollToColumn(),a>=0&&h&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:i||0,scrollTop:s||0,totalColumnsWidth:c.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:c.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props,i=r.autoHeight,o=r.autoWidth,s=r.columnCount,a=r.height,l=r.rowCount,c=r.scrollToAlignment,u=r.scrollToColumn,h=r.scrollToRow,p=r.width,d=this.state,f=d.scrollLeft,m=d.scrollPositionChangeReason,g=d.scrollTop,y=d.instanceProps;this._handleInvalidatedGridSize();var v=s>0&&0===e.columnCount||l>0&&0===e.rowCount;m===bg&&(!o&&f>=0&&(f!==this._scrollingContainer.scrollLeft||v)&&(this._scrollingContainer.scrollLeft=f),!i&&g>=0&&(g!==this._scrollingContainer.scrollTop||v)&&(this._scrollingContainer.scrollTop=g));var b=(0===e.width||0===e.height)&&a>0&&p>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):sg({cellSizeAndPositionManager:y.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:f,scrollToAlignment:c,scrollToIndex:u,size:p,sizeJustIncreasedFromZero:b,updateScrollIndexCallback:function(){return n._updateScrollLeftForScrollToColumn(n.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):sg({cellSizeAndPositionManager:y.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:g,scrollToAlignment:c,scrollToIndex:h,size:a,sizeJustIncreasedFromZero:b,updateScrollIndexCallback:function(){return n._updateScrollTopForScrollToRow(n.props)}}),this._invokeOnGridRenderedHelper(),f!==t.scrollLeft||g!==t.scrollTop){var w=y.rowSizeAndPositionManager.getTotalSize(),C=y.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:f,scrollTop:g,totalColumnsWidth:C,totalRowsHeight:w})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&yg(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoContainerWidth,n=e.autoHeight,r=e.autoWidth,i=e.className,o=e.containerProps,s=e.containerRole,a=e.containerStyle,l=e.height,c=e.id,u=e.noContentRenderer,h=e.role,p=e.style,d=e.tabIndex,f=e.width,m=this.state,g=m.instanceProps,y=m.needToResetStyleCache,v=this._isScrolling(),b={boxSizing:"border-box",direction:"ltr",height:n?"auto":l,position:"relative",width:r?"auto":f,WebkitOverflowScrolling:"touch",willChange:"transform"};y&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var w=g.columnSizeAndPositionManager.getTotalSize(),C=g.rowSizeAndPositionManager.getTotalSize(),S=C>l?g.scrollbarSize:0,E=w>f?g.scrollbarSize:0;E===this._horizontalScrollBarSize&&S===this._verticalScrollBarSize||(this._horizontalScrollBarSize=E,this._verticalScrollBarSize=S,this._scrollbarPresenceChanged=!0),b.overflowX=w+S<=f?"hidden":"auto",b.overflowY=C+E<=l?"hidden":"auto";var k=this._childrenToDisplay,x=0===k.length&&l>0&&f>0;return de.createElement("div",Fm()({ref:this._setScrollingContainerRef},o,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:al()("ReactVirtualized__Grid",i),id:c,onScroll:this._onScroll,role:h,style:Fm()({},b,p),tabIndex:d}),k.length>0&&de.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:s,style:Fm()({width:t?"auto":w,height:C,maxWidth:w,maxHeight:C,overflow:"hidden",pointerEvents:v?"none":"",position:"relative"},a)},k),x&&u())}},{key:"_calculateChildrenToRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=e.cellRenderer,r=e.cellRangeRenderer,i=e.columnCount,o=e.deferredMeasurementCache,s=e.height,a=e.overscanColumnCount,l=e.overscanIndicesGetter,c=e.overscanRowCount,u=e.rowCount,h=e.width,p=e.isScrollingOptOut,d=t.scrollDirectionHorizontal,f=t.scrollDirectionVertical,m=t.instanceProps,g=this._initialScrollTop>0?this._initialScrollTop:t.scrollTop,y=this._initialScrollLeft>0?this._initialScrollLeft:t.scrollLeft,v=this._isScrolling(e,t);if(this._childrenToDisplay=[],s>0&&h>0){var b=m.columnSizeAndPositionManager.getVisibleCellRange({containerSize:h,offset:y}),w=m.rowSizeAndPositionManager.getVisibleCellRange({containerSize:s,offset:g}),C=m.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:h,offset:y}),S=m.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:s,offset:g});this._renderedColumnStartIndex=b.start,this._renderedColumnStopIndex=b.stop,this._renderedRowStartIndex=w.start,this._renderedRowStopIndex=w.stop;var E=l({direction:"horizontal",cellCount:i,overscanCellsCount:a,scrollDirection:d,startIndex:"number"==typeof b.start?b.start:0,stopIndex:"number"==typeof b.stop?b.stop:-1}),k=l({direction:"vertical",cellCount:u,overscanCellsCount:c,scrollDirection:f,startIndex:"number"==typeof w.start?w.start:0,stopIndex:"number"==typeof w.stop?w.stop:-1}),x=E.overscanStartIndex,D=E.overscanStopIndex,_=k.overscanStartIndex,T=k.overscanStopIndex;if(o){if(!o.hasFixedHeight())for(var R=_;R<=T;R++)if(!o.has(R,0)){x=0,D=i-1;break}if(!o.hasFixedWidth())for(var A=x;A<=D;A++)if(!o.has(0,A)){_=0,T=u-1;break}}this._childrenToDisplay=r({cellCache:this._cellCache,cellRenderer:n,columnSizeAndPositionManager:m.columnSizeAndPositionManager,columnStartIndex:x,columnStopIndex:D,deferredMeasurementCache:o,horizontalOffsetAdjustment:C,isScrolling:v,isScrollingOptOut:p,parent:this,rowSizeAndPositionManager:m.rowSizeAndPositionManager,rowStartIndex:_,rowStopIndex:T,scrollLeft:y,scrollTop:g,styleCache:this._styleCache,verticalOffsetAdjustment:S,visibleColumnIndices:b,visibleRowIndices:w}),this._columnStartIndex=x,this._columnStopIndex=D,this._rowStartIndex=_,this._rowStopIndex=T}}},{key:"_debounceScrollEnded",value:function(){var e,t,n,r,i=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&yg(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=(e=this._debounceScrollEndedCallback,t=i,n=Date.now(),r={id:mg((function i(){Date.now()-n>=t?e.call():r.id=mg(i)}))})}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex&&"number"==typeof this._deferredInvalidateRowIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,n=e.scrollLeft,r=e.scrollTop,i=e.totalColumnsWidth,o=e.totalRowsHeight;this._onScrollMemoizer({callback:function(e){var n=e.scrollLeft,r=e.scrollTop,s=t.props,a=s.height;(0,s.onScroll)({clientHeight:a,clientWidth:s.width,scrollHeight:o,scrollLeft:n,scrollTop:r,scrollWidth:i})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?Boolean(e.isScrolling):Boolean(t.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){var n=e.scrollLeft,r=e.scrollTop,i=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:n,scrollTop:r});i&&(i.needToResetStyleCache=!1,this.setState(i))}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollLeft(e,n)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=t._getScrollLeftForScrollToColumnStateUpdate(e,n);r&&(r.needToResetStyleCache=!1,this.setState(r))}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollTop(e,n)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache,t=this._cellCache,n=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var r=this._rowStartIndex;r<=this._rowStopIndex;r++)for(var i=this._columnStartIndex;i<=this._columnStopIndex;i++){var o=r+"-"+i;this._styleCache[o]=e[o],n&&(this._cellCache[o]=t[o])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=t._getScrollTopForScrollToRowStateUpdate(e,n);r&&(r.needToResetStyleCache=!1,this.setState(r))}}],[{key:"getDerivedStateFromProps",value:function(e,n){var r={};0===e.columnCount&&0!==n.scrollLeft||0===e.rowCount&&0!==n.scrollTop?(r.scrollLeft=0,r.scrollTop=0):(e.scrollLeft!==n.scrollLeft&&e.scrollToColumn<0||e.scrollTop!==n.scrollTop&&e.scrollToRow<0)&&Zm()(r,t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var i=n.instanceProps;r.needToResetStyleCache=!1,e.columnWidth===i.prevColumnWidth&&e.rowHeight===i.prevRowHeight||(r.needToResetStyleCache=!0),i.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:t._getEstimatedColumnSize(e),cellSizeGetter:t._wrapSizeGetter(e.columnWidth)}),i.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:t._getEstimatedRowSize(e),cellSizeGetter:t._wrapSizeGetter(e.rowHeight)}),0!==i.prevColumnCount&&0!==i.prevRowCount||(i.prevColumnCount=0,i.prevRowCount=0),e.autoHeight&&!1===e.isScrolling&&!0===i.prevIsScrolling&&Zm()(r,{isScrolling:!1});var o=void 0,s=void 0;return Xm({cellCount:i.prevColumnCount,cellSize:"number"==typeof i.prevColumnWidth?i.prevColumnWidth:null,computeMetadataCallback:function(){return i.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:"number"==typeof e.columnWidth?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:i.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){o=t._getScrollLeftForScrollToColumnStateUpdate(e,n)}}),Xm({cellCount:i.prevRowCount,cellSize:"number"==typeof i.prevRowHeight?i.prevRowHeight:null,computeMetadataCallback:function(){return i.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:"number"==typeof e.rowHeight?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:i.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){s=t._getScrollTopForScrollToRowStateUpdate(e,n)}}),i.prevColumnCount=e.columnCount,i.prevColumnWidth=e.columnWidth,i.prevIsScrolling=!0===e.isScrolling,i.prevRowCount=e.rowCount,i.prevRowHeight=e.rowHeight,i.prevScrollToColumn=e.scrollToColumn,i.prevScrollToRow=e.scrollToRow,i.scrollbarSize=e.getScrollbarSize(),void 0===i.scrollbarSize?(i.scrollbarSizeMeasured=!1,i.scrollbarSize=0):i.scrollbarSizeMeasured=!0,r.instanceProps=i,Fm()({},r,o,s)}},{key:"_getEstimatedColumnSize",value:function(e){return"number"==typeof e.columnWidth?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return"number"==typeof e.rowHeight?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var t=e.prevState,n=e.scrollLeft,r=e.scrollTop,i={scrollPositionChangeReason:bg};return"number"==typeof n&&n>=0&&(i.scrollDirectionHorizontal=n>t.scrollLeft?1:-1,i.scrollLeft=n),"number"==typeof r&&r>=0&&(i.scrollDirectionVertical=r>t.scrollTop?1:-1,i.scrollTop=r),"number"==typeof n&&n>=0&&n!==t.scrollLeft||"number"==typeof r&&r>=0&&r!==t.scrollTop?i:null}},{key:"_wrapSizeGetter",value:function(e){return"function"==typeof e?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,t){var n=e.columnCount,r=e.height,i=e.scrollToAlignment,o=e.scrollToColumn,s=e.width,a=t.scrollLeft,l=t.instanceProps;if(n>0){var c=n-1,u=o<0?c:Math.min(c,o),h=l.rowSizeAndPositionManager.getTotalSize(),p=l.scrollbarSizeMeasured&&h>r?l.scrollbarSize:0;return l.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:i,containerSize:s-p,currentOffset:a,targetIndex:u})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,n){var r=n.scrollLeft,i=t._getCalculatedScrollLeft(e,n);return"number"==typeof i&&i>=0&&r!==i?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:i,scrollTop:-1}):null}},{key:"_getCalculatedScrollTop",value:function(e,t){var n=e.height,r=e.rowCount,i=e.scrollToAlignment,o=e.scrollToRow,s=e.width,a=t.scrollTop,l=t.instanceProps;if(r>0){var c=r-1,u=o<0?c:Math.min(c,o),h=l.columnSizeAndPositionManager.getTotalSize(),p=l.scrollbarSizeMeasured&&h>s?l.scrollbarSize:0;return l.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:i,containerSize:n-p,currentOffset:a,targetIndex:u})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,n){var r=n.scrollTop,i=t._getCalculatedScrollTop(e,n);return"number"==typeof i&&i>=0&&r!==i?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:-1,scrollTop:i}):null}}]),t}(de.PureComponent);wg.defaultProps={"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:function(e){for(var t=e.cellCache,n=e.cellRenderer,r=e.columnSizeAndPositionManager,i=e.columnStartIndex,o=e.columnStopIndex,s=e.deferredMeasurementCache,a=e.horizontalOffsetAdjustment,l=e.isScrolling,c=e.isScrollingOptOut,u=e.parent,h=e.rowSizeAndPositionManager,p=e.rowStartIndex,d=e.rowStopIndex,f=e.styleCache,m=e.verticalOffsetAdjustment,g=e.visibleColumnIndices,y=e.visibleRowIndices,v=[],b=r.areOffsetsAdjusted()||h.areOffsetsAdjusted(),w=!l&&!b,C=p;C<=d;C++)for(var S=h.getSizeAndPositionOfCell(C),E=i;E<=o;E++){var k=r.getSizeAndPositionOfCell(E),x=E>=g.start&&E<=g.stop&&C>=y.start&&C<=y.stop,D=C+"-"+E,_=void 0;w&&f[D]?_=f[D]:s&&!s.has(C,E)?_={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(_={height:S.size,left:k.offset+a,position:"absolute",top:S.offset+m,width:k.size},f[D]=_);var T={columnIndex:E,isScrolling:l,isVisible:x,key:D,parent:u,rowIndex:C,style:_},R=void 0;!c&&!l||a||m?R=n(T):(t[D]||(t[D]=n(T)),R=t[D]),null!=R&&!1!==R&&v.push(R)}return v},containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:lg.a,noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:function(e){var t=e.cellCount,n=e.overscanCellsCount,r=e.scrollDirection,i=e.startIndex,o=e.stopIndex;return 1===r?{overscanStartIndex:Math.max(0,i),overscanStopIndex:Math.min(t-1,o+n)}:{overscanStartIndex:Math.max(0,i-n),overscanStopIndex:Math.min(t-1,o)}},overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1},wg.propTypes=null,function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,i=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?i="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==i){var o=e.displayName||e.name,s="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+o+" uses "+s+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=cg,t.componentWillReceiveProps=ug),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=hg;var a=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;a.call(this,e,t,r)}}}(wg);var Cg=wg;class Sg extends de.Component{constructor(e){super(e),this.wrapperRef=null,this.focusWithinChangedTimeoutId=null,this.onWrapperRef=e=>{e&&(e.addEventListener("focusin",()=>{this.onFocusWithinChanged(!0)}),e.addEventListener("focusout",()=>{this.onFocusWithinChanged(!1)})),this.wrapperRef=e},this.onClick=e=>{this.props.onClick&&this.props.onClick(e)},this.onKeyDown=e=>{this.props.onKeyDown&&this.props.onKeyDown(e)},this.onMouseDown=e=>{e.target===this.wrapperRef&&e.preventDefault()},this.state={focusWithin:!1}}onFocusWithinChanged(e){this.setState({focusWithin:e}),null!==this.focusWithinChangedTimeoutId&&(cancelAnimationFrame(this.focusWithinChangedTimeoutId),this.focusWithinChangedTimeoutId=null),this.focusWithinChangedTimeoutId=requestAnimationFrame(()=>{this.props.onFocusWithinChanged&&this.props.onFocusWithinChanged(e),this.focusWithinChangedTimeoutId=null})}render(){const e=al()("focus-container",this.props.className,{"focus-within":this.state.focusWithin});return de.createElement("div",{className:e,ref:this.onWrapperRef,onClick:this.onClick,onMouseDown:this.onMouseDown,onKeyDown:this.onKeyDown},this.props.children)}}class Eg extends de.Component{constructor(){super(...arguments),this.onRowMouseOver=e=>{this.props.onRowMouseOver(this.props.rowIndex,e)},this.onRowMouseDown=e=>{this.props.onRowMouseDown(this.props.rowIndex,e)},this.onRowMouseUp=e=>{this.props.onRowMouseUp(this.props.rowIndex,e)},this.onRowClick=e=>{this.props.onRowClick(this.props.rowIndex,e)},this.onRowKeyDown=e=>{this.props.onRowKeyDown(this.props.rowIndex,e)}}render(){const e=this.props.selected,t=al()("list-item",{selected:e},{"not-selectable":!1===this.props.selectable},this.props.className),n="menu"===this.props.ariaMode?"menuitem":"option",r=Object.assign(Object.assign({},this.props.style),{width:"100%"});return de.createElement("div",{id:this.props.id,"aria-setsize":this.props.rowCount,"aria-posinset":this.props.rowIndex+1,"aria-selected":this.props.selected,role:n,className:t,tabIndex:this.props.tabIndex,ref:this.props.onRef,onMouseOver:this.onRowMouseOver,onMouseDown:this.onRowMouseDown,onMouseUp:this.onRowMouseUp,onClick:this.onRowClick,onKeyDown:this.onRowKeyDown,style:r},this.props.children)}}function kg(e,t,n=(e=>!0)){if(0===e)return null;const{direction:r,row:i}=t,o=void 0===t.wrap||t.wrap;let s=i<0||i>=e?"up"===r?e-1:0:i;"down"===r&&-1===i&&(s=-1);const a="up"===r?-1:1;for(let t=0;t<e;t++){if(s+=a,s>=e){if(!o)break;s=0}else if(s<0){if(!o)break;s=e-1}if(i!==s&&n(s))return s}return null}function xg(e,t,n){let r="up"===e?0:t-1;const i="up"===e?1:-1;for(;r>=0&&r<t;r+=i)if(n(r))return r;return null}const Dg=new class{constructor(){this._isDragInProgress=!1,this._dragData=null,this.emitter=new nt.Emitter}get isDragInProgress(){return this._isDragInProgress}emitEnterDropTarget(e){this.emitter.emit("enter-drop-target",e)}emitLeaveDropTarget(){this.emitter.emit("leave-drop-target",{})}onEnterDropTarget(e){return this.emitter.on("enter-drop-target",e)}onLeaveDropTarget(e){return this.emitter.on("leave-drop-target",e)}onDragStarted(e){return this.emitter.on("drag-started",e)}onDragEnded(e){return this.emitter.on("drag-ended",e)}dragStarted(){this._isDragInProgress=!0,this.emitter.emit("drag-started",{})}dragEnded(e){this._isDragInProgress=!1,this.emitter.emit("drag-ended",e)}emitEnterDragZone(e){this.emitter.emit("enter-drop-zone",e)}onEnterDragZone(e){return this.emitter.on("enter-drop-zone",e)}setDragData(e){this._dragData=e}get dragData(){return this._dragData}isDragOfTypeInProgress(e){return this._isDragInProgress&&this.isDragOfType(e)}isDragOfType(e){return null!==this._dragData&&this._dragData.type===e}};var _g,Tg,Rg,Ag;!function(e){e[e.Commit=0]="Commit"}(_g||(_g={})),function(e){e[e.Branch=0]="Branch",e[e.Commit=1]="Commit",e[e.ListInsertionPoint=2]="ListInsertionPoint"}(Tg||(Tg={})),function(e){e.Branch=".branches-list-item",e.PullRequest=".pull-request-item",e.Commit=".commit",e.ListInsertionPoint=".list-insertion-point"}(Rg||(Rg={})),function(e){e[e.None=0]="None",e[e.Top=1]="Top",e[e.Bottom=2]="Bottom"}(Ag||(Ag={}));class Og extends de.PureComponent{constructor(e){super(e),this.onDragStartedDisposable=null,this.onDragEndedDisposable=null,this.updateDragInProgressState=()=>{const e=this.isDragInProgress();this.setState({isDragInProgress:e,feedbackType:e?this.state.feedbackType:Ag.None})},this.onInsertionAreaMouseLeave=e=>{this.switchToInsertionFeedbackType(Ag.None)},this.onInsertionAreaMouseUp=()=>{if(this.state.isDragInProgress&&this.state.feedbackType!==Ag.None&&null!==Dg.dragData){if(void 0!==this.props.onDropDataInsertion){let e=this.props.itemIndex;this.state.feedbackType===Ag.Bottom&&e++,this.props.onDropDataInsertion(e,Dg.dragData)}this.switchToInsertionFeedbackType(Ag.None)}},this.state={isDragInProgress:this.isDragInProgress(),feedbackType:Ag.None}}componentDidMount(){this.onDragStartedDisposable=Dg.onDragStarted(this.updateDragInProgressState),this.onDragEndedDisposable=Dg.onDragEnded(e=>{this.updateDragInProgressState()})}componentWillUnmount(){null!==this.onDragStartedDisposable&&(this.onDragStartedDisposable.dispose(),this.onDragStartedDisposable=null),null!==this.onDragEndedDisposable&&(this.onDragEndedDisposable.dispose(),this.onDragEndedDisposable=null)}renderInsertionIndicator(e){const t=e===Ag.Top,n=al()("list-item-insertion-indicator",{top:t,bottom:!t});return de.createElement(de.Fragment,null,de.createElement("div",{className:n+" darwin-circle"}),de.createElement("div",{className:n+" darwin-line"}))}render(){return de.createElement("div",{className:"list-item-insertion-overlay"},this.state.isDragInProgress&&this.renderTopElements(),this.props.children,this.state.isDragInProgress&&this.renderBottomElements())}renderTopElements(){return de.createElement(de.Fragment,null,de.createElement("div",{className:"list-insertion-point top",onMouseEnter:this.getOnInsertionAreaMouseEnter(Ag.Top),onMouseLeave:this.onInsertionAreaMouseLeave,onMouseUp:this.onInsertionAreaMouseUp}),this.state.feedbackType===Ag.Top&&this.renderInsertionIndicator(Ag.Top))}renderBottomElements(){return de.createElement(de.Fragment,null,this.state.feedbackType===Ag.Bottom&&this.renderInsertionIndicator(Ag.Bottom),de.createElement("div",{className:"list-insertion-point bottom",onMouseEnter:this.getOnInsertionAreaMouseEnter(Ag.Bottom),onMouseLeave:this.onInsertionAreaMouseLeave,onMouseUp:this.onInsertionAreaMouseUp}))}isDragInProgress(){return Dg.isDragOfTypeInProgress(this.props.dragType)}getOnInsertionAreaMouseEnter(e){return t=>{this.switchToInsertionFeedbackType(e)}}switchToInsertionFeedbackType(e){(e===Ag.None||this.state.isDragInProgress)&&(this.setState({feedbackType:e}),e===Ag.None?Dg.emitLeaveDropTarget():this.state.isDragInProgress&&null!==Dg.dragData&&Dg.emitEnterDropTarget({type:Tg.ListInsertionPoint,data:Dg.dragData,index:this.props.itemIndex}))}}function Pg(e,t){return function(e,t,n){null===t&&(t=e||0,e=0),n||(n=t<e?-1:1);const r=Math.max(Math.ceil((t-e)/n),0),i=new Array(r);for(let t=0;t<r;t++,e+=n)i[t]=e;return i}(e,t>e?t+1:t-1)}class Ig extends de.Component{constructor(e){super(e),this.fakeScroll=null,this.focusRow=-1,this.gridStyle={overflowX:"hidden"},this.lastScroll=null,this.list=null,this.grid=null,this.resizeObserver=null,this.updateSizeTimeoutId=null,this.onResized=(e,t)=>{this.updateSizeTimeoutId=null;const[n,r]=[e.offsetWidth,e.offsetHeight];this.state.width===n&&this.state.height===r||this.setState({width:n,height:r})},this.onSelectAll=e=>{const t=this.props.selectionMode;if("range"!==t&&"multi"!==t)return;if(e.preventDefault(),this.props.rowCount<=0)return;const n={kind:"select-all"},r=this.props.rowCount-1;if(this.props.onSelectionChanged){const e=Pg(0,r);this.props.onSelectionChanged(e,n)}"range"===t&&this.props.onSelectedRangeChanged&&this.props.onSelectedRangeChanged(0,r,n)},this.onRef=e=>{null===e&&null!==this.list&&this.list.removeEventListener("select-all",this.onSelectAll),this.list=e,null!==e&&e.addEventListener("select-all",this.onSelectAll),this.resizeObserver&&(this.resizeObserver.disconnect(),null!==e?this.resizeObserver.observe(e):this.setState({width:void 0,height:void 0}))},this.onKeyDown=e=>{if(this.props.onRowKeyDown)for(const t of this.props.selectedRows)this.props.onRowKeyDown(t,e);if(e.defaultPrevented)return;const t={kind:"keyboard",event:e},n=e.metaKey&&"ArrowUp"===e.key,r=e.metaKey&&"ArrowDown"===e.key,i=e.shiftKey&&void 0!==this.props.selectionMode&&"single"!==this.props.selectionMode;if(n||r){const r=n?"up":"down";i?this.addSelectionToLastSelectableRow(r,t):this.moveSelectionToLastSelectableRow(r,t),e.preventDefault()}else if("ArrowUp"===e.key||"ArrowDown"===e.key){const n="ArrowUp"===e.key?"up":"down";i?this.addSelection(n,t):this.moveSelection(n,t),e.preventDefault()}else if("PageUp"===e.key||"PageDown"===e.key){const n="PageUp"===e.key?"up":"down";i?this.addSelectionByPage(n,t):this.moveSelectionByPage(n,t),e.preventDefault()}},this.onRowKeyDown=(e,t)=>{this.props.onRowKeyDown&&this.props.onRowKeyDown(e,t),t.defaultPrevented||"Enter"!==t.key&&" "!==t.key||(this.toggleSelection(t),t.preventDefault())},this.onFocusContainerKeyDown=e=>{e.defaultPrevented||"Enter"!==e.key&&" "!==e.key||(this.toggleSelection(e),e.preventDefault())},this.toggleSelection=e=>{this.props.selectedRows.forEach(t=>{if(!this.props.onRowClick)return;const{rowCount:n}=this.props;t<0||t>=n?log.debug(`[List.toggleSelection] unable to onRowClick for row ${t} as it is outside the bounds of the array [0, ${n}]`):this.props.onRowClick(t,{kind:"keyboard",event:e})})},this.onRowMouseOver=(e,t)=>{this.props.selectOnHover&&this.canSelectRow(e)&&this.props.selectedRows.includes(e)&&this.props.onSelectionChanged&&(this.props.onSelectionChanged([e],{kind:"hover",event:t}),this.scrollRowToVisible(e))},this.canSelectRow=e=>!this.props.canSelectRow||this.props.canSelectRow(e),this.onFocusedItemRef=e=>{!1!==this.props.focusOnHover&&null!==e&&e.focus(),this.focusRow=-1},this.renderRow=e=>{const t=e.rowIndex,n=this.canSelectRow(t),r=-1!==this.props.selectedRows.indexOf(t),i=t===this.focusRow;let o=void 0;n&&(o=r&&this.props.selectedRows[0]===t?0:-1);const s=i?this.onFocusedItemRef:void 0,a=this.props.rowRenderer(t),l=void 0!==this.props.insertionDragType?de.createElement(Og,{onDropDataInsertion:this.props.onDropDataInsertion,itemIndex:t,dragType:this.props.insertionDragType},a):a,c=this.state.rowIdPrefix?`${this.state.rowIdPrefix}-${t}`:void 0;return de.createElement(Eg,{key:e.key,id:c,onRef:s,rowCount:this.props.rowCount,rowIndex:t,selected:r,ariaMode:this.props.ariaMode,onRowClick:this.onRowClick,onRowKeyDown:this.onRowKeyDown,onRowMouseDown:this.onRowMouseDown,onRowMouseUp:this.onRowMouseUp,onRowMouseOver:this.onRowMouseOver,style:e.style,tabIndex:o,children:l,selectable:n})},this.onGridRef=e=>{this.grid=e},this.onFakeScrollRef=e=>{this.fakeScroll=e},this.onFakeScroll=e=>{if("grid"!==this.lastScroll){if(this.lastScroll="fake",this.grid){const t=me.findDOMNode(this.grid);t instanceof Element&&(t.scrollTop=e.currentTarget.scrollTop)}}else this.lastScroll=null},this.onRowMouseDown=(e,t)=>{if(this.canSelectRow(e)){this.props.onRowMouseDown&&this.props.onRowMouseDown(e,t);if((2===t.button||0===t.button&&t.ctrlKey)&&this.props.selectedRows.includes(e))return;const n=t.metaKey;if(t.shiftKey&&this.props.selectedRows.length&&this.props.selectionMode&&"single"!==this.props.selectionMode){const n=this.props.selectedRows[0];if(this.props.onSelectionChanged){const r=Pg(n,e);this.props.onSelectionChanged(r,{kind:"mouseclick",event:t})}"range"===this.props.selectionMode&&this.props.onSelectedRangeChanged&&this.props.onSelectedRangeChanged(n,e,{kind:"mouseclick",event:t})}else if(n&&"multi"===this.props.selectionMode){if(this.props.onSelectionChanged){let n;if(this.props.selectedRows.includes(e)){if(1===this.props.selectedRows.length)return;n=this.props.selectedRows.filter(t=>t!==e)}else n=[...this.props.selectedRows,e];this.props.onSelectionChanged(n,{kind:"mouseclick",event:t})}}else("range"===this.props.selectionMode||"multi"===this.props.selectionMode)&&this.props.selectedRows.length>1&&this.props.selectedRows.includes(e)||(1!==this.props.selectedRows.length||1===this.props.selectedRows.length&&e!==this.props.selectedRows[0])&&this.selectSingleRowAfterMouseEvent(e,t)}},this.onRowMouseUp=(e,t)=>{if(!this.canSelectRow(e))return;if((2===t.button||0===t.button&&t.ctrlKey)&&this.props.selectedRows.includes(e))return;const n=t.metaKey;!t.shiftKey&&!n&&this.props.selectedRows.length>1&&this.props.selectedRows.includes(e)&&("range"===this.props.selectionMode||"multi"===this.props.selectionMode)&&this.selectSingleRowAfterMouseEvent(e,t)},this.onRowClick=(e,t)=>{if(this.canSelectRow(e)&&this.props.onRowClick){const n=this.props.rowCount;if(e<0||e>=n)return void log.debug(`[List.onRowClick] unable to onRowClick for row ${e} as it is outside the bounds of the array [0, ${n}]`);this.props.onRowClick(e,{kind:"mouseclick",event:t})}},this.onScroll=({scrollTop:e,clientHeight:t})=>{this.props.onScroll&&this.props.onScroll(e,t)},this.state={};const t=window.ResizeObserver;ResizeObserver&&(this.resizeObserver=new t(e=>{for(const{target:t,contentRect:n}of e)t===this.list&&null!==this.list&&(null!==this.updateSizeTimeoutId&&clearImmediate(this.updateSizeTimeoutId),this.updateSizeTimeoutId=setImmediate(this.onResized,this.list,n))}))}moveSelectionByPage(e,t){const n=this.getNextPageRowIndex(e);this.moveSelectionTo(n,t)}addSelectionByPage(e,t){var n;const{selectedRows:r}=this.props,i=this.getNextPageRowIndex(e),o=Pg(null!==(n=r[0])&&void 0!==n?n:0,i);this.props.onSelectionChanged&&this.props.onSelectionChanged(o,t),this.props.onSelectedRangeChanged&&this.props.onSelectedRangeChanged(o[0],o[o.length-1],t),this.scrollRowToVisible(i)}getNextPageRowIndex(e){var t;const{selectedRows:n}=this.props,r=null!==(t=n[n.length-1])&&void 0!==t?t:0;return this.findNextPageSelectableRow(r,e)}getRowHeight(e){const{rowHeight:t}=this.props;return"number"==typeof t?t:t({index:e})}findNextPageSelectableRow(e,t){const{height:n}=this.state,{rowCount:r}=this.props;if(void 0===n)return e;let i=0,o=e;const s="up"===t?-1:1;for(let t=e;t<r&&t>=0;t+=s){const e=this.getRowHeight(t);if(i+e>n)break;i+=e,this.canSelectRow(t)&&(o=t)}return o}addSelection(e,t){if(0===this.props.selectedRows.length)return this.moveSelection(e,t);const n=this.props.selectedRows[this.props.selectedRows.length-1],r=this.props.selectedRows[0],i=kg(this.props.rowCount,{direction:e,row:n,wrap:!1},this.canSelectRow);if(null!=i){if(this.props.onSelectionChanged){const e=Pg(r,i);this.props.onSelectionChanged(e,t)}"range"===this.props.selectionMode&&this.props.onSelectedRangeChanged&&this.props.onSelectedRangeChanged(r,i,t),this.scrollRowToVisible(i)}}moveSelection(e,t){const n=this.props.selectedRows.length>0?this.props.selectedRows[this.props.selectedRows.length-1]:-1,r=kg(this.props.rowCount,{direction:e,row:n},this.canSelectRow);null!=r&&this.moveSelectionTo(r,t)}moveSelectionToLastSelectableRow(e,t){const{canSelectRow:n,props:r}=this,{rowCount:i}=r,o=xg(e,i,n);null!==o&&this.moveSelectionTo(o,t)}addSelectionToLastSelectableRow(e,t){var n,r,i;const{canSelectRow:o,props:s}=this,{rowCount:a,selectedRows:l}=s,c=xg(e,a,o);if(null===c)return;const u=Pg(null!==(n=l[0])&&void 0!==n?n:0,c);if(this.props.onSelectionChanged&&this.props.onSelectionChanged(u,t),this.props.onSelectedRangeChanged){const e=null!==(r=u[0])&&void 0!==r?r:0,n=null!==(i=u[u.length-1])&&void 0!==i?i:0;this.props.onSelectedRangeChanged(e,n,t)}this.scrollRowToVisible(c)}moveSelectionTo(e,t){if(this.props.onSelectionChanged&&this.props.onSelectionChanged([e],t),this.props.onSelectedRowChanged){const n=this.props.rowCount;if(e<0||e>=n)return void log.debug(`[List.moveSelection] unable to onSelectedRowChanged for row '${e}' as it is outside the bounds of the array [0, ${n}]`);this.props.onSelectedRowChanged(e,t)}this.scrollRowToVisible(e)}scrollRowToVisible(e){null!==this.grid&&(this.grid.scrollToCell({rowIndex:e,columnIndex:0}),this.focusRow=e)}componentDidMount(){const{props:e,grid:t}=this,{selectedRows:n,scrollToRow:r,setScrollTop:i}=e;null!==t&&void 0===i&&(void 0!==r?t.scrollToCell({rowIndex:r,columnIndex:0}):n.length>0&&t.scrollToCell({rowIndex:n[0],columnIndex:0}))}componentDidUpdate(e,t){const{scrollToRow:n,setScrollTop:r}=this.props;if(void 0!==n&&e.scrollToRow!==n&&void 0===r&&this.scrollRowToVisible(n),this.grid){if(!(this.props.rowCount!==e.rowCount||this.state.width!==t.width||this.state.height!==t.height)){const t=!js(e.selectedRows,this.props.selectedRows),n=!Us(e.invalidationProps,this.props.invalidationProps);(t||n)&&this.grid.forceUpdate()}}}componentWillMount(){this.setState({rowIdPrefix:ef("ListRow")})}componentWillUnmount(){null!==this.updateSizeTimeoutId&&(clearImmediate(this.updateSizeTimeoutId),this.updateSizeTimeoutId=null),this.resizeObserver&&this.resizeObserver.disconnect(),this.state.rowIdPrefix&&tf(this.state.rowIdPrefix)}render(){var e,t;let n;n=this.resizeObserver?this.renderContents(null!==(e=this.state.width)&&void 0!==e?e:0,null!==(t=this.state.height)&&void 0!==t?t:0):de.createElement(Km,{disableWidth:!0,disableHeight:!0},({width:e,height:t})=>this.renderContents(e,t));const r=this.props.selectedRows.length&&this.state.rowIdPrefix?`${this.state.rowIdPrefix}-${this.props.selectedRows[this.props.selectedRows.length-1]}`:void 0,i="menu"===this.props.ariaMode?"menu":"listbox";return de.createElement("div",{ref:this.onRef,id:this.props.id,className:"list",onKeyDown:this.onKeyDown,role:i,"aria-activedescendant":r},n)}renderContents(e,t){return this.renderGrid(e,t)}renderGrid(e,t){const n=this.props.selectedRows.length<1&&this.props.rowCount>0?0:-1;return de.createElement(Sg,{className:"list-focus-container",onKeyDown:this.onFocusContainerKeyDown},de.createElement(Cg,{"aria-label":"",role:"",ref:this.onGridRef,autoContainerWidth:!0,width:e,height:t,columnWidth:e,columnCount:1,rowCount:this.props.rowCount,rowHeight:this.props.rowHeight,cellRenderer:this.renderRow,onScroll:this.onScroll,scrollTop:this.props.setScrollTop,overscanRowCount:4,style:this.gridStyle,tabIndex:n}))}renderFakeScroll(e){let t=0;if("number"==typeof this.props.rowHeight)t=this.props.rowHeight*this.props.rowCount;else for(let e=0;e<this.props.rowCount;e++)t+=this.props.rowHeight({index:e});return de.createElement("div",{className:"fake-scroll",ref:this.onFakeScrollRef,style:{height:e},onScroll:this.onFakeScroll},de.createElement("div",{style:{height:t,pointerEvents:"none"}}))}selectSingleRowAfterMouseEvent(e,t){if(this.props.onSelectionChanged&&this.props.onSelectionChanged([e],{kind:"mouseclick",event:t}),this.props.onSelectedRangeChanged&&this.props.onSelectedRangeChanged(e,e,{kind:"mouseclick",event:t}),this.props.onSelectedRowChanged){const{rowCount:n}=this.props;if(e<0||e>=n)return void log.debug(`[List.selectSingleRowAfterMouseEvent] unable to onSelectedRowChanged for row '${e}' as it is outside the bounds of the array [0, ${n}]`);this.props.onSelectedRowChanged(e,{kind:"mouseclick",event:t})}}focus(){if(this.props.selectedRows.length>0&&this.props.selectedRows[this.props.selectedRows.length-1]<this.props.rowCount)this.scrollRowToVisible(this.props.selectedRows[this.props.selectedRows.length-1]);else if(this.grid){const e=me.findDOMNode(this.grid);e&&e.focus()}}}class Mg extends de.Component{constructor(){super(...arguments),this.anchorRef=Qd(),this.onClick=e=>{if(e.preventDefault(),this.props.disabled)return;const t=this.props.uri;t&&Je.openExternal(t);const n=this.props.onClick;n&&n()}}render(){const e=this.props.uri||"",t=al()("link-button-component",this.props.className),{title:n}=this.props;return de.createElement("a",{ref:this.anchorRef,className:t,href:e,onClick:this.onClick,tabIndex:this.props.tabIndex},n&&de.createElement(of,{target:this.anchorRef},n),this.props.children)}}class Fg extends de.Component{constructor(){super(...arguments),this.inputElement=null,this.onChange=e=>{const t=e.currentTarget.value;this.setState({value:t},()=>{this.props.onValueChanged&&this.props.onValueChanged(t)})},this.onSearchTextCleared=()=>{null!=this.props.onSearchCleared&&this.props.onSearchCleared()},this.onInputRef=e=>{null!=this.inputElement&&"search"===this.props.type&&this.inputElement.removeEventListener("search",this.onSearchTextCleared),this.inputElement=e,null!=this.inputElement&&"search"===this.props.type&&this.inputElement.addEventListener("search",this.onSearchTextCleared)},this.onContextMenu=e=>{e.preventDefault(),Cm([{role:"editMenu"}])},this.onKeyDown=e=>{const t=this.state.value;if(""!==t&&"search"===this.props.type&&"Escape"===e.key){const t="";e.preventDefault(),this.setState({value:t}),this.props.onValueChanged&&this.props.onValueChanged(t)}else"search"===this.props.type&&"Escape"===e.key&&""===t?this.props.onBlur&&(this.props.onBlur(t),null!==this.inputElement&&this.inputElement.blur()):"search"===this.props.type&&"Enter"===e.key&&void 0!==t&&""!==t&&void 0!==this.props.onEnterPressed&&this.props.onEnterPressed(t);void 0!==this.props.onKeyDown&&this.props.onKeyDown(e)},this.onFocus=e=>{this.props.autoFocus||void 0===this.props.onFocus||this.props.onFocus()},this.onBlur=e=>{void 0!==this.props.onBlur&&this.props.onBlur(e.target.value)}}componentWillMount(){const e=ef("TextBox_"+(this.props.label||this.props.placeholder));this.setState({inputId:e,value:this.props.value})}componentWillUnmount(){this.state.inputId&&tf(this.state.inputId)}componentWillReceiveProps(e){this.state.value!==e.value&&this.setState({value:e.value})}selectAll(){null!==this.inputElement&&this.inputElement.select()}get isFocused(){return null!==this.inputElement&&null!==document.activeElement&&this.inputElement===document.activeElement}focus(){null!==this.inputElement&&this.inputElement.focus()}blur(){null!==this.inputElement&&this.inputElement.blur()}renderLabelLink(){return this.props.labelLinkText?de.createElement(Mg,{uri:this.props.labelLinkUri,onClick:this.props.onLabelLinkClick,className:"link-label"},this.props.labelLinkText):null}renderLabel(){return this.props.label?de.createElement("div",{className:"label-container"},de.createElement("label",{htmlFor:this.state.inputId},this.props.label),this.renderLabelLink()):null}render(){const e=al()("text-box-component",this.props.className),t=this.props.label?this.state.inputId:void 0;return de.createElement("div",{className:e},this.renderLabel(),de.createElement("input",{id:t,ref:this.onInputRef,onFocus:this.onFocus,onBlur:this.onBlur,autoFocus:this.props.autoFocus,disabled:this.props.disabled,type:this.props.type,placeholder:this.props.placeholder,value:this.state.value,onChange:this.onChange,onKeyDown:this.onKeyDown,tabIndex:this.props.tabIndex,onContextMenu:this.onContextMenu,spellCheck:!0===this.props.spellcheck}))}}class Ng extends de.Component{render(){const e=al()("row-component",this.props.className);return de.createElement("div",{className:e},this.props.children)}}var Bg=n(155);function Lg(e,t,n){return Bg.score(e,t)/n}function Hg(e,t,n){const r=Lg(e,e,1);return t.map(t=>{const i=[],o=n(t);return o.forEach(t=>{i.push(Bg.match(t,e))}),{score:Lg(o.join(""),e,r),item:t,matches:{title:i[0],subtitle:i.length>1?i[1]:[]}}}).filter(({matches:e})=>e.title.length>0||e.subtitle.length>0).sort(({score:e},{score:t})=>zn(e,t))}class Ug extends de.Component{constructor(e){super(e),this.list=null,this.filterTextBox=null,this.renderRow=e=>{const t=this.state.rows[e];return"item"===t.kind?this.props.renderItem(t.item,t.matches):this.props.renderGroupHeader?this.props.renderGroupHeader(t.identifier):null},this.onTextBoxRef=e=>{this.filterTextBox=e},this.onListRef=e=>{this.list=e},this.onFilterValueChanged=e=>{this.props.onFilterTextChanged&&this.props.onFilterTextChanged(e)},this.onEnterPressed=e=>{0===this.state.rows.length&&e.trim().length>0&&void 0!==this.props.onEnterPressedWithoutFilteredItems&&this.props.onEnterPressedWithoutFilteredItems(e)},this.onSelectedRowChanged=(e,t)=>{if(this.setState({selectedRow:e}),this.props.onSelectionChanged){const n=this.state.rows[e];"item"===n.kind&&this.props.onSelectionChanged(n.item,t)}},this.canSelectRow=e=>{if(this.props.disabled)return!1;return"item"===this.state.rows[e].kind},this.onRowClick=(e,t)=>{if(this.props.onItemClick){const n=this.state.rows[e];"item"===n.kind&&this.props.onItemClick(n.item,t)}},this.onRowKeyDown=(e,t)=>{if(!this.list)return;const n=this.state.rows.length,r=kg(n,{direction:"down",row:-1},this.canSelectRow),i=kg(n,{direction:"up",row:0},this.canSelectRow);let o=!1;if(("ArrowUp"===t.key&&e===r||"ArrowDown"===t.key&&e===i)&&(o=!0),o){const e=this.filterTextBox;e&&(t.preventDefault(),e.focus())}},this.onKeyDown=e=>{const t=this.list,n=e.key;if(!t)return;if(this.props.onFilterKeyDown&&this.props.onFilterKeyDown(e),e.defaultPrevented)return;const r=this.state.rows.length;if("ArrowDown"===n){if(r>0){const e=kg(r,{direction:"down",row:-1},this.canSelectRow);null!=e&&this.setState({selectedRow:e},()=>{t.focus()})}e.preventDefault()}else if("ArrowUp"===n){if(r>0){const e=kg(r,{direction:"up",row:0},this.canSelectRow);null!=e&&this.setState({selectedRow:e},()=>{t.focus()})}e.preventDefault()}else if("Enter"===n){if(0===r)return e.preventDefault();const t=this.props.filterText;if(void 0!==t&&!/\S/.test(t))return e.preventDefault();const n=kg(r,{direction:"down",row:-1},this.canSelectRow);null!=n&&this.onRowClick(n,{kind:"keyboard",event:e})}},this.state=Wg(e)}componentWillMount(){void 0!==this.props.filterTextBox&&(this.filterTextBox=this.props.filterTextBox)}componentWillReceiveProps(e){this.setState(Wg(e))}componentDidUpdate(e,t){if(this.props.onSelectionChanged){const e=Gg(t.rows,t.selectedRow),n=Gg(this.state.rows,this.state.selectedRow);if(e!==n){if((this.props.selectedItem?this.props.selectedItem.id:null)!==n){const e=zg(this.state.rows,this.state.selectedRow);this.props.onSelectionChanged(e,{kind:"filter",filterText:this.props.filterText||""})}}}if(void 0!==this.props.onFilterListResultsChanged){const e=this.state.rows.filter(e=>"item"===e.kind).length;this.props.onFilterListResultsChanged(e)}}componentDidMount(){null!==this.filterTextBox&&this.filterTextBox.selectAll()}renderTextBox(){return de.createElement(Fg,{ref:this.onTextBoxRef,type:"search",autoFocus:!0,placeholder:this.props.placeholderText||"Filter",className:"filter-list-filter-field",onValueChanged:this.onFilterValueChanged,onEnterPressed:this.onEnterPressed,onKeyDown:this.onKeyDown,value:this.props.filterText,disabled:this.props.disabled})}renderFilterRow(){return!0===this.props.hideFilterRow?null:de.createElement(Ng,{className:"filter-field-row"},void 0===this.props.filterTextBox?this.renderTextBox():null,this.props.renderPostFilter?this.props.renderPostFilter():null)}render(){return de.createElement("div",{className:al()("filter-list",this.props.className)},this.props.renderPreList?this.props.renderPreList():null,this.renderFilterRow(),de.createElement("div",{className:"filter-list-container"},this.renderContent()))}selectNextItem(e=!1,t="down"){if(null===this.list)return;let n=null;n=-1===this.state.selectedRow||this.state.selectedRow===this.state.rows.length?kg(this.state.rows.length,{direction:t,row:-1},this.canSelectRow):kg(this.state.rows.length,{direction:t,row:this.state.selectedRow},this.canSelectRow),null!==n&&this.setState({selectedRow:n},()=>{e&&null!==this.list&&this.list.focus()})}renderContent(){return 0===this.state.rows.length&&this.props.renderNoItems?this.props.renderNoItems():de.createElement(Ig,{ref:this.onListRef,rowCount:this.state.rows.length,rowRenderer:this.renderRow,rowHeight:this.props.rowHeight,selectedRows:[this.state.selectedRow],onSelectedRowChanged:this.onSelectedRowChanged,onRowClick:this.onRowClick,onRowKeyDown:this.onRowKeyDown,canSelectRow:this.canSelectRow,invalidationProps:Object.assign(Object.assign({},this.props),this.props.invalidationProps)})}}function jg(e){return e.text}function Wg(e){const t=new Array,n=(e.filterText||"").toLowerCase();for(const r of e.groups){const i=n?Hg(n,r.items,jg):r.items.map(e=>({score:1,matches:{title:[],subtitle:[]},item:e}));if(i.length){e.renderGroupHeader&&t.push({kind:"group",identifier:r.identifier});for(const{item:e,matches:n}of i)t.push({kind:"item",item:e,matches:n})}}let r=-1;const i=e.selectedItem;return i&&(r=t.findIndex(e=>"item"===e.kind&&e.item.id===i.id)),r<0&&n.length&&(r=t.findIndex(e=>"item"===e.kind)),{rows:t,selectedRow:r}}function zg(e,t){if(t>=0&&t<e.length){const n=e[t];if("item"===n.kind)return n.item}return null}function Gg(e,t){const n=zg(e,t);return n?n.id:null}class qg extends de.Component{constructor(e){super(e),this.innerButtonRef=Qd(),this.focus=()=>{var e;null===(e=this.innerButtonRef.current)||void 0===e||e.focus()},this.onClick=e=>{this.props.onClick&&this.props.onClick(e),void 0===this.props.type&&e.preventDefault()},this.innerButtonRef.subscribe(e=>{var t,n;return null===(n=(t=this.props).onButtonRef)||void 0===n?void 0:n.call(t,e)})}blur(){var e;null===(e=this.innerButtonRef.current)||void 0===e||e.blur()}getBoundingClientRect(){var e;return null===(e=this.innerButtonRef.current)||void 0===e?void 0:e.getBoundingClientRect()}render(){const{disabled:e,tooltip:t}=this.props,n=al()("button-component",this.props.className,{"small-button":"small"===this.props.size});return de.createElement("button",{className:n,onClick:e?Vg:this.onClick,type:this.props.type||"button",ref:this.innerButtonRef,tabIndex:this.props.tabIndex,onMouseEnter:e?Vg:this.props.onMouseEnter,role:this.props.role,"aria-expanded":this.props.ariaExpanded,"aria-disabled":e?"true":void 0},t&&de.createElement(of,{target:this.innerButtonRef,direction:rf.NORTH,delay:e&&t?0:void 0,onlyWhenOverflowed:this.props.onlyShowTooltipWhenOverflowed},t),this.props.children)}}const Vg=e=>e.preventDefault(),$g=lt(__dirname,"static/empty-no-repo.svg");function Kg(e,t){if(null!==t)for(const n of e)for(const e of n.items)if(e.repository.id===t.id)return e;return null}class Yg extends de.Component{constructor(){super(...arguments),this.getRepositoryGroups=Jn((e,t)=>null===e?[]:function(e,t){const n=new Map,r=new Set;for(const t of e){const e=t instanceof vi?t.gitHubRepository:null;let i=Am.NonGitHub;e?e.endpoint===Nn()?(i=e.owner.login,r.add(i)):i=Am.Enterprise:i=Am.NonGitHub;let o=n.get(i);o||(o=new Array,n.set(i,o)),o.push(t)}const i=new Array,o=e=>{const r=n.get(e);if(!r||0===r.length)return;const o=new Map;for(const e of r){const t=o.get(e.name)||0;o.set(e.name,t+1)}r.sort((e,t)=>qn(Im(e),Im(t)));const s=r.map(n=>{var r;const i=o.get(n.name)||0,{aheadBehind:s,changedFilesCount:a}=t.get(n.id)||Om;return{text:n instanceof vi?[null!==(r=n.alias)&&void 0!==r?r:n.name,Ci(n)]:[n.name],id:n.id.toString(),repository:n,needsDisambiguation:i>1&&e===Am.Enterprise,aheadBehind:s,changedFilesCount:a}});i.push({identifier:e,items:s})},s=[...r.values()];return s.sort(qn),s.forEach(o),o(Am.Enterprise),o(Am.NonGitHub),i}(e,t)),this.getSelectedListItem=Jn(Kg),this.renderItem=(e,t)=>{const n=e.repository;return de.createElement(xm,{key:n.id,repository:n,needsDisambiguation:e.needsDisambiguation,askForConfirmationOnRemoveRepository:this.props.askForConfirmationOnRemoveRepository,onRemoveRepository:this.props.onRemoveRepository,onShowRepository:this.props.onShowRepository,onViewOnGitHub:this.props.onViewOnGitHub,onOpenInShell:this.props.onOpenInShell,onOpenInExternalEditor:this.props.onOpenInExternalEditor,onChangeRepositoryAlias:this.onChangeRepositoryAlias,onRemoveRepositoryAlias:this.onRemoveRepositoryAlias,externalEditorLabel:this.props.externalEditorLabel,shellLabel:this.props.shellLabel,matches:t,aheadBehind:e.aheadBehind,changedFilesCount:e.changedFilesCount})},this.renderGroupHeader=e=>{const t=e,n=this.getGroupLabel(t);return de.createElement("div",{key:t,className:"filter-list-group-header"},n)},this.onItemClick=e=>{const t=e.changedFilesCount>0||null!==e.aheadBehind&&(e.aheadBehind.ahead>0||e.aheadBehind.behind>0);this.props.dispatcher.recordRepoClicked(t),this.props.onSelectionChanged(e.repository)},this.renderPostFilter=()=>de.createElement(qg,{className:"new-repository-button",onClick:this.onNewRepositoryButtonClick},"Add",de.createElement(cf,{symbol:sm})),this.renderNoItems=()=>de.createElement("div",{className:"no-items no-results-found"},de.createElement("img",{src:$g,className:"blankslate-image"}),de.createElement("div",{className:"title"},"Sorry, I can't find that repository"),de.createElement("div",{className:"protip"},"ProTip! Press ",this.renderAddLocalShortcut()," to quickly add a local repository, and ",this.renderCloneRepositoryShortcut()," to clone from anywhere within the app")),this.onNewRepositoryButtonClick=()=>{Cm([{label:"Clone Repository",action:this.onCloneRepository},{label:"Create New Repository",action:this.onCreateNewRepository},{label:"Add Existing Repository",action:this.onAddExistingRepository}])},this.onCloneRepository=()=>{this.props.dispatcher.showPopup({type:ai.CloneRepository,initialURL:null})},this.onAddExistingRepository=()=>{this.props.dispatcher.showPopup({type:ai.AddRepository})},this.onCreateNewRepository=()=>{this.props.dispatcher.showPopup({type:ai.CreateRepository})},this.onChangeRepositoryAlias=e=>{this.props.dispatcher.showPopup({type:ai.ChangeRepositoryAlias,repository:e})},this.onRemoveRepositoryAlias=e=>{this.props.dispatcher.changeRepositoryAlias(e,null)}}getGroupLabel(e){return e===Am.Enterprise?"Enterprise":e===Am.NonGitHub?"Other":e}render(){const e=this.getRepositoryGroups(this.props.repositories,this.props.localRepositoryStateLookup),t=this.getSelectedListItem(e,this.props.selectedRepository),n=this.props.repositories.length>7?[Pm(this.props.recentRepositories,this.props.repositories,this.props.localRepositoryStateLookup),...e]:e;return de.createElement("div",{className:"repository-list"},de.createElement(Ug,{rowHeight:29,selectedItem:t,filterText:this.props.filterText,onFilterTextChanged:this.props.onFilterTextChanged,renderItem:this.renderItem,renderGroupHeader:this.renderGroupHeader,onItemClick:this.onItemClick,renderPostFilter:this.renderPostFilter,renderNoItems:this.renderNoItems,groups:n,invalidationProps:{repositories:this.props.repositories,filterText:this.props.filterText}}))}renderAddLocalShortcut(){return de.createElement("div",{className:"kbd-shortcut"},de.createElement("kbd",null,""),de.createElement("kbd",null,"O"))}renderCloneRepositoryShortcut(){return de.createElement("div",{className:"kbd-shortcut"},de.createElement("kbd",null,""),de.createElement("kbd",null,""),de.createElement("kbd",null,"O"))}}class Zg extends de.Component{render(){const e=al()(this.props.className,"ui-view"),t=Object.assign(Object.assign({},this.props),{className:e});return de.createElement("div",Object.assign({},t),this.props.children)}}var Xg;!function(e){e[e.On=0]="On",e[e.Off=1]="Off",e[e.Mixed=2]="Mixed"}(Xg||(Xg={}));class Qg extends de.Component{constructor(){super(...arguments),this.input=null,this.onChange=e=>{this.props.onChange&&this.props.onChange(e)},this.onInputRef=e=>{this.input=e,this.updateInputState()}}componentDidUpdate(){this.updateInputState()}componentWillMount(){const e=ef("Checkbox_"+(this.props.label||"unknown"));this.setState({inputId:e})}componentWillUnmount(){this.state.inputId&&tf(this.state.inputId)}updateInputState(){const e=this.input;if(e){const t=this.props.value;e.indeterminate=t===Xg.Mixed,e.checked=t!==Xg.Off}}renderLabel(){const e=this.props.label,t=this.state.inputId;return e?de.createElement("label",{htmlFor:t},e):null}render(){return de.createElement("div",{className:"checkbox-component"},de.createElement("input",{id:this.state.inputId,tabIndex:this.props.tabIndex,type:"checkbox",onChange:this.onChange,ref:this.onInputRef,disabled:this.props.disabled}),this.renderLabel())}}var Jg=n(235),ey=n.n(Jg);class ty extends de.Component{constructor(e){super(e),this.element=null,this.autocompletionRequestID=0,this.renderItem=e=>{const t=this.state.autocompletionState;if(!t)return null;const n=t.items[e],r=n===t.selectedItem?"selected":"";return de.createElement("div",{className:"autocompletion-item "+r},t.provider.renderItem(n))},this.onRowMouseDown=(e,t)=>{const n=this.state.autocompletionState;if(!n)return;const r=n.items[e];r&&this.insertCompletion(r,"mouseclick")},this.onSelectedRowChanged=(e,t)=>{const n=this.state.autocompletionState;if(!n)return;const r=n.items[e],i=Object.assign(Object.assign({},n),{selectedItem:r});this.setState({autocompletionState:i})},this.insertCompletionOnClick=e=>{const t=this.state.autocompletionState;if(!t)return;const n=t.items;if(!n.length)return;const r=n[e];this.insertCompletion(r,"mouseclick")},this.onContextMenu=e=>{this.props.onContextMenu?this.props.onContextMenu(e):(e.preventDefault(),Cm([{role:"editMenu"}]))},this.onBlur=e=>{this.close()},this.onRef=e=>{this.element=e,this.props.onElementRef&&this.props.onElementRef(e)},this.onKeyDown=e=>{if(this.props.onKeyDown&&this.props.onKeyDown(e),e.defaultPrevented)return;const t=this.state.autocompletionState;if(!t||!t.items.length)return;const n=t.selectedItem?t.items.indexOf(t.selectedItem):-1,r=this.getMovementDirection(e);if(r){e.preventDefault();const i=kg(t.items.length,{direction:r,row:n});if(null!==i){const e=t.items[i],n=Object.assign(Object.assign({},t),{selectedItem:e});this.setState({autocompletionState:n})}}else if("Enter"===e.key||"Tab"===e.key){const n=t.selectedItem;n&&(e.preventDefault(),this.insertCompletion(n,"keyboard"))}else"Escape"===e.key&&this.close()},this.onChange=async e=>{const t=e.currentTarget.value;this.props.onValueChanged&&this.props.onValueChanged(t);const n=this.element;if(null===n)return;const r=n.selectionStart;if(null===r)return;const i=++this.autocompletionRequestID,o=await this.attemptAutocompletion(t,r);i===this.autocompletionRequestID&&this.setState({autocompletionState:o})},this.state={autocompletionState:null}}renderAutocompletions(){const e=this.state.autocompletionState;if(!e)return null;const t=e.items;if(!t.length)return null;const n=this.element;let r=ey()(n,e.range.start);r=Object.assign(Object.assign({},r),{top:r.top-n.scrollTop,left:r.left-n.scrollLeft});const i=r.left,o=r.top+20,s=e.selectedItem?t.indexOf(e.selectedItem):-1,a=n.getBoundingClientRect().top+r.top;let l;if(null!==n.ownerDocument&&null!==n.ownerDocument.defaultView){const e=n.ownerDocument.defaultView.innerHeight-a-20;l=Math.min(100,e)}else l=100;const c=29*t.length,u=Math.min(c,l),h=e.rangeText,p=al()("autocompletion-popup",e.provider.kind);return de.createElement("div",{className:p,style:{top:o,left:i,height:u}},de.createElement(Ig,{rowCount:t.length,rowHeight:29,selectedRows:[s],rowRenderer:this.renderItem,scrollToRow:s,selectOnHover:!0,focusOnHover:!1,onRowMouseDown:this.onRowMouseDown,onRowClick:this.insertCompletionOnClick,onSelectedRowChanged:this.onSelectedRowChanged,invalidationProps:h}))}renderTextInput(){const e={type:"text",placeholder:this.props.placeholder,value:this.props.value,ref:this.onRef,onChange:this.onChange,onKeyDown:this.onKeyDown,onBlur:this.onBlur,onContextMenu:this.onContextMenu,disabled:this.props.disabled,"aria-required":!!this.props.isRequired,spellCheck:this.props.spellcheck};return de.createElement(this.getElementTagName(),e)}focus(){this.element&&this.element.focus()}render(){const e=this.getElementTagName(),t=al()("autocompletion-container",this.props.className,{"text-box-component":"input"===e,"text-area-component":"textarea"===e});return de.createElement("div",{className:t},this.renderAutocompletions(),this.renderTextInput())}setCursorPosition(e){null!=this.element?(this.element.selectionStart=e,this.element.selectionEnd=e):log.warn("Unable to set cursor position when element is null")}insertCompletion(e,t){const n=this.element,r=this.state.autocompletionState,i=n.value,o=r.range,s=r.provider.getCompletionText(e),a=i.substr(0,o.start-1)+s+" ",l=a+i.substr(o.start+o.length);n.value=l,this.props.onValueChanged&&this.props.onValueChanged(l);const c=a.length;"mouseclick"===t?window.setTimeout(()=>{n.focus(),this.setCursorPosition(c)},0):this.setCursorPosition(c),this.close()}getMovementDirection(e){switch(e.key){case"ArrowUp":return"up";case"ArrowDown":return"down"}return null}close(){this.setState({autocompletionState:null})}async attemptAutocompletion(e,t){for(const n of this.props.autocompletionProviders){const r=new RegExp(n.getRegExp());r.global||Ye(`The regex (${r}) returned from ${n} isn't global, but it should be!`);let i=null;for(;i=r.exec(e);){const e=r.lastIndex,o=i[1]||"";if(e===t){const t={start:e-o.length,length:o.length},r=await n.getAutocompletionItems(o);return{provider:n,items:r,range:t,selectedItem:r[0],rangeText:o}}}}return null}}class ny extends ty{getElementTagName(){return"textarea"}}class ry extends ty{getElementTagName(){return"input"}}class iy{constructor(e){this.kind="emoji",this.emoji=e}getRegExp(){return/(?:^|\n| )(?::)([a-z\d\\+-][a-z\d_]*)?/g}async getAutocompletionItems(e,t=25){if(0===e.length)return[...this.emoji.keys()].map(e=>({emoji:e,matchStart:0,matchLength:0})).slice(0,t);const n=new Array,r=e.toLowerCase();for(const e of this.emoji.keys()){const t=e.indexOf(r);-1!==t&&n.push({emoji:e,matchStart:t,matchLength:r.length})}return n.sort((e,t)=>Wn(e.matchStart,t.matchStart)||Wn(e.emoji.length,t.emoji.length)||Wn(e.emoji,t.emoji)).slice(0,t)}renderItem(e){const t=e.emoji;return de.createElement("div",{className:"emoji",key:t},de.createElement("img",{className:"icon",src:this.emoji.get(t)}),this.renderHighlightedTitle(e))}renderHighlightedTitle(e){const t=e.emoji;return e.matchLength?de.createElement("div",{className:"title"},t.substr(0,e.matchStart),de.createElement("mark",null,t.substr(e.matchStart,e.matchLength)),t.substr(e.matchStart+e.matchLength)):de.createElement("div",{className:"title"},t)}getCompletionText(e){return e.emoji}}class oy{constructor(e){this.timeoutId=null,this.delay=e}queue(e){this.clear(),this.timeoutId=window.setTimeout(e,this.delay)}clear(){null!=this.timeoutId&&window.clearTimeout(this.timeoutId)}}class sy{constructor(e,t,n){this.kind="issue",this.updateIssuesScheduler=new oy(6e4),this.issuesStore=e,this.repository=t,this.dispatcher=n}getRegExp(){return/(?:^|\n| )(?:#)([a-z\d\\+-][a-z\d_]*)?/g}getAutocompletionItems(e){return this.updateIssuesScheduler.queue(()=>{this.dispatcher.refreshIssues(this.repository)}),this.issuesStore.getIssuesMatching(this.repository,e)}renderItem(e){return de.createElement("div",{className:"issue",key:e.number},de.createElement("span",{className:"number"},"#",e.number),de.createElement("span",{className:"title"},e.title))}getCompletionText(e){return"#"+e.number}}function ay(e,t){return{username:t.login,name:t.name,email:t.email,endpoint:e.endpoint}}class ly{constructor(e,t,n){this.kind="user",this.gitHubUserStore=e,this.repository=t,this.account=n||null}getRegExp(){return/(?:^|\n| )(?:@)([a-z\d\\+-][a-z\d_-]*)?/g}async getAutocompletionItems(e){const t=await this.gitHubUserStore.getMentionableUsersMatching(this.repository,e),n=this.account;return(n?t.filter(e=>e.login!==n.login):t).map(e=>ay(this.repository,e))}renderItem(e){return de.createElement("div",{className:"user",key:e.username},de.createElement("span",{className:"username"},e.username),de.createElement("span",{className:"name"},e.name))}getCompletionText(e){return"@"+e.username}async exactMatch(e){if(null===this.account)return null;const t=await this.gitHubUserStore.getByLogin(this.account,e);return t?ay(this.repository,t):null}}function cy(e,t,n,r,i,o){const s=[new iy(n)],a=bi(e)?Ei(e):null;if(null!==a){s.push(new sy(r,a,t));const e=o.find(e=>e.endpoint===a.endpoint);s.push(new ly(i,a,e))}return s}class uy extends de.Component{render(){return de.createElement(cf,{className:"spin",symbol:bm})}}var hy,py=n(17),dy=n.n(py);function fy(e,t){return e.posFromIndex(e.indexFromPos(t)-1)}function my(e,t){return e.posFromIndex(e.indexFromPos(t)+1)}function gy(e,t){const n=e.getLine(t.line);return!!/\s/.test(n.charAt(t.ch))||function(e,t){const n=e.findMarksAt(t),r=e.indexFromPos(t);return n.some(t=>{const n=t.find();if(!n)return!1;const i=e.indexFromPos(n.from),o=e.indexFromPos(n.to);return r>i&&r<o})}(e,t)}function yy(e,t){return e.line===t.line&&e.ch===t.ch}function vy(e,t,n,r){return function(e,t,n,r){let i=t;for(let o=r(e,t);n(e,o)&&!yy(i,o);o=r(e,o))i=o;return i}(e,t,(e,t)=>!n(e,t),r)}function by(e,t,n){const r=e.getDoc(),i=r.posFromIndex(1/0);r.replaceRange(t,i);const o=r.posFromIndex(1/0);return r.markText(i,o,n)}function wy(e,t){const n=e.find(),r=t.find();return void 0===n||void 0===r?Wn(n,r):Wn(n.from,r.from)}function Cy(e,t,n){const r=n.username,i=document.createElement("div");i.classList.add("user","unknown");const o=document.createElement("span");o.className="username",o.innerText=r,i.appendChild(o);const s=document.createElement("span");s.className="description",s.innerText="Search for user",i.appendChild(s),e.appendChild(i)}function Sy(e,t,n){const r=n.author,i=document.createElement("div");if(i.className="user",r.username){const e=document.createElement("span");e.className="username",e.innerText=r.username,i.appendChild(e)}const o=document.createElement("span");o.className="name",o.innerText=r.name,i.appendChild(o),e.appendChild(i)}function Ey(e){return e.email&&e.email.length>0?e.email:Pa(e.username,e.endpoint)}function ky(e){return null===e.username?e.name:"@"+e.username}function xy(e,t){const n=document.createElement("span");n.classList.add("handle",t?"error":"progress"),n.title=t?"Could not find user with username "+e:"Searching for @"+e;const r=t?im:bm,i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.classList.add("icon"),t||i.classList.add("spin");const o=document.createElementNS("http://www.w3.org/2000/svg","path");return i.viewBox.baseVal.width=r.w,i.viewBox.baseVal.height=r.h,o.setAttribute("d",r.d),i.appendChild(o),n.appendChild(document.createTextNode("@"+e)),n.appendChild(i),n}function Dy(e,t,n,r){const i=function(e){const t=document.createElement("span");return t.classList.add("handle"),t.title=`${e.name} <${e.email}>`,t.innerText=ky(e),t}(r);return e.markText(t,n,{atomic:!0,className:"handle",readOnly:!1,replacedWith:i,handleMouseEvents:!0})}function _y(e){const t=e.getDoc();if(t.somethingSelected())return;const n=t.getCursor();yy(n,vy(t,n,gy,fy))||e.showHint()}function Ty(e){return{name:e.name||e.username,email:Ey(e),username:e.username}}class Ry extends de.Component{constructor(e){super(e),this.editor=null,this.resizeDebounceId=null,this.lastKnownWidth=null,this.hintActive=!1,this.label=null,this.placeholder=null,this.authors=[],this.markAuthorMap=new Map,this.authorMarkMap=new Map,this.onResized=()=>{this.resizeDebounceId=null,this.editor&&this.editor.refresh()},this.onContainerRef=e=>{e?(this.editor=this.initializeCodeMirror(e),this.resizeObserver.observe(e)):(this.editor=null,this.resizeObserver.disconnect())},this.applyCompletion=(e,t,n)=>{const r=n.from||t.from,i=n.to||t.to,o=n.author;this.insertAuthor(e,o,r,i),this.updateAuthors(e)},this.applyUnknownUserCompletion=(e,t,n)=>{const r=n.from||t.from,i=n.to||t.to,o=n.username,s="@"+o,a=e.getDoc();a.replaceRange(s,r,i,"complete");const l=a.posFromIndex(a.indexFromPos(r)+s.length),c=a.markText(r,l,{atomic:!0,className:"handle progress",readOnly:!1,replacedWith:xy(o,!1),handleMouseEvents:!0});return this.props.autoCompleteProvider.exactMatch(o).then(t=>{e.operation(()=>{const n=c.find();n&&(c.clear(),t?this.insertAuthor(e,Ty(t),n.from,n.to):a.markText(n.from,n.to,{atomic:!0,className:"handle error",readOnly:!1,replacedWith:xy(o,!0),handleMouseEvents:!0}))})})},this.onAutocompleteUser=async(e,t,n)=>{const r=e.getDoc(),i=r.getCursor(),o=vy(r,i,gy,fy),s=vy(r,i,gy,my),a=r.getRange(o,s).replace(/^@/,""),l=await this.props.autoCompleteProvider.getAutocompletionItems(a),c=l.some(e=>e.username.toLowerCase()===a.toLowerCase()),u=new Set(this.authors.map(e=>e.username)),h=l.map(Ty).filter(e=>null===e.username||!u.has(e.username)).map(e=>({author:e,text:ky(e),render:Sy,className:"autocompletion-item",hint:this.applyCompletion}));return!c&&a.length>0&&h.push({text:"@"+a,username:a,render:Cy,className:"autocompletion-item",hint:this.applyUnknownUserCompletion}),{list:h,from:o,to:s}},this.resizeObserver=new ResizeObserver(e=>{if(1===e.length&&this.editor){const t=e[0].contentRect.width;if(!this.lastKnownWidth)return void(this.lastKnownWidth=t);this.lastKnownWidth!==t&&(this.lastKnownWidth=t,null!==this.resizeDebounceId&&(cancelAnimationFrame(this.resizeDebounceId),this.resizeDebounceId=null),this.resizeDebounceId=requestAnimationFrame(this.onResized))}}),this.state={}}focus(){var e;null===(e=this.editor)||void 0===e||e.focus()}componentWillUnmount(){if(this.editor){const e=this.editor.state;e.completionActive&&e.completionActive.close&&e.completionActive.close()}}componentWillReceiveProps(e){const t=this.editor;t&&(e.authors===this.props.authors||js(this.authors,e.authors)||t.operation(()=>{this.reset(t,e.authors)}),e.disabled!==this.props.disabled&&t.setOption("readOnly",!!e.disabled&&"nocursor"))}insertAuthor(e,t,n,r){const i=ky(t),o=e.getDoc();o.replaceRange(i,n,r,"complete");const s=o.posFromIndex(o.indexFromPos(n)+i.length),a=Dy(o,n,s,t);return this.markAuthorMap.set(a,t),this.authorMarkMap.set(t,a),a}appendAuthor(e,t){const n=e.getDoc();return this.insertAuthor(e,t,n.posFromIndex(1/0))}updatePlaceholderVisibility(e){if(this.label&&this.placeholder){const t=this.label.find(),n=this.placeholder.find();if(!t||!n)return;const r=e.getDoc(),i=r.indexFromPos(t.to)!==r.indexFromPos(n.from);this.placeholder.collapsed!==i&&(this.placeholder.collapsed=i,this.placeholder.changed())}}getAllHandleMarks(e){return e.getDoc().getAllMarks()}initializeCodeMirror(e){const t={mode:"null",lineWrapping:!0,extraKeys:{Tab:!1,Enter:!1,"Shift-Tab":!1,"Ctrl-Space":"autocomplete","Ctrl-Enter":!1,"Cmd-Enter":!1,"Cmd-F":!1,"Cmd-G":!1,"Shift-Cmd-G":!1,"Cmd-Alt-F":!1,"Shift-Cmd-Alt-F":!1},readOnly:!!this.props.disabled&&"nocursor",hintOptions:{completeOnSingleClick:!0,completeSingle:!1,closeOnUnfocus:!0,closeCharacters:/\s/,hint:this.onAutocompleteUser,container:e}},n=dy()(e,t);n.operation(()=>{this.reset(n,this.props.authors)}),n.on("startCompletion",()=>{this.hintActive=!0}),n.on("endCompletion",()=>{this.hintActive=!1}),n.on("change",()=>{this.updatePlaceholderVisibility(n),this.hintActive||_y(n)}),n.on("focus",()=>{this.hintActive||_y(n)}),n.on("changes",()=>{this.updateAuthors(n)});const r=n.getWrapperElement();return r.addEventListener("keypress",e=>{e.defaultPrevented||"Enter"!==e.key||e.preventDefault()}),r.addEventListener("contextmenu",e=>{this.onContextMenu(n,e)}),n}onContextMenu(e,t){t.preventDefault();const n=[{label:"Undo",action:()=>e.getDoc().undo()},{label:"Redo",action:()=>e.getDoc().redo()},{type:"separator"},{role:"cut"},{role:"copy"},{role:"paste"}];n.push({label:"Select All",action:()=>{e.execCommand("selectAll")}}),Cm(n)}updateAuthors(e){const t=this.getAllHandleMarks(e).sort(wy),n=new Array;for(const e of t){const t=this.markAuthorMap.get(e);t&&n.push(t)}js(this.authors,n)||(this.authors=n,this.props.onAuthorsUpdated(n))}reset(e,t){const n=e.getDoc();e.setValue(""),n.clearHistory(),this.authors=[],this.authorMarkMap.clear(),this.markAuthorMap.clear(),this.label=by(e,"Co-Authors ",{atomic:!0,inclusiveLeft:!0,className:"label",readOnly:!0});for(const n of t)this.appendAuthor(e,n);this.authors=this.props.authors,this.placeholder=by(e,"@username",{atomic:!0,inclusiveRight:!0,className:"placeholder",readOnly:!0,collapsed:t.length>0}),n.setCursor(this.placeholder.find().from)}render(){const e=al()("author-input-component",this.props.className,{disabled:this.props.disabled});return de.createElement("div",{className:e,ref:this.onContainerRef})}}function Ay(e,t){return()=>{const n=((performance.now()-e)/1e3).toFixed(3),r=`[Timing] ${t} took ${n}s`;log.info(r)}}function Oy(e,t){const n=performance&&performance.now?performance.now():null;if(null===n)return log.warn("[Timing] invoked but performance.now not found - are you using this outside the renderer?"),{done:()=>{}};return{done:Ay(n,`Action '${e}' for '${Ci(t)}'`)}}!function(e){e[e.Warning=0]="Warning",e[e.Information=1]="Information"}(hy||(hy={}));const Py=e=>de.createElement("div",{className:"commit-warning-component",onContextMenu:Iy},de.createElement("div",{className:"warning-icon-container"},(e=>{let t="",n=hf;switch(e){case hy.Warning:t="warning-icon",n=hf;break;case hy.Information:t="information-icon",n=Uf;break;default:Ze(0,"Unexpected icon value "+e)}return de.createElement(cf,{className:t,symbol:n})})(e.icon)),de.createElement("div",{className:"warning-message"},e.children)),Iy=e=>{e.preventDefault()};function My(e,t){if(!t)return!1;const n=t.owner.endpoint,{name:r,email:i}=e.committer;return n===Nn()&&"GitHub"===r&&"noreply@github.com"===i||n!==Nn()&&"GitHub Enterprise"===r}function Fy(e,t){return{email:e.email,name:e.name,endpoint:null===t?null:t.endpoint,avatarURL:void 0}}function Ny(e,t){const n=[];n.push(Fy(t.author,e)),n.push(...t.coAuthors.map(t=>Fy(t,e)));const r=t.coAuthors.some(e=>e.name===t.committer.name&&e.email===t.committer.email),i=null!==e&&My(t,e);return t.authoredByCommitter||i||r||n.push(Fy(t.committer,e)),n}class By extends de.Component{componentWillMount(){const e=ef("Select_"+(this.props.label||"unknown"));this.setState({inputId:e})}componentWillUnmount(){this.state.inputId&&tf(this.state.inputId)}renderLabel(){const e=this.props.label,t=this.state.inputId;return e?de.createElement("label",{htmlFor:t},e):null}render(){return de.createElement("div",{className:"select-component"},this.renderLabel(),de.createElement("select",{id:this.state.inputId,onChange:this.props.onChange,value:this.props.value,defaultValue:this.props.defaultValue,disabled:this.props.disabled},this.props.children))}}var Ly,Hy,Uy=n(107),jy=n.n(Uy);!function(e){e.Top="top",e.TopRight="top-right",e.TopLeft="top-left",e.LeftTop="left-top",e.LeftBottom="left-bottom",e.RightTop="right-top"}(Ly||(Ly={})),function(e){e.Shake="shake"}(Hy||(Hy={}));class Wy extends de.Component{constructor(e){super(e),this.containerDivRef=de.createRef(),this.onDocumentMouseDown=e=>{const{current:t}=this.containerDivRef,{target:n}=e;null!==t&&null!==t.parentElement&&n instanceof Node&&!t.parentElement.contains(n)&&void 0!==this.props.onClickOutside&&this.props.onClickOutside(e)},this.focusTrapOptions={allowOutsideClick:!0,escapeDeactivates:!0,onDeactivate:this.props.onClickOutside}}componentDidMount(){document.addEventListener("mousedown",this.onDocumentMouseDown)}componentWillUnmount(){document.removeEventListener("mousedown",this.onDocumentMouseDown)}render(){const e=al()("popover-component",this.getClassNameForCaret(),this.props.className,this.props.appearEffect&&"appear-"+this.props.appearEffect);return de.createElement(jy.a,{active:!0,focusTrapOptions:this.focusTrapOptions},de.createElement("div",{className:e,ref:this.containerDivRef,style:this.props.style},this.props.children))}getClassNameForCaret(){return"popover-caret-"+this.props.caretPosition}}const zy={w:16,h:16,d:"M13 13.145a.844.844 0 0 1-.832.855H3.834A.846.846 0 0 1 3 13.142v-.856c0-2.257 3.333-3.429 3.333-3.429s.191-.35 0-.857c-.7-.531-.786-1.363-.833-3.429C5.644 2.503 7.056 2 8 2s2.356.502 2.5 2.571C10.453 6.637 10.367 7.47 9.667 8c-.191.506 0 .857 0 .857S13 10.03 13 12.286v.859z"},Gy=/^(?:(\d+)\+)?(.+?)@users\.noreply\.(.*)$/i;function qy(e,t=64){const n=new Array;if(void 0===e)return n;const{email:r,endpoint:i,avatarURL:o}=e,s=i===Nn();if(s&&void 0!==o)try{const e=new URL(o);e.searchParams.set("s",""+t),n.push(e.toString())}catch(e){n.push(o)}else if(null!==i&&!s&&!mn(i))return n.push(function(e,t=60){const n=e.trim().toLowerCase();return`https://www.gravatar.com/avatar/${be.createHash("md5").update(n).digest("hex")}?s=${t}`}(r,t)),n;const a=Gy.exec(r),l=null===i||s?"https://avatars.githubusercontent.com":i+"/enterprise/avatars";if(a){const[,e,r,o]=a;if("github.com"===o||null!==i&&o===new URL(i).hostname)if(void 0!==e){const r=encodeURIComponent(e);n.push(`${l}/u/${r}?s=${t}`)}else{const e=encodeURIComponent(r);n.push(`${l}/${e}?s=${t}`)}}const c=encodeURIComponent(r);return n.push(`${l}/u/e?email=${c}&s=${t}`),n}class Vy extends de.Component{constructor(e){super(e),this.onImageError=e=>{this.state.candidates.length>0&&this.setState({candidates:this.state.candidates.slice(1)})},this.onInternetConnected=()=>{if(0===this.state.candidates.length){const{user:e,size:t}=this.props,n=qy(e,t);n.length>0&&this.setState({candidates:n})}};const{user:t,size:n}=e;this.state={user:t,candidates:qy(t,n)}}static getDerivedStateFromProps(e,t){const{user:n,size:r}=e;if(!Us(n,t.user)){return{user:n,candidates:qy(n,r)}}return null}getTitle(){if(null===this.props.title)return;if(void 0!==this.props.title)return this.props.title;const e=this.props.user;return e?e.name?de.createElement(de.Fragment,null,de.createElement(Vy,{title:null,user:e}),de.createElement("div",null,de.createElement("div",null,de.createElement("strong",null,e.name)),de.createElement("div",null,e.email))):e.email:"Unknown user"}render(){const e=this.getTitle(),{user:t}=this.props,n=t?"Avatar for "+(t.name||t.email):"Avatar for unknown user";if(0===this.state.candidates.length)return de.createElement(cf,{symbol:zy,className:"avatar",title:e});const r=this.state.candidates[0],i=de.createElement("img",{className:"avatar",src:r,alt:n,onError:this.onImageError});return void 0===e?i:de.createElement(km,{className:"avatar-container",tooltipClassName:this.props.title?void 0:"user-info",tooltip:e,direction:rf.NORTH,tagName:"div"},i)}componentDidMount(){window.addEventListener("online",this.onInternetConnected)}componentWillUnmount(){window.removeEventListener("online",this.onInternetConnected)}}class $y extends fe.a.Component{constructor(e){super(e),this.openPopover=()=>{this.setState(e=>!1===e.isPopoverOpen?{isPopoverOpen:!0}:null)},this.closePopover=()=>{this.setState(e=>e.isPopoverOpen?{isPopoverOpen:!1}:null)},this.onAvatarClick=e=>{!1!==this.props.warningBadgeVisible&&(e.preventDefault(),this.state.isPopoverOpen?this.closePopover():this.openPopover())},this.onRepositorySettingsClick=()=>{this.closePopover(),this.props.onOpenRepositorySettings()},this.onIgnoreClick=e=>{e.preventDefault(),this.closePopover()},this.onUpdateEmailClick=async e=>{e.preventDefault(),this.closePopover(),this.props.email!==this.state.accountEmail&&this.props.onUpdateEmail(this.state.accountEmail)},this.onSelectedGitHubEmailChange=e=>{const t=e.currentTarget.value;t&&this.setState({accountEmail:t})},this.state={isPopoverOpen:!1,accountEmail:this.props.preferredAccountEmail}}render(){return fe.a.createElement("div",{className:"commit-message-avatar-component"},fe.a.createElement("div",{onClick:this.onAvatarClick},this.props.warningBadgeVisible&&this.renderWarningBadge(),fe.a.createElement(Vy,{user:this.props.user,title:this.props.title})),this.state.isPopoverOpen&&this.renderPopover())}renderWarningBadge(){return fe.a.createElement("div",{className:"warning-badge"},fe.a.createElement(cf,{symbol:hf}))}renderPopover(){const e=this.props.isEnterpriseAccount?" Enterprise":"";return fe.a.createElement(Wy,{caretPosition:Ly.LeftBottom,onClickOutside:this.closePopover},fe.a.createElement("h3",null,"This commit will be misattributed"),fe.a.createElement(Ng,null,fe.a.createElement("div",null,"The email in your global Git config (",fe.a.createElement("span",{className:"git-email"},this.props.email),") doesn't match your GitHub",e," account."," ",fe.a.createElement(Mg,{uri:"https://docs.github.com/en/github/committing-changes-to-your-project/why-are-my-commits-linked-to-the-wrong-user"},"Learn more."))),fe.a.createElement(Ng,null,fe.a.createElement(By,{value:this.state.accountEmail,onChange:this.onSelectedGitHubEmailChange},this.props.accountEmails.map(e=>fe.a.createElement("option",{key:e,value:e},e)))),fe.a.createElement(Ng,null,fe.a.createElement("div",{className:"secondary-text"},"You can also choose an email local to this repository from the"," ",fe.a.createElement(Mg,{onClick:this.onRepositorySettingsClick},"repository settings"),".")),fe.a.createElement(Ng,{className:"button-row"},fe.a.createElement(qg,{onClick:this.onIgnoreClick,type:"button"},"Ignore"),fe.a.createElement(qg,{onClick:this.onUpdateEmailClick,type:"submit"},"Update Email")))}}var Ky;!function(e){e[e.Tabs=0]="Tabs",e[e.Switch=1]="Switch",e[e.Vertical=2]="Vertical"}(Ky||(Ky={}));class Yy extends de.Component{constructor(){super(...arguments),this.onClick=e=>{this.props.onClick(this.props.index)},this.onKeyDown=e=>{const{type:t,index:n}=this.props,r=t===Ky.Vertical?"ArrowUp":"ArrowLeft",i=t===Ky.Vertical?"ArrowDown":"ArrowRight";e.key===r?(this.props.onSelectAdjacent("previous",n),e.preventDefault()):e.key===i&&(this.props.onSelectAdjacent("next",n),e.preventDefault())},this.onButtonRef=e=>{this.props.onButtonRef(this.props.index,e)},this.onMouseEnter=()=>{this.props.onMouseEnter(this.props.index)}}render(){const e=this.props.selected,t=al()("tab-bar-item",{selected:e});return de.createElement("button",{ref:this.onButtonRef,className:t,onClick:this.onClick,role:"tab","aria-selected":e,tabIndex:e?void 0:-1,onKeyDown:this.onKeyDown,onMouseEnter:this.onMouseEnter,onMouseLeave:this.props.onMouseLeave,type:"button"},this.props.children)}}class Zy extends de.Component{constructor(){super(...arguments),this.tabRefsByIndex=new Map,this.mouseOverTimeoutId=null,this.onSelectAdjacentTab=(e,t)=>{const n=de.Children.toArray(this.props.children);if(0===n.length)return;const r=(t+("next"===e?1:-1)+n.length)%n.length,i=this.tabRefsByIndex.get(r);i&&i.focus(),this.props.onTabClicked(r)},this.onTabClicked=e=>{this.props.onTabClicked(e)},this.onTabRef=(e,t)=>{t?this.tabRefsByIndex.set(e,t):this.tabRefsByIndex.delete(e)},this.onMouseEnter=e=>{e!==this.props.selectedIndex&&Dg.isDragInProgress&&void 0!==this.props.allowDragOverSwitching&&this.props.allowDragOverSwitching&&(this.mouseOverTimeoutId=window.setTimeout(()=>{this.onTabClicked(e)},500))},this.onMouseLeave=()=>{null!==this.mouseOverTimeoutId&&window.clearTimeout(this.mouseOverTimeoutId)}}render(){const{type:e}=this.props;return de.createElement("div",{className:"tab-bar "+(e===Ky.Switch?"switch":e===Ky.Vertical?"vertical":"tabs"),role:"tablist"},this.renderItems())}renderItems(){return de.Children.toArray(this.props.children).map((e,t)=>{const n=t===this.props.selectedIndex;return de.createElement(Yy,{key:t,selected:n,index:t,onClick:this.onTabClicked,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onSelectAdjacent:this.onSelectAdjacentTab,onButtonRef:this.onTabRef,type:this.props.type},e)})}}class Xy extends de.Component{render(){const e=al()("dialog-content",this.props.className);return de.createElement("div",{className:e,ref:this.props.onRef},this.props.children)}}class Qy extends de.Component{constructor(){super(...arguments),this.onCloseButtonClick=e=>{this.props.onDismissed&&this.props.onDismissed()}}renderCloseButton(){return this.props.dismissable?de.createElement("a",{className:"close",onClick:this.onCloseButtonClick,"aria-label":"close",role:"button"},de.createElement(cf,{symbol:um})):null}renderTitle(){return de.createElement("h1",{id:this.props.titleId},this.props.title)}render(){const e=this.props.loading?de.createElement(cf,{className:"icon spin",symbol:bm}):null;return de.createElement("header",{className:"dialog-header"},this.renderTitle(),e,this.renderCloseButton(),this.props.children)}}const Jy=pm();class ev extends de.Component{constructor(e){super(e),this.dialogElement=null,this.disableClickDismissalTimeoutId=null,this.disableClickDismissal=!1,this.resizeDebounceId=null,this.scheduleResizeEvent=()=>{null!==this.resizeDebounceId&&(cancelAnimationFrame(this.resizeDebounceId),this.resizeDebounceId=null),this.resizeDebounceId=requestAnimationFrame(this.onResized)},this.onResized=()=>{if(!this.dialogElement)return;const{offsetTop:e,offsetHeight:t}=this.dialogElement;if(t>window.innerHeight-Jy)return;const n=e+t+10-window.innerHeight;if(n>0){const t=Math.max(Jy,e-n);this.dialogElement.style.top=t+"px"}},this.onDismissGraceTimer=()=>{this.setState({isAppearing:!1})},this.onWindowFocus=()=>{this.clearClickDismissalTimer(),this.disableClickDismissal=!0,this.disableClickDismissalTimeoutId=window.setTimeout(()=>{this.disableClickDismissal=!1,this.disableClickDismissalTimeoutId=null},500)},this.onDialogCancel=e=>{e.preventDefault(),this.onDismiss()},this.onDialogMouseDown=e=>{if(!e.defaultPrevented&&!1!==this.isDismissable()&&e.target===this.dialogElement)return this.disableClickDismissal?(this.disableClickDismissal=!1,void this.clearClickDismissalTimer()):void(this.mouseEventIsInsideDialog(e)||document.addEventListener("mouseup",this.onDocumentMouseUp,{once:!0}))},this.onDocumentMouseUp=e=>{e.defaultPrevented||this.mouseEventIsInsideDialog(e)||(e.preventDefault(),this.onDismiss())},this.onDialogRef=e=>{e?e.addEventListener("cancel",this.onDialogCancel):this.dialogElement&&this.dialogElement.removeEventListener("cancel",this.onDialogCancel),this.dialogElement=e},this.onKeyDown=e=>{if(e.defaultPrevented)return;(e.metaKey&&"w"===e.key||"Escape"===e.key)&&this.onDialogCancel(e)},this.onDismiss=()=>{this.isDismissable()&&!this.state.isAppearing&&this.props.onDismissed&&this.props.onDismissed()},this.onSubmit=e=>{e.preventDefault(),this.props.onSubmit?this.props.onSubmit():this.onDismiss()},this.state={isAppearing:!0},this.resizeObserver=new ResizeObserver(this.scheduleResizeEvent)}clearDismissGraceTimeout(){void 0!==this.dismissGraceTimeoutId&&(window.clearTimeout(this.dismissGraceTimeoutId),this.dismissGraceTimeoutId=void 0)}scheduleDismissGraceTimeout(){this.clearDismissGraceTimeout(),this.dismissGraceTimeoutId=window.setTimeout(this.onDismissGraceTimer,250)}isDismissable(){return void 0===this.props.dismissable||this.props.dismissable}updateTitleId(){if(this.state.titleId&&(tf(this.state.titleId),this.setState({titleId:void 0})),this.props.title){const e="string"==typeof this.props.title?this.props.title:"???";this.setState({titleId:ef(`Dialog_${this.props.id}_${e}`)})}}componentWillMount(){this.updateTitleId()}componentDidMount(){this.dialogElement&&(this.dialogElement.showModal(),this.dialogElement.dispatchEvent(new CustomEvent("dialog-show",{bubbles:!0,cancelable:!1})),this.setState({isAppearing:!0}),this.scheduleDismissGraceTimeout(),this.focusFirstSuitableChild(),window.addEventListener("focus",this.onWindowFocus),this.resizeObserver.observe(this.dialogElement),window.addEventListener("resize",this.scheduleResizeEvent))}focusFirstSuitableChild(){const e=this.dialogElement;if(null===e)return;const t=['input:not([type=hidden]):not(:disabled):not([tabindex="-1"])','textarea:not(:disabled):not([tabindex="-1"])','button:not(:disabled):not([tabindex="-1"])','[tabindex]:not(:disabled):not([tabindex="-1"])'].join(", ");let n=[1/0,null],r=null,i=null,o=null;const s=`input${[":not([type=button])",":not([type=submit])",":not([type=reset])",":not([type=hidden])",":not([type=checkbox])",":not([type=radio])"].join("")}, textarea`;for(const a of e.querySelectorAll(t)){if(!(a instanceof HTMLElement))continue;const e=parseInt(a.getAttribute("tabindex")||"",10);e>0&&e<n[0]?n=[e,a]:null!==o||0!==e&&!a.matches(s)?null===r&&a.matches("input[type=submit], button[type=submit]")?r=a:null===i&&a.matches("input[type=button], input[type=submit] input[type=reset], button")&&(i=a):o=a}const a=n[1]||o||r||i;null!==a&&a.focus()}clearClickDismissalTimer(){this.disableClickDismissalTimeoutId&&(window.clearTimeout(this.disableClickDismissalTimeoutId),this.disableClickDismissalTimeoutId=null)}componentWillUnmount(){this.clearDismissGraceTimeout(),this.state.titleId&&tf(this.state.titleId),window.removeEventListener("focus",this.onWindowFocus),document.removeEventListener("mouseup",this.onDocumentMouseUp),this.resizeObserver.disconnect(),window.removeEventListener("resize",this.scheduleResizeEvent)}componentDidUpdate(){!this.props.title&&this.state.titleId&&this.updateTitleId()}mouseEventIsInsideDialog(e){if(null===this.dialogElement)return!1;if(e.clientY<=Jy)return!1;const t=this.dialogElement.getBoundingClientRect();return t.top<=e.clientY&&e.clientY<=t.top+t.height&&t.left<=e.clientX&&e.clientX<=t.left+t.width}renderHeader(){return this.props.title?de.createElement(Qy,{title:this.props.title,titleId:this.state.titleId,dismissable:this.isDismissable(),onDismissed:this.onDismiss,loading:this.props.loading}):null}render(){const e=al()({error:"error"===this.props.type,warning:"warning"===this.props.type},this.props.className,"tooltip-host");return de.createElement("dialog",{ref:this.onDialogRef,id:this.props.id,onMouseDown:this.onDialogMouseDown,onKeyDown:this.onKeyDown,className:e,"aria-labelledby":this.state.titleId,tabIndex:-1},this.renderHeader(),de.createElement("form",{onSubmit:this.onSubmit,onReset:this.onDismiss},de.createElement("fieldset",{disabled:this.props.disabled},this.props.children)))}}class tv extends de.Component{render(){return de.createElement("div",{className:"dialog-error"},de.createElement(cf,{symbol:im}),de.createElement("div",null,this.props.children))}}class nv extends de.Component{render(){return de.createElement("div",{className:"dialog-footer"},this.props.children)}}class rv extends de.Component{constructor(){super(...arguments),this.onOkButtonClick=e=>{void 0!==this.props.onOkButtonClick&&this.props.onOkButtonClick(e),e.defaultPrevented||!0===this.props.destructive&&(e.preventDefault(),e.currentTarget.form&&e.currentTarget.form.dispatchEvent(new Event("submit")))},this.onCancelButtonClick=e=>{void 0!==this.props.onCancelButtonClick&&this.props.onCancelButtonClick(e),e.defaultPrevented||!0===this.props.destructive&&(e.preventDefault(),e.currentTarget.form&&e.currentTarget.form.dispatchEvent(new Event("reset")))}}renderOkButton(){return de.createElement(qg,{onClick:this.onOkButtonClick,disabled:this.props.okButtonDisabled,tooltip:this.props.okButtonTitle,type:!0===this.props.destructive?"button":"submit"},this.props.okButtonText||"Ok")}renderCancelButton(){return!1===this.props.cancelButtonVisible?null:de.createElement(qg,{onClick:this.onCancelButtonClick,disabled:this.props.cancelButtonDisabled,tooltip:this.props.cancelButtonTitle,type:!0===this.props.destructive?"submit":"reset"},this.props.cancelButtonText||"Cancel")}renderButtons(){return de.createElement(de.Fragment,null,this.renderCancelButton(),this.renderOkButton())}render(){const e=al()("button-group",this.props.className,{destructive:!0===this.props.destructive});return de.createElement("div",{className:e},this.renderButtons(),this.props.children)}}class iv extends de.Component{render(){return de.createElement(nv,null,de.createElement(rv,{okButtonText:this.props.buttonText||"Close",okButtonTitle:this.props.buttonTitle,onOkButtonClick:this.props.onButtonClick,okButtonDisabled:this.props.disabled,cancelButtonVisible:!1}))}}class ov extends de.Component{render(){const e=this.props.remote;return de.createElement(Xy,null,de.createElement("p",null,"Primary remote repository (",e.name,")"),de.createElement(Fg,{placeholder:"Remote URL",value:e.url,onValueChanged:this.props.onRemoteUrlChanged}))}}class sv extends de.Component{constructor(){super(...arguments),this.onChange=e=>{this.props.onChange&&this.props.onChange(e),this.props.onValueChanged&&!e.defaultPrevented&&this.props.onValueChanged(e.currentTarget.value)},this.onContextMenu=e=>{e.preventDefault(),Cm([{role:"editMenu"}])}}render(){const e=al()("text-area-component",this.props.labelClassName);return de.createElement("label",{className:e},this.props.label,de.createElement("textarea",{autoFocus:this.props.autoFocus,className:this.props.textareaClassName,disabled:this.props.disabled,rows:this.props.rows||3,placeholder:this.props.placeholder,value:this.props.value,onChange:this.onChange,onKeyDown:this.props.onKeyDown,ref:this.props.onTextAreaRef,onContextMenu:this.onContextMenu}))}}class av extends de.Component{render(){return de.createElement("em",{className:"ref-component"},this.props.children)}}class lv extends de.Component{render(){return de.createElement(Xy,null,de.createElement("p",null,"Editing ",de.createElement(av,null,".gitignore"),". This file specifies intentionally untracked files that Git should ignore. Files already tracked by Git are not affected."," ",de.createElement(Mg,{onClick:this.props.onShowExamples},"Learn more")),de.createElement(sv,{placeholder:"Ignored files",value:this.props.text||"",onValueChanged:this.props.onIgnoreTextChanged,rows:6}))}}class cv extends de.Component{constructor(){super(...arguments),this.onClick=e=>{e.preventDefault(),this.props.onAction()}}render(){return de.createElement(Ng,{className:"call-to-action"},this.props.children,de.createElement(qg,{className:"action-button",type:"submit",onClick:this.onClick},this.props.actionTitle))}}class uv extends de.Component{render(){return de.createElement(Xy,null,de.createElement(cv,{actionTitle:"Publish",onAction:this.props.onPublish},de.createElement("div",null,"Publish your repository to GitHub. Need help?"," ",de.createElement(Mg,{uri:"https://help.github.com/articles/about-remote-repositories/"},"Learn more")," about remote repositories.")))}}function hv(e){const t=e.forkContributionTarget===ni.Self?e.repository.gitHubRepository:e.repository.gitHubRepository.parent;return de.createElement("ul",{className:"fork-settings-description"},de.createElement("li",null," ",de.createElement("strong",null,t.fullName)," ","will be shown in the pull request list."),de.createElement("li",null,"Issues will be created in ",de.createElement("strong",null,t.fullName),"."),de.createElement("li",null,'"Github" will open ',de.createElement("strong",null,t.fullName)," ","in the browser."),de.createElement("li",null,"New branches will be based on"," ",de.createElement("strong",null,t.fullName),"'s default branch."),de.createElement("li",null,"Autocompletion of user and issues will be based on"," ",de.createElement("strong",null,t.fullName),"."))}class pv extends de.Component{constructor(e){super(e),this.onSelected=e=>{this.props.onSelected(this.props.value,e)},this.state={inputId:ef("RadioButton_"+this.props.value)}}componentWillUnmount(){tf(this.state.inputId)}render(){return de.createElement("div",{className:"radio-button-component"},de.createElement("input",{type:"radio",id:this.state.inputId,value:this.props.value,checked:this.props.checked,onChange:this.onSelected}),de.createElement("label",{htmlFor:this.state.inputId},this.props.label))}}class dv extends de.Component{constructor(){super(...arguments),this.onForkContributionTargetChanged=e=>{this.props.onForkContributionTargetChanged(e)}}render(){return de.createElement(Xy,null,de.createElement("h2",null,"I'll be using this fork"),de.createElement(pv,{value:ni.Parent,checked:this.props.forkContributionTarget===ni.Parent,label:"",onSelected:this.onForkContributionTargetChanged}),de.createElement(pv,{value:ni.Self,checked:this.props.forkContributionTarget===ni.Self,label:"For my own purposes",onSelected:this.onForkContributionTargetChanged}),de.createElement(hv,{repository:this.props.repository,forkContributionTarget:this.props.forkContributionTarget}))}}class fv extends de.Component{render(){const{accounts:e,email:t}=this.props;return 0===e.length||e.some(e=>Ma(e,t))?null:de.createElement("div",null," This email address doesn't match ",this.getAccountTypeDescription(),", so your commits will be wrongly attributed."," ",de.createElement(Mg,{uri:"https://docs.github.com/en/github/committing-changes-to-your-project/why-are-my-commits-linked-to-the-wrong-user"},"Learn more."))}getAccountTypeDescription(){if(1===this.props.accounts.length){return`your ${this.props.accounts[0].endpoint===Nn()?"GitHub":"GitHub Enterprise"} account`}return"either of your GitHub.com nor GitHub Enterprise accounts"}}class mv extends de.Component{constructor(e){super(e),this.emailInputRef=de.createRef(),this.onEmailSelectChange=e=>{var t,n;const r=e.currentTarget.value;this.setState({emailIsOther:"Other"===r}),"Other"!==r&&(null===(n=(t=this.props).onEmailChanged)||void 0===n||n.call(t,r))},this.state={emailIsOther:!this.accountEmails.includes(this.props.email)}}componentDidUpdate(e,t){const n=null!==this.emailInputRef.current&&this.emailInputRef.current.isFocused;if(e.email===this.props.email||n||this.setState({emailIsOther:!this.accountEmails.includes(this.props.email)}),this.state.emailIsOther!==t.emailIsOther&&!0===this.state.emailIsOther&&null!==this.emailInputRef.current){const e=this.emailInputRef.current;e.focus(),e.selectAll()}}render(){return de.createElement("div",null,de.createElement(Ng,null,de.createElement(Fg,{label:"Name",value:this.props.name,disabled:this.props.disabled,onValueChanged:this.props.onNameChanged})),this.renderEmailDropdown(),this.renderEmailTextBox(),de.createElement(fv,{accounts:this.accounts,email:this.props.email}))}renderEmailDropdown(){var e,t,n,r;if(0===this.accountEmails.length)return null;const i=null!==(t=null===(e=this.props.dotComAccount)||void 0===e?void 0:e.emails.map(e=>e.email))&&void 0!==t?t:[],o=null!==(r=null===(n=this.props.enterpriseAccount)||void 0===n?void 0:n.emails.map(e=>e.email))&&void 0!==r?r:[],s=null!==this.props.dotComAccount&&null!==this.props.enterpriseAccount,a=s?"(GitHub.com)":"",l=s?"(GitHub Enterprise)":"";return de.createElement(Ng,null,de.createElement(By,{label:"Email",value:this.state.emailIsOther?"Other":this.props.email,disabled:this.props.disabled,onChange:this.onEmailSelectChange},i.map(e=>de.createElement("option",{key:e,value:e},e," ",a)),o.map(e=>de.createElement("option",{key:e,value:e},e," ",l)),de.createElement("option",{key:"Other",value:"Other"},"Other")))}renderEmailTextBox(){if(!1===this.state.emailIsOther&&this.accountEmails.length>0)return null;const e=this.state.emailIsOther?void 0:"Email";return de.createElement(Ng,null,de.createElement(Fg,{ref:this.emailInputRef,label:e,type:"email",value:this.props.email,disabled:this.props.disabled,onValueChanged:this.props.onEmailChanged}))}get accounts(){const e=[];return this.props.dotComAccount&&e.push(this.props.dotComAccount),this.props.enterpriseAccount&&e.push(this.props.enterpriseAccount),e}get accountEmails(){return this.accounts.reduce((e,t)=>e.concat(t.emails.map(e=>e.email)),[])}}var gv;!function(e){e.Global="Global",e.Local="Local"}(gv||(gv={}));class yv extends de.Component{constructor(){super(...arguments),this.onGitConfigLocationChanged=e=>{this.props.onGitConfigLocationChanged(e)}}render(){const e=null!==this.props.account&&this.props.account.endpoint===Nn(),t=e?null:this.props.account,n=e?this.props.account:null;return de.createElement(Xy,null,de.createElement("div",{className:"advanced-section"},de.createElement("h2",null,"For this repository I wish to"),de.createElement(Ng,null,de.createElement("div",null,de.createElement(pv,{label:"Use my global Git config",checked:this.props.gitConfigLocation===gv.Global,value:gv.Global,onSelected:this.onGitConfigLocationChanged}),de.createElement(pv,{label:"Use a local Git config",checked:this.props.gitConfigLocation===gv.Local,value:gv.Local,onSelected:this.onGitConfigLocationChanged}))),de.createElement(mv,{email:this.props.gitConfigLocation===gv.Global?this.props.globalEmail:this.props.email,name:this.props.gitConfigLocation===gv.Global?this.props.globalName:this.props.name,enterpriseAccount:t,dotComAccount:n,disabled:this.props.gitConfigLocation===gv.Global,onEmailChanged:this.props.onEmailChanged,onNameChanged:this.props.onNameChanged})))}}const vv=/^[\x00-\x20.,:;<>"\\']+$/;function bv(e){return!vv.test(e)}var wv,Cv;!function(e){e[e.Remote=0]="Remote",e[e.IgnoredFiles=1]="IgnoredFiles",e[e.GitConfig=2]="GitConfig",e[e.ForkSettings=3]="ForkSettings"}(wv||(wv={}));class Sv extends de.Component{constructor(e){super(e),this.onPublish=()=>{this.props.dispatcher.showPopup({type:ai.PublishRepository,repository:this.props.repository})},this.onShowGitIgnoreExamples=()=>{this.props.dispatcher.openInBrowser("https://git-scm.com/docs/gitignore")},this.onSubmit=async()=>{this.setState({disabled:!0,errors:void 0});const e=new Array;if(this.state.remote&&this.props.remote&&this.state.remote.url!==this.props.remote.url)try{await this.props.dispatcher.setRemoteURL(this.props.repository,this.props.remote.name,this.state.remote.url)}catch(t){log.error("RepositorySettings: unable to set remote URL at "+this.props.repository.path,t),e.push("Failed setting the remote URL: "+t)}if(this.state.ignoreTextHasChanged&&null!==this.state.ignoreText)try{await this.props.dispatcher.saveGitIgnore(this.props.repository,this.state.ignoreText)}catch(t){log.error("RepositorySettings: unable to save gitignore at "+this.props.repository.path,t),e.push("Failed saving the .gitignore file: "+t)}this.state.forkContributionTarget!==this.props.repository.workflowPreferences.forkContributionTarget&&await this.props.dispatcher.updateRepositoryWorkflowPreferences(this.props.repository,Object.assign(Object.assign({},this.props.repository.workflowPreferences),{forkContributionTarget:this.state.forkContributionTarget}));let t=!1;this.state.gitConfigLocation!==this.state.initialGitConfigLocation&&this.state.gitConfigLocation===gv.Global?(await fr(this.props.repository,"user.name"),await fr(this.props.repository,"user.email"),t=!0):this.state.gitConfigLocation===gv.Local&&(this.state.committerName!==this.state.initialCommitterName&&(await hr(this.props.repository,"user.name",this.state.committerName),t=!0),this.state.committerEmail!==this.state.initialCommitterEmail&&(await hr(this.props.repository,"user.email",this.state.committerEmail),t=!0)),t&&this.props.dispatcher.refreshAuthor(this.props.repository),e.length?this.setState({disabled:!1,errors:e}):this.props.onDismissed()},this.onRemoteUrlChanged=e=>{const t=this.props.remote;if(!t)return;const n=Object.assign(Object.assign({},t),{url:e});this.setState({remote:n})},this.onIgnoreTextChanged=e=>{this.setState({ignoreText:e,ignoreTextHasChanged:!0})},this.onTabClicked=e=>{this.setState({selectedTab:e})},this.onForkContributionTargetChanged=e=>{this.setState({forkContributionTarget:e})},this.onGitConfigLocationChanged=e=>{this.setState({gitConfigLocation:e})},this.onCommitterNameChanged=e=>{const t=new Array;bv(e)?this.setState({saveDisabled:!1}):(this.setState({saveDisabled:!0}),t.push("Name is invalid, it consists only of disallowed characters.")),this.setState({committerName:e,errors:t})},this.onCommitterEmailChanged=e=>{this.setState({committerEmail:e})},this.state={selectedTab:this.props.initialSelectedTab||wv.Remote,remote:e.remote,ignoreText:null,ignoreTextHasChanged:!1,disabled:!1,forkContributionTarget:ki(e.repository),saveDisabled:!1,gitConfigLocation:gv.Global,committerName:"",committerEmail:"",globalCommitterName:"",globalCommitterEmail:"",initialGitConfigLocation:gv.Global,initialCommitterName:null,initialCommitterEmail:null}}async componentWillMount(){try{const e=await $d(this.props.repository);this.setState({ignoreText:e})}catch(e){log.error("RepositorySettings: unable to read root .gitignore file for "+this.props.repository.path,e),this.setState({errors:["Could not read root .gitignore: "+e]})}const e=await lr(this.props.repository,"user.name",!0),t=await lr(this.props.repository,"user.email",!0),n=await cr("user.name")||"",r=await cr("user.email")||"",i=null===e&&null===t?gv.Global:gv.Local;let o=n,s=r;i===gv.Local&&(o=null!=e?e:"",s=null!=t?t:""),this.setState({gitConfigLocation:i,committerName:o,committerEmail:s,globalCommitterName:n,globalCommitterEmail:r,initialGitConfigLocation:i,initialCommitterName:e,initialCommitterEmail:t})}renderErrors(){const e=this.state.errors;return e&&e.length?e.map((e,t)=>{const n="err-"+t;return de.createElement(tv,{key:n},e)}):null}render(){const e=wi(this.props.repository);return de.createElement(ev,{id:"repository-settings",title:"Repository Settings",onDismissed:this.props.onDismissed,onSubmit:this.onSubmit,disabled:this.state.disabled},this.renderErrors(),de.createElement("div",{className:"tab-container"},de.createElement(Zy,{onTabClicked:this.onTabClicked,selectedIndex:this.state.selectedTab,type:Ky.Vertical},de.createElement("span",null,"Remote"),de.createElement("span",null,"Ignored Files"),de.createElement("span",null,"Git Config"),e&&de.createElement("span",null,"Fork Behavior")),de.createElement("div",{className:"active-tab"},this.renderActiveTab())),this.renderFooter())}renderFooter(){const e=this.state.selectedTab,t=this.state.remote;return e!==wv.Remote||t?de.createElement(nv,null,de.createElement(rv,{okButtonText:"Save",okButtonDisabled:this.state.saveDisabled})):null}renderActiveTab(){const e=this.state.selectedTab;switch(e){case wv.Remote:{const e=this.state.remote;return e?de.createElement(ov,{remote:e,onRemoteUrlChanged:this.onRemoteUrlChanged}):de.createElement(uv,{onPublish:this.onPublish})}case wv.IgnoredFiles:return de.createElement(lv,{text:this.state.ignoreText,onIgnoreTextChanged:this.onIgnoreTextChanged,onShowExamples:this.onShowGitIgnoreExamples});case wv.ForkSettings:return wi(this.props.repository)?de.createElement(dv,{forkContributionTarget:this.state.forkContributionTarget,repository:this.props.repository,onForkContributionTargetChanged:this.onForkContributionTargetChanged}):null;case wv.GitConfig:return de.createElement(yv,{account:this.props.repositoryAccount,gitConfigLocation:this.state.gitConfigLocation,onGitConfigLocationChanged:this.onGitConfigLocationChanged,name:this.state.committerName,email:this.state.committerEmail,globalName:this.state.globalCommitterName,globalEmail:this.state.globalCommitterEmail,onNameChanged:this.onCommitterNameChanged,onEmailChanged:this.onCommitterEmailChanged});default:return Ze(0,"Unknown tab type: "+e)}}}!function(e){e[e.Text=0]="Text",e[e.Emoji=1]="Emoji",e[e.Link=2]="Link"}(Cv||(Cv={}));class Ev{constructor(e,t){this.repository=null,this._results=new Array,this._currentString="",this.emoji=e,t&&bi(t)&&(this.repository=Ei(t))}reset(){this._results=new Array,this._currentString=""}append(e){this._currentString+=e}flush(){this._currentString.length&&(this._results.push({kind:Cv.Text,text:this._currentString}),this._currentString="")}getLastProcessedChar(){return this._currentString.length?this._currentString[this._currentString.length-1]:null}scanForEndOfWord(e,t){const n=e.indexOf("\n",t+1),r=e.indexOf(" ",t+1);return n>-1&&r>-1?Math.min(n,r):n>-1?n:r>-1?r:e.length}scanForEmoji(e,t){const n=this.scanForEndOfWord(e,t),r=e.slice(t,n);if(!/^:.*?:$/.test(r))return null;const i=this.emoji.get(r);return i?(this.flush(),this._results.push({kind:Cv.Emoji,text:r,path:i}),{nextIndex:n}):null}scanForIssue(e,t,n){let r=this.scanForEndOfWord(e,t),i=e.slice(t,r);if(i.endsWith(")")&&(r-=1,i=e.slice(t,r)),i.endsWith(".")&&(r-=1,i=e.slice(t,r)),i.endsWith(",")&&(r-=1,i=e.slice(t,r)),!/^#\d+$/.test(i))return null;this.flush();const o=parseInt(i.substr(1),10);if(isNaN(o))return null;const s=`${n.htmlURL}/issues/${o}`;return this._results.push({kind:Cv.Link,text:i,url:s}),{nextIndex:r}}scanForMention(e,t,n){const r=this.getLastProcessedChar();if(r&&!/\s/.test(r))return null;let i=this.scanForEndOfWord(e,t),o=e.slice(t,i);if((o.endsWith("!")||o.endsWith(","))&&(i-=1,o=e.slice(t,i)),!/^@[a-zA-Z0-9\-]+$/.test(o))return null;this.flush();const s=o.substr(1),a=`${Fn(n.endpoint)}/${s}`;return this._results.push({kind:Cv.Link,text:o,url:a}),{nextIndex:i}}scanForHyperlink(e,t,n){const r=this.getLastProcessedChar();if(r&&!/\s/.test(r))return null;const i=this.scanForEndOfWord(e,t),o=e.slice(t,i);if(!/^https?:\/\/.+/.test(o))return null;if(this.flush(),n&&n.htmlURL){const e=n.htmlURL.toLowerCase();if(o.toLowerCase().startsWith(e+"/issues/")){const e=/\/issues\/(\d+)/.exec(o);if(e){const t=e[1];return this._results.push({kind:Cv.Link,url:o,text:"#"+t}),{nextIndex:i}}}}return this._results.push({kind:Cv.Link,url:o,text:o}),{nextIndex:i}}inspectAndMove(e,t,n){const r=n();return r?r.nextIndex:(this.append(e),t+1)}tokenizeNonGitHubRepository(e){let t=0;for(;t<e.length;){const n=e[t];switch(n){case":":t=this.inspectAndMove(n,t,()=>this.scanForEmoji(e,t));break;case"h":t=this.inspectAndMove(n,t,()=>this.scanForHyperlink(e,t));break;default:this.append(n),t++}}return this.flush(),this._results}tokenizeGitHubRepository(e,t){let n=0;for(;n<e.length;){const r=e[n];switch(r){case":":n=this.inspectAndMove(r,n,()=>this.scanForEmoji(e,n));break;case"#":n=this.inspectAndMove(r,n,()=>this.scanForIssue(e,n,t));break;case"@":n=this.inspectAndMove(r,n,()=>this.scanForMention(e,n,t));break;case"h":n=this.inspectAndMove(r,n,()=>this.scanForHyperlink(e,n,t));break;default:this.append(r),n++}}return this.flush(),this._results}tokenize(e){return this.reset(),this.repository?this.tokenizeGitHubRepository(e,this.repository):this.tokenizeNonGitHubRepository(e)}}function kv(){return xv("")}function xv(e){return{kind:Cv.Text,text:e}}function Dv(e,t){return{kind:Cv.Link,text:e,url:t}}const _v={w:18,h:13,d:"M14 6V4.25a.75.75 0 0 1 1.5 0V6h1.75a.75.75 0 1 1 0 1.5H15.5v1.75a.75.75 0 0 1-1.5 0V7.5h-1.75a.75.75 0 1 1 0-1.5H14zM8.5 4a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0zm.063 3.064a3.995 3.995 0 0 0 1.2-4.429A3.996 3.996 0 0 0 8.298.725a4.01 4.01 0 0 0-6.064 1.91 3.987 3.987 0 0 0 1.2 4.43A5.988 5.988 0 0 0 0 12.2a.748.748 0 0 0 .716.766.751.751 0 0 0 .784-.697 4.49 4.49 0 0 1 1.39-3.04 4.51 4.51 0 0 1 6.218 0 4.49 4.49 0 0 1 1.39 3.04.748.748 0 0 0 .786.73.75.75 0 0 0 .714-.8 5.989 5.989 0 0 0-3.435-5.136z"};function Tv(e){for(const t of e)if(t instanceof ly)return t;return null}class Rv extends de.Component{constructor(e){super(e),this.descriptionComponent=null,this.summaryTextInput=null,this.descriptionTextArea=null,this.descriptionTextAreaScrollDebounceId=null,this.coAuthorInputRef=de.createRef(),this.onSummaryChanged=e=>{this.setState({summary:e})},this.onDescriptionChanged=e=>{this.setState({description:e})},this.onSubmit=()=>{this.createCommit()},this.onKeyDown=e=>{if(e.defaultPrevented)return;e.metaKey&&"Enter"===e.key&&this.canCommit()&&(this.createCommit(),e.preventDefault())},this.onUpdateUserEmail=async e=>{await pr("user.email",e),this.props.dispatcher.refreshAuthor(this.props.repository)},this.onOpenRepositorySettings=()=>{this.props.dispatcher.showPopup({type:ai.RepositorySettings,repository:this.props.repository,initialSelectedTab:wv.GitConfig})},this.onCoAuthorsUpdated=e=>{this.props.persistCoAuthors?this.props.dispatcher.setCoAuthors(this.props.repository,e):this.setState({coAuthors:e})},this.onToggleCoAuthors=()=>{this.setState({showCoAuthoredBy:!this.state.showCoAuthoredBy}),this.props.persistCoAuthors&&this.props.dispatcher.setShowCoAuthoredBy(this.props.repository,!this.props.showCoAuthoredBy)},this.onContextMenu=e=>{e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLInputElement||Cm([this.getAddRemoveCoAuthorsMenuItem()])},this.onAutocompletingInputContextMenu=()=>{const e=[this.getAddRemoveCoAuthorsMenuItem(),{type:"separator"},{role:"editMenu"},{type:"separator"}];e.push(this.getCommitSpellcheckEnabilityMenuItem(this.props.commitSpellcheckEnabled)),Cm(e,!0)},this.onCoAuthorToggleButtonClick=e=>{e.preventDefault(),this.onToggleCoAuthors()},this.onDescriptionFieldRef=e=>{this.descriptionComponent=e},this.onDescriptionTextAreaScroll=()=>{this.descriptionTextAreaScrollDebounceId=null;const e=this.descriptionTextArea,t=null!==e&&e.scrollTop+e.offsetHeight<e.scrollHeight;this.state.descriptionObscured!==t&&this.setState({descriptionObscured:t})},this.onDescriptionTextAreaRef=e=>{if(e){const t=()=>{null!==this.descriptionTextAreaScrollDebounceId&&(cancelAnimationFrame(this.descriptionTextAreaScrollDebounceId),this.descriptionTextAreaScrollDebounceId=null),this.descriptionTextAreaScrollDebounceId=requestAnimationFrame(this.onDescriptionTextAreaScroll)};e.addEventListener("input",t),e.addEventListener("scroll",t)}this.descriptionTextArea=e},this.onSummaryInputRef=e=>{this.summaryTextInput=e},this.onFocusContainerClick=e=>{this.descriptionComponent&&this.descriptionComponent.focus()},this.onSwitchBranch=()=>{this.props.dispatcher.showFoldout({type:Ue.Branch})},this.onMakeFork=()=>{bi(this.props.repository)&&this.props.dispatcher.showCreateForkDialog(this.props.repository)},this.onStopAmending=()=>{this.props.dispatcher.stopAmendingRepository(this.props.repository)};const{commitMessage:t}=this.props;this.state={summary:t?t.summary:"",description:t?t.description:null,userAutocompletionProvider:Tv(e.autocompletionProviders),descriptionObscured:!1,showCoAuthoredBy:e.showCoAuthoredBy,coAuthors:e.coAuthors}}componentWillUnmount(){this.props.persistCommitMessage&&this.props.dispatcher.setCommitMessage(this.props.repository,{summary:this.state.summary,description:this.state.description})}componentWillReceiveProps(e){const{commitMessage:t}=e;null===this.props.commitToAmend&&null!==e.commitToAmend?this.fillWithCommitMessage({summary:e.commitToAmend.summary,description:e.commitToAmend.body}):null!==this.props.commitToAmend&&null===e.commitToAmend&&null!==t&&this.fillWithCommitMessage(t),t&&t!==this.props.commitMessage&&(""!==this.state.summary||this.state.description||this.fillWithCommitMessage(t))}fillWithCommitMessage(e){this.setState({summary:e.summary,description:e.description})}componentDidUpdate(e){var t;this.props.autocompletionProviders!==e.autocompletionProviders&&this.setState({userAutocompletionProvider:Tv(this.props.autocompletionProviders)}),e.showCoAuthoredBy!==this.props.showCoAuthoredBy&&this.setState({showCoAuthoredBy:this.props.showCoAuthoredBy}),this.props.focusCommitMessage?this.focusSummary():!1===e.showCoAuthoredBy&&this.isCoAuthorInputVisible&&e.repository.id===this.props.repository.id&&(null===(t=this.coAuthorInputRef.current)||void 0===t||t.focus())}clearCommitMessage(){this.setState({summary:"",description:null})}focusSummary(){null!==this.summaryTextInput&&(this.summaryTextInput.focus(),this.props.dispatcher.setCommitMessageFocus(!1))}getCoAuthorTrailers(){if(!this.isCoAuthorInputEnabled)return[];return(this.props.persistCoAuthors?this.props.coAuthors:this.state.coAuthors).map(e=>({token:"Co-Authored-By",value:`${e.name} <${e.email}>`}))}get summaryOrPlaceholder(){return this.props.prepopulateCommitSummary&&!this.state.summary?this.props.placeholder:this.state.summary}async createCommit(){const{description:e}=this.state;if(!this.canCommit()&&!this.canAmend())return;const t=this.getCoAuthorTrailers(),n={summary:this.summaryOrPlaceholder,description:e,trailers:t,amend:null!==this.props.commitToAmend},r=Oy("create commit",this.props.repository),i=await this.props.onCreateCommit(n);r.done(),i&&this.clearCommitMessage()}canCommit(){return!0===this.props.anyFilesSelected&&this.state.summary.length>0||this.props.prepopulateCommitSummary}canAmend(){return null!==this.props.commitToAmend&&(this.state.summary.length>0||this.props.prepopulateCommitSummary)}renderAvatar(){var e;const{commitAuthor:t,repository:n}=this.props,{gitHubRepository:r}=n,i=t?de.createElement(de.Fragment,null,"Committing as ",de.createElement("strong",null,t.name)," ",t.email):void 0,o=null!==t?Fy(t,r):void 0,s=this.props.repositoryAccount,a=null!==(e=null==s?void 0:s.emails.map(e=>e.email))&&void 0!==e?e:[],l=null==t?void 0:t.email,c=void 0!==l&&null!=s&&!1===Ma(s,l);return de.createElement($y,{user:o,title:i,email:null==t?void 0:t.email,isEnterpriseAccount:(null==s?void 0:s.endpoint)!==Nn(),warningBadgeVisible:c,accountEmails:a,preferredAccountEmail:null!=s?Aa(s):"",onUpdateEmail:this.onUpdateUserEmail,onOpenRepositorySettings:this.onOpenRepositorySettings})}get isCoAuthorInputEnabled(){return null!==this.props.repository.gitHubRepository}get isCoAuthorInputVisible(){return this.state.showCoAuthoredBy&&this.isCoAuthorInputEnabled}renderCoAuthorInput(){if(!this.isCoAuthorInputVisible)return null;const e=this.state.userAutocompletionProvider;return e?de.createElement(Ry,{ref:this.coAuthorInputRef,onAuthorsUpdated:this.onCoAuthorsUpdated,authors:this.props.coAuthors,autoCompleteProvider:e,disabled:!0===this.props.isCommitting}):null}get toggleCoAuthorsText(){return this.state.showCoAuthoredBy?"Remove Co-Authors":"Add Co-Authors"}getAddRemoveCoAuthorsMenuItem(){return{label:this.toggleCoAuthorsText,action:this.onToggleCoAuthors,enabled:null!==this.props.repository.gitHubRepository&&!0!==this.props.isCommitting}}getCommitSpellcheckEnabilityMenuItem(e){return{label:e?"Disable Commit Spellcheck":"Enable Commit Spellcheck",action:()=>this.props.dispatcher.setCommitSpellcheckEnabled(!e)}}renderCoAuthorToggleButton(){return null===this.props.repository.gitHubRepository?null:de.createElement("button",{className:"co-authors-toggle",onClick:this.onCoAuthorToggleButtonClick,tabIndex:-1,"aria-label":this.toggleCoAuthorsText,disabled:!0===this.props.isCommitting},de.createElement(cf,{symbol:_v}))}get isActionBarEnabled(){return this.isCoAuthorInputEnabled}renderActionBar(){if(!this.isCoAuthorInputEnabled)return null;const e=al()("action-bar",{disabled:!0===this.props.isCommitting});return de.createElement("div",{className:e},this.renderCoAuthorToggleButton())}renderPermissionsCommitWarning(){const{commitToAmend:e,showBranchProtected:t,showNoWriteAccess:n,repository:r,branch:i}=this.props;return null!==e?de.createElement(Py,{icon:hy.Information},"Your changes will modify your ",de.createElement("strong",null,"most recent commit"),"."," ",de.createElement(Mg,{onClick:this.onStopAmending},"Stop amending")," ","to make these changes as a new commit."):n?de.createElement(Py,{icon:hy.Warning},"You don't have write access to ",de.createElement("strong",null,r.name),". Want to"," ",de.createElement(Mg,{onClick:this.onMakeFork},"create a fork"),"?"):t?null===i?null:de.createElement(Py,{icon:hy.Warning},de.createElement("strong",null,i)," is a protected branch. Want to"," ",de.createElement(Mg,{onClick:this.onSwitchBranch},"switch branches"),"?"):null}renderSubmitButton(){const{isCommitting:e,branch:t,commitButtonText:n}=this.props,r=0===(i=this.summaryOrPlaceholder).length||!/\S/.test(i);var i;const o=(this.canCommit()||this.canAmend())&&!e&&!r,s=e?de.createElement(uy,null):void 0,a=null!==this.props.commitToAmend,l=e?"Amending":"Amend",c=e?"Committing":"Commit";let u=void 0;o?u=a?l+" last commit":null!==t?`${c} to ${t}`:c:r?u="A commit summary is required to commit":!this.props.anyFilesSelected&&this.props.anyFilesAvailable?u="Select one or more files to commit":e&&(u="Committing changes");const h=null!==t?de.createElement(de.Fragment,null,c," to ",de.createElement("strong",null,t)):c,p=de.createElement(de.Fragment,null,l," last commit"),d=n||(a?p:h);return de.createElement(qg,{type:"submit",className:"commit-button",onClick:this.onSubmit,disabled:!o,tooltip:u,onlyShowTooltipWhenOverflowed:o},de.createElement(de.Fragment,null,s,d))}renderSummaryLengthHint(){return de.createElement(km,{delay:0,tooltip:de.createElement(de.Fragment,null,de.createElement("div",{className:"title"},"Great commit summaries contain fewer than 50 characters"),de.createElement("div",{className:"description"},"Place extra information in the description field.")),direction:rf.NORTH,className:"length-hint",tooltipClassName:"length-hint-tooltip"},de.createElement(cf,{symbol:Wf}))}render(){const e=al()("commit-message-component",{"with-action-bar":this.isActionBarEnabled,"with-co-authors":this.isCoAuthorInputVisible}),t=al()("description-field",{"with-overflow":this.state.descriptionObscured}),n=this.state.summary.length>50,r=al()("summary",{"with-length-hint":n}),i=al()("summary-field","nudge-arrow",{"nudge-arrow-left":!0===this.props.shouldNudge});return de.createElement("div",{role:"group","aria-label":"Create commit",className:e,onContextMenu:this.onContextMenu,onKeyDown:this.onKeyDown},de.createElement("div",{className:r},this.renderAvatar(),de.createElement(ry,{isRequired:!0,className:i,placeholder:this.props.placeholder,value:this.state.summary,onValueChanged:this.onSummaryChanged,onElementRef:this.onSummaryInputRef,autocompletionProviders:this.props.autocompletionProviders,onContextMenu:this.onAutocompletingInputContextMenu,disabled:!0===this.props.isCommitting,spellcheck:this.props.commitSpellcheckEnabled}),n&&this.renderSummaryLengthHint()),de.createElement(Sg,{className:"description-focus-container",onClick:this.onFocusContainerClick},de.createElement(ny,{className:t,placeholder:"",value:this.state.description||"",onValueChanged:this.onDescriptionChanged,autocompletionProviders:this.props.autocompletionProviders,ref:this.onDescriptionFieldRef,onElementRef:this.onDescriptionTextAreaRef,onContextMenu:this.onAutocompletingInputContextMenu,disabled:!0===this.props.isCommitting,spellcheck:this.props.commitSpellcheckEnabled}),this.renderActionBar()),this.renderCoAuthorInput(),this.renderPermissionsCommitWarning(),this.renderSubmitButton())}}function Av(e,t){if(e.length<=t)return e;if(t<=0)return"";if(1===t)return"";const n=(t-1)/2;return`${e.substring(0,Math.floor(n))}${e.substring(e.length-Math.ceil(n))}`}function Ov(e,t){if((t=void 0===t?e.length:t)<=0)return{normalizedPath:e,directoryText:"",fileText:"",length:t};const{normalizedFileName:n,normalizedDirectory:i}=function(e){e=e.endsWith(r.sep)?e.substring(0,e.length-1):e;const t=r.basename(e);return{normalizedFileName:t,normalizedDirectory:e.substring(0,e.length-t.length)}}(e);if(t>=e.length)return{normalizedPath:e,directoryText:i,fileText:n,length:t};const o=function(e,t){if(e.length<=t)return e;if(t<=0)return"";if(1===t)return"";const n=e.lastIndexOf(r.sep);if(-1===n)return Av(e,t);const i=e.length-n-1;return i+2>t?Av(e,t):`${e.substring(0,t-i-2)}${e.substring(n)}`}(e,t);let s=0;for(let e=0;e<o.length&&e<i.length;e++){const t=i[e],n=o[e];if(t!==n){if(""===n){s++;const t=e+1;o.length>t&&o[t]===r.sep&&s++}break}s++}const a=o.substring(s);return{normalizedPath:e,directoryText:o.substring(0,s),fileText:a,length:t}}function Pv(e,t){const n=r.normalize(e);return Object.assign({longestFit:0,shortestNonFit:void 0,availableWidth:void 0,fullTextWidth:void 0},Ov(n,t))}class Iv extends de.PureComponent{constructor(e){super(e),this.pathElementRef=Qd(),this.pathInnerElement=null,this.onDialogShow=e=>{const t=e.target;t instanceof Element&&t.contains(this.pathElementRef.current)&&this.resizeIfNecessary()},this.onPathInnerElementRef=e=>{this.pathInnerElement=e},this.state=Pv(e.path)}componentWillReceiveProps(e){e.path!==this.props.path&&this.setState(Pv(e.path))}componentDidMount(){this.resizeIfNecessary(),document.addEventListener("dialog-show",this.onDialogShow)}componentWillUnmount(){document.removeEventListener("dialog-show",this.onDialogShow)}componentDidUpdate(){this.resizeIfNecessary()}render(){const e=this.state.directoryText&&this.state.directoryText.length?de.createElement("span",{className:"dirname"},this.state.directoryText):null,t=this.state.length<this.state.normalizedPath.length;return de.createElement("div",{className:"path-text-component",ref:this.pathElementRef},de.createElement("span",{ref:this.onPathInnerElementRef},e,de.createElement("span",{className:"filename"},this.state.fileText)),t&&de.createElement(of,{target:this.pathElementRef,interactive:!0,className:"selectable"},this.state.normalizedPath))}resizeIfNecessary(){if(!this.pathElementRef.current||!this.pathInnerElement)return;const e=void 0!==this.props.availableWidth?this.props.availableWidth:this.pathElementRef.current.getBoundingClientRect().width,t=Math.max(e,0);if(void 0!==this.state.fullTextWidth&&this.state.fullTextWidth<=t)return this.state.length===this.state.normalizedPath.length?void(t!==this.state.availableWidth&&this.setState(Object.assign(Object.assign({},this.state),{availableWidth:t}))):void this.setState(Object.assign(Object.assign(Object.assign({},this.state),Ov(this.state.normalizedPath)),{availableWidth:t}));if(void 0!==this.state.availableWidth&&this.state.availableWidth!==t){const e=Pv(this.props.path,this.state.length);return void(t<this.state.availableWidth?this.setState(Object.assign(Object.assign({},e),{fullTextWidth:this.state.fullTextWidth,shortestNonFit:this.state.shortestNonFit,availableWidth:t})):t>this.state.availableWidth&&this.setState(Object.assign(Object.assign({},e),{fullTextWidth:this.state.fullTextWidth,longestFit:this.state.longestFit,availableWidth:t})))}if(0===t)return void(0!==this.state.length&&this.setState(Object.assign(Object.assign(Object.assign({},this.state),Ov(this.state.normalizedPath,0)),{availableWidth:t,longestFit:0,shortestNonFit:1})));const n=this.pathInnerElement.getBoundingClientRect().width,r=this.state.length===this.state.normalizedPath.length?n:this.state.fullTextWidth,i=0===n?.5:t/n;if(n<=t){if(this.state.length===this.state.normalizedPath.length)return void this.setState(Object.assign(Object.assign({},this.state),{availableWidth:t,fullTextWidth:r}));{const e=this.state.length,o=void 0!==this.state.shortestNonFit?this.state.shortestNonFit-1:this.state.normalizedPath.length,s=e+1;if(s>=o)return void this.setState(Object.assign(Object.assign({},this.state),{longestFit:e,availableWidth:t,fullTextWidth:r}));if(t-n<3)return void this.setState(Object.assign(Object.assign({},this.state),{longestFit:e,availableWidth:t,fullTextWidth:r}));const a=Do(Math.floor(this.state.length*i),s,o);this.setState(Object.assign(Object.assign(Object.assign({},this.state),Ov(this.state.normalizedPath,a)),{longestFit:e,availableWidth:t,fullTextWidth:r}))}}else{const e=this.state.length,n=e-1,o=this.state.longestFit||0,s=Do(Math.floor(this.state.length*i),o,n);this.setState(Object.assign(Object.assign(Object.assign({},this.state),Ov(this.state.normalizedPath,s)),{shortestNonFit:e,availableWidth:t,fullTextWidth:r}))}}}class Mv extends de.Component{render(){const e={className:"path-label-component"},{status:t}=this.props,n=this.props.availableWidth;if(t.kind===ii.Renamed||t.kind===ii.Copied){const r=n?n/2-10:void 0;return de.createElement("label",Object.assign({},e),de.createElement(Iv,{path:t.oldPath,availableWidth:r}),de.createElement(cf,{className:"rename-arrow",symbol:df}),de.createElement(Iv,{path:this.props.path,availableWidth:r}))}return de.createElement("label",Object.assign({},e),de.createElement(Iv,{path:this.props.path,availableWidth:n}))}}class Fv extends de.Component{constructor(){super(...arguments),this.handleCheckboxChange=e=>{const t=e.currentTarget.checked;this.props.onIncludeChanged(this.props.file.path,t)},this.onContextMenu=e=>{this.props.onContextMenu(this.props.file,e)}}get checkboxValue(){return!0===this.props.include?Xg.On:!1===this.props.include?Xg.Off:Xg.Mixed}render(){const{status:e,path:t}=this.props.file,n=po(e),r=this.props.availableWidth-20-20-5-16;return de.createElement("div",{className:"file",onContextMenu:this.onContextMenu},de.createElement(Qg,{tabIndex:-1,value:this.checkboxValue,onChange:this.handleCheckboxChange,disabled:this.props.disableSelection}),de.createElement(Mv,{path:t,status:e,availableWidth:r}),de.createElement(cf,{symbol:vm(e),className:"status status-"+n.toLowerCase(),title:n,tooltipDirection:rf.EAST}))}}class Nv extends de.Component{constructor(){super(...arguments),this.onSubmit=async()=>{const{rebaseConflictState:e}=this.props;await this.props.dispatcher.continueRebase("Rebase",this.props.repository,this.props.workingDirectory,e)}}render(){const{manualResolutions:e}=this.props.rebaseConflictState;let t=!0,n="Continue rebase";wo(this.props.workingDirectory,e).length>0&&(n="Resolve all conflicts before continuing",t=!1);const r=t&&!this.props.isCommitting,i=this.props.isCommitting?de.createElement(uy,null):void 0,o=this.props.hasUntrackedChanges?de.createElement("div",{className:"warning-untracked-files"},"Untracked files will be excluded"):void 0;return de.createElement("div",{id:"continue-rebase"},de.createElement(qg,{type:"submit",className:"commit-button",onClick:this.onSubmit,disabled:!r,tooltip:n},i,de.createElement("span",null,void 0!==i?"Rebasing":"Continue rebase")),o)}}const Bv={w:16,h:16,d:"M10.5 1.286h-9a.214.214 0 0 0-.214.214v9a.214.214 0 0 0 .214.214h9a.214.214 0 0 0 .214-.214v-9a.214.214 0 0 0-.214-.214zM1.5 0h9A1.5 1.5 0 0 1 12 1.5v9a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 0 10.5v-9A1.5 1.5 0 0 1 1.5 0zm5.712 7.212a1.714 1.714 0 1 1-2.424-2.424 1.714 1.714 0 0 1 2.424 2.424zM2.015 12.71c.102.729.728 1.29 1.485 1.29h9a1.5 1.5 0 0 0 1.5-1.5v-9a1.5 1.5 0 0 0-1.29-1.485v1.442a.216.216 0 0 1 .004.043v9a.214.214 0 0 1-.214.214h-9a.216.216 0 0 1-.043-.004H2.015zm2 2c.102.729.728 1.29 1.485 1.29h9a1.5 1.5 0 0 0 1.5-1.5v-9a1.5 1.5 0 0 0-1.29-1.485v1.442a.216.216 0 0 1 .004.043v9a.214.214 0 0 1-.214.214h-9a.216.216 0 0 1-.043-.004H4.015z",fr:"evenodd"};function Lv(e,t){if(null!==t){if(0===e.files.length)return Xg.Off;if(e.files.every(e=>e.status.kind===ii.Untracked))return Xg.Off;return e.files.every(e=>e.status.kind!==ii.Untracked)?Xg.On:Xg.Mixed}const{includeAll:n}=e;return!0===n?Xg.On:!1===n?Xg.Off:Xg.Mixed}function Hv(e){const t=e.selectedFileIDs,n=[];for(const r of t){const t=e.workingDirectory.findFileIndexByID(r);-1!==t&&n.push(t)}return n}class Uv extends de.Component{constructor(e){super(e),this.headerRef=Qd(),this.onIncludeAllChanged=e=>{const t=e.currentTarget.checked;this.props.onSelectAll(t)},this.renderRow=e=>{const{workingDirectory:t,rebaseConflictState:n,isCommitting:r,onIncludeChanged:i,availableWidth:o}=this.props,s=t.files[e],a=s.selection.getSelectionType(),l=a===Qr.All||a!==Qr.None&&null,c=null!==n?s.status.kind!==ii.Untracked:l,u=r||null!==n;return de.createElement(Fv,{file:s,include:c,key:s.id,onContextMenu:this.onItemContextMenu,onIncludeChanged:i,availableWidth:o,disableSelection:u})},this.onDiscardAllChanges=()=>{this.props.onDiscardChangesFromFiles(this.props.workingDirectory.files,!0)},this.onStashChanges=()=>{this.props.dispatcher.createStashForCurrentBranch(this.props.repository)},this.onDiscardChanges=e=>{const t=this.props.workingDirectory;if(1===e.length){const n=t.files.find(t=>t.path===e[0]);null!=n&&this.props.onDiscardChanges(n)}else{const n=new Array;if(e.forEach(e=>{const r=t.files.find(t=>t.path===e);null!=r&&n.push(r)}),n.length>0){const e=n.length===t.files.length;this.props.onDiscardChangesFromFiles(n,e)}}},this.getDiscardChangesMenuItemLabel=e=>{const t=1===e.length?"Discard Changes":`Discard ${e.length} Selected Changes`;return this.props.askForConfirmationOnDiscardChanges?t+"":t},this.onContextMenu=e=>{if(e.preventDefault(),null!==this.props.rebaseConflictState||this.props.isCommitting)return;const t=this.props.workingDirectory.files.length>0,n=null!==this.props.stashEntry,r=null!==this.props.conflictState||mo(this.props.workingDirectory);Cm([{label:"Discard All Changes",action:this.onDiscardAllChanges,enabled:t},{label:n?"Stash All Changes":"Stash All Changes",action:this.onStashChanges,enabled:t&&null!==this.props.branch&&!r}])},this.getDiscardChangesMenuItem=e=>({label:this.getDiscardChangesMenuItemLabel(e),action:()=>this.onDiscardChanges(e)}),this.getCopyPathMenuItem=e=>({label:"Copy File Path",action:()=>{const t=r.join(this.props.repository.path,e.path);y.clipboard.writeText(t)}}),this.getCopyRelativePathMenuItem=e=>({label:"Copy Relative File Path",action:()=>y.clipboard.writeText(r.normalize(e.path))}),this.getRevealInFileManagerMenuItem=e=>({label:"Reveal in Finder",action:()=>et(this.props.repository,e.path),enabled:e.status.kind!==ii.Deleted}),this.getOpenInExternalEditorMenuItem=(e,t)=>{const{externalEditorLabel:n,repository:i}=this.props;return{label:n?" "+n:"",action:()=>{const t=r.join(i.path,e.path);this.props.onOpenInExternalEditor(t)},enabled:t}},this.onItemContextMenu=(e,t)=>{if(this.props.isCommitting)return;t.preventDefault();Cm(null===this.props.rebaseConflictState?this.getDefaultContextMenu(e):this.getRebaseContextMenu(e))},this.onScroll=(e,t)=>{this.props.onChangesListScrolled(e)},this.renderCommitMessageForm=()=>{const{rebaseConflictState:e,workingDirectory:t,repository:n,repositoryAccount:r,dispatcher:i,isCommitting:o,commitToAmend:s,currentBranchProtected:a}=this.props;if(null!==e){const r=t.files.some(e=>e.status.kind===ii.Untracked);return de.createElement(Nv,{dispatcher:i,repository:n,rebaseConflictState:e,workingDirectory:t,isCommitting:o,hasUntrackedChanges:r})}const l=t.files.length,c=Lv(t,e),u=l>0&&c!==Xg.Off,h=t.files.filter(e=>e.selection.getSelectionType()!==Qr.None),p=1===h.length&&!n.isTutorialRepository,d=null===this.props.repository.gitHubRepository||yi(this.props.repository.gitHubRepository);return de.createElement(Rv,{onCreateCommit:this.props.onCreateCommit,branch:this.props.branch,commitAuthor:this.props.commitAuthor,anyFilesSelected:u,anyFilesAvailable:l>0,repository:n,repositoryAccount:r,dispatcher:i,commitMessage:this.props.commitMessage,focusCommitMessage:this.props.focusCommitMessage,autocompletionProviders:this.props.autocompletionProviders,isCommitting:o,commitToAmend:s,showCoAuthoredBy:this.props.showCoAuthoredBy,coAuthors:this.props.coAuthors,placeholder:this.getPlaceholderMessage(h,p),prepopulateCommitSummary:p,key:n.id,showBranchProtected:l>0&&a,showNoWriteAccess:l>0&&!d,shouldNudge:this.props.shouldNudgeToCommit,commitSpellcheckEnabled:this.props.commitSpellcheckEnabled,persistCoAuthors:!0,persistCommitMessage:!0})},this.onStashEntryClicked=()=>{const{isShowingStashEntry:e,dispatcher:t,repository:n}=this.props;e?(t.selectWorkingDirectoryFiles(n),t.recordNoActionTakenOnStash()):(t.selectStashedFile(n),t.recordStashView())},this.onRowKeyDown=(e,t)=>{!this.props.isCommitting||"Enter"!==t.key&&" "!==t.key||t.preventDefault()},this.state={selectedRows:Hv(e)}}componentWillReceiveProps(e){js(e.selectedFileIDs,this.props.selectedFileIDs)&&js(e.workingDirectory.files,this.props.workingDirectory.files)||this.setState({selectedRows:Hv(e)})}getDefaultContextMenu(e){const{id:t,path:n,status:i}=e,{workingDirectory:o,selectedFileIDs:s}=(r.extname(n),this.props),a=new Array,l=new Array,c=new Set,u=e=>{const t=o.findFileWithID(e);if(t){a.push(t),l.push(t.path);const e=r.extname(t.path);e.length&&c.add(e)}};s.includes(t)?s.forEach(u):u(t);const h=[this.getDiscardChangesMenuItem(l),{type:"separator"}];1===l.length?h.push({label:"Ignore File (Add to .gitignore)",action:()=>this.props.onIgnore(n),enabled:".gitignore"!==r.basename(n)}):l.length>1&&h.push({label:`Ignore ${l.length} Selected Files (Add to .gitignore)`,action:()=>{this.props.onIgnore(l.filter(e=>".gitignore"!==r.basename(e)))},enabled:l.some(e=>".gitignore"!==r.basename(e))}),Array.from(c).slice(0,5).forEach(e=>{h.push({label:`Ignore All ${e} Files (Add to .gitignore)`,action:()=>this.props.onIgnore("*"+e)})});const p=i.kind!==ii.Deleted;return h.push({type:"separator"},this.getCopyPathMenuItem(e),this.getCopyRelativePathMenuItem(e),{type:"separator"},this.getRevealInFileManagerMenuItem(e),this.getOpenInExternalEditorMenuItem(e,p),{label:"Open with Default Program",action:()=>this.props.onOpenItem(n),enabled:p&&!0}),h}getRebaseContextMenu(e){const{path:t,status:n}=e,i=(r.extname(t),new Array);e.status.kind===ii.Untracked&&i.push(this.getDiscardChangesMenuItem([e.path]),{type:"separator"});const o=n.kind!==ii.Deleted;return i.push(this.getCopyPathMenuItem(e),this.getCopyRelativePathMenuItem(e),{type:"separator"},this.getRevealInFileManagerMenuItem(e),this.getOpenInExternalEditorMenuItem(e,o),{label:"Open with Default Program",action:()=>this.props.onOpenItem(t),enabled:o&&!0}),i}getPlaceholderMessage(e,t){if(!t)return"Summary (required)";const n=e[0],i=Object(r.basename)(n.path);switch(n.status.kind){case ii.New:case ii.Untracked:return"Create "+i;case ii.Deleted:return"Delete "+i;default:return"Update "+i}}renderStashedChanges(){if(null===this.props.stashEntry)return null;const e=al()("stashed-changes-button",this.props.isShowingStashEntry?"selected":null);return de.createElement("button",{className:e,onClick:this.onStashEntryClicked,tabIndex:0,"aria-selected":this.props.isShowingStashEntry},de.createElement(cf,{className:"stack-icon",symbol:Bv}),de.createElement("div",{className:"text"},"Stashed Changes"),de.createElement(cf,{symbol:vf}))}render(){const{workingDirectory:e,rebaseConflictState:t,isCommitting:n}=this.props,{files:r}=e,i=1===r.length?"file":"files",o=`${r.length} changed ${i}`,s=r.filter(e=>e.selection.getSelectionType()!==Qr.None).length,a=1===r.length?"file":"files",l=`${s}/${r.length} changed ${a} selected`,c=Lv(e,t),u=0===r.length||n||null!==t;return de.createElement("div",{className:"changes-list-container file-list"},de.createElement("div",{className:"header",onContextMenu:this.onContextMenu,ref:this.headerRef},de.createElement(of,{target:this.headerRef,direction:rf.NORTH},l),de.createElement(Qg,{label:o,value:c,onChange:this.onIncludeAllChanged,disabled:u})),de.createElement(Ig,{id:"changes-list",rowCount:r.length,rowHeight:29,rowRenderer:this.renderRow,selectedRows:this.state.selectedRows,selectionMode:"multi",onSelectionChanged:this.props.onFileSelectionChanged,invalidationProps:{workingDirectory:e,isCommitting:n},onRowClick:this.props.onRowClick,onScroll:this.onScroll,setScrollTop:this.props.changesListScrollTop,onRowKeyDown:this.onRowKeyDown}),this.renderStashedChanges(),this.renderCommitMessageForm())}}function jv(e,t,n,r){const i=new Ev(e,t);return("string"==typeof r?i.tokenize(r):r).map((e,t)=>{switch(e.kind){case Cv.Emoji:return de.createElement("img",{key:t,alt:e.text,className:"emoji",src:e.path});case Cv.Link:if(!1!==n){const n=e.text!==e.url?e.url:void 0;return de.createElement(Mg,{key:t,uri:e.url,title:n},e.text)}return de.createElement("span",{key:t},e.text);case Cv.Text:return de.createElement("span",{key:t},e.text);default:return Ze(0,"Unknown token type: "+e)}})}class Wv extends de.Component{constructor(e){super(e),this.getElements=Jn(jv),this.getTitle=Jn(e=>"string"==typeof e?e:e.map(e=>e.text).join("")),this.containerRef=Qd(),this.resizeDebounceId=null,this.lastKnownWidth=null,this.onContainerRef=e=>{null!==e?(this.resizeObserver.observe(e),this.onResized(e)):this.resizeObserver.disconnect()},this.onResized=e=>{var t;(e=null!==(t=null!=e?e:this.containerRef.current)&&void 0!==t?t:void 0)&&e.scrollWidth>e.clientWidth?this.setState({overflowed:!0}):this.setState({overflowed:!1})},this.state={overflowed:!1},this.containerRef.subscribe(this.onContainerRef),this.resizeObserver=new ResizeObserver(e=>{const t=e[0].contentRect.width;this.lastKnownWidth!==t&&(this.lastKnownWidth=t,null!==this.resizeDebounceId&&(cancelAnimationFrame(this.resizeDebounceId),this.resizeDebounceId=null),this.resizeDebounceId=requestAnimationFrame(e=>this.onResized()))})}render(){const{emoji:e,repository:t,renderUrlsAsLinks:n,text:r}=this.props;return 0===r.length?null:de.createElement("div",{ref:this.containerRef,className:this.props.className},this.state.overflowed&&de.createElement(of,{target:this.containerRef},this.getTitle(r)),this.getElements(e,t,n,r))}}const zv=36e5;class Gv extends de.Component{constructor(e){super(e),this.timer=null,this.updateFromScheduler=()=>{this.updateWithDate(this.props.date)},this.state={absoluteText:"",relativeText:""}}clearTimer(){this.timer&&(window.clearTimeout(this.timer),this.timer=null)}updateAndSchedule(e,t,n){this.clearTimer(),this.timer=window.setTimeout(this.updateFromScheduler,Math.min(n,2147483647)),this.setState({absoluteText:e,relativeText:t})}updateWithDate(e){const t=ve()(e),n=ve()(),r=t.diff(n),i=Math.abs(r),o=t.format("LLLL"),s=this.props.abbreviate?"y[y] M[m] w[w] d[d] h[h] m[m]":"y [years] ago M [months] ago d [days] ago h [hours] ago m [minutes] ago",a=ve.a.duration(i,"milliseconds").format(s,{largest:1});r>0&&i>6e4?this.updateAndSchedule(o,t.format("lll"),i):i<6e4?this.updateAndSchedule(o,"just now",6e4-i):i<zv?this.updateAndSchedule(o,a,6e4):i<864e5?this.updateAndSchedule(o,a,zv):i<6048e5||!0===this.props.onlyRelative?this.updateAndSchedule(o,a,6*zv):this.setState({absoluteText:o,relativeText:t.format("ll")})}componentWillReceiveProps(e){this.props.date!==e.date&&this.updateWithDate(e.date)}componentWillMount(){this.updateWithDate(this.props.date)}componentWillUnmount(){this.clearTimer()}shouldComponentUpdate(e,t){return e.date!==this.props.date||t.absoluteText!==this.state.absoluteText||t.relativeText!==this.state.relativeText}render(){return de.createElement(km,{className:this.props.className,tooltip:this.state.absoluteText},this.state.relativeText)}}class qv extends de.Component{render(){const e=this.props.isPushPullFetchInProgress||this.props.isCommitting,t=e?"Undo is disabled while the repository is being updated":void 0,n=this.props.commit.author.date;return de.createElement("div",{id:"undo-commit",role:"group","aria-label":"Undo commit"},de.createElement("div",{className:"commit-info"},de.createElement("div",{className:"ago"},"Committed ",de.createElement(Gv,{date:n})),de.createElement(Wv,{emoji:this.props.emoji,className:"summary",text:this.props.commit.summary,renderUrlsAsLinks:!1})),de.createElement("div",{className:"actions",title:t},de.createElement(qg,{size:"small",disabled:e,onClick:this.props.onUndo},"Undo")))}}async function Vv(e,t){if(!await Je.openExternal("file://"+e)){const n={name:"no-external-program",message:`Unable to open file ${e} in an external program. Please check you have a program associated with this file extension`};await t.postError(n)}}class $v extends de.Component{constructor(e){super(e),this.autocompletionProviders=null,this.onCreateCommit=async e=>{const{workingDirectory:t}=this.props.changes,n=await async function(e,t,n){const i=1e6*n,o=new Array,s=t.files.filter(e=>e.selection.getSelectionType()!==Qr.None);for(const t of s){const n=Object(r.join)(e.path,t.path);try{const e=await Object(w.stat)(n);e.size>i&&o.push(t.path)}catch(e){log.debug("Unable to get the file size for "+n,e)}}return o}(this.props.repository,t,100),i=await async function(e,t){const n=new Array;for(const r of t){await ho(e,r)||n.push(r)}return n}(this.props.repository,n);if(0!==i.length)return this.props.dispatcher.showPopup({type:ai.OversizedFiles,oversizedFiles:i,context:e,repository:this.props.repository}),!1;0===t.files.filter(e=>fo(e.status)&&e.selection.getSelectionType()===Qr.None).length&&(this.props.dispatcher.clearBanner(),this.props.dispatcher.recordUnguidedConflictedMergeCompletion());const o=t.files.filter(e=>fo(e.status)&&go(e.status)&&e.selection.getSelectionType()!==Qr.None);return o.length>0?(this.props.dispatcher.showPopup({type:ai.CommitConflictsWarning,files:o,repository:this.props.repository,context:e}),!1):this.props.dispatcher.commitIncludedChanges(this.props.repository,e)},this.onFileSelectionChanged=e=>{const t=e.map(e=>this.props.changes.workingDirectory.files[e]);this.props.dispatcher.selectWorkingDirectoryFiles(this.props.repository,t)},this.onIncludeChanged=(e,t)=>{const n=this.props.changes.workingDirectory.files.find(t=>t.path===e);n?this.props.dispatcher.changeFileIncluded(this.props.repository,n,t):console.error("unable to find working directory file to apply included change: "+e)},this.onSelectAll=e=>{this.props.dispatcher.changeIncludeAllFiles(this.props.repository,e)},this.onDiscardChanges=e=>{this.props.askForConfirmationOnDiscardChanges?this.props.dispatcher.showPopup({type:ai.ConfirmDiscardChanges,repository:this.props.repository,files:[e]}):this.props.dispatcher.discardChanges(this.props.repository,[e])},this.onDiscardChangesFromFiles=(e,t)=>{this.props.dispatcher.showPopup({type:ai.ConfirmDiscardChanges,repository:this.props.repository,showDiscardChangesSetting:!1,discardingAllChanges:t,files:e})},this.onIgnore=e=>{this.props.dispatcher.appendIgnoreRule(this.props.repository,e)},this.onOpenItem=e=>{Vv(r.join(this.props.repository.path,e),this.props.dispatcher)},this.onChangedItemClick=(e,t)=>{"keyboard"===t.kind&&(e instanceof Array?e.forEach(e=>this.onToggleInclude(e)):this.onToggleInclude(e))},this.onUndo=()=>{const e=this.props.mostRecentLocalCommit;e&&0===e.tags.length&&this.props.dispatcher.undoCommit(this.props.repository,e)},this.renderUndoCommit=e=>null!==e?null:this.renderMostRecentLocalCommit(),this.receiveProps(e)}componentWillReceiveProps(e){this.receiveProps(e)}receiveProps(e){null!==this.autocompletionProviders&&0!==this.props.emoji.size&&e.repository.hash===this.props.repository.hash&&e.accounts===this.props.accounts||(this.autocompletionProviders=cy(e.repository,e.dispatcher,e.emoji,e.issuesStore,e.gitHubUserStore,e.accounts))}onToggleInclude(e){const t=this.props.changes.workingDirectory.files[e];if(!t)return void console.error("keyboard selection toggle despite no file - what?");const n=t.selection.getSelectionType();this.props.dispatcher.changeFileIncluded(this.props.repository,t,n===Qr.None)}renderMostRecentLocalCommit(){const e=this.props.mostRecentLocalCommit;let t=null;return e&&0===e.tags.length&&null===this.props.commitToAmend&&(t=de.createElement(qe,{classNames:"undo",appear:!0,timeout:500},de.createElement(qv,{isPushPullFetchInProgress:this.props.isPushPullFetchInProgress,commit:e,onUndo:this.onUndo,emoji:this.props.emoji,isCommitting:this.props.isCommitting}))),de.createElement(Oe,null,t)}render(){const{workingDirectory:e,commitMessage:t,showCoAuthoredBy:n,coAuthors:r,conflictState:i,selection:o,currentBranchProtected:s}=this.props.changes;let a=null;null!==i&&(a=$e(i)?i:null);const l=o.kind===We.WorkingDirectory?o.selectedFileIDs:[],c=o.kind===We.Stash,u=co(this.props.accounts,this.props.repository);return de.createElement("div",{className:"panel"},de.createElement(Uv,{dispatcher:this.props.dispatcher,repository:this.props.repository,repositoryAccount:u,workingDirectory:e,conflictState:i,mostRecentLocalCommit:this.props.mostRecentLocalCommit,rebaseConflictState:a,selectedFileIDs:l,onFileSelectionChanged:this.onFileSelectionChanged,onCreateCommit:this.onCreateCommit,onIncludeChanged:this.onIncludeChanged,onSelectAll:this.onSelectAll,onDiscardChanges:this.onDiscardChanges,askForConfirmationOnDiscardChanges:this.props.askForConfirmationOnDiscardChanges,onDiscardChangesFromFiles:this.onDiscardChangesFromFiles,onOpenItem:this.onOpenItem,onRowClick:this.onChangedItemClick,commitAuthor:this.props.commitAuthor,branch:this.props.branch,commitMessage:t,focusCommitMessage:this.props.focusCommitMessage,autocompletionProviders:this.autocompletionProviders,availableWidth:this.props.availableWidth,onIgnore:this.onIgnore,isCommitting:this.props.isCommitting,commitToAmend:this.props.commitToAmend,showCoAuthoredBy:n,coAuthors:r,externalEditorLabel:this.props.externalEditorLabel,onOpenInExternalEditor:this.props.onOpenInExternalEditor,onChangesListScrolled:this.props.onChangesListScrolled,changesListScrollTop:this.props.changesListScrollTop,stashEntry:this.props.changes.stashEntry,isShowingStashEntry:c,currentBranchProtected:s,shouldNudgeToCommit:this.props.shouldNudgeToCommit,commitSpellcheckEnabled:this.props.commitSpellcheckEnabled}),this.renderUndoCommit(a))}}class Kv extends de.Component{constructor(e){super(e),this.diffOptionsRef=de.createRef(),this.onButtonClick=e=>{e.preventDefault(),this.state.isPopoverOpen?this.closePopover():this.openPopover()},this.openPopover=()=>{this.setState(e=>e.isPopoverOpen?null:(this.props.onDiffOptionsOpened(),{isPopoverOpen:!0}))},this.closePopover=()=>{this.setState(e=>e.isPopoverOpen?(this.state.showNewCallout&&bt("has-seen-split-diff-option",!0),{isPopoverOpen:!1,showNewCallout:!1}):null)},this.onHideWhitespaceChangesChanged=e=>this.props.onHideWhitespaceChangesChanged(e.currentTarget.checked),this.onUnifiedSelected=()=>{this.props.onShowSideBySideDiffChanged(!1)},this.onSideBySideSelected=()=>{this.props.onShowSideBySideDiffChanged(!0)},this.state={isPopoverOpen:!1,showNewCallout:!0!==vt("has-seen-split-diff-option")}}render(){return de.createElement("div",{className:"diff-options-component",ref:this.diffOptionsRef},de.createElement("button",{onClick:this.onButtonClick},de.createElement(cf,{symbol:If}),de.createElement(cf,{symbol:sm}),this.state.showNewCallout&&de.createElement("div",{className:"call-to-action-bubble"},"New")),this.state.isPopoverOpen&&this.renderPopover())}renderPopover(){return de.createElement(Wy,{caretPosition:Ly.TopRight,onClickOutside:this.closePopover},this.renderHideWhitespaceChanges(),this.renderShowSideBySide())}renderShowSideBySide(){return de.createElement("section",null,de.createElement("h3",null,"Diff display"),de.createElement(pv,{value:"Unified",checked:!this.props.showSideBySideDiff,label:"Unified",onSelected:this.onUnifiedSelected}),de.createElement(pv,{value:"Split",checked:this.props.showSideBySideDiff,label:de.createElement(de.Fragment,null,de.createElement("div",null,"Split"),de.createElement("div",{className:"call-to-action-bubble"},"Beta")),onSelected:this.onSideBySideSelected}))}renderHideWhitespaceChanges(){return this.props.sourceTab,je.Changes,de.createElement("section",null,de.createElement("h3",null,"Whitespace"),de.createElement(Qg,{value:this.props.hideWhitespaceChanges?Xg.On:Xg.Off,onChange:this.onHideWhitespaceChangesChanged,label:"Hide Whitespace Changes"}),this.props.sourceTab===je.Changes&&de.createElement("p",{className:"secondary-text"},"Interacting with individual lines or hunks will be disabled while hiding whitespace."))}}class Yv extends de.Component{render(){const e=this.props.status,t=po(e);return de.createElement("div",{className:"header"},de.createElement(Mv,{path:this.props.path,status:this.props.status}),this.renderDecorator(),de.createElement(Kv,{sourceTab:je.Changes,onHideWhitespaceChangesChanged:this.props.onHideWhitespaceInDiffChanged,hideWhitespaceChanges:this.props.hideWhitespaceInDiff,onShowSideBySideDiffChanged:this.props.onShowSideBySideDiffChanged,showSideBySideDiff:this.props.showSideBySideDiff,onDiffOptionsOpened:this.props.onDiffOptionsOpened}),de.createElement(cf,{symbol:vm(e),className:"status status-"+t.toLowerCase(),title:t}))}renderDecorator(){const e=this.props.diff;if(null===e)return null;if(e.kind===Zr.Text&&e.lineEndingsChange){const t=`Warning: line endings will be changed from '${e.lineEndingsChange.from}' to '${e.lineEndingsChange.to}'.`;return de.createElement(cf,{symbol:hf,className:"line-endings",title:t})}return null}}class Zv extends de.Component{constructor(){super(...arguments),this.onLoad=e=>{this.props.onElementLoad&&this.props.onElementLoad(e.currentTarget)}}render(){const e=this.props.image,t=`data:${e.mediaType};base64,${e.contents}`;return de.createElement("div",{className:"image-wrapper"},de.createElement("img",{src:t,style:this.props.style,onLoad:this.onLoad}))}}class Xv extends de.Component{render(){const e={width:0,height:0},t=this.props.previousImageSize||e,n=this.props.currentImageSize||e,{current:r,previous:i}=this.props,o=function(e,t){return Math.abs(Math.round(t/e*100))+"%"}(i.bytes,r.bytes),s=r.bytes-i.bytes,a=s>=0?"+":"",l={maxWidth:this.props.maxSize.width};return de.createElement("div",{className:"image-diff-container",ref:this.props.onContainerRef},de.createElement("div",{className:"image-diff-two-up"},de.createElement("div",{className:"image-diff-previous",style:l},de.createElement("div",{className:"image-diff-header"},"Deleted"),de.createElement(Zv,{image:i,onElementLoad:this.props.onPreviousImageLoad}),de.createElement("div",{className:"image-diff-footer"},de.createElement("span",{className:"strong"},"W:")," ",t.width,"px | ",de.createElement("span",{className:"strong"},"H:")," ",t.height,"px | ",de.createElement("span",{className:"strong"},"Size:")," ",fa(i.bytes,2,!1))),de.createElement("div",{className:"image-diff-current",style:l},de.createElement("div",{className:"image-diff-header"},"Added"),de.createElement(Zv,{image:r,onElementLoad:this.props.onCurrentImageLoad}),de.createElement("div",{className:"image-diff-footer"},de.createElement("span",{className:"strong"},"W:")," ",n.width,"px | ",de.createElement("span",{className:"strong"},"H:")," ",n.height,"px | ",de.createElement("span",{className:"strong"},"Size:")," ",fa(r.bytes,2,!1)))),de.createElement("div",{className:"image-diff-summary"},"Diff:"," ",de.createElement("span",{className:al()({added:s>0,removed:s<0})},0!==s?`${a}${fa(s,2,!1)} (${o})`:"No size difference")))}}class Qv extends de.Component{render(){const e={height:this.props.maxSize.height,width:this.props.maxSize.width},t={maxHeight:this.props.maxSize.height,maxWidth:this.props.maxSize.width};return de.createElement("div",{className:"image-diff-difference",ref:this.props.onContainerRef},de.createElement("div",{className:"sizing-container"},de.createElement("div",{className:"image-container",style:e},de.createElement("div",{className:"image-diff-previous"},de.createElement(Zv,{image:this.props.previous,onElementLoad:this.props.onPreviousImageLoad,style:t})),de.createElement("div",{className:"image-diff-current"},de.createElement(Zv,{image:this.props.current,onElementLoad:this.props.onCurrentImageLoad,style:Object.assign(Object.assign({},t),{mixBlendMode:"difference"})})))))}}class Jv extends de.Component{constructor(e){super(e),this.onValueChange=e=>{this.setState({crossfade:e.currentTarget.valueAsNumber})},this.state={crossfade:1}}render(){const e={height:this.props.maxSize.height,width:this.props.maxSize.width},t={maxHeight:this.props.maxSize.height,maxWidth:this.props.maxSize.width};return de.createElement("div",{className:"image-diff-onion-skin"},de.createElement("div",{className:"sizing-container",ref:this.props.onContainerRef},de.createElement("div",{className:"image-container",style:e},de.createElement("div",{className:"image-diff-previous",style:e},de.createElement(Zv,{image:this.props.previous,onElementLoad:this.props.onPreviousImageLoad,style:t})),de.createElement("div",{className:"image-diff-current",style:Object.assign(Object.assign({},e),{opacity:this.state.crossfade})},de.createElement(Zv,{image:this.props.current,onElementLoad:this.props.onCurrentImageLoad,style:t})))),de.createElement("input",{style:{width:this.props.maxSize.width/2},className:"slider",type:"range",max:1,min:0,value:this.state.crossfade,step:.001,onChange:this.onValueChange}))}}class eb extends de.Component{constructor(e){super(e),this.onValueChange=e=>{const t=e.currentTarget.valueAsNumber;this.setState({percentage:t})},this.state={percentage:0}}render(){const e={height:this.props.maxSize.height,width:this.props.maxSize.width},t=this.props.maxSize.width*(1-this.state.percentage),n={height:this.props.maxSize.height,width:this.props.maxSize.width,left:-(this.props.maxSize.width-t)},r={maxHeight:this.props.maxSize.height,maxWidth:this.props.maxSize.width};return de.createElement("div",{className:"image-diff-swipe"},de.createElement("div",{className:"sizing-container",ref:this.props.onContainerRef},de.createElement("div",{className:"image-container",style:e},de.createElement("div",{className:"image-diff-previous",style:e},de.createElement(Zv,{image:this.props.previous,onElementLoad:this.props.onPreviousImageLoad,style:r})),de.createElement("div",{className:"swiper",style:{width:t,height:this.props.maxSize.height}},de.createElement("div",{className:"image-diff-current",style:n},de.createElement(Zv,{image:this.props.current,onElementLoad:this.props.onCurrentImageLoad,style:r}))))),de.createElement("input",{style:{width:this.props.maxSize.width+14},className:"slider",type:"range",max:1,min:0,value:this.state.percentage,step:.001,onChange:this.onValueChange}))}}function tb(e,t){const n=t.height<e.height?e.height/t.height:1,r=t.width<e.width?e.width/t.width:1;let i=Math.max(1,r);return r<n&&(i=Math.max(1,n)),{width:e.width/i,height:e.height/i}}class nb extends de.Component{constructor(e){super(e),this.container=null,this.resizedTimeoutID=null,this.onPreviousImageLoad=e=>{const t={width:e.naturalWidth,height:e.naturalHeight};this.setState({previousImageSize:t})},this.onCurrentImageLoad=e=>{const t={width:e.naturalWidth,height:e.naturalHeight};this.setState({currentImageSize:t})},this.onResized=(e,t)=>{this.resizedTimeoutID=null;const n={width:e.offsetWidth,height:e.offsetHeight};this.setState({containerSize:n})},this.onContainerRef=e=>{this.container=e,this.resizeObserver.disconnect(),e&&this.resizeObserver.observe(e)},this.resizeObserver=new ResizeObserver(e=>{for(const{target:t,contentRect:n}of e)t===this.container&&t instanceof HTMLElement&&(null!==this.resizedTimeoutID&&clearImmediate(this.resizedTimeoutID),this.resizedTimeoutID=setImmediate(this.onResized,t,n))}),this.state={previousImageSize:null,currentImageSize:null,containerSize:null}}getMaxSize(){const e={width:0,height:0,containerWidth:0},t=this.state.containerSize;if(!t)return e;const{previousImageSize:n,currentImageSize:r}=this.state;if(!n||!r)return e;return function(e,t,n){const r=tb(e,n),i=tb(t,n);return{width:Math.max(r.width,i.width),height:Math.max(r.height,i.height)}}(n,r,t)}render(){return de.createElement("div",{className:"panel image",id:"diff"},this.renderCurrentDiffType(),de.createElement(Zy,{selectedIndex:this.props.diffType,onTabClicked:this.props.onChangeDiffType,type:Ky.Switch},de.createElement("span",null,"2-up"),de.createElement("span",null,"Swipe"),de.createElement("span",null,"Onion Skin"),de.createElement("span",null,"Difference")))}renderCurrentDiffType(){const e=this.getMaxSize(),t=this.props.diffType;switch(t){case ei.TwoUp:return de.createElement(Xv,Object.assign({},this.getCommonProps(e),{previousImageSize:this.state.previousImageSize,currentImageSize:this.state.currentImageSize}));case ei.Swipe:return de.createElement(eb,Object.assign({},this.getCommonProps(e)));case ei.OnionSkin:return de.createElement(Jv,Object.assign({},this.getCommonProps(e)));case ei.Difference:return de.createElement(Qv,Object.assign({},this.getCommonProps(e)));default:return Ze(0,"Unknown diff type: "+t)}}getCommonProps(e){return{maxSize:e,previous:this.props.previous,current:this.props.current,onPreviousImageLoad:this.onPreviousImageLoad,onCurrentImageLoad:this.onCurrentImageLoad,onContainerRef:this.onContainerRef}}}class rb extends de.Component{render(){return de.createElement("div",{className:"panel image",id:"diff"},de.createElement("div",{className:"image-diff-current"},de.createElement("div",{className:"image-diff-header"},"Added"),de.createElement(Zv,{image:this.props.current})))}}class ib extends de.Component{render(){return de.createElement("div",{className:"panel image",id:"diff"},de.createElement("div",{className:"image-diff-previous"},de.createElement("div",{className:"image-diff-header"},"Deleted"),de.createElement(Zv,{image:this.props.previous})))}}class ob extends de.Component{constructor(){super(...arguments),this.open=()=>{const e=r.join(this.props.repository.path,this.props.path);this.props.onOpenBinaryFile(e)}}render(){return de.createElement("div",{className:"panel binary",id:"diff"},de.createElement("div",{className:"image-header"},"This binary file has changed."),de.createElement("div",{className:"image-header"},de.createElement(Mg,{onClick:this.open},"Open file in external program.")))}}var sb;function ab(e,t){return e.find(e=>t>=e.unifiedDiffStart&&t<=e.unifiedDiffEnd)||null}function lb(e,t){const n=ab(e,t);if(!n)return null;const r=n.lines[t-n.unifiedDiffStart];return r?{hunk:n,line:r}:null}function cb(e,t){const n=lb(e,t);return null===n?null:n.line}function ub(e,t){let n=0;for(const r of t){const t=r.lines.indexOf(e);if(t>-1)return t+n;n+=r.lines.length}return-1}function hb(e,t){const n=function(e,t){const n=ab(e,t);if(!n)return null;const r=t-n.unifiedDiffStart;let i=db(null,n.lines[r]),o=null;for(let e=r-1;e>=0;e--){const t=n.lines[e];if(!t.isIncludeableLine()){const t=e+1;o=n.unifiedDiffStart+t;break}i=db(i,t)}const s=null!==o?o:n.unifiedDiffStart+1;let a=null;for(let e=r+1;e<n.lines.length;e++){const t=n.lines[e];if(!t.isIncludeableLine()){const t=e-1;a=n.unifiedDiffStart+t;break}i=db(i,t)}const l=null!==a?a:n.unifiedDiffEnd;return{from:s,to:l,type:i}}(e,t);if(null===n)return null;const r=pb(e,n.from),i=pb(e,n.to);return null===r||null===i?null:Object.assign(Object.assign({},n),{from:r,to:i})}function pb(e,t){const n=cb(e,t);return null===n?null:n.originalLineNumber}function db(e,t){return t.type!==Xr.Add&&t.type!==Xr.Delete?e:null===e?t.type===Xr.Add?sb.Additions:sb.Deletions:e===sb.Mixed?e:t.type===Xr.Add&&e!==sb.Additions||t.type===Xr.Delete&&e!==sb.Deletions?sb.Mixed:e}!function(e){e[e.Additions=0]="Additions",e[e.Deletions=1]="Deletions",e[e.Mixed=2]="Mixed"}(sb||(sb={}));n(402);const fb={"+":"diff-add","-":"diff-delete","@":"diff-hunk"," ":"diff-context"};function mb(e,t){return e.skipToEnd(),t.diffLineIndex++,null}function gb(e){return`line-${e} line-background-${e}`}function yb(e,t){return void 0!==t&&null!==e&&void 0!==t[e-1]?t[e-1]:null}class vb{constructor(e,t,n){this.token=(e,t)=>{var n;if(e.sol()){const r=e.next();if(e.eol()&&t.diffLineIndex++,null===r)return null;const i=null!==(n=fb[r])&&void 0!==n?n:null;if(null===i)return null;let o=gb(i);if("@"===r){const n=e.match(/\@ -(\d+),(\d+) \+\d+,\d+ \@\@/);if(null!==n){const e=parseInt(n[1]),r=parseInt(n[2]);null!==t.previousHunkOldEndLine&&e-t.previousHunkOldEndLine>20&&(o+=` line-${i}-expandable-both`),t.previousHunkOldEndLine=e+r}e.eol()&&t.diffLineIndex++}return o}if(null==this.hunks)return mb(e,t);const r=cb(this.hunks,t.diffLineIndex);if(!r)return mb(e,t);const i=function(e,t,n){const r=yb(e.oldLineNumber,t);return null!==r?r:yb(e.newLineNumber,n)}(r,this.oldTokens,this.newTokens);if(!i)return mb(e,t);const o=i[e.pos-e.lineStart-1];if(o)e.pos+=o.length;else do{e.pos++}while(!e.eol()&&!i[e.pos-e.lineStart-1]);return e.eol()&&t.diffLineIndex++,o?o.token:null},this.hunks=e,this.oldTokens=t,this.newTokens=n}startState(){return{diffLineIndex:0,previousHunkOldEndLine:null}}blankLine(e){if(void 0===this.hunks)return gb("diff-hunk");if(this.hunks.length>0){const t=cb(this.hunks,e.diffLineIndex);if((null==t?void 0:t.type)===Xr.Hunk)return gb("diff-hunk")}e.diffLineIndex++}}vb.ModeName="github-diff-syntax",py.defineMode(vb.ModeName,(function(e,t){if(!t)throw new Error("I needs me some options");return new vb(t.hunks,t.oldTokens,t.newTokens)}));n(403),n(404),n(405),n(406);class bb extends de.Component{constructor(e){super(e),this.wrapper=null,this.codeMirror=null,this.resizeDebounceId=null,this.lastKnownWidth=null,this.onSwapDoc=(e,t)=>{this.props.onSwapDoc&&this.props.onSwapDoc(e,t)},this.onContextMenu=(e,t)=>{this.props.onContextMenu&&this.props.onContextMenu(e,t)},this.onCopy=(e,t)=>{this.props.onCopy&&this.props.onCopy(e,t)},this.beforeSelectionChanged=(e,t)=>{this.props.isSelectionEnabled&&(this.props.isSelectionEnabled()||t.update([{head:{line:0,ch:0},anchor:{line:0,ch:0}}]))},this.onChanges=(e,t)=>{this.props.onChanges&&this.props.onChanges(e,t)},this.onViewportChange=(e,t,n)=>{this.props.onViewportChange&&this.props.onViewportChange(e,t,n)},this.onRenderLine=(e,t,n)=>{this.props.onRenderLine&&this.props.onRenderLine(e,t,n)},this.onResized=()=>{this.resizeDebounceId=null,this.codeMirror&&this.codeMirror.refresh()},this.onRef=e=>{this.wrapper=e},this.resizeObserver=new ResizeObserver(e=>{if(1===e.length&&this.codeMirror){const t=e[0].contentRect.width;null===this.lastKnownWidth?this.lastKnownWidth=t:this.lastKnownWidth!==t&&(this.lastKnownWidth=t,null!==this.resizeDebounceId&&(cancelAnimationFrame(this.resizeDebounceId),this.resizeDebounceId=null),this.resizeDebounceId=requestAnimationFrame(this.onResized))}})}static updateDoc(e,t){"string"==typeof t?e.setValue(t):(!function(e){if(e.state&&e.state.selectingText instanceof Function)try{e.state.selectingText(new CustomEvent("fake-event"))}catch(e){log.info("Unable to cancel CodeMirror selection",e)}}(e),e.swapDoc(t))}getEditor(){return this.codeMirror}componentDidMount(){this.codeMirror=dy()(this.wrapper,this.props.options),this.codeMirror.on("renderLine",this.onRenderLine),this.codeMirror.on("changes",this.onChanges),this.codeMirror.on("viewportChange",this.onViewportChange),this.codeMirror.on("beforeSelectionChange",this.beforeSelectionChanged),this.codeMirror.on("copy",this.onCopy),this.codeMirror.on("contextmenu",this.onContextMenu),this.codeMirror.on("swapDoc",this.onSwapDoc),bb.updateDoc(this.codeMirror,this.props.value),this.resizeObserver.observe(this.codeMirror.getWrapperElement())}componentWillUnmount(){const e=this.codeMirror;e&&(e.off("changes",this.onChanges),e.off("viewportChange",this.onViewportChange),e.off("renderLine",this.onRenderLine),e.off("beforeSelectionChange",this.beforeSelectionChanged),e.off("copy",this.onCopy),e.off("swapDoc",this.onSwapDoc),this.codeMirror=null),this.resizeObserver.disconnect()}componentDidUpdate(e){if(this.codeMirror&&this.props.value!==e.value){const e=this.codeMirror.getDoc();bb.updateDoc(this.codeMirror,this.props.value);const t=this.codeMirror.getDoc();this.props.onAfterSwapDoc&&this.props.onAfterSwapDoc(this.codeMirror,e,t)}}render(){return de.createElement("div",{className:this.props.className,ref:this.onRef})}}const wb=new Array,Cb=lt(__dirname,"highlighter.js");function Sb(e,t,n,r,i){if(!e.length||!i.length)return Promise.resolve({});const o=wb.shift()||new Worker(Cb);return new Promise((s,a)=>{let l=null;const c=()=>{l&&(window.clearTimeout(l),l=null)};o.onerror=e=>{c(),o.terminate(),a(e.error||new Error(e.message))},o.onmessage=e=>{c(),wb.length<2?wb.push(o):o.terminate(),s(e.data)};const u={contentLines:e,basename:t,extension:n,tabSize:r,lines:i,addModeClass:!0};o.postMessage(u),l=window.setTimeout(()=>{o.terminate(),a(new Error("timed out"))},5e3)})}async function Eb(e,t){return t.status.kind===ii.Deleted?null:t instanceof Ri?async function(e,t,n){return await new Promise((r,i)=>{const o=new Array;let s=0;w.createReadStream(e,{start:t,end:n}).on("data",e=>{o.push(e),s+=e.length}).on("error",i).on("end",()=>r(Buffer.concat(o,s)))})}(r.join(e.path,t.path),0,262143):t instanceof Ai?rl(e,t.commitish,t.path,262144):Ze(0,"Unknown file change type")}async function kb(e,t,n){var r,i;const o=async function(e,t){if(t.status.kind===ii.New||t.status.kind===ii.Untracked)return null;let n;if(t instanceof Ri)n="HEAD";else{if(!(t instanceof Ai))return Ze(0,"Unknown file change type");n=t.commitish+"^"}return rl(e,n,xl(t),262144)}(e,t),s=Eb(e,t),[a,l]=await Promise.all([o.catch(e=>(log.error("Could not load old contents for syntax highlighting",e),null)),s.catch(e=>(log.error("Could not load new contents for syntax highlighting",e),null))]);return{file:t,oldContents:null!==(r=null==a?void 0:a.toString("utf8").split(/\r?\n/))&&void 0!==r?r:[],newContents:null!==(i=null==l?void 0:l.toString("utf8").split(/\r?\n/))&&void 0!==i?i:[],canBeExpanded:null!==l&&l.length<=262143}}function xb(e){const t=new Array,n=new Array,r=new Array;let i=!1,o=!1;for(const t of e)for(const e of t.lines)i=i||e.type===Xr.Add,o=o||e.type===Xr.Delete,r.push(e);for(const e of r)null!==e.oldLineNumber&&null!==e.newLineNumber?i&&!o?n.push(e.newLineNumber-1):t.push(e.oldLineNumber-1):null!==e.oldLineNumber?t.push(e.oldLineNumber-1):null!==e.newLineNumber&&n.push(e.newLineNumber-1);return{oldLineFilter:t,newLineFilter:n}}async function Db(e,t,n){const{file:i,oldContents:o,newContents:s}=e,a=xl(i),[l,c]=await Promise.all([null===o?{}:Sb(o,r.basename(a),r.extname(a),t,n.oldLineFilter).catch(e=>(log.error("Highlighter worked failed for old contents",e),{})),null===s?{}:Sb(s,r.basename(i.path),r.extname(i.path),t,n.newLineFilter).catch(e=>(log.error("Highlighter worked failed for new contents",e),{}))]);return{oldTokens:l,newTokens:c}}class _b extends de.Component{constructor(){super(...arguments),this.onShowWhitespaceChanges=e=>{e.preventDefault(),this.props.onHideWhitespaceInDiffChanged(!1),this.props.onDismissed()},this.onDismissed=e=>{null==e||e.preventDefault(),this.props.onDismissed()}}render(){return de.createElement(Wy,{caretPosition:this.props.caretPosition,onClickOutside:this.onDismissed,className:"whitespace-hint",style:this.props.style,appearEffect:Hy.Shake},de.createElement("h3",null,"Show whitespace changes?"),de.createElement("p",{className:"byline"},"Selecting lines is disabled when hiding whitespace changes."),de.createElement("footer",null,de.createElement(rv,{okButtonText:"Yes",cancelButtonText:"No",onCancelButtonClick:this.onDismissed,onOkButtonClick:this.onShowWhitespaceChanges})))}}class Tb extends fe.a.Component{render(){return fe.a.createElement("div",{className:"hidden-bidi-chars-warning"},fe.a.createElement(cf,{symbol:hf}),"This diff contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters."," ",fe.a.createElement(Mg,{uri:"https://github.co/hiddenchars"},"Learn more about bidirectional Unicode characters"))}}const Rb={w:16,h:8,d:"m 16,1 0,3 c 0,0.55 -0.45,1 -1,1 l -3,0 0,2 -3,-3 3,-3 0,2 2,0 0,-2 2,0 z M 8,4 C 8,6.2 6.2,8 4,8 1.8,8 0,6.2 0,4 0,1.8 1.8,0 4,0 6.2,0 8,1.8 8,4 Z M 1.5,5.66 5.66,1.5 C 5.18,1.19 4.61,1 4,1 2.34,1 1,2.34 1,4 1,4.61 1.19,5.17 1.5,5.66 Z M 7,4 C 7,3.39 6.81,2.83 6.5,2.34 L 2.34,6.5 C 2.82,6.81 3.39,7 4,7 5.66,7 7,5.66 7,4 Z"};function Ab(){const e=document.createElement("span"),t=Qt(),{w:n,h:r,d:i}=Rb,o="http://www.w3.org/2000/svg",s=document.createElementNS(o,"svg");s.setAttribute("version","1.1"),s.setAttribute("viewBox",`0 0 ${n} ${r}`),s.setAttribute("role","img"),s.setAttribute("aria-labelledby",t),s.classList.add("no-newline");const a=document.createElementNS(o,"title");a.setAttribute("id",t),a.setAttribute("lang","en"),a.textContent="No newline at end of file",s.appendChild(a);const l=document.createElementNS(o,"path");return l.setAttribute("role","presentation"),l.setAttribute("d",i),l.textContent="No newline at end of file",s.appendChild(l),e.appendChild(s),e}function Ob(e,t){return null!==e&&(t>=Math.min(e.from,e.to)&&t<=Math.max(e.to,e.from))}function Pb(e,t){return e instanceof HTMLElement&&e.classList.contains(t)}function Ib(e){const t=e.getWrapperElement(),n=t.querySelector(":scope > .CodeMirror-dialog .CodeMirror-search-field");if(null!==n)return void(n instanceof HTMLElement&&n.focus());e.execCommand("findPersistent");const r=t.querySelector(".CodeMirror-dialog");if(null===r)return;r.classList.add("CodeMirror-search-dialog");const i=r.querySelector(".CodeMirror-search-field");i instanceof HTMLInputElement&&(i.placeholder="Search",i.style.removeProperty("width"))}function Mb(e,t){return n=>{const r=Math.round(n.defaultTextHeight()+4),i=n.getScrollInfo();if("line"===t)n.scrollTo(void 0,i.top+e*r);else{const t=i.clientHeight-r;n.scrollTo(void 0,i.top+e*t)}}}const Fb={lineNumbers:!1,readOnly:!0,showCursorWhenSelecting:!1,cursorBlinkRate:-1,lineWrapping:!0,mode:{name:vb.ModeName},extraKeys:{Tab:!1,Home:"goDocStart",End:"goDocEnd","Shift-Tab":!1,"Cmd-F":Ib,"Cmd-G":!1,"Shift-Cmd-G":!1,"Cmd-Alt-F":!1,"Shift-Cmd-Alt-F":!1,Down:Mb(1,"line"),Up:Mb(-1,"line"),PageDown:Mb(1,"page"),PageUp:Mb(-1,"page")},scrollbarStyle:"simple",styleSelectedText:!0,lineSeparator:"\n",specialChars:/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/,gutters:["diff-gutter"]};class Nb extends de.Component{constructor(e){super(e),this.codeMirror=null,this.whitespaceHintMountId=null,this.whitespaceHintContainer=null,this.getCodeMirrorDocument=Jn((e,t)=>{const{mode:n,firstLineNumber:r,lineSeparator:i}=Fb;-1!==e.indexOf("\r")&&(e=e.replace(/\r(?=\n|$)/g,""));const o=new py.Doc(e,n,r,null!=i?i:void 0);for(const e of t)o.setBookmark({line:e,ch:1/0},{widget:Ab()});return o},Hs),this.getNoNewlineIndicatorLines=Jn(e=>{const t=new Array;for(const n of e)for(const r of n.lines)r.noTrailingNewLine&&t.push(ub(r,e));return t}),this.selection=null,this.diffToRestore=null,this.hunkHighlightRange=null,this.swappedDocumentHasUpdatedViewport=!0,this.onDocumentMouseMove=e=>{if(null===this.codeMirror||null===this.selection||"range"!==this.selection.kind)return;const t=Math.max(0,this.codeMirror.getDoc().lineCount()-1),n=Do(this.codeMirror.lineAtHeight(e.y),0,t);this.codeMirror.scrollIntoView({line:n,ch:0});const r=pb(this.state.diff.hunks,n);null!==r&&r!==this.selection.to&&(this.selection=Object.assign(Object.assign({},this.selection),{to:r}),this.updateViewport())},this.onDocumentMouseUp=e=>{if(e.preventDefault(),0===e.button){if(null===this.selection||null===this.codeMirror)return this.cancelSelection();if("hunk"===this.selection.kind){const t=this.codeMirror.lineAtHeight(e.y),n=pb(this.state.diff.hunks,t);if(null===n)return;if(null===n||!Pb(e.target,"hunk-handle")||!Ob(this.selection,n))return this.cancelSelection()}else{if("range"!==this.selection.kind)return Ze(this.selection.kind,"Unknown selection kind "+this.selection.kind);if(this.selection.from===this.selection.to&&!Pb(e.target,"diff-line-number")&&!Pb(e.target,"diff-line-gutter"))return this.cancelSelection()}this.endSelection()}},this.isSelectionEnabled=()=>null===this.selection,this.getAndStoreCodeMirrorInstance=e=>{this.codeMirror=null===e?null:e.getEditor(),this.initDiffSyntaxMode()},this.onContextMenu=(e,t)=>{const n=[{label:"Copy",action:()=>{this.onCopy(e,t)},enabled:null!=e.getDoc().listSelections()}],r=this.buildExpandMenuItem(t);null!==r&&n.push({type:"separator"},r);const i=this.buildDiscardMenuItems(e,t);null!==i&&n.push({type:"separator"},...i),Cm(n)},this.onExpandWholeFile=()=>{const e=this.props.fileContents;if(null===e||!this.canExpandDiff())return;const t=bl(this.state.diff,e.newContents);void 0!==t&&(this.diffToRestore=this.state.diff,this.setState({diff:t}),this.updateViewport())},this.onCollapseExpandedLines=()=>{null!==this.diffToRestore&&(this.setState({diff:this.diffToRestore}),this.updateViewport(),this.diffToRestore=null)},this.onCopy=(e,t)=>{t.preventDefault();const n=e.getDoc(),r=n.getSelections(),i=n.listSelections(),o=[];for(let e=0;e<r.length;e++){const t=i[e],n=r[e].split("\n");for(const[e,r]of n.entries())0===e&&t.head.ch>0?o.push(r):o.push(r.substr(1));const s=o.join("\n");y.clipboard.writeText(s)}},this.onSwapDoc=(e,t)=>{this.swappedDocumentHasUpdatedViewport=!1,this.initDiffSyntaxMode(),this.markIntraLineChanges(e.getDoc(),this.state.diff.hunks)},this.onAfterSwapDoc=(e,t,n)=>{this.swappedDocumentHasUpdatedViewport||this.updateViewport()},this.onViewportChange=(e,t,n)=>{const r=e.getDoc(),i=new Array;this.swappedDocumentHasUpdatedViewport=!0;const o=this.state.diff.hunks;r.eachLine(t,n,t=>{const n=r.getLineNumber(t);if(null!==n){const r=lb(o,n);if(null!==r){const{hunk:s,line:a}=r,l=e.lineInfo(t);if(l.gutterMarkers&&"diff-gutter"in l.gutterMarkers){const e=l.gutterMarkers["diff-gutter"];e instanceof HTMLElement&&this.updateGutterMarker(e,s,a)}else i.push(()=>{const r=this.createGutterMarker(n,o,s,a,ml(this.state.diff.maxLineNumber));e.setGutterMarker(t,"diff-gutter",r)})}}}),i.length>0&&e.operation(()=>i.forEach(e=>e()));const s=dl(ml(this.state.diff.maxLineNumber)),a=e.getGutterElement().getElementsByClassName("diff-gutter")[0],l=`width: ${2*s}px;`;l!==a.getAttribute("style")&&(a.setAttribute("style",l),e.refresh())},this.onHunkExpandWholeHandleMouseDown=(e,t,n)=>{if(!n.defaultPrevented&&null!==this.codeMirror&&0===n.button)if(n.preventDefault(),1===t.lines.length&&e.length>1&&t===e[e.length-1]){const t=e[e.length-2];this.expandHunk(t,"down")}else this.expandHunk(t,"up")},this.onHunkExpandHalfHandleMouseDown=(e,t,n,r)=>{if(this.codeMirror&&0===r.button)if(r.preventDefault(),"down"===n){const n=e.indexOf(t);if(n>0){const t=e[n-1];this.expandHunk(t,"down")}}else this.expandHunk(t,"up")},this.onHunkHandleMouseEnter=e=>{if(null===this.codeMirror||this.props.readOnly||null!==this.selection&&"range"===this.selection.kind)return;const t=this.codeMirror.lineAtHeight(e.y),n=this.state.diff.hunks,r=cb(n,t);if(!r||!r.isIncludeableLine())return;const i=hb(n,t);if(null===i)return;const{from:o,to:s}=i;this.hunkHighlightRange={from:o,to:s,kind:"hunk",isSelected:!1},this.updateViewport()},this.onDiffLineGutterMouseDown=(e,t)=>{if(t.defaultPrevented||null===this.codeMirror)return;if(0!==t.button)return;const{file:n,readOnly:r}=this.props,i=this.state.diff;pl(n)&&!r&&(t.preventDefault(),this.startSelection(n,i.hunks,e,"range"))},this.onHunkHandleMouseLeave=e=>{null!==this.hunkHighlightRange&&(this.hunkHighlightRange=null,this.updateViewport())},this.onHunkHandleMouseDown=e=>{if(!this.codeMirror)return;if(0!==e.button)return;const{file:t,readOnly:n}=this.props,r=this.state.diff;if(!pl(t)||n)return;e.preventDefault();const i=this.codeMirror.lineAtHeight(e.y);this.startSelection(t,r.hunks,i,"hunk")},this.unmountWhitespaceHint=()=>{null!==this.whitespaceHintMountId&&(cancelAnimationFrame(this.whitespaceHintMountId),this.whitespaceHintMountId=null),null!==this.whitespaceHintContainer&&ge.a.unmountComponentAtNode(this.whitespaceHintContainer),null!==this.whitespaceHintContainer&&(this.whitespaceHintContainer.remove(),this.whitespaceHintContainer=null)},this.onFindText=e=>{!e.defaultPrevented&&this.codeMirror&&(e.preventDefault(),Ib(this.codeMirror))},this.state={diff:this.props.diff}}async initDiffSyntaxMode(){if(!this.codeMirror)return;const e=this.props.fileContents;if(null===e)return;const{diff:t}=this.state,n=this.props,r=this.state,i=xb(t.hunks),o=this.codeMirror.getOption("tabSize"),s="number"==typeof o?o:4,a=await Db(e,s,i);if(l=this.props,c=n,u=this.state,h=r,l!==c&&l.file.id!==c.file.id||u.diff.text!==h.diff.text||(null===(p=c.fileContents)||void 0===p?void 0:p.file.id)!==(null===(d=l.fileContents)||void 0===d?void 0:d.file.id))return;var l,c,u,h,p,d;const f={name:vb.ModeName,hunks:t.hunks,oldTokens:a.oldTokens,newTokens:a.newTokens};this.codeMirror&&this.codeMirror.setOption("mode",f)}startSelection(e,t,n,r){null!==this.selection&&this.cancelSelection();const i=pb(t,n);if(null===i)return;const o=!e.selection.isSelected(i);if(this.props.hideWhitespaceInDiff)e.selection.isSelectable(i)&&this.mountWhitespaceHint(n);else{if("hunk"===r){const e=hb(t,n);if(!e)return void console.error("unable to find range for given line in diff");const{from:i,to:s}=e;this.selection={isSelected:o,from:i,to:s,kind:r}}else"range"===r?(this.selection={isSelected:o,from:i,to:i,kind:r},document.addEventListener("mousemove",this.onDocumentMouseMove)):Ze(0,"Unknown selection kind "+r);document.addEventListener("mouseup",this.onDocumentMouseUp,{once:!0})}}cancelSelection(){this.selection&&(document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("mousemove",this.onDocumentMouseMove),this.selection=null,this.updateViewport())}endSelection(){const{onIncludeChanged:e,file:t}=this.props;if(e&&this.selection&&pl(t)){const n=t.selection,{isSelected:r}=this.selection,i=Math.min(this.selection.from,this.selection.to),o=Math.max(this.selection.from,this.selection.to)-i+1;e(n.withRangeSelection(i,o,r)),this.selection=null}}canExpandDiff(){const e=this.props.fileContents;return null!==e&&e.canBeExpanded&&e.newContents.length>0}expandHunk(e,t){const n=this.props.fileContents;if(null===n||!this.canExpandDiff())return;const r=wl(this.state.diff,e,t,n.newContents);void 0!==r&&(this.setState({diff:r}),this.updateViewport())}buildExpandMenuItem(e){if(!this.canExpandDiff())return null;if(!(e instanceof MouseEvent))return null;const t=this.state.diff;return null===this.diffToRestore?{label:"Expand Whole File",action:this.onExpandWholeFile,enabled:1!==t.hunks.length||t.hunks[0].expansionType!==Jr.None}:{label:"Collapse Expanded Lines",action:this.onCollapseExpandedLines}}buildDiscardMenuItems(e,t){const n=this.props.file;if(this.props.readOnly||!pl(n))return null;if(!(t instanceof MouseEvent))return null;if(!this.props.onDiscardChanges)return null;const r=this.state.diff,i=e.lineAtHeight(t.y),o=cb(r.hunks,i);if(null===o||!o.isIncludeableLine())return null;const s=hb(r.hunks,i);return null===s||null===s.type?null:Pb(t.target,"hunk-handle")?[{label:this.getDiscardLabel(s.type,s.to-s.from+1),action:()=>this.onDiscardChanges(n,s.from,s.to)}]:Pb(t.target,"diff-line-number")?[{label:this.getDiscardLabel(s.type,1),action:()=>this.onDiscardChanges(n,i),enabled:s.type!==sb.Mixed}]:null}onDiscardChanges(e,t,n=t){if(!this.props.onDiscardChanges)return;const r=e.selection.withSelectNone().withRangeSelection(t,n-t+1,!0);this.props.onDiscardChanges(this.props.diff,r)}getDiscardLabel(e,t){const n=this.props.askForConfirmationOnDiscardChanges?"":"";let r="";e===sb.Additions?r="Added":e===sb.Deletions?r="Removed":e===sb.Mixed?r="Modified":Ze(0,"Invalid range type: "+e);return`Discard ${r} Line${t>1?"s":""}${n}`}markIntraLineChanges(e,t){for(const n of t){const r=n.lines.filter(e=>e.type===Xr.Add),i=n.lines.filter(e=>e.type===Xr.Delete);if(r.length===i.length)for(let n=0;n<r.length;n++){const o=r[n],s=i[n];if(o.text.length>1024||s.text.length>1024)continue;const a=ul(o.content,s.content),l=a.stringARange;if(l.length>0){const n=ub(o,t);if(n>-1){const t={line:n,ch:l.location+1},r={line:n,ch:l.location+l.length+1};e.markText(t,r,{className:"cm-diff-add-inner"})}}const c=a.stringBRange;if(c.length>0){const n=ub(s,t);if(n>-1){const t={line:n,ch:c.location+1},r={line:n,ch:c.location+c.length+1};e.markText(t,r,{className:"cm-diff-delete-inner"})}}}}}isIncluded(e){const{file:t}=this.props;return Ob(this.selection,e)?this.selection.isSelected:pl(t)&&t.selection.isSelected(e)}getGutterLineClassNameInfo(e,t){const n=t.isIncludeableLine(),r=n&&null!==t.originalLineNumber&&this.isIncluded(t.originalLineNumber),i=n&&null!==t.originalLineNumber&&Ob(this.hunkHighlightRange,t.originalLineNumber),o=this.canExpandDiff();return{"diff-line-gutter":!0,"diff-add":t.type===Xr.Add,"diff-delete":t.type===Xr.Delete,"diff-context":t.type===Xr.Context,"diff-hunk":t.type===Xr.Hunk,"read-only":this.props.readOnly,"diff-line-selected":r,"diff-line-hover":i,"expandable-down":o&&e.expansionType===Jr.Down,"expandable-up":o&&e.expansionType===Jr.Up,"expandable-both":o&&e.expansionType===Jr.Both,"expandable-short":o&&e.expansionType===Jr.Short,includeable:n&&!this.props.readOnly}}createGutterMarker(e,t,n,r,i){const o=dl(i),s=document.createElement("div");s.style.width=2*o+"px",s.style.margin="0px",s.className="diff-line-gutter",s.addEventListener("mousedown",this.onDiffLineGutterMouseDown.bind(this,e));const a=document.createElement("div");a.classList.add("diff-line-number","before"),a.style.width=o+"px",s.appendChild(a);const l=document.createElement("div");l.classList.add("diff-line-number","after"),l.style.width=o+"px",s.appendChild(l);const c=document.createElement("div");if(c.addEventListener("mouseenter",this.onHunkHandleMouseEnter),c.addEventListener("mouseleave",this.onHunkHandleMouseLeave),c.addEventListener("mousedown",this.onHunkHandleMouseDown),c.classList.add("hunk-handle"),s.appendChild(c),this.canExpandDiff()){const e=document.createElement("div");e.classList.add("hunk-expand-up-handle"),e.title="Expand Up",e.addEventListener("click",this.onHunkExpandHalfHandleMouseDown.bind(this,t,n,"up")),s.appendChild(e),e.appendChild(uf(Pf,"hunk-expand-icon"));const r=document.createElement("div");r.classList.add("hunk-expand-down-handle"),r.title="Expand Down",r.addEventListener("click",this.onHunkExpandHalfHandleMouseDown.bind(this,t,n,"down")),s.appendChild(r),r.appendChild(uf(Of,"hunk-expand-icon"));const i=document.createElement("div");i.classList.add("hunk-expand-whole-handle"),i.title="Expand whole",i.addEventListener("click",this.onHunkExpandWholeHandleMouseDown.bind(this,t,n)),s.appendChild(i),i.appendChild(uf(Of,"hunk-expand-icon","hunk-expand-down-icon")),i.appendChild(uf(Pf,"hunk-expand-icon","hunk-expand-up-icon")),i.appendChild(uf(lm,"hunk-expand-icon","hunk-expand-short-icon"))}return this.updateGutterMarker(s,n,r),s}updateGutterMarker(e,t,n){var r,i;const o=this.getGutterLineClassNameInfo(t,n);for(const[t,n]of Object.entries(o))n?e.classList.add(t):e.classList.remove(t);const s=e.getElementsByClassName("hunk-expand-whole-handle")[0];void 0!==s&&(!0===o["expandable-short"]?s.setAttribute("title","Expand All"):!0!==o["expandable-both"]&&(o["expandable-down"]?s.setAttribute("title","Expand Down"):s.setAttribute("title","Expand Up")));const a=!this.props.readOnly&&n.isIncludeableLine();n.type===Xr.Hunk||a?e.setAttribute("role","button"):e.removeAttribute("role");const[l,c]=e.childNodes;l.textContent=""+(null!==(r=n.oldLineNumber)&&void 0!==r?r:""),c.textContent=""+(null!==(i=n.newLineNumber)&&void 0!==i?i:"")}updateViewport(){if(this.codeMirror){const{from:e,to:t}=this.codeMirror.getViewport();this.onViewportChange(this.codeMirror,e,t)}}componentWillUnmount(){this.cancelSelection(),this.unmountWhitespaceHint(),this.codeMirror=null,document.removeEventListener("find-text",this.onFindText)}mountWhitespaceHint(e){this.unmountWhitespaceHint(),this.whitespaceHintMountId=requestAnimationFrame(()=>{this.whitespaceHintMountId=null;const t=this.codeMirror;if(null===t)return;const n=document.createElement("div");n.style.position="absolute";const r=t.getScrollerElement(),i=dl(ml(this.state.diff.maxLineNumber)),o=t.heightAtLine(e,"local"),s={left:2*i+10};let a=Ly.LeftTop;n.style.top=o-10+"px",o-r.scrollTop>r.clientHeight/2&&(a=Ly.LeftBottom,s.bottom=-35),r.appendChild(n),this.whitespaceHintContainer=n,ge.a.render(de.createElement(_b,{caretPosition:a,onDismissed:this.unmountWhitespaceHint,onHideWhitespaceInDiffChanged:this.props.onHideWhitespaceInDiffChanged,style:s}),n)})}componentDidUpdate(e,t,n){var r,i;null!==this.codeMirror&&(r=this.props.fileContents,i=e.fileContents,((null==r?void 0:r.newContents)!==(null==i?void 0:i.newContents)||(null==r?void 0:r.oldContents)!==(null==i?void 0:i.oldContents))&&this.initDiffSyntaxMode(),pl(this.props.file)&&(pl(e.file)&&this.props.file.selection===e.file.selection||this.props.diff.text===e.diff.text&&this.updateViewport()),this.props.diff.text!==e.diff.text&&(this.diffToRestore=null,this.setState({diff:this.props.diff})),null!==n&&this.codeMirror.scrollTo(void 0,n.top),this.props.file.id!==e.file.id&&this.codeMirror.scrollTo(void 0,0))}getSnapshotBeforeUpdate(e,t){return null!==this.codeMirror&&(this.props.file!==e.file&&this.props.file.id===e.file.id&&this.props.diff.text!==e.diff.text||this.state.diff.text!==t.diff.text)?this.codeMirror.getScrollInfo():null}componentDidMount(){document.addEventListener("find-text",this.onFindText)}render(){const{diff:e}=this.state,t=this.getCodeMirrorDocument(e.text,this.getNoNewlineIndicatorLines(this.state.diff.hunks));return de.createElement(de.Fragment,null,e.hasHiddenBidiChars&&de.createElement(Tb,null),de.createElement(bb,{className:"diff-code-mirror",value:t,options:Fb,isSelectionEnabled:this.isSelectionEnabled,onSwapDoc:this.onSwapDoc,onAfterSwapDoc:this.onAfterSwapDoc,onViewportChange:this.onViewportChange,ref:this.getAndStoreCodeMirrorInstance,onContextMenu:this.onContextMenu,onCopy:this.onCopy}))}}var Bb=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Hm()(this,e),this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._columnCount=0,this._rowCount=0,this.columnWidth=function(e){var n=e.index,r=t._keyMapper(0,n);return t._columnWidthCache.hasOwnProperty(r)?t._columnWidthCache[r]:t._defaultWidth},this.rowHeight=function(e){var n=e.index,r=t._keyMapper(n,0);return t._rowHeightCache.hasOwnProperty(r)?t._rowHeightCache[r]:t._defaultHeight};var r=n.defaultHeight,i=n.defaultWidth,o=n.fixedHeight,s=n.fixedWidth,a=n.keyMapper,l=n.minHeight,c=n.minWidth;this._hasFixedHeight=!0===o,this._hasFixedWidth=!0===s,this._minHeight=l||0,this._minWidth=c||0,this._keyMapper=a||Lb,this._defaultHeight=Math.max(this._minHeight,"number"==typeof r?r:30),this._defaultWidth=Math.max(this._minWidth,"number"==typeof i?i:100)}return jm()(e,[{key:"clear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(e,t);delete this._cellHeightCache[n],delete this._cellWidthCache[n],this._updateCachedColumnAndRowSizes(e,t)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var n=this._keyMapper(e,t);return this._cellHeightCache.hasOwnProperty(n)?Math.max(this._minHeight,this._cellHeightCache[n]):this._defaultHeight}},{key:"getWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var n=this._keyMapper(e,t);return this._cellWidthCache.hasOwnProperty(n)?Math.max(this._minWidth,this._cellWidthCache[n]):this._defaultWidth}},{key:"has",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(e,t);return this._cellHeightCache.hasOwnProperty(n)}},{key:"set",value:function(e,t,n,r){var i=this._keyMapper(e,t);t>=this._columnCount&&(this._columnCount=t+1),e>=this._rowCount&&(this._rowCount=e+1),this._cellHeightCache[i]=r,this._cellWidthCache[i]=n,this._updateCachedColumnAndRowSizes(e,t)}},{key:"_updateCachedColumnAndRowSizes",value:function(e,t){if(!this._hasFixedWidth){for(var n=0,r=0;r<this._rowCount;r++)n=Math.max(n,this.getWidth(r,t));var i=this._keyMapper(0,t);this._columnWidthCache[i]=n}if(!this._hasFixedHeight){for(var o=0,s=0;s<this._columnCount;s++)o=Math.max(o,this.getHeight(e,s));var a=this._keyMapper(e,0);this._rowHeightCache[a]=o}}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}}]),e}();function Lb(e,t){return e+"-"+t}var Hb=function(e){function t(){var e,n,r,i;Hm()(this,t);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return n=r=zm()(this,(e=t.__proto__||Bm()(t)).call.apply(e,[this].concat(s))),r._measure=function(){var e=r.props,t=e.cache,n=e.columnIndex,i=void 0===n?0:n,o=e.parent,s=e.rowIndex,a=void 0===s?r.props.index||0:s,l=r._getCellMeasurements(),c=l.height,u=l.width;c===t.getHeight(a,i)&&u===t.getWidth(a,i)||(t.set(a,i,u,c),o&&"function"==typeof o.recomputeGridSize&&o.recomputeGridSize({columnIndex:i,rowIndex:a}))},i=n,zm()(r,i)}return qm()(t,e),jm()(t,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var e=this.props.children;return"function"==typeof e?e({measure:this._measure}):e}},{key:"_getCellMeasurements",value:function(){var e=this.props.cache,t=Object(me.findDOMNode)(this);if(t&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){var n=t.style.width,r=t.style.height;e.hasFixedWidth()||(t.style.width="auto"),e.hasFixedHeight()||(t.style.height="auto");var i=Math.ceil(t.offsetHeight),o=Math.ceil(t.offsetWidth);return n&&(t.style.width=n),r&&(t.style.height=r),{height:i,width:o}}return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var e=this.props,t=e.cache,n=e.columnIndex,r=void 0===n?0:n,i=e.parent,o=e.rowIndex,s=void 0===o?this.props.index||0:o;if(!t.has(s,r)){var a=this._getCellMeasurements(),l=a.height,c=a.width;t.set(s,r,c,l),i&&"function"==typeof i.invalidateCellSizeAfterRender&&i.invalidateCellSizeAfterRender({columnIndex:r,rowIndex:s})}}}]),t}(de.PureComponent);Hb.__internalCellMeasurerFlag=!1,Hb.propTypes=null;var Ub=Hb;var jb=n(236),Wb=n.n(jb);var zb=function(e){function t(){var e,n,r,i;Hm()(this,t);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return n=r=zm()(this,(e=t.__proto__||Bm()(t)).call.apply(e,[this].concat(s))),r._cellRenderer=function(e){var t=e.parent,n=e.rowIndex,i=e.style,o=e.isScrolling,s=e.isVisible,a=e.key,l=r.props.rowRenderer;return Wb()(i,"width").writable&&(i.width="100%"),l({index:n,style:i,isScrolling:o,isVisible:s,key:a,parent:t})},r._setRef=function(e){r.Grid=e},r._onScroll=function(e){var t=e.clientHeight,n=e.scrollHeight,i=e.scrollTop;(0,r.props.onScroll)({clientHeight:t,scrollHeight:n,scrollTop:i})},r._onSectionRendered=function(e){var t=e.rowOverscanStartIndex,n=e.rowOverscanStopIndex,i=e.rowStartIndex,o=e.rowStopIndex;(0,r.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:n,startIndex:i,stopIndex:o})},i=n,zm()(r,i)}return qm()(t,e),jm()(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,n=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:n,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,i=void 0===r?0:r;this.Grid&&this.Grid.recomputeGridSize({rowIndex:i,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e,columnIndex:0})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.noRowsRenderer,r=e.scrollToIndex,i=e.width,o=al()("ReactVirtualized__List",t);return de.createElement(Cg,Fm()({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:o,columnWidth:i,columnCount:1,noContentRenderer:n,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:r}))}}]),t}(de.PureComponent);zb.defaultProps={autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:function(e){var t=e.cellCount,n=e.overscanCellsCount,r=e.scrollDirection,i=e.startIndex,o=e.stopIndex;return n=Math.max(1,n),1===r?{overscanStartIndex:Math.max(0,i-1),overscanStopIndex:Math.min(t-1,o+n)}:{overscanStartIndex:Math.max(0,i-n),overscanStopIndex:Math.min(t-1,o+1)}},overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}},zb.propTypes=null;var Gb=zb;class qb extends de.Component{constructor(e){super(e),this.onWhitespaceHintClose=()=>{this.setState({showWhitespaceHint:void 0})},this.onMouseDownLineNumber=e=>{if(2===e.buttons)return;const t=this.getDiffColumn(e.currentTarget),n=this.getDiffData(e.currentTarget);if(null!==n&&null!==t){if(this.props.hideWhitespaceInDiff)return void this.setState({showWhitespaceHint:t});this.props.onStartSelection(this.props.numRow,t,!n.isSelected)}},this.onMouseEnterLineNumber=e=>{if(this.props.hideWhitespaceInDiff)return;const t=this.getDiffData(e.currentTarget),n=this.getDiffColumn(e.currentTarget);null!==t&&null!==n&&this.props.onUpdateSelection(this.props.numRow,n)},this.onMouseEnterHunk=()=>{"hunkStartLine"in this.props.row&&this.props.onMouseEnterHunk(this.props.row.hunkStartLine)},this.onMouseLeaveHunk=()=>{"hunkStartLine"in this.props.row&&this.props.onMouseLeaveHunk(this.props.row.hunkStartLine)},this.onExpandHunk=(e,t)=>()=>{this.props.onExpandHunk(e,t)},this.onClickHunk=()=>{if(this.props.hideWhitespaceInDiff){const{row:e}=this.props,t=e.type===il.Added?ol.After:ol.Before;return void this.setState({showWhitespaceHint:t})}const e=this.getDiffData();null!==e&&"hunkStartLine"in this.props.row&&this.props.onClickHunk(this.props.row.hunkStartLine,!e.isSelected)},this.onContextMenuLineNumber=e=>{if(this.props.hideWhitespaceInDiff)return;const t=this.getDiffData(e.currentTarget);null!==t&&null!==t.diffLineNumber&&this.props.onContextMenuLine(t.diffLineNumber)},this.onContextMenuHunk=()=>{this.props.hideWhitespaceInDiff||"hunkStartLine"in this.props.row&&this.props.onContextMenuHunk(this.props.row.hunkStartLine)},this.state={showWhitespaceHint:void 0}}render(){const{row:e,showSideBySideDiff:t}=this.props;switch(e.type){case il.Hunk:{const t=["row","hunk-info"];return e.expansionType===Jr.Both&&t.push("expandable-both"),de.createElement("div",{className:al()(t)},this.renderHunkHeaderGutter(e.hunkIndex,e.expansionType),this.renderContentFromString(e.content))}case il.Context:const{beforeLineNumber:n,afterLineNumber:r}=e;return t?de.createElement("div",{className:"row context"},de.createElement("div",{className:"before"},this.renderLineNumber(n),this.renderContentFromString(e.content,e.beforeTokens)),de.createElement("div",{className:"after"},this.renderLineNumber(r),this.renderContentFromString(e.content,e.afterTokens))):de.createElement("div",{className:"row context"},de.createElement("div",{className:"before"},this.renderLineNumbers([n,r]),this.renderContentFromString(e.content,e.beforeTokens)));case il.Added:{const{lineNumber:n,isSelected:r}=e.data;return t?de.createElement("div",{className:"row added",onMouseEnter:this.onMouseEnterLineNumber},de.createElement("div",{className:"before"},this.renderLineNumber(),this.renderContentFromString(""),this.renderWhitespaceHintPopover(ol.Before)),de.createElement("div",{className:"after"},this.renderLineNumber(n,r),this.renderContent(e.data),this.renderWhitespaceHintPopover(ol.After)),this.renderHunkHandle()):de.createElement("div",{className:"row added",onMouseEnter:this.onMouseEnterLineNumber},de.createElement("div",{className:"after"},this.renderLineNumbers([void 0,n],r),this.renderHunkHandle(),this.renderContent(e.data),this.renderWhitespaceHintPopover(ol.After)))}case il.Deleted:{const{lineNumber:n,isSelected:r}=e.data;return t?de.createElement("div",{className:"row deleted",onMouseEnter:this.onMouseEnterLineNumber},de.createElement("div",{className:"before"},this.renderLineNumber(n,r),this.renderContent(e.data),this.renderWhitespaceHintPopover(ol.Before)),de.createElement("div",{className:"after"},this.renderLineNumber(),this.renderContentFromString(""),this.renderWhitespaceHintPopover(ol.After)),this.renderHunkHandle()):de.createElement("div",{className:"row deleted",onMouseEnter:this.onMouseEnterLineNumber},de.createElement("div",{className:"before"},this.renderLineNumbers([n,void 0],r),this.renderHunkHandle(),this.renderContent(e.data),this.renderWhitespaceHintPopover(ol.Before)))}case il.Modified:{const{beforeData:t,afterData:n}=e;return de.createElement("div",{className:"row modified"},de.createElement("div",{className:"before",onMouseEnter:this.onMouseEnterLineNumber},this.renderLineNumber(t.lineNumber,t.isSelected),this.renderContent(t),this.renderWhitespaceHintPopover(ol.Before)),de.createElement("div",{className:"after",onMouseEnter:this.onMouseEnterLineNumber},this.renderLineNumber(n.lineNumber,n.isSelected),this.renderContent(n),this.renderWhitespaceHintPopover(ol.After)),this.renderHunkHandle())}}}shouldComponentUpdate(e,t){if(!Us(this.state,t))return!0;const n=this.props,{row:r}=n,i=Em(n,["row"]),{row:o}=e,s=Em(e,["row"]);return!Hs(r,o)||!Us(i,s)}renderContentFromString(e,t=[]){return this.renderContent({content:e,tokens:t,noNewLineIndicator:!1})}renderContent(e){return de.createElement("div",{className:"content",onContextMenu:this.props.onContextMenuText},function(e,t){const n=[];let r={content:"",tokens:new Map};for(let i=0;i<e.length;i++){const o=e[i],s=new Map;for(const[e,t]of r.tokens)t>i&&s.set(e,t);for(const e of t)if(void 0!==e[i]&&e[i].length>0){const t=e[i].token.split(" "),n=i+e[i].length;for(const e of t){const t=s.get(e);(void 0===t||n>t)&&s.set(e,n)}}Ws(r.tokens,s)?(r.content+=o,r.tokens=s):(n.push({tokens:r.tokens,content:r.content}),r={content:o,tokens:s})}return n.push({tokens:r.tokens,content:r.content}),de.createElement(de.Fragment,null,n.map((e,t)=>0===e.tokens.size?e.content:de.createElement("span",{key:t,className:al()([...e.tokens.keys()].map(e=>"cm-"+e))},e.content)))}(e.content,e.tokens),e.noNewLineIndicator&&de.createElement(cf,{symbol:Rb,title:"No newline at end of file"}))}getHunkExpansionElementInfo(e,t){switch(t){case Jr.Up:return{icon:Pf,title:"Expand Up",handler:this.onExpandHunk(e,"up")};case Jr.Down:return{icon:Of,title:"Expand Down",handler:this.onExpandHunk(e-1,"down")};case Jr.Short:return{icon:Af,title:"Expand All",handler:this.onExpandHunk(e,"up")}}throw new Error("Unexpected expansion type "+t)}renderHunkExpansionHandle(e,t){if(t===Jr.None)return de.createElement("div",{className:"hunk-expansion-handle",onContextMenu:this.props.onContextMenuExpandHunk,style:{width:this.props.lineNumberWidth}},de.createElement("span",null));const n=this.getHunkExpansionElementInfo(e,t);return de.createElement("div",{className:"hunk-expansion-handle selectable hoverable",onClick:n.handler,style:{width:this.props.lineNumberWidth},onContextMenu:this.props.onContextMenuExpandHunk},de.createElement(km,{direction:rf.SOUTH,tooltip:n.title},de.createElement(cf,{symbol:n.icon})))}renderHunkHeaderGutter(e,t){return t===Jr.Both?de.createElement("div",null,this.renderHunkExpansionHandle(e,Jr.Down),this.renderHunkExpansionHandle(e,Jr.Up)):this.renderHunkExpansionHandle(e,t)}renderHunkHandle(){return this.props.isDiffSelectable?de.createElement("div",{className:"hunk-handle hoverable",onMouseEnter:this.onMouseEnterHunk,onMouseLeave:this.onMouseLeaveHunk,onClick:this.onClickHunk,onContextMenu:this.onContextMenuHunk}):null}renderLineNumbers(e,t){return this.props.isDiffSelectable&&void 0!==t?de.createElement("div",{className:al()("line-number","selectable","hoverable",{"line-selected":t,hover:this.props.isHunkHovered}),style:{width:this.props.lineNumberWidth},onMouseDown:this.onMouseDownLineNumber,onContextMenu:this.onContextMenuLineNumber},e.map((e,t)=>de.createElement("span",{key:t},e))):de.createElement("div",{className:"line-number",style:{width:this.props.lineNumberWidth}},e.map((e,t)=>de.createElement("span",{key:t},e)))}renderWhitespaceHintPopover(e){if(this.state.showWhitespaceHint!==e)return;const t=e===ol.Before?Ly.RightTop:Ly.LeftTop,n={[e===ol.Before?"marginRight":"marginLeft"]:this.props.lineNumberWidth+10,marginTop:-10};return de.createElement(_b,{caretPosition:t,style:n,onHideWhitespaceInDiffChanged:this.props.onHideWhitespaceInDiffChanged,onDismissed:this.onWhitespaceHintClose})}renderLineNumber(e,t){return this.renderLineNumbers([e],t)}getDiffColumn(e){const{row:t,showSideBySideDiff:n}=this.props;if(!n)return ol.Before;switch(t.type){case il.Added:return ol.After;case il.Deleted:return ol.Before;case il.Modified:return(null==e?void 0:e.closest(".after"))?ol.After:ol.Before}return null}getDiffData(e){const{row:t}=this.props;switch(t.type){case il.Added:case il.Deleted:return t.data;case il.Modified:return(null==e?void 0:e.closest(".after"))?t.afterData:t.beforeData}return null}}class Vb extends de.Component{constructor(e){super(e),this.onChange=e=>{this.setState({value:e})},this.onBlur=()=>{this.props.onClose()},this.onKeyDown=e=>{"Escape"!==e.key||e.defaultPrevented?"Enter"!==e.key||e.defaultPrevented||(e.preventDefault(),this.props.onSearch(this.state.value,e.shiftKey?"previous":"next")):(e.preventDefault(),this.props.onClose())},this.state={value:""}}render(){return de.createElement("div",{className:"diff-search"},de.createElement(Fg,{placeholder:"Search...",type:"search",autoFocus:!0,onValueChanged:this.onChange,onKeyDown:this.onKeyDown,onBlur:this.onBlur,value:this.state.value}))}}const $b=new Bb({defaultHeight:20,fixedWidth:!0});class Kb extends de.Component{constructor(e){super(e),this.virtualListRef=de.createRef(),this.diffToRestore=null,this.renderRow=({index:e,parent:t,style:n,key:r})=>{const{diff:i}=this.state,o=Zb(i,this.props.showSideBySideDiff,this.canExpandDiff())[e];if(void 0===o)return null;const s=dl(ml(i.maxLineNumber)),a=this.createFullRow(o,e),l="hunkStartLine"in o&&this.state.hoveredHunk===o.hunkStartLine;return de.createElement(Ub,{cache:$b,columnIndex:0,key:r,parent:t,rowIndex:e},de.createElement("div",{key:r,style:n},de.createElement(qb,{row:a,lineNumberWidth:s,numRow:e,isDiffSelectable:pl(this.props.file),isHunkHovered:l,showSideBySideDiff:this.props.showSideBySideDiff,hideWhitespaceInDiff:this.props.hideWhitespaceInDiff,onStartSelection:this.onStartSelection,onUpdateSelection:this.onUpdateSelection,onMouseEnterHunk:this.onMouseEnterHunk,onMouseLeaveHunk:this.onMouseLeaveHunk,onExpandHunk:this.onExpandHunk,onClickHunk:this.onClickHunk,onContextMenuLine:this.onContextMenuLine,onContextMenuHunk:this.onContextMenuHunk,onContextMenuExpandHunk:this.onContextMenuExpandHunk,onContextMenuText:this.onContextMenuText,onHideWhitespaceInDiffChanged:this.props.onHideWhitespaceInDiffChanged})))},this.getRowHeight=e=>{var t;return null!==(t=$b.rowHeight(e))&&void 0!==t?t:20},this.clearListRowsHeightCache=()=>{$b.clearAll()},this.onMouseDown=e=>{if(!this.props.showSideBySideDiff)return;if(!(e.target instanceof HTMLElement))return;const t=e.target.closest(".before"),n=e.target.closest(".after");null!==t?this.setState({selectingTextInRow:"before"}):null!==n&&this.setState({selectingTextInRow:"after"})},this.onStartSelection=(e,t,n)=>{const r={row:e,column:t},i={from:r,to:r,isSelected:n};this.setState({temporarySelection:i}),document.addEventListener("mouseup",this.onEndSelection,{once:!0})},this.onUpdateSelection=(e,t)=>{const{temporarySelection:n}=this.state;if(void 0===n)return;const r={row:e,column:t};this.setState({temporarySelection:Object.assign(Object.assign({},n),{to:r})})},this.onEndSelection=()=>{var e,t;let n=this.getSelection();const{temporarySelection:r}=this.state;if(void 0===n||void 0===r)return;const{from:i,to:o,isSelected:s}=r,a=Math.min(i.row,o.row),l=Math.max(i.row,o.row);for(let e=a;e<=l;e++){const t=this.getDiffLineNumber(e,i.column),r=this.getDiffLineNumber(e,o.column);null!==t&&(n=n.withLineSelection(t,s)),null!==r&&(n=n.withLineSelection(r,s))}null===(t=(e=this.props).onIncludeChanged)||void 0===t||t.call(e,n),this.setState({temporarySelection:void 0})},this.onMouseEnterHunk=e=>{void 0===this.state.temporarySelection&&this.setState({hoveredHunk:e})},this.onMouseLeaveHunk=()=>{this.setState({hoveredHunk:void 0})},this.onExpandHunk=(e,t)=>{const{diff:n}=this.state;-1===e||e>=n.hunks.length||this.expandHunk(n.hunks[e],t)},this.onClickHunk=(e,t)=>{if(void 0===this.props.onIncludeChanged)return;const{diff:n}=this.state,r=this.getSelection();if(void 0!==r){const i=hb(n.hunks,e);if(null!==i){const{from:e,to:n}=i,o=r.withRangeSelection(e,n-e+1,t);this.props.onIncludeChanged(o)}}},this.onContextMenuText=()=>{var e,t;const n=null!==(t=null===(e=window.getSelection())||void 0===e?void 0:e.toString().length)&&void 0!==t?t:0,r=[{label:"Copy",role:n>0?"copy":void 0,enabled:n>0}],i=this.buildExpandMenuItem();null!==i&&r.push({type:"separator"},i),Cm(r)},this.onContextMenuLine=e=>{const{file:t,hideWhitespaceInDiff:n}=this.props,{diff:r}=this.state;if(!pl(t))return;if(n)return;if(void 0===this.props.onDiscardChanges)return;const i=hb(r.hunks,e);null!==i&&null!==i.type&&Cm([{label:this.getDiscardLabel(i.type,1),action:()=>this.onDiscardChanges(e)}])},this.onExpandWholeFile=()=>{const e=this.props.fileContents,{diff:t}=this.state;if(null===e||!this.canExpandDiff())return;const n=bl(t,e.newContents);void 0!==n&&(this.diffToRestore=t,this.setState({diff:n}))},this.onCollapseExpandedLines=()=>{null!==this.diffToRestore&&(this.setState({diff:this.diffToRestore}),this.diffToRestore=null)},this.onContextMenuHunk=e=>{if(!pl(this.props.file))return;if(void 0===this.props.onDiscardChanges)return;const t=hb(this.state.diff.hunks,e);null!==t&&null!==t.type&&Cm([{label:this.getDiscardLabel(t.type,t.to-t.from+1),action:()=>this.onDiscardChanges(t.from,t.to)}])},this.onContextMenuExpandHunk=()=>{const e=this.buildExpandMenuItem();null!==e&&Cm([e])},this.onWindowKeyDown=e=>{if(e.defaultPrevented)return;!(e.metaKey&&!e.ctrlKey)||e.shiftKey||e.altKey||"f"!==e.key||(e.preventDefault(),this.showSearch())},this.showSearch=()=>{this.state.isSearching||this.resetSearch(!0)},this.onSearch=(e,t)=>{var n,r;let{selectedSearchResult:i,searchResults:o}=this.state;const{showSideBySideDiff:s}=this.props,{diff:a}=this.state;if(e===this.state.searchQuery&&void 0!==o)if(void 0===i)i=0;else{i=(i+("next"===t?1:-1)+o.length)%o.length}else if(o=function(e,t,n,r){if(0===n.length)return;const i=new Jb,o=new RegExp(wr(n),"gi"),s=Zb(e,t,r);for(const[e,n]of s.entries())if(n.type!==il.Hunk)for(const r of ew(n,t))for(const t of r.content.matchAll(o))void 0!==t.index&&i.add(e,r.type,t.index,t[0].length);return i}(a,s,e,this.canExpandDiff()),i=0,void 0===o||0===o.length)return void this.resetSearch(!0);const l=null===(n=o.get(i))||void 0===n?void 0:n.row;void 0!==l&&(null===(r=this.virtualListRef.current)||void 0===r||r.scrollToRow(l)),this.setState({searchQuery:e,searchResults:o,selectedSearchResult:i})},this.onSearchCancel=()=>{this.resetSearch(!1)},this.state={diff:e.diff,isSearching:!1,selectedSearchResult:void 0}}componentDidMount(){this.initDiffSyntaxMode(),window.addEventListener("keydown",this.onWindowKeyDown),document.addEventListener("find-text",this.showSearch)}componentWillUnmount(){window.removeEventListener("keydown",this.onWindowKeyDown),document.removeEventListener("mouseup",this.onEndSelection),document.removeEventListener("find-text",this.showSearch)}componentDidUpdate(e,t){Yb(this.props,e,this.state,t)||(this.initDiffSyntaxMode(),this.clearListRowsHeightCache()),this.props.diff.text!==e.diff.text&&(this.diffToRestore=null,this.setState({diff:this.props.diff})),null!==this.virtualListRef.current&&this.props.file.id!==e.file.id&&this.virtualListRef.current.scrollToPosition(0)}canExpandDiff(){const e=this.props.fileContents;return null!==e&&e.canBeExpanded&&e.newContents.length>0}render(){const{diff:e}=this.state,t=Zb(e,this.props.showSideBySideDiff,this.canExpandDiff()),n=al()("side-by-side-diff-container",{"unified-diff":!this.props.showSideBySideDiff,["selecting-"+this.state.selectingTextInRow]:this.props.showSideBySideDiff&&void 0!==this.state.selectingTextInRow,editable:pl(this.props.file)});return de.createElement("div",{className:n,onMouseDown:this.onMouseDown},e.hasHiddenBidiChars&&de.createElement(Tb,null),this.state.isSearching&&de.createElement(Vb,{onSearch:this.onSearch,onClose:this.onSearchCancel}),de.createElement("div",{className:"side-by-side-diff cm-s-default"},de.createElement(Km,{onResize:this.clearListRowsHeightCache},({height:e,width:n})=>de.createElement(Gb,{deferredMeasurementCache:$b,width:n,height:e,rowCount:t.length,rowHeight:this.getRowHeight,rowRenderer:this.renderRow,ref:this.virtualListRef,isSearching:this.state.isSearching,selectedSearchResult:this.state.selectedSearchResult,searchQuery:this.state.searchQuery,showSideBySideDiff:this.props.showSideBySideDiff,beforeTokens:this.state.beforeTokens,afterTokens:this.state.afterTokens,temporarySelection:this.state.temporarySelection,hoveredHunk:this.state.hoveredHunk,isSelectable:pl(this.props.file),fileSelection:this.getSelection()}))))}async initDiffSyntaxMode(){const e=this.props.fileContents;if(null===e)return;const{diff:t}=this.state,n=this.props,r=this.state,i=xb(t.hunks),o=await Db(e,4,i);Yb(this.props,n,this.state,r)&&this.setState({beforeTokens:o.oldTokens,afterTokens:o.newTokens})}getSelection(){return pl(this.props.file)?this.props.file.selection:void 0}createFullRow(e,t){var n;if(e.type===il.Added)return Object.assign(Object.assign({},e),{data:this.getRowDataPopulated(e.data,t,this.props.showSideBySideDiff?ol.After:ol.Before,this.state.afterTokens)});if(e.type===il.Deleted)return Object.assign(Object.assign({},e),{data:this.getRowDataPopulated(e.data,t,ol.Before,this.state.beforeTokens)});if(e.type===il.Modified)return Object.assign(Object.assign({},e),{beforeData:this.getRowDataPopulated(e.beforeData,t,ol.Before,this.state.beforeTokens),afterData:this.getRowDataPopulated(e.afterData,t,ol.After,this.state.afterTokens)});if(e.type===il.Context){const r=null!==(n=yb(e.beforeLineNumber,this.state.beforeTokens))&&void 0!==n?n:yb(e.afterLineNumber,this.state.afterTokens),i=[...e.beforeTokens],o=[...e.afterTokens];null!==r&&(i.push(r),o.push(r));const s=this.getSearchTokens(t,ol.Before);void 0!==s&&s.forEach(e=>i.push(e));const a=this.getSearchTokens(t,ol.After);return void 0!==a&&a.forEach(e=>o.push(e)),Object.assign(Object.assign({},e),{beforeTokens:i,afterTokens:o})}return e}getRowDataPopulated(e,t,n,r){const i=this.getSearchTokens(t,n),o=yb(e.lineNumber,r),s=[...e.tokens];return void 0!==i&&i.forEach(e=>s.push(e)),null!==o&&s.push(o),Object.assign(Object.assign({},e),{tokens:s,isSelected:null!==e.diffLineNumber&&tw(e.diffLineNumber,t,n,this.getSelection(),this.state.temporarySelection)})}getSearchTokens(e,t){const{searchResults:n,selectedSearchResult:r}=this.state;if(void 0===n)return;const i=n.getLineTokens(e,t);if(void 0!==i){if(void 0!==i&&void 0!==r){const o=n.get(r);if(e===(null==o?void 0:o.row)&&t===o.column&&void 0!==i[o.offset]){return[i,{[o.offset]:{length:o.length,token:"selected"}}]}}return[i]}}getDiffLineNumber(e,t){const{diff:n}=this.state,r=Zb(n,this.props.showSideBySideDiff,this.canExpandDiff())[e];return void 0===r?null:r.type===il.Added||r.type===il.Deleted?r.data.diffLineNumber:r.type===il.Modified?t===ol.After?r.afterData.diffLineNumber:r.beforeData.diffLineNumber:null}buildExpandMenuItem(){const{diff:e}=this.state;return this.canExpandDiff()?null===this.diffToRestore?{label:"Expand Whole File",action:this.onExpandWholeFile,enabled:1!==e.hunks.length||e.hunks[0].expansionType!==Jr.None}:{label:"Collapse Expanded Lines",action:this.onCollapseExpandedLines}:null}getDiscardLabel(e,t){const n=this.props.askForConfirmationOnDiscardChanges?"":"";let r="";e===sb.Additions?r="Added":e===sb.Deletions?r="Removed":e===sb.Mixed?r="Modified":Ze(0,"Invalid range type: "+e);return`Discard ${r} Line${t>1?"s":""}${n}`}onDiscardChanges(e,t=e){const n=this.getSelection();if(void 0===n)return;if(void 0===this.props.onDiscardChanges)return;const r=n.withSelectNone().withRangeSelection(e,t-e+1,!0);this.props.onDiscardChanges(this.props.diff,r)}resetSearch(e){this.setState({selectedSearchResult:void 0,searchQuery:void 0,searchResults:void 0,isSearching:e})}expandHunk(e,t){const n=this.props.fileContents,{diff:r}=this.state;if(null===n||!this.canExpandDiff())return;const i=wl(r,e,t,n.newContents);void 0!==i&&this.setState({diff:i})}}function Yb(e,t,n,r){var i,o;return(e===t||e.file.id===t.file.id&&e.showSideBySideDiff===t.showSideBySideDiff)&&n.diff.text===r.diff.text&&(null===(i=t.fileContents)||void 0===i?void 0:i.file.id)===(null===(o=e.fileContents)||void 0===o?void 0:o.file.id)}const Zb=Jn((function(e,t,n){const r=new Array;return e.hunks.forEach((e,i)=>{for(const o of function(e,t,n,r){const i=new Array;let o=new Array;for(const[s,a]of t.lines.entries()){const l=t.unifiedDiffStart+s;if(a.type!==Xr.Delete&&a.type!==Xr.Add){if(o.length>0){for(const e of Xb(o,n))i.push(e);o=[]}a.type!==Xr.Hunk?a.type!==Xr.Context?Ze(a.type,"Invalid line type: "+a.type):(Qe(a.oldLineNumber,"No oldLineNumber for "+l),Qe(a.newLineNumber,"No newLineNumber for "+l),i.push({type:il.Context,content:a.content,beforeLineNumber:a.oldLineNumber,afterLineNumber:a.newLineNumber,beforeTokens:[],afterTokens:[]})):i.push({type:il.Hunk,content:a.text,expansionType:r?t.expansionType:Jr.None,hunkIndex:e})}else o.push({line:a,diffLineNumber:l})}if(o.length>0)for(const e of Xb(o,n))i.push(e);return i}(i,e,t,n))r.push(o)}),r}));function Xb(e,t){if(0===e.length)return[];const n=e[0].diffLineNumber,r=new Array,i=new Array;for(const t of e)t.line.type===Xr.Add?r.push(t):t.line.type===Xr.Delete&&i.push(t);const o=new Array,s=new Array,a=new Array;if(r.length===i.length)for(let e=0;e<i.length;e++){const t=r[e],n=i[e];if(t.line.content.length<1024&&n.line.content.length<1024){const{before:r,after:i}=hl(n.line.content,t.line.content);s[e]=r,a[e]=i}}let l=0;for(;t&&l<r.length&&l<i.length;){const e=Xe("Unexpected null line",r[l]),t=Xe("Unexpected null line",i[l]);o.push({type:il.Modified,beforeData:Qb(t,"oldLineNumber",s.shift()),afterData:Qb(e,"newLineNumber",a.shift()),hunkStartLine:n}),l++}for(let e=l;e<i.length;e++){const t=Xe("Unexpected null line",i[e]);o.push({type:il.Deleted,data:Qb(t,"oldLineNumber",s.shift()),hunkStartLine:n})}for(let e=l;e<r.length;e++){const t=Xe("Unexpected null line",r[e]);o.push({type:il.Added,data:Qb(t,"newLineNumber",a.shift()),hunkStartLine:n})}return o}function Qb({line:e,diffLineNumber:t},n,r){const i=Xe(`Expecting ${n} value for ${e}`,e[n]),o=new Array;return void 0!==r&&o.push(r),{content:e.content,lineNumber:i,diffLineNumber:e.originalLineNumber,noNewLineIndicator:e.noTrailingNewLine,tokens:o}}class Jb{constructor(){this.lookup=new Map,this.hits=new Array}getKey(e,t){return`${e}.${t}`}add(e,t,n,r){const i=this.getKey(e,t),o=this.lookup.get(i),s={length:r,token:"search-result"};void 0!==o?o[n]=s:this.lookup.set(i,{[n]:s}),this.hits.push([e,t,n,r])}get length(){return this.hits.length}get(e){const t=this.hits[e];return void 0===t?void 0:{row:t[0],column:t[1],offset:t[2],length:t[3]}}getLineTokens(e,t){return this.lookup.get(this.getKey(e,t))}}function*ew(e,t){if(e.type===il.Hunk)yield{type:ol.Before,content:e.content};else if(e.type===il.Added){const n=t?ol.After:ol.Before;yield{type:n,content:e.data.content}}else e.type===il.Deleted?yield{type:ol.Before,content:e.data.content}:e.type===il.Context?(yield{type:ol.Before,content:e.content},t&&(yield{type:ol.After,content:e.content})):e.type===il.Modified?(yield{type:ol.Before,content:e.beforeData.content},yield{type:ol.After,content:e.afterData.content}):Ze(0,"Unknown row type "+e)}function tw(e,t,n,r,i){var o;const s=null!==(o=null==r?void 0:r.isSelected(e))&&void 0!==o&&o;if(void 0===i)return s;const a=function(e,t,n){if(void 0===n)return!1;if(e>=Math.min(n.from.row,n.to.row)&&e<=Math.max(n.to.row,n.from.row)&&(t===n.from.column||t===n.to.column))return!0;return!1}(t,n,i);return i.isSelected?s||a:s&&!a}const nw=lt(__dirname,"static/ufo-alert.svg");class rw extends de.Component{constructor(e){super(e),this.showLargeDiff=()=>{this.setState({forceShowLargeDiff:!0})},this.state={forceShowLargeDiff:!1}}render(){const e=this.props.diff;switch(e.kind){case Zr.Text:return this.renderText(e);case Zr.Binary:return this.renderBinaryFile();case Zr.Image:return this.renderImage(e);case Zr.LargeText:return this.state.forceShowLargeDiff?this.renderLargeText(e):this.renderLargeTextDiff();case Zr.Unrenderable:return this.renderUnrenderableDiff();default:return Ze(0,"Unsupported diff type: "+e)}}renderImage(e){return e.current&&e.previous?de.createElement(nb,{onChangeDiffType:this.props.onChangeImageDiffType,diffType:this.props.imageDiffType,current:e.current,previous:e.previous}):!e.current||this.props.file.status.kind!==ii.New&&this.props.file.status.kind!==ii.Untracked?e.previous&&this.props.file.status.kind===ii.Deleted?de.createElement(ib,{previous:e.previous}):null:de.createElement(rb,{current:e.current})}renderLargeTextDiff(){return de.createElement("div",{className:"panel empty large-diff"},de.createElement("img",{src:nw,className:"blankslate-image"}),de.createElement("p",null,"The diff is too large to be displayed by default.",de.createElement("br",null),"You can try to show it anyway, but performance may be negatively impacted."),de.createElement(qg,{onClick:this.showLargeDiff},"Show Diff"))}renderUnrenderableDiff(){return de.createElement("div",{className:"panel empty large-diff"},de.createElement("img",{src:nw}),de.createElement("p",null,"The diff is too large to be displayed."))}renderLargeText(e){const t={text:e.text,hunks:e.hunks,kind:Zr.Text,lineEndingsChange:e.lineEndingsChange,maxLineNumber:e.maxLineNumber,hasHiddenBidiChars:e.hasHiddenBidiChars};return this.renderTextDiff(t)}renderText(e){return 0===e.hunks.length?this.props.file.status.kind===ii.New||this.props.file.status.kind===ii.Untracked?de.createElement("div",{className:"panel empty"},"The file is empty"):this.props.file.status.kind===ii.Renamed?de.createElement("div",{className:"panel renamed"},"The file was renamed but not changed"):xi(this.props.file.status)&&_i(this.props.file.status)?de.createElement("div",{className:"panel empty"},"The file is in conflict and must be resolved via the command line."):this.props.hideWhitespaceInDiff?de.createElement("div",{className:"panel empty"},"Only whitespace changes found"):de.createElement("div",{className:"panel empty"},"No content changes found"):this.renderTextDiff(e)}renderBinaryFile(){return de.createElement(ob,{path:this.props.file.path,repository:this.props.repository,onOpenBinaryFile:this.props.onOpenBinaryFile})}renderTextDiff(e){const t=this.props.hideWhitespaceInDiff;return this.props.showSideBySideDiff?de.createElement(Kb,{repository:this.props.repository,file:this.props.file,diff:e,fileContents:this.props.fileContents,hideWhitespaceInDiff:t,showSideBySideDiff:this.props.showSideBySideDiff,onIncludeChanged:this.props.onIncludeChanged,onDiscardChanges:this.props.onDiscardChanges,askForConfirmationOnDiscardChanges:this.props.askForConfirmationOnDiscardChanges,onHideWhitespaceInDiffChanged:this.props.onHideWhitespaceInDiffChanged}):de.createElement(Nb,{repository:this.props.repository,file:this.props.file,readOnly:this.props.readOnly,hideWhitespaceInDiff:t,onIncludeChanged:this.props.onIncludeChanged,onDiscardChanges:this.props.onDiscardChanges,diff:e,fileContents:this.props.fileContents,askForConfirmationOnDiscardChanges:this.props.askForConfirmationOnDiscardChanges,onHideWhitespaceInDiffChanged:this.props.onHideWhitespaceInDiffChanged})}}function iw(){}function ow(e,t){return e===t||e.id===t.id}function sw(e,t){return e===t||aw(e)&&aw(t)&&e.text===t.text}function aw(e){return e.kind===Zr.Text||e.kind===Zr.LargeText}class lw extends de.Component{constructor(e){super(e),this.slowLoadingTimeoutId=null,this.loadingState=null,this.onSlowLoadingTimeout=()=>{this.setState({isLoadingSlow:!0})};const t=null===e.diff||aw(e.diff);this.state={isLoadingDiff:t,isLoadingSlow:!1,propSnapshot:e,diff:e.diff,fileContents:null}}static getDerivedStateFromProps(e,t){const n=null!==t.fileContents&&ow(t.fileContents.file,e.file)?t.fileContents:null,r=null===e.diff||aw(e.diff)&&null===n,i=r!==t.isLoadingDiff,o=null===e.diff||aw(e.diff)?t.diff:e.diff;return Object.assign(Object.assign(Object.assign({isLoadingDiff:r},r?void 0:{propSnapshot:e}),i?{isLoadingSlow:!1}:void 0),{diff:o,fileContents:n})}componentDidMount(){this.state.isLoadingDiff&&this.scheduleSlowLoadingTimeout(),this.loadFileContentsIfNeeded(null)}componentWillUnmount(){this.clearSlowLoadingTimeout()}componentDidUpdate(e,t){this.state.isLoadingDiff!==t.isLoadingDiff&&(this.state.isLoadingDiff?this.scheduleSlowLoadingTimeout():this.clearSlowLoadingTimeout()),this.loadFileContentsIfNeeded(e.diff)}async loadFileContentsIfNeeded(e){const{diff:t,file:n}=this.props;if(null===t||!aw(t))return;const r=this.state.fileContents;if(null!==r&&ow(r.file,n)&&null!==e&&sw(e,t))return;if(null!==this.loadingState&&ow(this.loadingState.file,n)&&sw(this.loadingState.diff,t))return;this.loadingState={file:n,diff:t};xb(t.hunks);const i=await kb(this.props.repository,n);if(this.loadingState=null,!ow(n,this.props.file))return;const o=i.canBeExpanded&&t.kind===Zr.Text?function(e,t,n,r){if(0===t.length)return null;const i=t[t.length-1];if(i.header.newStartLine+i.header.newLineCount>=r)return null;const o=i.header.oldStartLine+i.header.oldLineCount,s=i.header.newStartLine+i.header.newLineCount,a=new fi(o,n-o+1,s,r-s+1),l=new ci("",Xr.Hunk,null,null,null,!1),c=new di(a,[l],i.unifiedDiffEnd+1,i.unifiedDiffEnd+1,Jr.Down),u=[...t,c];return Object.assign(Object.assign({},e),{text:gl(u),hunks:u})}(t,t.hunks,i.oldContents.length,i.newContents.length):null;this.setState({diff:null!=o?o:t,fileContents:i})}scheduleSlowLoadingTimeout(){this.clearSlowLoadingTimeout(),this.slowLoadingTimeoutId=window.setTimeout(this.onSlowLoadingTimeout,150)}clearSlowLoadingTimeout(){null!==this.slowLoadingTimeoutId&&(window.clearTimeout(this.slowLoadingTimeoutId),this.slowLoadingTimeoutId=null)}render(){const{isLoadingDiff:e,isLoadingSlow:t,fileContents:n,diff:r}=this.state,{repository:i,imageDiffType:o,readOnly:s,hideWhitespaceInDiff:a,showSideBySideDiff:l,onIncludeChanged:c,onDiscardChanges:u,file:h,onOpenBinaryFile:p,onChangeImageDiffType:d,onHideWhitespaceInDiffChanged:f}=this.state.propSnapshot,m=al()("seamless-diff-switcher",{loading:e,slow:e&&t,"has-diff":null!==r}),g=e?de.createElement("div",{className:"loading-indicator"},de.createElement(uy,null)):null;return de.createElement("div",{className:m},null!==r?de.createElement(rw,{repository:i,imageDiffType:o,file:h,diff:r,fileContents:n,readOnly:s,hideWhitespaceInDiff:a,showSideBySideDiff:l,askForConfirmationOnDiscardChanges:this.props.askForConfirmationOnDiscardChanges,onIncludeChanged:e?iw:c,onDiscardChanges:e?iw:u,onOpenBinaryFile:e?iw:p,onChangeImageDiffType:e?iw:d,onHideWhitespaceInDiffChanged:e?iw:f}):null,g)}}class cw extends de.Component{constructor(){super(...arguments),this.onDiffLineIncludeChanged=e=>{if(!this.lineSelectionDisabled){const{repository:t,file:n}=this.props;this.props.dispatcher.changeFileLineSelection(t,n,e)}},this.onDiscardChanges=(e,t)=>{this.lineSelectionDisabled||(this.props.askForConfirmationOnDiscardChanges?this.props.dispatcher.showPopup({type:ai.ConfirmDiscardSelection,repository:this.props.repository,file:this.props.file,diff:e,selection:t}):this.props.dispatcher.discardChangesFromSelection(this.props.repository,this.props.file.path,e,t))},this.onShowSideBySideDiffChanged=e=>{this.props.dispatcher.onShowSideBySideDiffChanged(e)},this.onHideWhitespaceInDiffChanged=e=>this.props.dispatcher.onHideWhitespaceInChangesDiffChanged(e,this.props.repository)}get lineSelectionDisabled(){return this.props.isCommitting||this.props.hideWhitespaceInDiff}render(){return de.createElement("div",{className:"changed-file"},de.createElement(Yv,{path:this.props.file.path,status:this.props.file.status,diff:this.props.diff,showSideBySideDiff:this.props.showSideBySideDiff,onShowSideBySideDiffChanged:this.onShowSideBySideDiffChanged,hideWhitespaceInDiff:this.props.hideWhitespaceInDiff,onHideWhitespaceInDiffChanged:this.onHideWhitespaceInDiffChanged,onDiffOptionsOpened:this.props.onDiffOptionsOpened}),de.createElement(lw,{repository:this.props.repository,imageDiffType:this.props.imageDiffType,file:this.props.file,readOnly:!1,onIncludeChanged:this.onDiffLineIncludeChanged,onDiscardChanges:this.onDiscardChanges,diff:this.props.diff,hideWhitespaceInDiff:this.props.hideWhitespaceInDiff,showSideBySideDiff:this.props.showSideBySideDiff,askForConfirmationOnDiscardChanges:this.props.askForConfirmationOnDiscardChanges,onOpenBinaryFile:this.props.onOpenBinaryFile,onChangeImageDiffType:this.props.onChangeImageDiffType,onHideWhitespaceInDiffChanged:this.onHideWhitespaceInDiffChanged}))}}class uw extends de.Component{render(){const e="primary"===this.props.type,t=al()("suggested-action",{primary:e}),n=void 0===this.props.description?void 0:de.createElement("p",{className:"description"},this.props.description);return de.createElement("div",{className:t},this.props.image&&de.createElement("div",{className:"image-wrapper"},this.props.image),de.createElement("div",{className:"text-wrapper"},de.createElement("h2",null,this.props.title),n,this.props.discoverabilityContent&&de.createElement("p",{className:"discoverability"},this.props.discoverabilityContent)),de.createElement(qg,{type:e?"submit":void 0,onClick:this.props.onClick,disabled:this.props.disabled},this.props.buttonText))}}class hw extends de.Component{constructor(){super(...arguments),this.onClick=e=>{void 0!==this.props.onClick&&this.props.onClick(e),e.defaultPrevented||T(this.props.menuItemId)}}render(){return de.createElement(uw,{title:this.props.title,description:this.props.description,discoverabilityContent:this.props.discoverabilityContent,buttonText:this.props.buttonText,onClick:this.onClick,type:this.props.type,disabled:this.props.disabled})}}var pw=n(237),dw=n.n(pw);const fw=e=>{const t="suggested-action-group "+(e.type?e.type:"normal");if("replace"===e.transitions){const n=void 0===e.enableTransitions||e.enableTransitions;return de.createElement(dw.a,{transitionAppear:!1,overflowHidden:!1,transitionEnter:n,transitionLeave:n,transitionName:e.transitions,component:"div",className:t,transitionEnterTimeout:750,transitionLeaveTimeout:500},e.children)}return de.createElement("div",{className:t},e.children)};const mw=lt(__dirname,"static/paper-stack.svg");function gw(e){return"separator"===e.type||"submenuItem"===e.type||null===e.accelerator?[]:e.accelerator.split("+").map(wm)}class yw extends de.Component{constructor(e){super(e),this.getMenuInfoMap=Jn(e=>void 0===e?new Map:function e(t,n=new Map,r){for(const i of t.items){if("separator"===i.type)continue;const t={label:i.label,acceleratorKeys:gw(i),parentMenuLabels:void 0===r?[]:[r.label,...r.parentMenuLabels],enabled:i.enabled};n.set(i.id,t),"submenuItem"===i.type&&e(i.menu,n,t)}return n}(e)),this.transitionTimer=null,this.onShowInFileManagerClicked=()=>this.props.dispatcher.recordSuggestedStepOpenWorkingDirectory(),this.onViewOnGitHubClicked=()=>this.props.dispatcher.recordSuggestedStepViewOnGitHub(),this.openIntegrationPreferences=()=>{this.props.dispatcher.showPopup({type:ai.Preferences,initialSelectedTab:Xd.Integrations})},this.onOpenInExternalEditorClicked=()=>this.props.dispatcher.recordSuggestedStepOpenInExternalEditor(),this.onViewStashClicked=()=>this.props.dispatcher.recordSuggestedStepViewStash(),this.onPublishRepositoryClicked=()=>this.props.dispatcher.recordSuggestedStepPublishRepository(),this.onPublishBranchClicked=()=>this.props.dispatcher.recordSuggestedStepPublishBranch(),this.onCreatePullRequestClicked=()=>this.props.dispatcher.recordSuggestedStepCreatePullRequest(),this.state={enableTransitions:!1}}getMenuItemInfo(e){return this.getMenuInfoMap(this.props.appMenu).get(e)}getPlatformFileManagerName(){return"Finder"}renderDiscoverabilityElements(e){const t=function(e){return e.parentMenuLabels.join(" -> ")}(e);return de.createElement(de.Fragment,null,t," menu or"," ",this.renderDiscoverabilityKeyboardShortcut(e))}renderDiscoverabilityKeyboardShortcut(e){return e.acceleratorKeys.map((e,t)=>de.createElement("kbd",{key:e+t},e))}renderMenuBackedAction(e,t,n,r){const i=this.getMenuItemInfo(e);return void 0===i?(log.error("Could not find matching menu item for "+e),null):de.createElement(hw,{title:t,description:n,discoverabilityContent:this.renderDiscoverabilityElements(i),menuItemId:e,buttonText:i.label,disabled:!i.enabled,onClick:r})}renderShowInFileManager(){const e=this.getPlatformFileManagerName();return this.renderMenuBackedAction("open-working-directory","View the files of your repository in "+e,void 0,this.onShowInFileManagerClicked)}renderViewOnGitHub(){return null!==this.props.repository.gitHubRepository?this.renderMenuBackedAction("view-repository-on-github","Open the repository page on GitHub in your browser",void 0,this.onViewOnGitHubClicked):null}renderOpenInExternalEditor(){if(!this.props.isExternalEditorAvailable)return null;const e="open-external-editor";if(void 0===this.getMenuItemInfo(e))return log.error("Could not find matching menu item for "+e),null;if(void 0===this.getMenuItemInfo("preferences"))return log.error("Could not find matching menu item for "+e),null;const t=de.createElement(de.Fragment,null,"Select your editor in"," ",de.createElement(Mg,{onClick:this.openIntegrationPreferences},"Preferences"));return this.renderMenuBackedAction(e,"Open the repository in your external editor",t,this.onOpenInExternalEditorClicked)}renderRemoteAction(){const{remote:e,aheadBehind:t,branchesState:n,tagsToPush:r}=this.props.repositoryState,{tip:i,defaultBranch:o,currentPullRequest:s}=n;if(i.kind!==si.Valid)return null;if(null===e)return this.renderPublishRepositoryAction();if(null===t)return this.renderPublishBranchAction(i);if(To(n,t))return null;if(t.behind>0)return this.renderPullBranchAction(i,e,t);if(t.ahead>0||null!==r&&r.length>0)return this.renderPushBranchAction(i,e,t,r);const a=null!==this.props.repository.gitHubRepository,l=null!==s,c=null!==o&&i.branch.name===o.name;return!a||l||c?null:this.renderCreatePullRequestAction(i)}renderViewStashAction(){const{changesState:e,branchesState:t}=this.props.repositoryState,{tip:n}=t;if(n.kind!==si.Valid)return null;const{stashEntry:r}=e;if(null===r)return null;if(r.files.kind!==es.Loaded)return null;const i=r.files.files.length,o=de.createElement(de.Fragment,null,"You have ",i," ",1===i?"change":"changes"," in progress that you have not yet committed."),s=de.createElement(de.Fragment,null,", ."),a="toggle-stashed-changes",l=this.getMenuItemInfo(a);return void 0===l?(log.error("Could not find matching menu item for "+a),null):de.createElement(hw,{key:"view-stash-action",title:"View your stashed changes",menuItemId:a,description:o,discoverabilityContent:s,buttonText:"View stash",type:"primary",disabled:null!==l&&!l.enabled,onClick:this.onViewStashClicked})}renderPublishRepositoryAction(){const e=this.getMenuItemInfo("push");if(void 0===e)return log.error("Could not find matching menu item for push"),null;const t=de.createElement(de.Fragment,null,"Always available in the toolbar for local repositories or"," ",this.renderDiscoverabilityKeyboardShortcut(e));return de.createElement(hw,{key:"publish-repository-action",title:"Publish your repository to GitHub",description:"This repository is currently only available on your local machine. By publishing it on GitHub you can share it, and collaborate with others.",discoverabilityContent:t,buttonText:"Publish repository",menuItemId:"push",type:"primary",disabled:!e.enabled,onClick:this.onPublishRepositoryClicked})}renderPublishBranchAction(e){const t=this.getMenuItemInfo("push");if(void 0===t)return log.error("Could not find matching menu item for push"),null;const n=null!==this.props.repository.gitHubRepository,r=de.createElement(de.Fragment,null,"The current branch (",de.createElement(av,null,e.branch.name),") hasn't been published to the remote yet. By publishing it ",n?"to GitHub":""," you can share it, ",n?"open a pull request, ":"","and collaborate with others."),i=de.createElement(de.Fragment,null,"Always available in the toolbar or"," ",this.renderDiscoverabilityKeyboardShortcut(t));return de.createElement(hw,{key:"publish-branch-action",title:"Publish your branch",menuItemId:"push",description:r,discoverabilityContent:i,buttonText:"Publish branch",type:"primary",disabled:!t.enabled,onClick:this.onPublishBranchClicked})}renderPullBranchAction(e,t,n){const r=this.getMenuItemInfo("pull");if(void 0===r)return log.error("Could not find matching menu item for pull"),null;const i=null!==this.props.repository.gitHubRepository,o=de.createElement(de.Fragment,null,"The current branch (",de.createElement(av,null,e.branch.name),") has"," ",1===n.behind?"a commit":"commits"," on"," ",i?"GitHub":"the remote"," that"," ",1===n.behind?"does not":"do not"," exist on your machine."),s=de.createElement(de.Fragment,null,"Always available in the toolbar when there are remote changes or"," ",this.renderDiscoverabilityKeyboardShortcut(r)),a=`Pull ${n.behind} ${1===n.behind?"commit":"commits"} from the ${t.name} remote`,l=" "+t.name;return de.createElement(hw,{key:"pull-branch-action",title:a,menuItemId:"pull",description:o,discoverabilityContent:s,buttonText:l,type:"primary",disabled:!r.enabled})}renderPushBranchAction(e,t,n,r){const i=this.getMenuItemInfo("push");if(void 0===i)return log.error("Could not find matching menu item for push"),null;const o=null!==this.props.repository.gitHubRepository,s=[],a=[];n.ahead>0&&(s.push("commits"),a.push(1===n.ahead?"1 local commit":n.ahead+" local commits")),null!==r&&r.length>0&&(s.push("tags"),a.push(1===r.length?"1 tag":r.length+" tags"));const l=`You have ${a.join(" and ")} waiting to be pushed to ${o?"GitHub":"the remote"}.`,c=de.createElement(de.Fragment,null,"Always available in the toolbar when there are local commits waiting to be pushed or ",this.renderDiscoverabilityKeyboardShortcut(i)),u=`Push ${s.join(" and ")} to the ${t.name} remote`,h=" "+t.name;return de.createElement(hw,{key:"push-branch-action",title:u,menuItemId:"push",description:l,discoverabilityContent:c,buttonText:h,type:"primary",disabled:!i.enabled})}renderCreatePullRequestAction(e){const t="create-pull-request",n=this.getMenuItemInfo(t);if(void 0===n)return log.error("Could not find matching menu item for "+t),null;const r=de.createElement(de.Fragment,null,"The current branch (",de.createElement(av,null,e.branch.name),") is already published to GitHub. Create a pull request to propose and collaborate on your changes.");return de.createElement(hw,{key:"create-pr-action",title:"Create a Pull Request from your current branch",menuItemId:t,description:r,buttonText:"Create Pull Request",discoverabilityContent:this.renderDiscoverabilityElements(n),type:"primary",disabled:!n.enabled,onClick:this.onCreatePullRequestClicked})}renderActions(){return de.createElement(de.Fragment,null,de.createElement(fw,{type:"primary",transitions:"replace",enableTransitions:this.state.enableTransitions},this.renderViewStashAction()||this.renderRemoteAction()),de.createElement(fw,null,this.renderOpenInExternalEditor(),this.renderShowInFileManager(),this.renderViewOnGitHub()))}componentDidMount(){this.transitionTimer=window.setTimeout(()=>{this.setState({enableTransitions:!0}),this.transitionTimer=null},500)}componentWillUnmount(){null!==this.transitionTimer&&clearTimeout(this.transitionTimer)}render(){return de.createElement("div",{id:"no-changes"},de.createElement("div",{className:"content"},de.createElement("div",{className:"header"},de.createElement("div",{className:"text"},de.createElement("h1",null,""),de.createElement("p",null,". .")),de.createElement("img",{src:mw,className:"blankslate-image"})),this.renderActions()))}}const vw=lt(__dirname,"static/multiple-files-selected.svg");class bw extends de.Component{render(){return de.createElement("div",{className:"panel blankslate",id:"no-changes"},de.createElement("img",{src:vw,className:"blankslate-image"}),de.createElement("div",null,this.props.count," files selected"))}}class ww extends de.Component{render(){const e=this.props.filesChangedCount,t=e>300?"300+":e;return de.createElement("span",{className:"counter"},t)}}class Cw extends de.Component{constructor(){super(...arguments),this.startWidth=null,this.startX=null,this.handleDragStart=e=>{this.startX=e.clientX,this.startWidth=this.getCurrentWidth(),document.addEventListener("mousemove",this.handleDragMove),document.addEventListener("mouseup",this.handleDragStop),e.preventDefault()},this.handleDragMove=e=>{if(null===this.startWidth||null===this.startX)return;const t=e.clientX-this.startX,n=this.startWidth+t;this.props.onResize(this.clampWidth(n)),e.preventDefault()},this.handleDragStop=e=>{this.unsubscribeFromGlobalEvents(),e.preventDefault()}}getCurrentWidth(){return this.clampWidth(this.props.width)}clampWidth(e){const{minimumWidth:t,maximumWidth:n}=this.props;return Do(e,null!=t?t:200,null!=n?n:350)}unsubscribeFromGlobalEvents(){document.removeEventListener("mousemove",this.handleDragMove),document.removeEventListener("mouseup",this.handleDragStop)}render(){const e={width:this.getCurrentWidth(),maxWidth:this.props.maximumWidth,minWidth:this.props.minimumWidth};return de.createElement("div",{id:this.props.id,className:"resizable-component",style:e},this.props.children,de.createElement("div",{onMouseDown:this.handleDragStart,onDoubleClick:this.props.onReset,className:"resize-handle"}))}}class Sw extends de.Component{render(){const e=[],t=this.props.users;for(let n=0;n<this.props.users.length;n++)t.length>3&&2===n&&e.push(de.createElement("div",{key:"more",className:"avatar-more avatar"})),e.push(de.createElement(Vy,{key:""+n,user:t[n]}));const n=al()("AvatarStack",{"AvatarStack--small":!0,"AvatarStack--two":2===t.length,"AvatarStack--three-plus":t.length>=3});return de.createElement("div",{className:n},de.createElement("div",{className:"AvatarStack-body"},e))}}class Ew extends de.Component{renderAuthorInline(e){return de.createElement("span",{className:"author"},e.name)}renderAuthors(e){if(1===e.length)return de.createElement("span",{className:"authors"},this.renderAuthorInline(e[0]));if(2===e.length){const t=e.map(e=>e.name).join(", ");return de.createElement("span",{className:"authors",title:t},this.renderAuthorInline(e[0]),", ",this.renderAuthorInline(e[1]))}{const t=e.map(e=>e.name).join(", ");return de.createElement("span",{className:"authors",title:t},e.length," people")}}render(){const e=this.props.commit,{author:t,committer:n,coAuthors:r}=e,i=!(e.authoredByCommitter||null!==this.props.gitHubRepository&&My(e,this.props.gitHubRepository))?[t,n,...r]:[t,...r];return de.createElement("span",{className:"commit-attribution-component"},this.renderAuthors(i))}}function kw(e,t){const n=new Ev(t.emoji,t.repository),{summary:r,body:i}=function(e,t,n,r=72){const i=n.tokenize(e.trimRight()),o=new Array,s=new Array;let a=r;for(const e of i){const t=e.kind===Cv.Emoji?2:e.text.length;if(a<=0)s.push(e);else if(a>=t)o.push(e),a-=t;else{if(e.kind===Cv.Text)o.push(xv(e.text.substr(0,a))),s.push(xv(e.text.substr(a)));else if(e.kind===Cv.Emoji)s.push(e);else{if(e.kind!==Cv.Link)return Ze(0,"Unknown token type");!e.text.startsWith("#")&&a>5?(o.push(Dv(e.text.substr(0,a),e.text)),s.push(Dv(e.text.substr(a),e.text))):s.push(e)}a=0}}let l=n.tokenize(t.trimRight());return s.length>0&&(o.push(kv()),l=l.length>0?[kv(),...s,xv("\n\n"),...l]:[kv(),...s]),{summary:o,body:l}}(t.commit.summary,t.commit.body,n);return{isOverflowed:e,summary:r,body:i,avatarUsers:Ny(t.repository.gitHubRepository,t.commit)}}class xw extends de.Component{constructor(e){super(e),this.descriptionScrollViewRef=null,this.resizeObserver=null,this.updateOverflowTimeoutId=null,this.descriptionRef=null,this.onResized=()=>{if(this.descriptionRef){const e=this.descriptionRef.getBoundingClientRect().bottom;this.props.onDescriptionBottomChanged(e)}this.props.isExpanded||this.updateOverflow()},this.onDescriptionScrollViewRef=e=>{this.descriptionScrollViewRef=e,this.resizeObserver&&(this.resizeObserver.disconnect(),e?this.resizeObserver.observe(e):this.setState({isOverflowed:!1}))},this.onDescriptionRef=e=>{this.descriptionRef=e},this.onExpand=()=>{this.props.onExpandChanged(!0)},this.onCollapse=()=>{this.descriptionScrollViewRef&&(this.descriptionScrollViewRef.scrollTop=0),this.props.onExpandChanged(!1)},this.onCopyShaButtonClick=e=>{e.preventDefault(),y.clipboard.writeText(this.props.commit.sha)},this.renderChangedFilesDescription=()=>{const e=this.props.changesetData.files.length,t=`${e} changed ${1===e?"file":"files"}`;let n=0,r=0,i=0;for(const e of this.props.changesetData.files)switch(e.status.kind){case ii.New:n+=1;break;case ii.Modified:r+=1;break;case ii.Deleted:i+=1}const o=de.createElement(de.Fragment,null,n>0?de.createElement("span",null,de.createElement(cf,{className:"files-added-icon",symbol:Ef}),n," added"):null,r>0?de.createElement("span",null,de.createElement(cf,{className:"files-modified-icon",symbol:kf}),r," modified"):null,i>0?de.createElement("span",null,de.createElement(cf,{className:"files-deleted-icon",symbol:xf}),i," deleted"):null);return de.createElement(km,{className:"commit-summary-meta-item without-truncation",tooltipClassName:"changed-files-description-tooltip",tooltip:e>0?o:void 0},de.createElement(cf,{symbol:Sf}),t)},this.state=kw(!1,e);const t=window.ResizeObserver;t&&(this.resizeObserver=new t(e=>{for(const t of e)t.target===this.descriptionScrollViewRef&&(null!==this.updateOverflowTimeoutId&&clearImmediate(this.updateOverflowTimeoutId),this.updateOverflowTimeoutId=setImmediate(this.onResized))}))}renderExpander(){if(!this.state.body.length||!this.props.isExpanded&&!this.state.isOverflowed)return null;const e=this.props.isExpanded,t=e?this.onCollapse:this.onExpand,n=e?Af:lm;return de.createElement("a",{onClick:t,className:"expander"},de.createElement(cf,{symbol:n}),e?"Collapse":"Expand")}updateOverflow(){const e=this.descriptionScrollViewRef;e?this.setState({isOverflowed:e.scrollHeight>e.offsetHeight}):this.state.isOverflowed&&this.setState({isOverflowed:!1})}componentDidMount(){this.props.isExpanded||this.updateOverflow()}componentWillUpdate(e){var t,n;t=e.commit,n=this.props.commit,(t.summary!==n.summary||t.body!==n.body)&&this.setState(kw(!1,e))}componentDidUpdate(e,t){this.props.isExpanded?this.state.isOverflowed&&this.setState({isOverflowed:!1}):(t.body!==this.state.body||e.isExpanded)&&this.updateOverflow()}renderDescription(){return 0===this.state.body.length?null:de.createElement("div",{className:"commit-summary-description-container",ref:this.onDescriptionRef},de.createElement("div",{className:"commit-summary-description-scroll-view",ref:this.onDescriptionScrollViewRef},de.createElement(Wv,{className:"commit-summary-description",emoji:this.props.emoji,repository:this.props.repository,text:this.state.body})),this.renderExpander())}render(){const e=this.props.commit.shortSha,t=al()({expanded:this.props.isExpanded,collapsed:!this.props.isExpanded,"has-expander":this.props.isExpanded||this.state.isOverflowed,"hide-description-border":this.props.hideDescriptionBorder}),n=0===this.state.summary.length,r=n?"Empty commit message":this.state.summary,i=al()("commit-summary-title",{"empty-summary":n});return de.createElement("div",{id:"commit-summary",className:t},de.createElement("div",{className:"commit-summary-header"},de.createElement(Wv,{className:i,emoji:this.props.emoji,repository:this.props.repository,text:r}),de.createElement("ul",{className:"commit-summary-meta"},de.createElement("li",{className:"commit-summary-meta-item without-truncation","aria-label":"Author"},de.createElement(Sw,{users:this.state.avatarUsers}),de.createElement(Ew,{gitHubRepository:this.props.repository.gitHubRepository,commit:this.props.commit})),de.createElement("li",{className:"commit-summary-meta-item without-truncation","aria-label":"SHA"},de.createElement(cf,{symbol:Ff}),de.createElement(km,{className:"sha",tooltip:this.renderShaTooltip(),tooltipClassName:"sha-hint",interactive:!0,direction:rf.SOUTH},e)),this.renderChangedFilesDescription(),this.renderLinesChanged(),this.renderTags(),de.createElement("li",{className:"commit-summary-meta-item without-truncation",title:"Diff Options"},de.createElement(Kv,{sourceTab:je.History,hideWhitespaceChanges:this.props.hideWhitespaceInDiff,onHideWhitespaceChangesChanged:this.props.onHideWhitespaceInDiffChanged,showSideBySideDiff:this.props.showSideBySideDiff,onShowSideBySideDiffChanged:this.props.onShowSideBySideDiffChanged,onDiffOptionsOpened:this.props.onDiffOptionsOpened})))),this.renderDescription())}renderShaTooltip(){return de.createElement(de.Fragment,null,de.createElement("code",null,this.props.commit.sha),de.createElement("button",{onClick:this.onCopyShaButtonClick},"Copy"))}renderLinesChanged(){const e=this.props.changesetData.linesAdded,t=this.props.changesetData.linesDeleted;if(e+t===0)return null;const n=`${e} ${1===e?"line":"lines"} added`,r=`${t} ${1===t?"line":"lines"} deleted`;return de.createElement(de.Fragment,null,de.createElement(km,{tagName:"li",className:"commit-summary-meta-item without-truncation lines-added",tooltip:n},"+",e),de.createElement(km,{tagName:"li",className:"commit-summary-meta-item without-truncation lines-deleted",tooltip:r},"-",t))}renderTags(){const e=this.props.commit.tags||[];return 0===e.length?null:de.createElement("li",{className:"commit-summary-meta-item",title:e.join("\n")},de.createElement("span",{"aria-label":"Tags"},de.createElement(cf,{symbol:om})),de.createElement("span",{className:"tags"},e.join(", ")))}}class Dw extends de.Component{constructor(){super(...arguments),this.onContextMenu=e=>{void 0!==this.props.onContextMenu&&this.props.onContextMenu(this.props.file,e)}}render(){const{file:e}=this.props,t=e.status,n=po(t),r=this.props.availableWidth-20-5-16;return de.createElement("div",{className:"file",onContextMenu:this.onContextMenu},de.createElement(Mv,{path:e.path,status:e.status,availableWidth:r}),de.createElement(cf,{symbol:vm(t),className:"status status-"+n.toLowerCase(),title:n}))}}class _w extends de.Component{constructor(){super(...arguments),this.onSelectedRowChanged=e=>{const t=this.props.files[e];this.props.onSelectedFileChanged(t)},this.renderFile=e=>de.createElement(Dw,{file:this.props.files[e],availableWidth:this.props.availableWidth,onContextMenu:this.props.onContextMenu})}rowForFile(e){return e?this.props.files.findIndex(t=>t.path===e.path):-1}render(){return de.createElement("div",{className:"file-list"},de.createElement(Ig,{rowRenderer:this.renderFile,rowCount:this.props.files.length,rowHeight:29,selectedRows:[this.rowForFile(this.props.selectedFile)],onSelectedRowChanged:this.onSelectedRowChanged}))}}class Tw extends de.Component{constructor(e){super(e),this.loadChangedFilesScheduler=new oy(200),this.historyRef=null,this.onFileSelected=e=>{this.props.dispatcher.changeFileSelection(this.props.repository,e)},this.onHistoryRef=e=>{this.historyRef=e},this.onExpandChanged=e=>{this.setState({isExpanded:e})},this.onDescriptionBottomChanged=e=>{if(this.historyRef){const t=this.historyRef.getBoundingClientRect().bottom;this.setState({hideDescriptionBorder:e>=t})}},this.onHideWhitespaceInDiffChanged=e=>this.props.dispatcher.onHideWhitespaceInHistoryDiffChanged(e,this.props.repository,this.props.selectedFile),this.onShowSideBySideDiffChanged=e=>{this.props.dispatcher.onShowSideBySideDiffChanged(e)},this.onCommitSummaryReset=()=>{this.props.dispatcher.resetCommitSummaryWidth()},this.onCommitSummaryResize=e=>{this.props.dispatcher.setCommitSummaryWidth(e)},this.onOpenItem=e=>{Vv(r.join(this.props.repository.path,e),this.props.dispatcher)},this.onContextMenu=async(e,t)=>{t.preventDefault();const n=r.join(this.props.repository.path,e.path),i=await Object(w.pathExists)(n);if(!i)return void Cm([{label:"File Does Not Exist on Disk",enabled:!1}]);r.extname(e.path);const o=[{label:"Reveal in Finder",action:()=>et(this.props.repository,e.path),enabled:i},{label:this.props.externalEditorLabel?" "+this.props.externalEditorLabel+" ":"",action:()=>this.props.onOpenInExternalEditor(n),enabled:i},{label:"Open with Default Program",action:()=>this.onOpenItem(e.path),enabled:i},{type:"separator"},{label:"Copy File Path",action:()=>y.clipboard.writeText(n)},{label:"Copy Relative File Path",action:()=>y.clipboard.writeText(r.normalize(e.path))},{type:"separator"}];let s="GitHub";const a=this.props.repository.gitHubRepository;a&&a.endpoint!==Nn()&&(s="GitHub"),o.push({label:s,action:()=>this.onViewOnGitHub(e),enabled:!this.props.isLocal&&!!a&&!!this.props.selectedCommit}),Cm(o)},this.onViewOnGitHub=e=>{this.props.selectedCommit&&this.props.onViewCommitOnGitHub&&this.props.onViewCommitOnGitHub(this.props.selectedCommit.sha,e.path)},this.state={isExpanded:!1,hideDescriptionBorder:!1}}componentWillUpdate(e){const t=this.props.selectedCommit?this.props.selectedCommit.sha:void 0,n=e.selectedCommit?e.selectedCommit.sha:void 0;(t||n)&&t!==n&&this.state.isExpanded&&this.setState({isExpanded:!1})}componentWillUnmount(){this.loadChangedFilesScheduler.clear()}renderDiff(){const e=this.props.selectedFile,t=this.props.currentDiff;if(null==e){const e=0===this.props.changesetData.files.length?"":"No file selected";return de.createElement("div",{className:"panel blankslate",id:"diff"},e)}return de.createElement(lw,{repository:this.props.repository,imageDiffType:this.props.selectedDiffType,file:e,diff:t,readOnly:!0,hideWhitespaceInDiff:this.props.hideWhitespaceInDiff,showSideBySideDiff:this.props.showSideBySideDiff,onOpenBinaryFile:this.props.onOpenBinaryFile,onChangeImageDiffType:this.props.onChangeImageDiffType,onHideWhitespaceInDiffChanged:this.onHideWhitespaceInDiffChanged})}renderCommitSummary(e){return de.createElement(xw,{commit:e,changesetData:this.props.changesetData,emoji:this.props.emoji,repository:this.props.repository,onExpandChanged:this.onExpandChanged,isExpanded:this.state.isExpanded,onDescriptionBottomChanged:this.onDescriptionBottomChanged,hideDescriptionBorder:this.state.hideDescriptionBorder,hideWhitespaceInDiff:this.props.hideWhitespaceInDiff,showSideBySideDiff:this.props.showSideBySideDiff,onHideWhitespaceInDiffChanged:this.onHideWhitespaceInDiffChanged,onShowSideBySideDiffChanged:this.onShowSideBySideDiffChanged,onDiffOptionsOpened:this.props.onDiffOptionsOpened})}renderFileList(){const e=this.props.changesetData.files;if(0===e.length)return de.createElement("div",{className:"fill-window"},"No files in commit");const t=Do(this.props.commitSummaryWidth)-1;return de.createElement(_w,{files:e,onSelectedFileChanged:this.onFileSelected,selectedFile:this.props.selectedFile,availableWidth:t,onContextMenu:this.onContextMenu})}render(){const e=this.props.selectedCommit;if(this.props.areMultipleCommitsSelected)return this.renderMultipleCommitsSelected();if(null==e)return de.createElement(Rw,null);const t=this.state.isExpanded?"expanded":"collapsed",{commitSummaryWidth:n}=this.props;return de.createElement("div",{id:"history",ref:this.onHistoryRef,className:t},this.renderCommitSummary(e),de.createElement("div",{className:"commit-details"},de.createElement(Cw,{width:n.value,minimumWidth:n.min,maximumWidth:n.max,onResize:this.onCommitSummaryResize,onReset:this.onCommitSummaryReset},this.renderFileList()),this.renderDiff()),this.renderDragOverlay())}renderDragOverlay(){return this.props.showDragOverlay?de.createElement("div",{id:"drag-overlay-background"}):null}renderMultipleCommitsSelected(){const e=lt(__dirname,"static/empty-no-commit.svg");return de.createElement("div",{id:"multiple-commits-selected",className:"blankslate"},de.createElement("div",{className:"panel blankslate"},de.createElement("img",{src:e,className:"blankslate-image"}),de.createElement("div",null,de.createElement("p",null,"Unable to display diff when multiple commits are selected."),de.createElement("div",null,"You can:"),de.createElement("ul",null,de.createElement("li",null,"Select a single commit to view a diff."),de.createElement("li",null,"Drag the commits to the branch menu to cherry-pick them."),de.createElement("li",null,"Right click on multiple commits to see options.")))),this.renderDragOverlay())}}function Rw(){const e=lt(__dirname,"static/empty-no-commit.svg");return de.createElement("div",{className:"panel blankslate"},de.createElement("img",{src:e,className:"blankslate-image"}),"No commit selected")}const Aw=new class{constructor(){this.defaultScrollEdge=30,this.scrollSpeed=5}setupMouseScroll(e,t){const n=this.getClosestScrollElement(e);null!==n?this.updateMouseScroll(n,t):this.clearScrollTimer()}updateMouseScroll(e,t){window.clearTimeout(this.scrollTimer),this.scrollVerticallyOnMouseNearEdge(e,t)&&(this.scrollTimer=window.setTimeout(()=>{this.updateMouseScroll(e,t)},30))}clearScrollTimer(){window.clearTimeout(this.scrollTimer)}scrollVerticallyOnMouseNearEdge(e,t){const{top:n,bottom:r}=e.getBoundingClientRect(),i=r-t,o=t-n;if(i>0&&i<this.defaultScrollEdge){const t=this.getScrollDistance(i);return this.scrollDown(e,t)}if(o>0&&o<this.defaultScrollEdge){const t=this.getScrollDistance(o);return this.scrollUp(e,t)}return!1}getScrollDistance(e){const t=this.defaultScrollEdge/e;return this.scrollSpeed*t}scrollUp(e,t){if(e.scrollTop<=0)return!1;const n=e.scrollTop>t?e.scrollTop-t:0;return e.scrollTo({top:n}),!0}scrollDown(e,t){const n=e.scrollHeight-e.clientHeight;if(e.scrollTop>=n)return!1;const r=e.scrollTop+t<n?e.scrollTop+t:n;return e.scrollTo({top:r}),!0}getClosestScrollElement(e){const{position:t}=getComputedStyle(e);if("fixed"===t)return null;if(this.isScrollable(e))return e;let n;for(n=e;n=n.parentElement;){const{position:e}=getComputedStyle(n);if(("absolute"!==t||"static"!==e)&&(this.isScrollable(n)&&this.hasScrollableContent(n)))return n}return null}isScrollable(e){const t=getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)}hasScrollableContent(e){return e.clientHeight<e.scrollHeight}};class Ow extends de.Component{constructor(){super(...arguments),this.hasDragStarted=!1,this.hasDragEnded=!1,this.dragElement=null,this.elemBelow=null,this.verticalOffset=32,this.onMouseDown=async e=>{this.canDragCommit(e)&&(this.hasDragEnded=!1,document.onmouseup=this.handleDragEndEvent,await Wo(100),this.hasDragEnded||(this.initializeDrag(),document.addEventListener("mousemove",this.onMouseMove)))},this.onMouseMove=e=>{this.hasDragEnded?this.onDragEnd():(this.hasDragStarted||(this.props.onRenderDragElement(),this.props.onDragStart(),Dg.dragStarted(),this.hasDragStarted=!0,window.addEventListener("keyup",this.onKeyUp)),null!==this.dragElement&&(this.dragElement.style.left=e.pageX+0+"px",this.dragElement.style.top=e.pageY+this.verticalOffset+"px"),this.elemBelow=document.elementFromPoint(e.clientX,e.clientY),null!==this.elemBelow?Aw.setupMouseScroll(this.elemBelow,e.clientY):Aw.clearScrollTimer())},this.handleDragEndEvent=()=>{this.hasDragEnded=!0,this.hasDragStarted&&this.onDragEnd(),document.onmouseup=null,window.removeEventListener("keyup",this.onKeyUp)},this.onKeyUp=e=>{"Escape"===e.key&&this.handleDragEndEvent()},this.getLastElemBelowDropTarget=()=>{if(null!==this.elemBelow)return this.props.dropTargetSelectors.find(e=>null!==this.elemBelow&&null!==this.elemBelow.closest(e))}}componentDidMount(){this.dragElement=document.getElementById("dragElement")}canDragCommit(e){return!(2===e.button||0===e.button&&e.ctrlKey||e.shiftKey)&&this.props.isEnabled}initializeDrag(){this.hasDragStarted=!1,this.elemBelow=null}onDragEnd(){document.removeEventListener("mousemove",this.onMouseMove),Aw.clearScrollTimer(),this.props.onRemoveDragElement(),void 0!==this.props.onDragEnd&&this.props.onDragEnd(this.getLastElemBelowDropTarget()),Dg.dragEnded(this.getLastElemBelowDropTarget())}render(){return de.createElement("div",{className:"draggable",onMouseDown:this.onMouseDown},this.props.children)}}class Pw extends de.PureComponent{constructor(e){super(e),this.onMouseUp=()=>{const{onSquash:e,selectedCommits:t,commit:n,disableSquashing:r}=this.props;!0!==r&&Dg.isDragOfTypeInProgress(_g.Commit)&&void 0!==e&&t.filter(e=>e.sha!==n.sha).length>0&&e(t,n,!1)},this.onMouseEnter=()=>{const{selectedCommits:e,commit:t,disableSquashing:n}=this.props,r=void 0!==e.find(e=>e.sha===t.sha);!0!==n&&Dg.isDragOfTypeInProgress(_g.Commit)&&!r&&Dg.emitEnterDropTarget({type:Tg.Commit})},this.onMouseLeave=()=>{Dg.isDragOfTypeInProgress(_g.Commit)&&Dg.emitLeaveDropTarget()},this.onAmendCommit=()=>{var e,t;null===(t=(e=this.props).onAmendCommit)||void 0===t||t.call(e,this.props.commit,this.props.isLocal)},this.onCopySHA=()=>{y.clipboard.writeText(this.props.commit.sha)},this.onViewOnGitHub=()=>{this.props.onViewCommitOnGitHub&&this.props.onViewCommitOnGitHub(this.props.commit.sha)},this.onCreateTag=()=>{this.props.onCreateTag&&this.props.onCreateTag(this.props.commit.sha)},this.onCherryPick=()=>{void 0!==this.props.onCherryPick&&this.props.onCherryPick(this.props.selectedCommits)},this.onSquash=()=>{void 0!==this.props.onSquash&&this.props.onSquash(this.props.selectedCommits,this.props.commit,!0)},this.onContextMenu=e=>{e.preventDefault();let t=[];t=this.props.selectedCommits.length>1?this.getContextMenuMultipleCommits():this.getContextMenuForSingleCommit(),Cm(t)},this.onDragStart=()=>{document.activeElement instanceof HTMLElement&&document.activeElement.blur(),Dg.setDragData({type:_g.Commit,commits:this.props.selectedCommits})},this.onRenderCommitDragElement=()=>{void 0!==this.props.onRenderCommitDragElement&&this.props.onRenderCommitDragElement(this.props.commit)},this.onRemoveDragElement=()=>{void 0!==this.props.onRemoveDragElement&&this.props.onRemoveDragElement()},this.state={avatarUsers:Ny(e.gitHubRepository,e.commit)}}componentWillReceiveProps(e){e.commit!==this.props.commit&&this.setState({avatarUsers:Ny(e.gitHubRepository,e.commit)})}render(){const{commit:e}=this.props,{author:{date:t}}=e,n=this.canCherryPick(),r=0===e.summary.length,i=r?"Empty commit message":e.summary,o=al()("summary",{"empty-summary":r});return de.createElement(Ow,{isEnabled:n,onDragStart:this.onDragStart,onRenderDragElement:this.onRenderCommitDragElement,onRemoveDragElement:this.onRemoveDragElement,dropTargetSelectors:[Rg.Branch,Rg.PullRequest,Rg.Commit,Rg.ListInsertionPoint]},de.createElement("div",{className:"commit",onContextMenu:this.onContextMenu,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseUp:this.onMouseUp},de.createElement("div",{className:"info"},de.createElement(Wv,{className:o,emoji:this.props.emoji,text:i,renderUrlsAsLinks:!1}),de.createElement("div",{className:"description"},de.createElement(Sw,{users:this.state.avatarUsers}),de.createElement("div",{className:"byline"},de.createElement(Ew,{gitHubRepository:this.props.gitHubRepository,commit:e}),function(e){return de.createElement(de.Fragment,null,"  ",de.createElement(Gv,{date:e,abbreviate:!0}))}(t)))),this.renderCommitIndicators()))}renderCommitIndicators(){const e=function(e){if(0===e.length)return null;const[t]=e;return de.createElement("span",{className:"tag-indicator"},de.createElement("span",{className:"tag-name",key:t},t),e.length>1&&de.createElement("span",{key:e.length,className:"tag-indicator-more"}))}(this.props.commit.tags),t=this.renderUnpushedIndicator();return e||t?de.createElement("div",{className:"commit-indicators"},e,t):null}renderUnpushedIndicator(){return this.props.showUnpushedIndicator?de.createElement("div",{className:"unpushed-indicator",title:this.props.unpushedIndicatorTitle},de.createElement(cf,{symbol:ff})):null}getContextMenuForSingleCommit(){let e="GitHub";const t=this.props.gitHubRepository;t&&t.endpoint!==Nn()&&(e="GitHub");const n=[];this.props.canBeAmended&&n.push({label:"Amend Commit",action:this.onAmendCommit}),this.props.canBeUndone&&n.push({label:"Undo Commit",action:()=>{this.props.onUndoCommit&&this.props.onUndoCommit(this.props.commit)},enabled:void 0!==this.props.onUndoCommit}),_t()&&n.push({label:"Reset to Commit",action:()=>{this.props.onResetToCommit&&this.props.onResetToCommit(this.props.commit)},enabled:this.props.canBeResetTo&&void 0!==this.props.onResetToCommit}),n.push({label:"Revert Changes in Commit",action:()=>{this.props.onRevertCommit&&this.props.onRevertCommit(this.props.commit)},enabled:void 0!==this.props.onRevertCommit}),n.push({type:"separator"}),n.push({label:"",action:()=>{this.props.onCreateBranch&&this.props.onCreateBranch(this.props.commit)}}),n.push({label:"Create Tag",action:this.onCreateTag,enabled:void 0!==this.props.onCreateTag});const r=this.getDeleteTagsMenuItem();return null!==r&&n.push({type:"separator"},r),n.push({label:"Cherry-pick Commit",action:this.onCherryPick,enabled:this.canCherryPick()}),n.push({type:"separator"},{label:"Copy SHA",action:this.onCopySHA},{label:e,action:this.onViewOnGitHub,enabled:!this.props.isLocal&&!!t}),n}getContextMenuMultipleCommits(){const e=[],t=this.props.selectedCommits.length;return e.push({label:`Cherry-pick ${t} Commits`,action:this.onCherryPick,enabled:this.canCherryPick()}),e.push({label:`Squash ${t} Commits`,action:this.onSquash}),e}canCherryPick(){const{onCherryPick:e,isCherryPickInProgress:t}=this.props;return void 0!==e&&void 0!==this.onSquash&&!1===t}getDeleteTagsMenuItem(){const{unpushedTags:e,onDeleteTag:t,commit:n}=this.props;if(void 0===t||void 0===e||0===n.tags.length)return null;if(1===n.tags.length){const r=n.tags[0];return{label:"Delete tag "+r,action:()=>t(r),enabled:e.includes(r)}}const r=new Set(e);return{label:"Delete tag",submenu:n.tags.map(e=>({label:e,action:()=>t(e),enabled:r.has(e)}))}}}class Iw extends de.Component{constructor(e){super(e),this.commitsHash=Jn(Fw,js),this.renderCommit=e=>{const t=this.props.commitSHAs[e],n=this.props.commitLookup.get(t);if(null==n)return null;const r=new Set(this.props.tagsToPush||[]),i=this.props.localCommitSHAs.includes(n.sha),o=n.tags.filter(e=>r.has(e)),s=(i||o.length>0)&&!1===this.props.isLocalRepository,a=e>0&&e<=this.props.localCommitSHAs.length;return de.createElement(Pw,{key:n.sha,gitHubRepository:this.props.gitHubRepository,isLocal:i,canBeUndone:this.props.canUndoCommits&&i&&0===e,canBeAmended:this.props.canAmendCommits&&0===e,canBeResetTo:this.props.canResetToCommits&&a,showUnpushedIndicator:s,unpushedIndicatorTitle:this.getUnpushedIndicatorTitle(i,o.length),unpushedTags:o,commit:n,emoji:this.props.emoji,onCreateBranch:this.props.onCreateBranch,onCreateTag:this.props.onCreateTag,onDeleteTag:this.props.onDeleteTag,onCherryPick:this.props.onCherryPick,onSquash:this.onSquash,onResetToCommit:this.props.onResetToCommit,onUndoCommit:this.props.onUndoCommit,onRevertCommit:this.props.onRevertCommit,onAmendCommit:this.props.onAmendCommit,onViewCommitOnGitHub:this.props.onViewCommitOnGitHub,selectedCommits:this.lookupCommits(this.props.selectedSHAs),isCherryPickInProgress:this.props.isCherryPickInProgress,onRenderCommitDragElement:this.onRenderCommitDragElement,onRemoveDragElement:this.props.onRemoveCommitDragElement,disableSquashing:this.props.disableSquashing})},this.onSquash=(e,t,n)=>{const r=[...e,t].map(e=>this.props.commitSHAs.findIndex(t=>t===e.sha));this.props.onSquash(e,t,this.getLastRetainedCommitRef(r),n)},this.onRenderCommitDragElement=e=>{this.props.onRenderCommitDragElement(e,this.lookupCommits(this.props.selectedSHAs))},this.onSelectionChanged=e=>{const t=[...e].sort((e,t)=>t-e).map(e=>this.props.commitSHAs[e]),n=this.lookupCommits(t);this.props.onCommitsSelected(n)},this.onSelectedRowChanged=e=>{const t=this.props.commitSHAs[e],n=this.props.commitLookup.get(t);n&&this.props.onCommitsSelected([n])},this.onScroll=(e,t)=>{const n=Math.ceil(t/50),r=Math.floor(e/50),i=r+n;this.props.onScroll(r,i),null!=this.props.onCompareListScrolled&&this.props.onCompareListScrolled(e)},this.onNextDragAndDropIntro=()=>{if(0===this.state.remainingDragAndDropIntros.length)return;const e=this.state.remainingDragAndDropIntros[0];this.setState({remainingDragAndDropIntros:this.state.remainingDragAndDropIntros.slice(1)}),this.props.onDragAndDropIntroSeen(e)},this.onDropDataInsertion=(e,t)=>{if(void 0===this.props.onDropCommitInsertion||t.type!==_g.Commit)return;const n=0===e?null:e-1;if(0===this.props.commitSHAs.length||null!==n&&n>this.props.commitSHAs.length)return;const r=null===n?null:this.props.commitSHAs[n],i=null!==r?this.props.commitLookup.get(r):null,o=t.commits.filter(e=>null!=e).map(e=>this.props.commitSHAs.findIndex(t=>t===e.sha)).sort();if(o.every((e,t,n)=>t===n.length-1||e===n[t+1]-1)){const e=o[0],t=null===n&&0===e||n===e-1,r=null!==n&&-1!==o.indexOf(n);if(t||r)return}const s=o.concat(null!==n?[n]:[]);this.props.onDropCommitInsertion(null!=i?i:null,t.commits,this.getLastRetainedCommitRef(s))};const t=dc.filter(t=>!e.dragAndDropIntroTypesShown.has(t));this.state={remainingDragAndDropIntros:t}}getVisibleCommits(){const e=new Array;for(const t of this.props.commitSHAs){const n=this.props.commitLookup.get(t);void 0!==n&&e.push(n)}return e}getLastRetainedCommitRef(e){const t=Math.max(...e);return t!==this.props.commitSHAs.length-1?this.props.commitSHAs[t]+"^":null}getUnpushedIndicatorTitle(e,t){return e?"This commit has not been pushed to the remote repository":t>0?`This commit has ${t} tag${t>1?"s":""} to push`:void 0}lookupCommits(e){const t=[];return e.forEach(e=>{const n=this.props.commitLookup.get(e);void 0!==n?t.push(n):log.warn("[Commit List] - Unable to lookup commit from sha - This should not happen.")}),t}rowForSHA(e){const t=e;return t?this.props.commitSHAs.findIndex(e=>e===t):-1}renderCherryPickIntroPopover(){if(0===this.state.remainingDragAndDropIntros.length)return null;const e=lt(__dirname,"static/cherry-pick-intro.png"),t=this.state.remainingDragAndDropIntros.length>1?"Next":"Got it",n=this.state.remainingDragAndDropIntros[0],r=fc[n];return de.createElement(Wy,{caretPosition:Ly.LeftTop},de.createElement("img",{src:e,className:"cherry-pick-intro"}),de.createElement("h3",null,r.title,de.createElement("span",{className:"call-to-action-bubble"},"New")),de.createElement("p",null,r.body),de.createElement("div",null,de.createElement(qg,{onClick:this.onNextDragAndDropIntro,type:"submit"},t)))}render(){return 0===this.props.commitSHAs.length?de.createElement("div",{className:"panel blankslate"},this.props.emptyListMessage):de.createElement("div",{id:"commit-list"},de.createElement(Ig,{rowCount:this.props.commitSHAs.length,rowHeight:50,selectedRows:this.props.selectedSHAs.map(e=>this.rowForSHA(e)),rowRenderer:this.renderCommit,onDropDataInsertion:this.onDropDataInsertion,onSelectionChanged:this.onSelectionChanged,onSelectedRowChanged:this.onSelectedRowChanged,selectionMode:"multi",onScroll:this.onScroll,insertionDragType:this.props.reorderingEnabled?_g.Commit:void 0,invalidationProps:{commits:this.props.commitSHAs,localCommitSHAs:this.props.localCommitSHAs,commitLookupHash:this.commitsHash(this.getVisibleCommits()),tagsToPush:this.props.tagsToPush},setScrollTop:this.props.compareListScrollTop}),this.renderCherryPickIntroPopover())}}function Mw(e){return`${e.sha} ${e.tags}`}function Fw(e){return e.map(Mw).join(" ")}var Nw=n(112);const Bw="/usr/local/bin/github",Lw=r.resolve(__dirname,"static","github.sh");async function Hw(){if(await async function(){try{return await w.readlink(Bw)}catch(e){return null}}()!==Lw)try{await Uw(!1)}catch(e){await Uw(!0)}}async function Uw(e){await function(e){return e?new Promise((e,t)=>{Nw.unlink(Bw,n=>{null===n?e():t(new Error(`Failed to remove file at ${Bw}. Authorization of GitHub Desktop Helper is required.`))})}):w.unlink(Bw)}(e),await function(e){const t=r.dirname(Bw);return e?new Promise((e,n)=>{Nw.makeTree(t,t=>{null===t?e():n(new Error("Failed to create intermediate directories to "+Bw))})}):w.mkdirp(t)}(e),await function(e){return e?new Promise((e,t)=>{Nw.symlink(Lw,Bw,n=>{null===n?e():t(new Error(`Failed to symlink ${Lw} to ${Bw}`))})}):w.symlink(Lw,Bw)}(e)}function jw(e,t){const n=Ei(e);if(n===e.gitHubRepository)return null;const r=t.find(e=>e.type===zr.Remote&&e.name==="upstream/"+n.defaultBranch);return void 0!==r?r:null}function Ww(e){return function(e){return e instanceof Error&&"string"==typeof e.code}(e)?e:null}function zw(e){return e instanceof rt?e:null}function Gw(e){return e instanceof hd?e:null}async function qw(e,t){const n=zw(e)||e;return await t.presentError(n),null}const Vw=/^ ! \[remote rejected\] .*? -> .*? \(refusing to allow an OAuth App to create or update workflow `(.*?)` without `workflow` scope\)/m;const $w=/`([^']+)' organization has enabled or enforced SAML SSO.*?you must re-authorize/s;function Kw(e){return void 0===e}class Yw extends de.Component{constructor(e){super(e),this.onCreateWithoutPushButtonClick=e=>{e.preventDefault(),this.props.onConfirm(this.props.repository,this.props.branch),this.props.onDismissed()},this.onSubmit=async()=>{const{repository:e,branch:t}=this.props;this.setState({isPushingOrPublishing:!0});try{await this.props.dispatcher.push(e)}finally{this.setState({isPushingOrPublishing:!1})}this.props.onConfirm(e,t),this.props.onDismissed()},this.state={isPushingOrPublishing:!1}}render(){return de.createElement(ev,{id:"push-branch-commits",key:"push-branch-commits",title:this.renderDialogTitle(),onDismissed:this.props.onDismissed,onSubmit:this.onSubmit,loading:this.state.isPushingOrPublishing,disabled:this.state.isPushingOrPublishing},this.renderDialogContent(),de.createElement(nv,null,this.renderButtonGroup()))}renderDialogContent(){if(Kw(this.props.unPushedCommits))return de.createElement(Xy,null,de.createElement("p",null,"Your branch must be published before opening a pull request."),de.createElement("p",null,"Would you like to publish ",de.createElement(av,null,this.props.branch.name)," now and open a pull request?"));const e=(t=this.props.unPushedCommits,n="local commit",1===t?`${t} ${n}`:`${t} ${n}s`);var t,n;return de.createElement(Xy,null,de.createElement("p",null,"You have ",e," that haven't been pushed to the remote yet."),de.createElement("p",null,"Would you like to push your changes to"," ",de.createElement(av,null,this.props.branch.name)," before creating your pull request?"))}renderDialogTitle(){return Kw(this.props.unPushedCommits)?"?":"?"}renderButtonGroup(){return Kw(this.props.unPushedCommits)?de.createElement(rv,{okButtonText:""}):de.createElement(rv,{okButtonText:"",cancelButtonText:"Create Without Pushing",onCancelButtonClick:this.onCreateWithoutPushButtonClick})}}const Zw=lt(__dirname,"static/empty-no-branches.svg");class Xw extends de.Component{render(){return this.props.canCreateNewBranch?de.createElement("div",{className:"no-branches"},de.createElement("img",{src:Zw,className:"blankslate-image"}),de.createElement("div",{className:"title"},"Sorry, I can't find that branch"),de.createElement("div",{className:"subtitle"},"Do you want to create a new branch instead?"),de.createElement(qg,{className:"create-branch-button",onClick:this.props.onCreateNewBranch,type:"submit"},""),de.createElement("div",{className:"protip"},"ProTip! Press ",this.renderShortcut()," to quickly create a new branch from anywhere within the app")):de.createElement("div",{className:"no-branches"},"Sorry, I can't find that branch")}renderShortcut(){return de.createElement("span",null,de.createElement("kbd",null,"")," + ",de.createElement("kbd",null,"")," + ",de.createElement("kbd",null,"N"))}}function Qw(e){const t=function(e,t,n,r){const i=new Array;e&&i.push({identifier:"default",items:[{text:[e.name],id:e.name,branch:e}]});const o=new Set,s=e?e.name:null,a=r.filter(e=>e.name!==s);if(a.length>0){const e=new Array;for(const t of a)e.push({text:[t.name],id:t.name,branch:t}),o.add(t.name);i.push({identifier:"recent",items:e})}const l=n.filter(e=>e.name!==s&&!o.has(e.name)&&!e.isDesktopForkRemoteBranch).map(e=>({text:[e.name],id:e.name,branch:e}));return i.push({identifier:"other",items:l}),i}(e.defaultBranch,e.currentBranch,e.allBranches,e.recentBranches);let n=null;const r=e.selectedBranch;if(r)for(const e of t)if(n=e.items.find(e=>e.branch.name===r.name)||null,n)break;return{groups:t,selectedItem:n}}class Jw extends de.Component{constructor(e){super(e),this.branchFilterList=null,this.onBranchesFilterListRef=e=>{this.branchFilterList=e},this.renderItem=(e,t)=>this.props.renderBranch(e,t),this.renderGroupHeader=e=>{const t=this.parseHeader(e);return null!==t?de.createElement("div",{className:"branches-list-content filter-list-group-header"},this.getGroupLabel(t)):null},this.onRenderNoItems=()=>de.createElement(Xw,{onCreateNewBranch:this.onCreateNewBranch,canCreateNewBranch:this.props.canCreateNewBranch}),this.onRenderNewButton=()=>this.props.canCreateNewBranch?de.createElement(qg,{className:"new-branch-button",onClick:this.onCreateNewBranch},""):null,this.onItemClick=(e,t)=>{this.props.onItemClick&&this.props.onItemClick(e.branch,t)},this.onSelectionChanged=(e,t)=>{this.props.onSelectionChanged&&this.props.onSelectionChanged(e?e.branch:null,t)},this.onCreateNewBranch=()=>{this.props.onCreateNewBranch&&this.props.onCreateNewBranch(this.props.filterText)},this.state=Qw(e)}componentWillReceiveProps(e){this.setState(Qw(e))}selectNextItem(e=!1,t){null!==this.branchFilterList&&this.branchFilterList.selectNextItem(e,t)}render(){return de.createElement(Ug,{ref:this.onBranchesFilterListRef,className:"branches-list",rowHeight:30,filterText:this.props.filterText,onFilterTextChanged:this.props.onFilterTextChanged,onFilterKeyDown:this.props.onFilterKeyDown,selectedItem:this.state.selectedItem,renderItem:this.renderItem,renderGroupHeader:this.renderGroupHeader,onItemClick:this.onItemClick,onSelectionChanged:this.onSelectionChanged,onEnterPressedWithoutFilteredItems:this.onCreateNewBranch,groups:this.state.groups,invalidationProps:this.props.allBranches,renderPostFilter:this.onRenderNewButton,renderNoItems:this.onRenderNoItems,filterTextBox:this.props.textbox,hideFilterRow:this.props.hideFilterRow,onFilterListResultsChanged:this.props.onFilterListResultsChanged,renderPreList:this.props.renderPreList})}parseHeader(e){switch(e){case"default":case"recent":case"other":return e;default:return null}}getGroupLabel(e){return"default"===e?"":"recent"===e?"":"other"===e?"":Ze(0,"Unknown identifier: "+e)}}class eC extends de.PureComponent{constructor(e){var t,n;super(e),this.statusSubscription=null,this.onStatus=e=>{void 0!==this.props.onCheckChange&&this.props.onCheckChange(e),this.setState({check:e})};const r=e.dispatcher.tryGetCommitStatus(this.props.repository,this.props.commitRef);this.state={check:r},null===(n=(t=this.props).onCheckChange)||void 0===n||n.call(t,r)}subscribe(){this.unsubscribe(),this.statusSubscription=this.props.dispatcher.subscribeToCommitStatus(this.props.repository,this.props.commitRef,this.onStatus)}unsubscribe(){this.statusSubscription&&(this.statusSubscription.dispose(),this.statusSubscription=null)}componentDidUpdate(e){this.props.repository===e.repository&&this.props.commitRef===e.commitRef||(this.setState({check:this.props.dispatcher.tryGetCommitStatus(this.props.repository,this.props.commitRef)}),this.subscribe())}componentDidMount(){this.subscribe()}componentWillUnmount(){this.unsubscribe()}render(){const{check:e}=this.state;return null===e||0===e.checks.length?null:de.createElement(cf,{className:al()("ci-status","ci-status-"+nC(e),this.props.className),symbol:tC(e),title:iC(e)})}}function tC(e){switch(e.conclusion){case"timed_out":case"failure":return um;case"neutral":return rm;case"success":return mf;case"cancelled":return im;case"action_required":return hf;case"skipped":return nm;case"stale":return jf}return _f}function nC(e){switch(e.conclusion){case"timed_out":return"timed-out";case"action_required":return"action-required";case"failure":case"neutral":case"success":case"cancelled":case"skipped":case"stale":return e.conclusion}return"pending"}function rC(e){switch(e.conclusion){case"success":return gf;case"failure":return hm}return tC(e)}function iC(e){if(1===e.checks.length){const{name:t,description:n}=e.checks[0];return`${t}: ${n}`}return`${e.checks.reduce((e,t)=>e+(_c(t)?1:0),0)}/${e.checks.length} checks OK`}class oC extends de.Component{constructor(e){super(e),this.onMouseEnter=e=>{Dg.isDragInProgress&&(this.setState({isDragInProgress:!0}),Dg.emitEnterDropTarget({type:Tg.Branch,branchName:this.props.title}));const{top:t}=e.currentTarget.getBoundingClientRect();this.props.onMouseEnter(this.props.number,t)},this.onMouseLeave=e=>{Dg.isDragInProgress&&(this.setState({isDragInProgress:!1}),Dg.emitLeaveDropTarget()),this.props.onMouseLeave(e)},this.onMouseUp=()=>{Dg.isDragInProgress&&(this.setState({isDragInProgress:!1}),this.props.onDropOntoPullRequest(this.props.number))},this.state={isDragInProgress:!1}}getSubtitle(){if(!0===this.props.loading)return;const e=ve()(this.props.created).fromNow(),t=`#${this.props.number} opened ${e} by ${this.props.author}`;return this.props.draft?t+"  Draft":t}render(){const e=!0===this.props.loading?void 0:this.props.title,t=this.getSubtitle(),n=this.props.matches,r=al()("pull-request-item",{loading:!0===this.props.loading,open:!this.props.draft,draft:this.props.draft,"drop-target":this.state.isDragInProgress});return de.createElement("div",{className:r,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseUp:this.onMouseUp},de.createElement("div",null,de.createElement(cf,{className:"icon",symbol:this.props.draft?Lf:Bf})),de.createElement("div",{className:"info"},de.createElement("div",{className:"title",title:e},de.createElement(Sm,{text:e||"",highlight:n.title})),de.createElement("div",{className:"subtitle",title:t},de.createElement(Sm,{text:t||"",highlight:n.subtitle}))),this.renderPullRequestStatus())}renderPullRequestStatus(){const e=Np(this.props.number);return de.createElement("div",{className:"ci-status-container"},de.createElement(eC,{dispatcher:this.props.dispatcher,repository:this.props.repository,commitRef:e}))}}const sC=lt(__dirname,"static/empty-no-pull-requests.svg");class aC extends de.Component{render(){return de.createElement("div",{className:"no-pull-requests"},de.createElement("img",{src:sC,className:"blankslate-image"}),this.renderTitle(),this.renderCallToAction())}renderTitle(){return this.props.isSearch?de.createElement("div",{className:"title"},"Sorry, I can't find that pull request!"):this.props.isLoadingPullRequests?de.createElement("div",{className:"title"},"Hang tight"):de.createElement("div",null,de.createElement("div",{className:"title"},"You're all set!"),de.createElement("div",{className:"no-prs"},"No open pull requests in ",de.createElement(av,null,this.props.repositoryName)))}renderCallToAction(){return this.props.isLoadingPullRequests?de.createElement("div",{className:"call-to-action"},"Loading pull requests as fast as I can!"):this.props.isOnDefaultBranch?de.createElement("div",{className:"call-to-action"},"Would you like to"," ",de.createElement(Mg,{onClick:this.props.onCreateBranch},"create a new branch")," ","and get going on your next project?"):de.createElement("div",{className:"call-to-action"},"Would you like to"," ",de.createElement(Mg,{onClick:this.props.onCreatePullRequest},"create a pull request")," ","from the current branch?")}}function lC(e,t,n){let r=null;return null!=t.selectedPullRequest&&(r=pC(e,t.selectedPullRequest)),null==r&&null!=n&&(r=pC(e,n.pullRequest)),r}class cC extends de.Component{constructor(e){super(e),this.renderNoItems=()=>de.createElement(aC,{isSearch:this.state.filterText.length>0,isLoadingPullRequests:this.props.isLoadingPullRequests,repositoryName:this.getRepositoryName(),isOnDefaultBranch:this.props.isOnDefaultBranch,onCreateBranch:this.props.onCreateBranch,onCreatePullRequest:this.onCreatePullRequest}),this.renderPullRequest=(e,t)=>{const n=e.pullRequest;return de.createElement(oC,{title:n.title,number:n.pullRequestNumber,created:n.created,author:n.author,draft:n.draft,matches:t,dispatcher:this.props.dispatcher,repository:n.base.gitHubRepository,onDropOntoPullRequest:this.onDropOntoPullRequest,onMouseEnter:this.onMouseEnterPullRequest,onMouseLeave:this.onMouseLeavePullRequest})},this.onMouseEnterPullRequest=(e,t)=>{const{pullRequests:n}=this.props,r=n.find(t=>t.pullRequestNumber===e);void 0!==r?this.props.onMouseEnterPullRequest(r,t):log.error("[onMouseEnterPullReqest] - Could not find pull request.")},this.onMouseLeavePullRequest=e=>{this.props.onMouseLeavePullRequest(e)},this.onDropOntoPullRequest=e=>{const{repository:t,selectedPullRequest:n,dispatcher:r,pullRequests:i}=this.props;if(!Dg.isDragOfTypeInProgress(_g.Commit))return;if(null!==n&&e===n.pullRequestNumber)return r.endMultiCommitOperation(t),void r.recordDragStartedAndCanceled();const o=i.find(t=>t.pullRequestNumber===e);if(void 0===o)return log.error("[onDropOntoPullRequest] - Could not find pull request."),void r.endMultiCommitOperation(t);r.startCherryPickWithPullRequest(t,o)},this.onItemClick=(e,t)=>{const n=e.pullRequest;this.props.dispatcher.closeFoldout(Ue.Branch);const r=Oy("checkout pull request from list",this.props.repository);this.props.dispatcher.checkoutPullRequest(this.props.repository,n).then(()=>r.done()),this.props.onSelectionChanged(n,t)},this.onSelectionChanged=(e,t)=>{this.props.onSelectionChanged(null!=e?e.pullRequest:null,t)},this.renderListHeader=()=>de.createElement("div",{className:"filter-list-group-header"}," ",this.getRepositoryName()),this.onRefreshPullRequests=()=>{this.props.dispatcher.refreshPullRequests(this.props.repository)},this.renderPostFilter=()=>de.createElement(qg,{disabled:this.props.isLoadingPullRequests,onClick:this.onRefreshPullRequests,tooltip:"Refresh the list of pull requests"},de.createElement(cf,{symbol:bm,className:this.props.isLoadingPullRequests?"spin":void 0})),this.onFilterTextChanged=e=>{this.setState({filterText:e})},this.onCreatePullRequest=()=>{this.props.dispatcher.closeFoldout(Ue.Branch),this.props.dispatcher.createPullRequest(this.props.repository)};const t=hC(e.pullRequests),n=lC(t,e,null);this.state={filterText:"",groupedItems:[t],selectedItem:n}}componentWillReceiveProps(e){const t=hC(e.pullRequests),n=lC(t,e,this.state.selectedItem);this.setState({groupedItems:[t],selectedItem:n})}render(){return de.createElement(Ug,{className:"pull-request-list",rowHeight:47,groups:this.state.groupedItems,selectedItem:this.state.selectedItem,renderItem:this.renderPullRequest,filterText:this.state.filterText,onFilterTextChanged:this.onFilterTextChanged,invalidationProps:this.props.pullRequests,onItemClick:this.onItemClick,onSelectionChanged:this.onSelectionChanged,onFilterKeyDown:this.props.onFilterKeyDown,renderGroupHeader:this.renderListHeader,renderNoItems:this.renderNoItems,renderPostFilter:this.renderPostFilter})}getRepositoryName(){return Ei(this.props.repository).fullName}}function uC(e){const t=ve()(e.created).fromNow();return`#${e.pullRequestNumber} opened ${t} by ${e.author}`}function hC(e){return{identifier:"pull-requests",items:e.map(e=>({text:[e.title,uC(e)],id:e.pullRequestNumber.toString(),pullRequest:e}))}}function pC(e,t){return e.items.find(e=>e.pullRequest.pullRequestNumber===t.pullRequestNumber)||null}class dC extends de.Component{constructor(e){super(e),this.onContextMenu=e=>{e.preventDefault();const{onRenameBranch:t,onDeleteBranch:n,name:r,isLocal:i}=this.props;if(void 0===t&&void 0===n)return;const o=[];void 0!==t&&o.push({label:"Rename",action:()=>t(r),enabled:i}),o.push({label:"",action:()=>y.clipboard.writeText(r)}),o.push({type:"separator"}),void 0!==n&&o.push({label:"Delete",action:()=>n(r)}),Cm(o)},this.onMouseEnter=()=>{Dg.isDragInProgress&&this.setState({isDragInProgress:!0}),Dg.isDragOfTypeInProgress(_g.Commit)&&Dg.emitEnterDropTarget({type:Tg.Branch,branchName:this.props.name})},this.onMouseLeave=()=>{this.setState({isDragInProgress:!1}),Dg.isDragOfTypeInProgress(_g.Commit)&&Dg.emitLeaveDropTarget()},this.onMouseUp=()=>{const{onDropOntoBranch:e,onDropOntoCurrentBranch:t,name:n,isCurrentBranch:r}=this.props;this.setState({isDragInProgress:!1}),Dg.isDragOfTypeInProgress(_g.Commit)&&(void 0===e||r||e(n),void 0!==t&&r&&t())},this.state={isDragInProgress:!1}}render(){const{lastCommitDate:e,isCurrentBranch:t,name:n}=this.props,r=t?mf:Mf,i=al()("branches-list-item",{"drop-target":this.state.isDragInProgress});return de.createElement("div",{onContextMenu:this.onContextMenu,className:i,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseUp:this.onMouseUp},de.createElement(cf,{className:"icon",symbol:r}),de.createElement(km,{className:"name",tooltip:n,onlyWhenOverflowed:!0,tagName:"div"},de.createElement(Sm,{text:n,highlight:this.props.matches.title})),e&&de.createElement(Gv,{className:"description",date:e,onlyRelative:!0}))}}function fC(e,t,n,r,i,o,s){const a=e.branch,l=a.tip,c=n?n.name:null;return de.createElement(dC,{name:a.name,isCurrentBranch:a.name===c,isLocal:a.type===zr.Local,lastCommitDate:l?l.author.date:null,matches:t,onRenameBranch:r,onDeleteBranch:i,onDropOntoBranch:o,onDropOntoCurrentBranch:s})}var mC=n(238),gC=n(239),yC=n.n(gC);class vC{constructor(e){this.emojiBase64URICache=new Map,this.emojiFilePath=e,this.emojiRegex=this.buildEmojiRegExp(e)}createFilterTreeWalker(e){return e.createTreeWalker(e,NodeFilter.SHOW_TEXT,{acceptNode:function(e){return null!==e.parentNode&&["CODE","PRE"].includes(e.parentNode.nodeName)?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}})}async filter(e){let t=e.textContent;if(e.nodeType!==e.TEXT_NODE||null===t||!t.includes(":"))return null;const n=t.match(this.emojiRegex);if(null===n)return null;const r=new Array;for(let e=0;e<n.length;e++){const i=n[e],o=this.emojiFilePath.get(i);if(void 0===o)continue;const s=await this.createEmojiNode(o);if(null===s)continue;const a=t.indexOf(i),l=t.slice(0,a),c=document.createTextNode(l);r.push(c),r.push(s),t=t.slice(a+i.length)}if(""!==t){const e=document.createTextNode(t);r.push(e)}return r}async createEmojiNode(e){try{const t=await this.getBase64FromImageUrl(e),n=new Image;return n.classList.add("emoji"),n.src=t,n}catch(e){}return null}async getBase64FromImageUrl(e){const t=this.emojiBase64URICache.get(e);if(void 0!==t)return t;const n="data:image/png;base64,"+(await w.readFile(s()(e))).toString("base64");return this.emojiBase64URICache.set(e,n),n}buildEmojiRegExp(e){const t=[...e.keys()].map(e=>wr(e)).join("|");return new RegExp("("+t+")","g")}}class bC{constructor(e){this.nameWithOwner=/(?<nameWithOwner>\w+(?:-\w+)*\/[.\w-]+)/,this.numberWithAnchor=/(?<refNumber>\d+)(?<anchor>#[\w-]+)?\b/,this.repository=e}get issueUrl(){const e=Fn(this.repository.endpoint);return new RegExp(wr(e)+"/"+this.nameWithOwner.source+"/"+/(?:issues|pull|discussions)/.source+"/"+this.numberWithAnchor.source)}createFilterTreeWalker(e){const t=this;return e.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){return(null===e.parentNode||!["CODE","PRE","A"].includes(e.parentNode.nodeName))&&e instanceof HTMLAnchorElement&&e.href===e.innerText&&t.isGitHubIssuePullDiscussionLink(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}})}isGitHubIssuePullDiscussionLink(e){if(!/(issue|pull|discussion)/.test(e.href))return!1;if(/\d+\/(files|commits|conflicts|checks)/.test(e.href))return!1;return!/\.[a-z]+\z/.test(e.href)&&this.issueUrl.test(e.href)}async filter(e){const{textContent:t}=e;if(!(e instanceof HTMLAnchorElement)||null===t)return null;const n=t.match(this.issueUrl);if(null===n||void 0===n.groups)return null;const{refNumber:r,anchor:i}=n.groups,o=e.cloneNode(!0);return o.textContent=this.getConsistentIssueReferenceText(r,i),[o]}getConsistentIssueReferenceText(e,t){return`${"#"+e} ${this.getAnchorDescription(t)}`}getAnchorDescription(e){if(void 0===e)return"";switch(!0){case/discussion-diff-/.test(e):return"(diff)";case/commits-pushed-/.test(e):return"(commits)";case/ref-/.test(e):return"(reference)";case/pullrequestreview/.test(e):return"(review)"}return"(comment)"}}class wC{constructor(e){this.refNumber=/(?<refNumber>\d+)\b/,this.ownerOrOwnerRepo=/(?<ownerOrOwnerRepo>\w+(?:-\w+)*(?:\/[.\w-]+)?)/,this.marker=/(?<marker>#|gh-|\/(?:issues|pull|discussions)\/)(?=\d)/i,this.leader=/(?<=^|\W)/,this.issueReferenceWithLeader=new RegExp(this.leader.source+this.ownerOrOwnerRepo.source+"?"+this.marker.source+this.refNumber.source,"ig"),this.repository=e}createFilterTreeWalker(e){return e.createTreeWalker(e,NodeFilter.SHOW_TEXT,{acceptNode:function(e){return null!==e.parentNode&&["CODE","PRE","A"].includes(e.parentNode.nodeName)?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}})}async filter(e){var t;const{textContent:n}=e;if(e.nodeType!==e.TEXT_NODE||null===n||!this.marker.test(n))return null;let r=0;const i=[],o=n.matchAll(this.issueReferenceWithLeader);for(const e of o){if(void 0===e.groups||void 0===e.index)continue;const{marker:o,refNumber:s,ownerOrOwnerRepo:a}=e.groups;if(void 0===o||void 0===s)continue;const l=this.createLinkElement(o,s,a);if(null===l)continue;const c=n.slice(r,e.index),u=document.createTextNode(c);i.push(u),i.push(l),r=e.index+(null!==(t=null==a?void 0:a.length)&&void 0!==t?t:0)+o.length+s.length}const s=n.slice(r);return""!==s&&i.push(document.createTextNode(s)),i}createLinkElement(e,t,n){let r=`${e}${t}`;const i=this.resolveOwnerRepo(n);if(null===i)return null;let[o,s]=i;void 0!==o&&void 0!==s?r=`${n}${r}`:(o=this.repository.owner.login,s=this.repository.name);const a=`${Fn(this.repository.endpoint)}/${o}/${s}/issues/${t}`,l=document.createElement("a");return l.textContent=r,l.href=a,l}resolveOwnerRepo(e){if(void 0===e)return[];const t=e.split("/");return t.length>3||1===t.length&&t[0]!==this.repository.owner.login?null:2!==t.length||t[0]===this.repository.owner.login&&t[1]===this.repository.name?[]:t}}const CC=Jn((e,t)=>[new wC(t),new bC(t),new vC(e)]);async function SC(e,t){var n,r;const i=e.createFilterTreeWalker(t);let o=i.nextNode();for(;null!==o;){const t=await e.filter(o),s=o;if(o=i.nextNode(),null!==t){for(const e of t)null===(n=s.parentNode)||void 0===n||n.insertBefore(e,s);null===(r=s.parentNode)||void 0===r||r.removeChild(s)}}}class EC extends de.PureComponent{constructor(){super(...arguments),this.frameRef=null,this.frameContainingDivRef=null,this.onFrameRef=e=>{this.frameRef=e},this.onFrameContainingDivRef=e=>{this.frameContainingDivRef=e}}async componentDidMount(){this.mountIframeContents(),null!==this.frameRef&&this.setupFrameLoadListeners(this.frameRef)}async componentDidUpdate(e){e.markdown!==this.props.markdown&&this.mountIframeContents()}async getInlineStyleSheet(){const e=await w.readFile(r.join(__dirname,"static","markdown.css"),"utf8"),t=getComputedStyle(document.body);function n(e){return`${e}: ${t.getPropertyValue(e)};`}return`<style>\n      :root {\n        ${n("--md-border-default-color")}\n        ${n("--md-border-muted-color")}\n        ${n("--md-canvas-default-color")}\n        ${n("--md-canvas-subtle-color")}\n        ${n("--md-fg-default-color")}\n        ${n("--md-fg-muted-color")}\n        ${n("--md-danger-fg-color")}\n        ${n("--md-neutral-muted-color")}\n        ${n("--md-accent-emphasis-color")}\n        ${n("--md-accent-fg-color")}\n\n        ${n("--font-size")}\n        ${n("--font-size-sm")}\n        ${n("--text-color")}\n      }\n      ${e}\n    </style>`}setupFrameLoadListeners(e){e.addEventListener("load",()=>{this.setupLinkInterceptor(e),this.setFrameContainerHeight(e)})}setFrameContainerHeight(e){var t,n;if(null==e.contentDocument||null==this.frameContainingDivRef)return;const r=e.contentDocument.documentElement.querySelector("#content");if(null===r)return;const i=r.clientHeight+50;this.frameContainingDivRef.style.height=i+"px",null===(n=(t=this.props).onMarkdownParsed)||void 0===n||n.call(t)}setupLinkInterceptor(e){var t;null===(t=e.contentDocument)||void 0===t||t.addEventListener("click",t=>{var n,r;const{contentWindow:i}=e;if(i&&t.target instanceof i.Element){const e=t.target.closest("a");null!==e&&(t.preventDefault(),/^https?:/.test(e.protocol)&&(null===(r=(n=this.props).onMarkdownLinkClicked)||void 0===r||r.call(n,e.href)))}})}getBaseTag(e){if(null==e)return"";const t=document.createElement("base");return t.href=e,t.outerHTML}async mountIframeContents(){var e;if(null===this.frameRef)return;const t=await this.getInlineStyleSheet(),n=Object(mC.marked)(null!==(e=this.props.markdown)&&void 0!==e?e:"",{gfm:!0,breaks:!0}),r=yC.a.sanitize(n),i=await this.applyCustomMarkdownFilters(r),o=`\n      <html>\n        <head>\n          ${this.getBaseTag(this.props.baseHref)}\n          ${t}\n        </head>\n        <body class="markdown-body">\n          <div id="content">\n          ${i}\n          </div>\n        </body>\n      </html>\n    `,s=Buffer.from(o,"utf8").toString("base64");null!==this.frameRef&&(this.frameRef.src="data:text/html;charset=utf-8;base64,"+s)}applyCustomMarkdownFilters(e){return async function(e,t){const n=(new DOMParser).parseFromString(t,"text/html");for(const t of e)await SC(t,n);return n.documentElement.innerHTML}(CC(this.props.emoji,this.props.repository),e)}render(){return de.createElement("div",{className:"sandboxed-markdown-iframe-container",ref:this.onFrameContainingDivRef},de.createElement("iframe",{className:"sandboxed-markdown-component",sandbox:"",ref:this.onFrameRef}))}}class kC extends de.Component{constructor(e){super(e),this.quickViewRef=de.createRef(),this.componentDidUpdate=e=>{e.pullRequest.pullRequestNumber!==this.props.pullRequest.pullRequestNumber&&this.updateQuickViewPosition()},this.updateQuickViewPosition=()=>{this.setState({top:this.calculatePosition(this.props.pullRequestItemTop,this.quickViewHeight)})},this.onMarkdownParsed=()=>{this.updateQuickViewPosition()},this.onViewOnGitHub=()=>{this.props.dispatcher.showPullRequestByPR(this.props.pullRequest)},this.onMouseLeave=()=>{this.props.onMouseLeave()},this.onMarkdownLinkClicked=e=>{this.props.dispatcher.openInBrowser(e)},this.renderHeader=()=>de.createElement("header",{className:"header"},de.createElement(cf,{symbol:Gf}),de.createElement("div",{className:"action-needed"},"Review requested"),de.createElement(qg,{className:"button-with-icon",onClick:this.onViewOnGitHub},"GitHub",de.createElement(cf,{symbol:zf}))),this.renderPR=()=>{const{title:e,pullRequestNumber:t,base:n,body:r,draft:i}=this.props.pullRequest,o=null!=r&&""!==r.trim()?r:"_No description provided._";return de.createElement("div",{className:"pull-request"},this.renderPRStatus(i),de.createElement("div",{className:"title"},de.createElement("h2",null,e),de.createElement(DC,{number:t,dispatcher:this.props.dispatcher,repository:n.gitHubRepository})),de.createElement(EC,{markdown:o,emoji:this.props.emoji,baseHref:n.gitHubRepository.htmlURL,repository:n.gitHubRepository,onMarkdownLinkClicked:this.onMarkdownLinkClicked,onMarkdownParsed:this.onMarkdownParsed}))},this.state={top:this.calculatePosition(e.pullRequestItemTop,this.quickViewHeight)}}get quickViewHeight(){var e,t;return null!==(t=null===(e=this.quickViewRef.current)||void 0===e?void 0:e.clientHeight)&&void 0!==t?t:556}getTopPRList(){var e,t;return null!==(t=null===(e=document.getElementById("foldout-container"))||void 0===e?void 0:e.getBoundingClientRect().top)&&void 0!==t?t:50}calculatePosition(e,t){const n=this.getTopPRList(),r=window.innerHeight-n-t;if(window.innerHeight-e>t){return Do(e-n,0,r)}if(e-t>0){return Do(e-n-t+47,0,r)}return Do(e+23.5-t/2,0,r)}getPointerPosition(e){return{top:this.props.pullRequestItemTop-this.getTopPRList()-e+23.5}}renderPRStatus(e){return de.createElement("div",{className:al()("status",{draft:e})},de.createElement(cf,{className:"icon",symbol:e?Lf:Bf}),de.createElement("span",{className:"state"},e?"Draft":"Open"))}render(){const{top:e}=this.state;return de.createElement("div",{className:"pull-request-quick-view",onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.onMouseLeave,style:{top:e},ref:this.quickViewRef},de.createElement("div",{className:"pull-request-quick-view-contents"},this.renderHeader(),this.renderPR()),de.createElement("div",{className:"pull-request-pointer",style:this.getPointerPosition(e)}))}}class xC extends de.Component{constructor(e){super(e),this.pullRequestQuickViewTimerId=null,this.componentWillUnmount=()=>{this.clearPullRequestQuickViewTimer()},this.renderPullRequestQuickView=()=>{if(!_t()||null===this.state.pullRequestBeingViewed)return null;const{pr:e,prListItemTop:t}=this.state.pullRequestBeingViewed;return de.createElement(kC,{dispatcher:this.props.dispatcher,emoji:this.props.emoji,pullRequest:e,pullRequestItemTop:t,onMouseEnter:this.onMouseEnterPullRequestQuickView,onMouseLeave:this.onMouseLeavePullRequestQuickView})},this.onMouseEnterPullRequestQuickView=()=>{this.clearPullRequestQuickViewTimer()},this.onMouseLeavePullRequestQuickView=()=>{this.setState({pullRequestBeingViewed:null}),this.clearPullRequestQuickViewTimer()},this.renderBranch=(e,t)=>fC(e,t,this.props.currentBranch,this.onRenameBranch,this.onDeleteBranch,this.onDropOntoBranch,this.onDropOntoCurrentBranch),this.renderPreList=()=>{if(!Dg.isDragOfTypeInProgress(_g.Commit))return null;return de.createElement("div",{className:"branches-list-item new-branch-drop",onMouseEnter:this.onMouseEnterNewBranchDrop,onMouseLeave:this.onMouseLeaveNewBranchDrop,onMouseUp:this.onMouseUpNewBranchDrop},de.createElement(cf,{className:"icon",symbol:Zf}),de.createElement("div",{className:"name"},""))},this.onMouseUpNewBranchDrop=async()=>{const{dragData:e}=Dg;if(null===e||e.type!==_g.Commit)return;const{dispatcher:t,repository:n,currentBranch:r}=this.props;await t.setCherryPickCreateBranchFlowStep(n,"",e.commits,r),this.props.dispatcher.showPopup({type:ai.MultiCommitOperation,repository:n})},this.onMouseEnterNewBranchDrop=()=>{Dg.emitEnterDropTarget({type:Tg.Branch,branchName:"a new branch"})},this.onMouseLeaveNewBranchDrop=()=>{Dg.emitLeaveDropTarget()},this.onMouseEnterPullRequestListItem=(e,t)=>{this.clearPullRequestQuickViewTimer(),this.setState({pullRequestBeingViewed:null}),this.pullRequestQuickViewTimerId=window.setTimeout(()=>this.setState({pullRequestBeingViewed:{pr:e,prListItemTop:t}}),250)},this.onMouseLeavePullRequestListItem=async()=>{this.clearPullRequestQuickViewTimer(),this.pullRequestQuickViewTimerId=window.setTimeout(()=>this.setState({pullRequestBeingViewed:null}),500)},this.onTabClicked=e=>{this.props.dispatcher.changeBranchesTab(e)},this.onDismiss=()=>{this.props.dispatcher.closeFoldout(Ue.Branch)},this.onMergeClick=()=>{this.props.dispatcher.closeFoldout(Ue.Branch),this.props.dispatcher.startMergeBranchOperation(this.props.repository)},this.onBranchItemClick=e=>{const{repository:t,dispatcher:n}=this.props;n.closeFoldout(Ue.Branch);const r=Oy("checkout branch from list",t);n.checkoutBranch(t,e).then(()=>r.done())},this.onBranchSelectionChanged=e=>{this.setState({selectedBranch:e})},this.onBranchFilterTextChanged=e=>{this.setState({branchFilterText:e})},this.onCreateBranchWithName=e=>{const{repository:t,dispatcher:n}=this.props;n.closeFoldout(Ue.Branch),n.showPopup({type:ai.CreateBranch,repository:t,initialName:e})},this.onCreateBranch=()=>{this.onCreateBranchWithName("")},this.onPullRequestSelectionChanged=e=>{this.setState({selectedPullRequest:e})},this.onRenameBranch=e=>{const t=this.getBranchWithName(e);void 0!==t&&this.props.dispatcher.showPopup({type:ai.RenameBranch,repository:this.props.repository,branch:t})},this.onDeleteBranch=async e=>{const t=this.getBranchWithName(e);if(void 0===t)return;if(t.type===zr.Remote)return void this.props.dispatcher.showPopup({type:ai.DeleteRemoteBranch,repository:this.props.repository,branch:t});const n=await this.props.dispatcher.getBranchAheadBehind(this.props.repository,t);this.props.dispatcher.showPopup({type:ai.DeleteBranch,repository:this.props.repository,branch:t,existsOnRemote:null!==n})},this.onDropOntoBranch=e=>{const t=this.props.allBranches.find(t=>t.name===e);void 0!==t?Dg.isDragOfType(_g.Commit)&&this.props.dispatcher.startCherryPickWithBranch(this.props.repository,t):log.warn("[branches-container] - Branch name of branch dropped on does not exist.")},this.onDropOntoCurrentBranch=()=>{Dg.isDragOfType(_g.Commit)&&this.props.dispatcher.recordDragStartedAndCanceled()},this.clearPullRequestQuickViewTimer=()=>{null!==this.pullRequestQuickViewTimerId&&(window.clearTimeout(this.pullRequestQuickViewTimerId),this.pullRequestQuickViewTimerId=null)},this.state={selectedBranch:e.currentBranch,selectedPullRequest:e.currentPullRequest,currentPullRequest:e.currentPullRequest,branchFilterText:"",pullRequestBeingViewed:null}}static getDerivedStateFromProps(e,t){return t.currentPullRequest!==e.currentPullRequest?{currentPullRequest:e.currentPullRequest,selectedPullRequest:e.currentPullRequest}:null}render(){return de.createElement("div",{className:"branches-container"},this.renderTabBar(),this.renderSelectedTab(),this.renderMergeButtonRow(),this.renderPullRequestQuickView())}renderMergeButtonRow(){const{currentBranch:e}=this.props;return null===e?null:de.createElement(Ng,{className:"merge-button-row"},de.createElement(qg,{className:"merge-button",onClick:this.onMergeClick},de.createElement(cf,{className:"icon",symbol:Nf}),de.createElement("span",{title:"Merge a branch into "+e.name},"Choose a branch to merge into ",de.createElement("strong",null,e.name))))}renderOpenPullRequestsBubble(){const e=this.props.pullRequests;return e.length>0?de.createElement("span",{className:"count"},e.length):null}renderTabBar(){return this.props.repository.gitHubRepository?de.createElement(Zy,{onTabClicked:this.onTabClicked,selectedIndex:this.props.selectedTab,allowDragOverSwitching:!0},de.createElement("span",null,""),de.createElement("span",{className:"pull-request-tab"},"",this.renderOpenPullRequestsBubble())):null}renderSelectedTab(){let e=this.props.selectedTab;switch(this.props.repository.gitHubRepository||(e=qr.Branches),e){case qr.Branches:return de.createElement(Jw,{defaultBranch:this.props.defaultBranch,currentBranch:this.props.currentBranch,allBranches:this.props.allBranches,recentBranches:this.props.recentBranches,onItemClick:this.onBranchItemClick,filterText:this.state.branchFilterText,onFilterTextChanged:this.onBranchFilterTextChanged,selectedBranch:this.state.selectedBranch,onSelectionChanged:this.onBranchSelectionChanged,canCreateNewBranch:!0,onCreateNewBranch:this.onCreateBranchWithName,renderBranch:this.renderBranch,hideFilterRow:Dg.isDragOfTypeInProgress(_g.Commit),renderPreList:this.renderPreList});case qr.PullRequests:return this.renderPullRequests();default:return Ze(0,": "+e)}}renderPullRequests(){const e=this.props.repository;if(!bi(e))return null;const t=this.props.defaultBranch&&this.props.currentBranch&&this.props.defaultBranch.name===this.props.currentBranch.name;return de.createElement(cC,{key:"pr-list",pullRequests:this.props.pullRequests,selectedPullRequest:this.state.selectedPullRequest,isOnDefaultBranch:!!t,onSelectionChanged:this.onPullRequestSelectionChanged,onCreateBranch:this.onCreateBranch,onDismiss:this.onDismiss,dispatcher:this.props.dispatcher,repository:e,isLoadingPullRequests:this.props.isLoadingPullRequests,onMouseEnterPullRequest:this.onMouseEnterPullRequestListItem,onMouseLeavePullRequest:this.onMouseLeavePullRequestListItem})}getBranchWithName(e){return this.props.allBranches.find(t=>t.name===e)}}class DC extends de.Component{constructor(e){super(e),this.badgeRef=null,this.badgeBoundingBottom=0,this.onRef=e=>{this.badgeRef=e},this.onBadgeClick=e=>{var t,n;this.state.isStatusShowing&&(e.stopPropagation(),null===(n=(t=this.props).onBadgeClick)||void 0===n||n.call(t))},this.onCheckChange=e=>{this.setState({isStatusShowing:null!==e})},this.state={isStatusShowing:!1}}componentDidUpdate(){var e,t;null!==this.badgeRef&&this.badgeRef.getBoundingClientRect().bottom!==this.badgeBoundingBottom&&(this.badgeBoundingBottom=this.badgeRef.getBoundingClientRect().bottom,null===(t=(e=this.props).onBadgeBottomPositionUpdate)||void 0===t||t.call(e,this.badgeBoundingBottom))}render(){const e=Np(this.props.number);return de.createElement("div",{className:"pr-badge",onClick:this.onBadgeClick,ref:this.onRef},de.createElement("span",{className:"number"},"#",this.props.number),de.createElement(eC,{commitRef:e,dispatcher:this.props.dispatcher,repository:this.props.repository,onCheckChange:this.onCheckChange}))}}class _C extends de.Component{constructor(e){super(e),this.aheadBehindSubscription=null,this.state={}}static getDerivedStateFromProps(e,t){var n;const{repository:r,aheadBehindStore:i}=e,o=null===(n=e.currentBranch)||void 0===n?void 0:n.tip.sha,s=e.branch.tip.sha;if(o===t.comparisonFrom&&s===t.comparisonTo)return null;if(void 0===o||void 0===s)return{aheadBehind:void 0,comparisonFrom:o,comparisonTo:s};return{aheadBehind:i.tryGetAheadBehind(r,o,s),comparisonFrom:o,comparisonTo:s}}componentDidMount(){void 0===this.state.aheadBehind&&this.subscribeToAheadBehindStore()}componentDidUpdate(e,t){const{comparisonFrom:n,comparisonTo:r}=this.state;t.comparisonFrom===n&&t.comparisonTo===r||this.subscribeToAheadBehindStore()}componentWillUnmount(){this.unsubscribeFromAheadBehindStore()}subscribeToAheadBehindStore(){const{aheadBehindStore:e,repository:t}=this.props,{comparisonFrom:n,comparisonTo:r,aheadBehind:i}=this.state;this.unsubscribeFromAheadBehindStore(),void 0!==n&&void 0!==r&&void 0===i&&(this.aheadBehindSubscription=e.getAheadBehind(t,n,r,e=>this.setState({aheadBehind:e})))}unsubscribeFromAheadBehindStore(){null!==this.aheadBehindSubscription&&this.aheadBehindSubscription.dispose()}render(){const{currentBranch:e,branch:t}=this.props,{aheadBehind:n}=this.state,r=t.name===(null==e?void 0:e.name)?mf:Mf,i=n?de.createElement("div",{className:"branch-commit-counter"},de.createElement("span",{className:"branch-commit-counter-item"},n.behind,de.createElement(cf,{className:"icon",symbol:pf})),de.createElement("span",{className:"branch-commit-counter-item"},n.ahead,de.createElement(cf,{className:"icon",symbol:ff}))):null;return de.createElement("div",{className:"branches-list-item"},de.createElement(cf,{className:"icon",symbol:r}),de.createElement("div",{className:"name",title:t.name},de.createElement(Sm,{text:t.name,highlight:this.props.matches.title})),i)}}class TC extends de.Component{constructor(e){super(e),this.onFocus=()=>{void 0!==this.props.onFocus&&this.props.onFocus(),this.setState({isFocused:!0})},this.onBlur=e=>{void 0!==this.props.onBlur&&this.props.onBlur(e),this.setState({isFocused:!1})},this.state={isFocused:!1}}render(){const e=al()("fancy-text-box-component",this.props.className,{disabled:this.props.disabled},{focused:this.state.isFocused}),t=al()("fancy-octicon");return de.createElement("div",{className:e},de.createElement(cf,{className:t,symbol:this.props.symbol}),de.createElement(Fg,{value:this.props.value,onFocus:this.onFocus,onBlur:this.onBlur,autoFocus:this.props.autoFocus,disabled:this.props.disabled,type:this.props.type,placeholder:this.props.placeholder,onKeyDown:this.props.onKeyDown,onValueChanged:this.props.onValueChanged,onSearchCleared:this.props.onSearchCleared,tabIndex:this.props.tabIndex,ref:this.props.onRef}))}}class RC extends de.Component{render(){const{status:e,classNamePrefix:t}=this.props;if(null===e)return null;const{kind:n}=e,r=t+"-icon-container";return de.createElement("div",{className:r},de.createElement(cf,{className:al()(t,`${t}-${n}`,this.props.className),symbol:AC(n)}))}}function AC(e){switch(e){case Is.Loading:return _f;case Is.Conflicts:return hf;case Is.Invalid:return um;case Is.Clean:return mf;default:return Ze(0,"Unknown state: "+JSON.stringify(e))}}class OC extends fe.a.Component{constructor(e){super(e),this.invokeButtonRef=null,this.optionsContainerRef=null,this.onSelectionChange=e=>t=>{this.setState({selectedOption:e,showButtonOptions:!1});const{onSelectChange:n}=this.props;void 0!==n&&n(e)},this.openSplitButtonDropdown=()=>{this.setState({showButtonOptions:!this.state.showButtonOptions})},this.onInvokeButtonRef=e=>{this.invokeButtonRef=e},this.onOptionsContainerRef=e=>{this.optionsContainerRef=e},this.onSubmit=e=>{void 0!==this.props.onSubmit&&null!==this.state.selectedOption&&this.props.onSubmit(e,this.state.selectedOption)},this.state={showButtonOptions:!1,selectedOption:this.getSelectedOption(e.selectedValue)}}componentDidUpdate(){if(null===this.invokeButtonRef||null===this.optionsContainerRef)return;const e=window.innerHeight,t=this.invokeButtonRef.getBoundingClientRect().bottom,n=this.invokeButtonRef.getBoundingClientRect().height,r=e-t-15<this.optionsContainerRef.clientHeight?n+"px":void 0;r!==this.state.optionsPositionBottom&&this.setState({optionsPositionBottom:r})}getSelectedOption(e){const{options:t}=this.props;if(0===t.length)return null;const n=t.find(t=>t.value===e);return void 0===n?t[0]:n}renderSelectedIcon(e){const{selectedOption:t}=this.state;if(null!==t&&e.value===t.value)return fe.a.createElement(cf,{className:"selected-option-indicator",symbol:mf})}renderSplitButtonOptions(){if(!this.state.showButtonOptions)return;const{options:e}=this.props,{optionsPositionBottom:t}=this.state,n=void 0!==t?"open-top":"open-bottom",r=al()("dropdown-select-button-options",n);return fe.a.createElement("div",{className:r,style:{bottom:t},ref:this.onOptionsContainerRef},fe.a.createElement("ul",null,e.map(e=>fe.a.createElement("li",{key:e.value,onClick:this.onSelectionChange(e)},this.renderSelectedIcon(e),fe.a.createElement("div",{className:"option-title"},e.label),fe.a.createElement("div",{className:"option-description"},e.description)))))}render(){const{options:e,disabled:t}=this.props,{selectedOption:n,optionsPositionBottom:r,showButtonOptions:i}=this.state;if(0===e.length||null===n)return;const o=void 0!==r?"open-top":"open-bottom",s=al()("dropdown-select-button",i?o:null),a=al()("dropdown-button",{disabled:t});return fe.a.createElement("div",{className:s},fe.a.createElement(qg,{className:"invoke-button",disabled:t,type:"submit",tooltip:this.props.tooltip,onButtonRef:this.onInvokeButtonRef,onClick:this.onSubmit},n.label),fe.a.createElement(qg,{className:a,onClick:this.openSplitButtonDropdown,type:"button"},fe.a.createElement(cf,{symbol:sm})),this.renderSplitButtonOptions())}}function PC(){const e=[{label:"Create a merge commit",description:"The commits from the selected branch will be added to the current branch via a merge commit.",value:"Merge"}];return e.push({label:"Squash and merge",description:"The commits in the selected branch will be combined into one commit in the current branch.",value:"Squash"}),e.push({label:"Rebase",description:"The commits from the selected branch will be rebased and added to the current branch.",value:"Rebase"}),e}async function IC(e,t,n,r){const i=e.name;r({kind:Is.Loading});const{commits:o,base:s}=await jo(async()=>({commits:await zl(n,e.tip.sha,t.tip.sha),base:await tl(n,e.tip.sha,t.tip.sha)}),500);if(i!==e.name)return void r(null);if(null===o)return void r({kind:Is.Invalid});const a=s===e.tip.sha?[]:o;r({kind:Is.Clean,commits:a})}class MC extends de.Component{constructor(e){super(e),this.updateRebasePreview=async e=>{const{currentBranch:t,repository:n}=this.props;IC(e,t,n,e=>{this.setState({rebasePreview:e})})},this.onOperationChange=e=>{const t=e.value;this.setState({selectedOperation:t}),"Rebase"===t&&this.updateRebasePreview(this.props.comparisonBranch)},this.onOperationInvoked=async(e,t)=>{e.preventDefault();const{dispatcher:n,repository:r}=this.props;await this.dispatchOperation(t.value),n.executeCompare(r,{kind:ze.History}),n.updateCompareForm(r,{showBranchList:!1,filterText:""})},this.state={selectedOperation:"Merge",rebasePreview:null}}get computedAction(){return"Rebase"===this.state.selectedOperation?null!==this.state.rebasePreview?this.state.rebasePreview.kind:null:null!==this.props.mergeStatus?this.props.mergeStatus.kind:null}get commitCount(){const{selectedOperation:e,rebasePreview:t}=this.state;return"Rebase"===e?null!==t&&t.kind===Is.Clean?t.commits.length:0:this.props.commitsBehind}isUpdateBranchDisabled(){if(this.commitCount<=0)return!0;const{selectedOperation:e,rebasePreview:t}=this.state;return"Rebase"===e?null===t||t.kind!==Is.Clean:null!=this.props.mergeStatus&&this.props.mergeStatus.kind===Is.Invalid}async dispatchOperation(e){const{dispatcher:t,currentBranch:n,comparisonBranch:r,repository:i,mergeStatus:o}=this.props;if("Rebase"===e){const e=null!==this.state.rebasePreview&&this.state.rebasePreview.kind===Is.Clean?this.state.rebasePreview.commits:[];return t.startRebase(i,r,n,e)}const s="Squash"===e;return t.initializeMultiCommitOperation(i,{kind:"Merge",isSquash:s,sourceBranch:r},n,[],n.tip.sha),t.recordCompareInitiatedMerge(),t.mergeBranch(i,r,o,s)}render(){const e=this.isUpdateBranchDisabled(),t=this.commitCount>0?this.renderMergeStatus():null;return de.createElement("div",{className:"merge-cta"},t,de.createElement(OC,{selectedValue:this.state.selectedOperation,options:PC(),disabled:e,onSelectChange:this.onOperationChange,onSubmit:this.onOperationInvoked}))}renderMergeStatus(){return null===this.computedAction?null:de.createElement("div",{className:"merge-status-component"},de.createElement(RC,{status:{kind:this.computedAction},classNamePrefix:"merge-status"}),this.renderStatusDetails())}renderStatusDetails(){const{currentBranch:e,comparisonBranch:t,mergeStatus:n}=this.props,{selectedOperation:r}=this.state;if(null===this.computedAction)return null;switch(this.computedAction){case Is.Loading:return this.renderLoadingMessage();case Is.Clean:return this.renderCleanMessage(e,t);case Is.Invalid:return this.renderInvalidMessage()}return"Rebase"!==r&&null!==n&&n.kind===Is.Conflicts?this.renderConflictedMergeMessage(e,t,n.conflictedFiles):null}renderLoadingMessage(){return de.createElement("div",{className:"merge-message merge-message-loading"},"Checking for ability to ",this.state.selectedOperation.toLowerCase()," ","automatically")}renderCleanMessage(e,t){if(this.commitCount<=0)return null;const n=1===this.commitCount?"commit":"commits";return"Rebase"===this.state.selectedOperation?de.createElement("div",{className:"merge-message"},"This will update ",de.createElement("strong",null,e.name)," by applying its ",de.createElement("strong",null,`${this.commitCount} ${n}`)," on top of ",de.createElement("strong",null,t.name)):de.createElement("div",{className:"merge-message"},"This will merge",de.createElement("strong",null,` ${this.commitCount} ${n}`)," from ",de.createElement("strong",null,t.name)," into ",de.createElement("strong",null,e.name))}renderInvalidMessage(){return"Rebase"===this.state.selectedOperation?de.createElement("div",{className:"merge-message"},"Unable to start rebase. Check you have chosen a valid branch."):de.createElement("div",{className:"merge-message"},"Unable to merge unrelated histories in this repository")}renderConflictedMergeMessage(e,t,n){const r=1===n?"file":"files";return de.createElement("div",{className:"merge-message"},"There will be",de.createElement("strong",null,` ${n} conflicted ${r}`)," when merging ",de.createElement("strong",null,t.name)," into ",de.createElement("strong",null,e.name))}}var FC=n(66),NC=n.n(FC);class BC extends de.Component{constructor(e){super(e),this.textbox=null,this.loadChangedFilesScheduler=new oy(200),this.branchList=null,this.loadingMoreCommitsPromise=null,this.resultCount=0,this.onBranchesListRef=e=>{this.branchList=e},this.filterListResultsChanged=e=>{this.resultCount=e},this.viewHistoryForBranch=()=>{this.props.dispatcher.executeCompare(this.props.repository,{kind:ze.History}),this.props.dispatcher.updateCompareForm(this.props.repository,{showBranchList:!1})},this.onDropCommitInsertion=async(e,t,n)=>{if(!await cs(this.props.repository,n))return this.props.dispatcher.reorderCommits(this.props.repository,t,e,n);qw(new Error("Unable to reorder. Reordering replays all commits up to the last one required for the reorder. A merge commit cannot exist among those commits."),this.props.dispatcher)},this.onRenderCommitDragElement=(e,t)=>{this.props.dispatcher.setDragElement({type:_g.Commit,commit:e,selectedCommits:t,gitHubRepository:this.props.repository.gitHubRepository})},this.onRemoveCommitDragElement=()=>{this.props.dispatcher.clearDragElement()},this.onDragAndDropIntroSeen=e=>{this.props.dispatcher.markDragAndDropIntroAsSeen(e)},this.onTabClicked=e=>{const t=this.props.compareState.formState;if(t.kind===ze.History)return;const n=0===e?Ge.Behind:Ge.Ahead,r=t.comparisonBranch;this.props.dispatcher.executeCompare(this.props.repository,{kind:ze.Compare,branch:r,comparisonMode:n})},this.renderCompareBranchListItem=(e,t)=>de.createElement(_C,{branch:e.branch,currentBranch:this.props.currentBranch,matches:t,repository:this.props.repository,aheadBehindStore:this.props.aheadBehindStore}),this.onBranchFilterKeyDown=e=>{const t=e.key;if("Enter"===t){if(0===this.resultCount)return void e.preventDefault();const t=this.state.focusedBranch;null===t?this.viewHistoryForBranch():(this.props.dispatcher.executeCompare(this.props.repository,{kind:ze.Compare,comparisonMode:Ge.Behind,branch:t}),this.props.dispatcher.updateCompareForm(this.props.repository,{filterText:t.name})),this.textbox&&this.textbox.blur()}else"Escape"===t?this.handleEscape():"ArrowDown"===t?null!==this.branchList&&this.branchList.selectNextItem(!0,"down"):"ArrowUp"===t&&null!==this.branchList&&this.branchList.selectNextItem(!0,"up")},this.handleEscape=()=>{this.clearFilterState(),this.textbox&&this.textbox.blur()},this.onCommitsSelected=e=>{this.props.dispatcher.changeCommitSelection(this.props.repository,e.map(e=>e.sha)),this.loadChangedFilesScheduler.queue(()=>{this.props.dispatcher.loadChangedFilesForCurrentSelection(this.props.repository)})},this.onScroll=(e,t)=>{const n=this.props.compareState;if(n.formState.kind===ze.Compare)return;if(n.commitSHAs.length-t<=10){if(null!=this.loadingMoreCommitsPromise)return;this.loadingMoreCommitsPromise=this.props.dispatcher.loadNextCommitBatch(this.props.repository).then(()=>{window.setTimeout(()=>{this.loadingMoreCommitsPromise=null},500)})}},this.onBranchFilterTextChanged=e=>{0===e.length&&this.setState({focusedBranch:null}),this.props.dispatcher.updateCompareForm(this.props.repository,{filterText:e})},this.clearFilterState=()=>{this.setState({focusedBranch:null}),this.props.dispatcher.updateCompareForm(this.props.repository,{filterText:""}),this.viewHistoryForBranch()},this.onBranchItemClicked=e=>{this.props.dispatcher.executeCompare(this.props.repository,{kind:ze.Compare,comparisonMode:Ge.Behind,branch:e}),this.setState({focusedBranch:null}),this.props.dispatcher.updateCompareForm(this.props.repository,{filterText:e.name,showBranchList:!1})},this.onSelectionChanged=(e,t)=>{this.setState({focusedBranch:e})},this.onTextBoxFocused=()=>{this.props.dispatcher.updateCompareForm(this.props.repository,{showBranchList:!0})},this.onTextBoxRef=e=>{this.textbox=e},this.onCreateTag=e=>{this.props.dispatcher.showCreateTagDialog(this.props.repository,e,this.props.localTags)},this.onUndoCommit=e=>{this.props.dispatcher.undoCommit(this.props.repository,e)},this.onResetToCommit=e=>{this.props.dispatcher.resetToCommit(this.props.repository,e)},this.onCreateBranch=e=>{const{repository:t,dispatcher:n}=this.props;n.showPopup({type:ai.CreateBranch,repository:t,targetCommit:e})},this.onDeleteTag=e=>{this.props.dispatcher.showDeleteTagDialog(this.props.repository,e)},this.onCherryPick=e=>{this.props.onCherryPick(this.props.repository,e)},this.onSquash=async(e,t,n,r)=>{const i=e.filter(e=>e.sha!==t.sha),o=[...i,t],s=function(e){const t=NC.a.flatten(e.map(e=>e.coAuthors));return NC.a.uniqWith(t,(e,t)=>e.email===t.email&&e.name===t.name).map(e=>({name:e.name,email:e.email,username:null}))}(o),a=function(e,t){const n=e.map(e=>`${e.summary.trim()}\n\n${e.bodyNoCoAuthors.trim()}`);return[t.bodyNoCoAuthors.trim(),...n].filter(e=>""!==e.trim()).join("\n\n")}(i,t);await cs(this.props.repository,n)?qw(new Error("Unable to squash. Squashing replays all commits up to the last one required for the squash. A merge commit cannot exist among those commits."),this.props.dispatcher):(this.props.dispatcher.recordSquashInvoked(r),this.props.dispatcher.showPopup({type:ai.CommitMessage,repository:this.props.repository,coAuthors:s,showCoAuthoredBy:s.length>0,commitMessage:{summary:t.summary,description:a},dialogTitle:`Squash ${o.length} Commits`,dialogButtonText:`Squash ${o.length} Commits`,prepopulateCommitSummary:!0,onSubmitCommitMessage:async e=>(this.props.dispatcher.squash(this.props.repository,i,t,n,e),!0)}))},this.state={focusedBranch:null}}componentWillReceiveProps(e){const t=e.compareState.formState,n=this.props.compareState.formState;if(t.kind===n.kind||t.kind!==ze.History){if(t.kind!==ze.History&&n.kind!==ze.History){const e=n.comparisonBranch,r=t.comparisonBranch;e.name!==r.name&&this.setState({focusedBranch:r})}}else this.setState({focusedBranch:null})}componentDidUpdate(e){const{showBranchList:t}=this.props.compareState;t!==e.compareState.showBranchList&&null!==this.textbox&&(t?this.textbox.focus():t||this.textbox.blur())}componentWillMount(){this.props.dispatcher.initializeCompare(this.props.repository)}componentWillUnmount(){this.textbox=null,this.props.dispatcher.updateCompareForm(this.props.repository,{showBranchList:!1})}render(){const{branches:e,filterText:t,showBranchList:n}=this.props.compareState,r=function(e){const{branches:t,formState:n}=e;return t.some(e=>!e.isDesktopForkRemoteBranch)?n.kind===ze.History?"...":void 0:""}(this.props.compareState);return de.createElement("div",{id:"compare-view"},de.createElement("div",{className:"compare-form"},de.createElement(TC,{symbol:Mf,type:"search",placeholder:r,onFocus:this.onTextBoxFocused,value:t,disabled:!e.some(e=>!e.isDesktopForkRemoteBranch),onRef:this.onTextBoxRef,onValueChanged:this.onBranchFilterTextChanged,onKeyDown:this.onBranchFilterKeyDown,onSearchCleared:this.handleEscape})),n?this.renderFilterList():this.renderCommits())}renderCommits(){const e=this.props.compareState.formState;return de.createElement("div",{className:"compare-commit-list"},e.kind===ze.History?this.renderCommitList():this.renderTabBar(e))}renderCommitList(){const{formState:e,commitSHAs:t}=this.props.compareState;let n;if(e.kind===ze.History)n="No history";else{const t=e.comparisonBranch.name;n=e.comparisonMode===Ge.Ahead?de.createElement("p",null,"The compared branch (",de.createElement(av,null,t),") is up to date with your branch"):de.createElement("p",null,"Your branch is up to date with the compared branch (",de.createElement(av,null,t),")")}return de.createElement(Iw,{gitHubRepository:this.props.repository.gitHubRepository,isLocalRepository:this.props.isLocalRepository,commitLookup:this.props.commitLookup,commitSHAs:t,selectedSHAs:this.props.selectedCommitShas,localCommitSHAs:this.props.localCommitSHAs,canResetToCommits:e.kind===ze.History,canUndoCommits:e.kind===ze.History,canAmendCommits:e.kind===ze.History,emoji:this.props.emoji,reorderingEnabled:e.kind===ze.History,onViewCommitOnGitHub:this.props.onViewCommitOnGitHub,onUndoCommit:this.onUndoCommit,onResetToCommit:this.onResetToCommit,onRevertCommit:LC(this.props.compareState.formState)?this.props.onRevertCommit:void 0,onAmendCommit:this.props.onAmendCommit,onCommitsSelected:this.onCommitsSelected,onScroll:this.onScroll,onCreateBranch:this.onCreateBranch,onCreateTag:this.onCreateTag,onDeleteTag:this.onDeleteTag,onCherryPick:this.onCherryPick,onDropCommitInsertion:this.onDropCommitInsertion,onSquash:this.onSquash,emptyListMessage:n,onCompareListScrolled:this.props.onCompareListScrolled,compareListScrollTop:this.props.compareListScrollTop,tagsToPush:this.props.tagsToPush,dragAndDropIntroTypesShown:this.props.dragAndDropIntroTypesShown,onDragAndDropIntroSeen:this.onDragAndDropIntroSeen,isCherryPickInProgress:this.props.isCherryPickInProgress,onRenderCommitDragElement:this.onRenderCommitDragElement,onRemoveCommitDragElement:this.onRemoveCommitDragElement,disableSquashing:e.kind===ze.Compare})}renderActiveTab(e){return de.createElement("div",{className:"compare-commit-list"},this.renderCommitList(),e.comparisonMode===Ge.Behind?this.renderMergeCallToAction(e):null)}renderFilterList(){const{defaultBranch:e,branches:t,recentBranches:n,filterText:r}=this.props.compareState;return de.createElement(Jw,{ref:this.onBranchesListRef,defaultBranch:e,currentBranch:this.props.currentBranch,allBranches:t,recentBranches:n,filterText:r,textbox:this.textbox,selectedBranch:this.state.focusedBranch,canCreateNewBranch:!1,onSelectionChanged:this.onSelectionChanged,onItemClick:this.onBranchItemClicked,onFilterTextChanged:this.onBranchFilterTextChanged,renderBranch:this.renderCompareBranchListItem,onFilterListResultsChanged:this.filterListResultsChanged})}renderMergeCallToAction(e){return null==this.props.currentBranch?null:de.createElement(MC,{repository:this.props.repository,dispatcher:this.props.dispatcher,mergeStatus:this.props.compareState.mergeStatus,currentBranch:this.props.currentBranch,comparisonBranch:e.comparisonBranch,commitsBehind:e.aheadBehind.behind})}renderTabBar(e){const t=e.comparisonMode===Ge.Behind?0:1;return de.createElement("div",{className:"compare-content"},de.createElement(Zy,{selectedIndex:t,onTabClicked:this.onTabClicked},de.createElement("span",null,`Behind (${e.aheadBehind.behind})`),de.createElement("span",null,`Ahead (${e.aheadBehind.ahead})`)),this.renderActiveTab(e))}}function LC(e){return e.kind===ze.History||e.comparisonMode===Ge.Ahead}class HC extends de.Component{constructor(e){super(e),this.onDiscardClick=()=>{const{dispatcher:e,repository:t,stashEntry:n}=this.props;e.showPopup({type:ai.ConfirmDiscardStash,stash:n,repository:t})},this.onRestoreClick=async()=>{const{dispatcher:e,repository:t,stashEntry:n}=this.props;this.setState({isRestoring:!0},()=>{e.popStash(t,n)})},this.state={isRestoring:!1}}render(){const{isWorkingTreeClean:e}=this.props,{isRestoring:t}=this.state;return de.createElement("div",{className:"header"},de.createElement("h3",null,"Stashed changes"),de.createElement("div",{className:"row"},de.createElement(rv,{okButtonText:"Restore",okButtonDisabled:t||!e,onOkButtonClick:this.onRestoreClick,cancelButtonText:"Discard",cancelButtonDisabled:t,onCancelButtonClick:this.onDiscardClick}),this.renderExplanatoryText()))}renderExplanatoryText(){const{isWorkingTreeClean:e}=this.props;return e||this.state.isRestoring?de.createElement("div",{className:"explanatory-text"},de.createElement("span",{className:"text"},de.createElement("strong",null,"Restore")," will move your stashed files to the Changes list.")):de.createElement("div",{className:"explanatory-text"},de.createElement(cf,{symbol:hf}),de.createElement("span",{className:"text"},"Unable to restore stash when changes are present on your branch."))}}class UC extends de.PureComponent{constructor(){super(...arguments),this.onSelectedFileChanged=e=>this.props.dispatcher.selectStashedFile(this.props.repository,e),this.onResize=e=>this.props.dispatcher.setStashedFilesWidth(e),this.onReset=()=>this.props.dispatcher.resetStashedFilesWidth()}render(){const{stashEntry:e,selectedStashedFile:t,stashedFileDiff:n,repository:r,dispatcher:i,imageDiffType:o,isWorkingTreeClean:s,fileListWidth:a,onOpenBinaryFile:l,onChangeImageDiffType:c}=this.props,u=e.files.kind===es.Loaded?e.files.files:new Array,h=null!==t?de.createElement(lw,{repository:r,readOnly:!0,file:t,diff:n,imageDiffType:o,hideWhitespaceInDiff:!1,showSideBySideDiff:this.props.showSideBySideDiff,onOpenBinaryFile:l,onChangeImageDiffType:c,onHideWhitespaceInDiffChanged:this.props.onHideWhitespaceInDiffChanged}):null,p=Do(a);return de.createElement("section",{id:"stash-diff-viewer"},de.createElement(HC,{stashEntry:e,repository:r,dispatcher:i,isWorkingTreeClean:s}),de.createElement("div",{className:"commit-details"},de.createElement(Cw,{width:a.value,minimumWidth:a.min,maximumWidth:a.max,onResize:this.onResize,onReset:this.onReset},de.createElement(_w,{files:u,onSelectedFileChanged:this.onSelectedFileChanged,selectedFile:t,availableWidth:p})),h))}}class jC extends de.Component{constructor(){super(...arguments),this.renderSummary=()=>{const e=void 0!==this.props.skipLinkButton&&this.props.currentlyOpenSectionId===this.props.sectionId&&this.props.isNextStepTodo(this.props.sectionId);return de.createElement("summary",null,this.renderTutorialStepIcon(),de.createElement("span",{className:"summary-text"},this.props.summaryText),de.createElement("span",{className:"hang-right"},e?this.props.skipLinkButton:de.createElement(cf,{symbol:yf})))},this.onSummaryClick=e=>{e.preventDefault(),this.props.onSummaryClick(this.props.sectionId)}}render(){return de.createElement("li",{key:this.props.sectionId,onClick:this.onSummaryClick},de.createElement("details",{open:this.props.sectionId===this.props.currentlyOpenSectionId,onClick:this.onSummaryClick},this.renderSummary(),de.createElement("div",{className:"contents"},this.props.children)))}renderTutorialStepIcon(){if(this.props.isComplete(this.props.sectionId))return de.createElement("div",{className:"green-circle"},de.createElement(cf,{symbol:mf}));const e=qs.indexOf(this.props.sectionId)+1;return this.props.isNextStepTodo(this.props.sectionId)?de.createElement("div",{className:"blue-circle"},e):de.createElement("div",{className:"empty-circle"},e)}}const WC=lt(__dirname,"static/required-status-check.svg");class zC extends de.Component{constructor(e){super(e),this.openTutorialFileInEditor=()=>{this.props.dispatcher.openInExternalEditor(Object(r.join)(this.props.repository.path,"README.md"))},this.openPullRequest=()=>{this.props.dispatcher.createPullRequest(this.props.repository)},this.skipEditorInstall=()=>{this.props.dispatcher.skipPickEditorTutorialStep(this.props.repository)},this.skipCreatePR=()=>{this.props.dispatcher.markPullRequestTutorialStepAsComplete(this.props.repository)},this.isStepComplete=e=>qs.indexOf(e)<qs.indexOf(this.props.currentTutorialStep),this.isStepNextTodo=e=>e===this.props.currentTutorialStep,this.onStepSummaryClick=e=>{this.setState({currentlyOpenSectionId:e})},this.onPreferencesClick=()=>{this.props.dispatcher.showPopup({type:ai.Preferences,initialSelectedTab:Xd.Advanced})},this.state={currentlyOpenSectionId:this.props.currentTutorialStep}}componentWillReceiveProps(e){this.props.currentTutorialStep!==e.currentTutorialStep&&this.setState({currentlyOpenSectionId:e.currentTutorialStep})}render(){return de.createElement("div",{className:"tutorial-panel-component panel"},de.createElement("div",{className:"titleArea"},de.createElement("h3",null,"Get started"),de.createElement("img",{src:WC})),de.createElement("ol",null,de.createElement(jC,{summaryText:"Install a text editor",isComplete:this.isStepComplete,isNextStepTodo:this.isStepNextTodo,sectionId:Ns.PickEditor,currentlyOpenSectionId:this.state.currentlyOpenSectionId,skipLinkButton:de.createElement(GC,{onClick:this.skipEditorInstall}),onSummaryClick:this.onStepSummaryClick},this.isStepComplete(Ns.PickEditor)?de.createElement("p",{className:"description"},"Your default editor is"," ",de.createElement("strong",null,this.props.resolvedExternalEditor),". You can change your preferred editor in"," ",de.createElement(Mg,{onClick:this.onPreferencesClick},"Preferences")):de.createElement(de.Fragment,null,de.createElement("p",{className:"description"},"It doesnt look like you have a text editor installed. We can recommend"," ",de.createElement(Mg,{uri:Fi,title:`Open the ${Mi} website`},Mi)," or ",de.createElement(Mg,{uri:"https://atom.io",title:"Open the Atom website"},"Atom"),", but feel free to use any."),de.createElement("div",{className:"action"},de.createElement(Mg,{onClick:this.skipEditorInstall},"I have an editor")))),de.createElement(jC,{summaryText:"Create a branch",isComplete:this.isStepComplete,isNextStepTodo:this.isStepNextTodo,sectionId:Ns.CreateBranch,currentlyOpenSectionId:this.state.currentlyOpenSectionId,onSummaryClick:this.onStepSummaryClick},de.createElement("p",{className:"description"},'. \n                \n               "".'),de.createElement("div",{className:"action"},de.createElement(de.Fragment,null,de.createElement("kbd",null,""),de.createElement("kbd",null,""),de.createElement("kbd",null,"N")))),de.createElement(jC,{summaryText:"Edit a file",isComplete:this.isStepComplete,isNextStepTodo:this.isStepNextTodo,sectionId:Ns.EditFile,currentlyOpenSectionId:this.state.currentlyOpenSectionId,onSummaryClick:this.onStepSummaryClick},de.createElement("p",{className:"description"},"Open this repository in your preferred text editor. Edit the"," ",de.createElement(av,null,"README.md")," ","file, save it, and come back."),this.props.resolvedExternalEditor&&de.createElement("div",{className:"action"},de.createElement(qg,{onClick:this.openTutorialFileInEditor},"Open Editor"),de.createElement(de.Fragment,null,de.createElement("kbd",null,""),de.createElement("kbd",null,""),de.createElement("kbd",null,"A")))),de.createElement(jC,{summaryText:"Make a commit",isComplete:this.isStepComplete,isNextStepTodo:this.isStepNextTodo,sectionId:Ns.MakeCommit,currentlyOpenSectionId:this.state.currentlyOpenSectionId,onSummaryClick:this.onStepSummaryClick},de.createElement("p",{className:"description"},"A commit allows you to save sets of changes. In the summary field in the bottom left, write a short message that describes the changes you made. When youre done, click the blue Commit button to finish.")),de.createElement(jC,{summaryText:"Publish to GitHub",isComplete:this.isStepComplete,isNextStepTodo:this.isStepNextTodo,sectionId:Ns.PushBranch,currentlyOpenSectionId:this.state.currentlyOpenSectionId,onSummaryClick:this.onStepSummaryClick},de.createElement("p",{className:"description"},"Publishing will push, or upload, your commits to this branch of your repository on GitHub. Publish using the third button in the top bar."),de.createElement("div",{className:"action"},de.createElement(de.Fragment,null,de.createElement("kbd",null,""),de.createElement("kbd",null,"P")))),de.createElement(jC,{summaryText:"Open a pull request",isComplete:this.isStepComplete,isNextStepTodo:this.isStepNextTodo,sectionId:Ns.OpenPullRequest,currentlyOpenSectionId:this.state.currentlyOpenSectionId,skipLinkButton:de.createElement(GC,{onClick:this.skipCreatePR}),onSummaryClick:this.onStepSummaryClick},de.createElement("p",{className:"description"},"A pull request allows you to propose changes to the code. By opening one, youre requesting that someone review and merge them. Since this is a demo repository, this pull request will be private."),de.createElement("div",{className:"action"},de.createElement(qg,{onClick:this.openPullRequest},"Open Pull Request",de.createElement(cf,{symbol:zf})),de.createElement(de.Fragment,null,de.createElement("kbd",null,""),de.createElement("kbd",null,"R"))))),de.createElement("div",{className:"footer"},de.createElement(qg,{onClick:this.props.onExitTutorial},"Exit Tutorial")))}}const GC=e=>de.createElement(Mg,{onClick:e.onClick},"Skip"),qC=lt(__dirname,"static/code.svg"),VC=lt(__dirname,"static/github-for-teams.svg"),$C=lt(__dirname,"static/github-for-business.svg");class KC extends de.Component{render(){return de.createElement("div",{id:"tutorial-welcome"},de.createElement("div",{className:"header"},de.createElement("h1",null,"Welcome to GitHub Desktop"),de.createElement("p",null,"Use this tutorial to get comfortable with Git, GitHub, and GitHub Desktop.")),de.createElement("ul",{className:"definitions"},de.createElement("li",null,de.createElement("img",{src:qC}),de.createElement("p",null,de.createElement("strong",null,"Git")," is the version control system.")),de.createElement("li",null,de.createElement("img",{src:VC}),de.createElement("p",null,de.createElement("strong",null,"GitHub")," is where you store your code and collaborate with others.")),de.createElement("li",null,de.createElement("img",{src:$C}),de.createElement("p",null,de.createElement("strong",null,"GitHub Desktop")," helps you work with GitHub locally."))))}}const YC=lt(__dirname,"static/admin-mentoring.svg"),ZC=de.createElement(cf,{symbol:{w:16,h:16,d:"M14.184 1.143a1.75 1.75 0 00-2.502-.57L.912 7.916a1.75 1.75 0 00-.53 2.32l.447.775a1.75 1.75 0 002.275.702l11.745-5.656a1.75 1.75 0 00.757-2.451l-1.422-2.464zm-1.657.669a.25.25 0 01.358.081l1.422 2.464a.25.25 0 01-.108.35l-2.016.97-1.505-2.605 1.85-1.26zM9.436 3.92l1.391 2.41-5.42 2.61-.942-1.63 4.97-3.39zM3.222 8.157l-1.466 1a.25.25 0 00-.075.33l.447.775a.25.25 0 00.325.1l1.598-.769-.83-1.436zm6.253 2.306a.75.75 0 00-.944-.252l-1.809.87a.75.75 0 00-.293.253L4.38 14.326a.75.75 0 101.238.848l1.881-2.75v2.826a.75.75 0 001.5 0v-2.826l1.881 2.75a.75.75 0 001.238-.848l-2.644-3.863z",fr:"evenodd"}}),XC=de.createElement(cf,{symbol:Zf}),QC=de.createElement(cf,{symbol:Rf});class JC extends de.Component{constructor(){super(...arguments),this.openDotcomExplore=()=>{this.props.dispatcher.showGitHubExplore(this.props.repository)},this.onCreateNewRepository=()=>{this.props.dispatcher.showPopup({type:ai.CreateRepository})},this.onAddExistingRepository=()=>{this.props.dispatcher.showPopup({type:ai.AddRepository})}}render(){return de.createElement("div",{id:"tutorial-done"},de.createElement("div",{className:"content"},de.createElement("div",{className:"header"},de.createElement("div",{className:"text"},de.createElement("h1",null,"You're done!"),de.createElement("p",null,"Youve learned the basics on how to use GitHub Desktop. Here are some suggestions for what to do next.")),de.createElement("img",{src:YC,className:"image"})),de.createElement(fw,null,de.createElement(uw,{title:"Explore projects on GitHub",description:"Contribute to a project that interests you",buttonText:"",onClick:this.openDotcomExplore,type:"normal",image:ZC}),de.createElement(uw,{title:"Create a new repository",description:"Get started on a brand new project",buttonText:"Create Repository",onClick:this.onCreateNewRepository,type:"normal",image:XC}),de.createElement(uw,{title:"Add a local repository",description:"Work on an existing project in GitHub Desktop",buttonText:"Add Repository",onClick:this.onAddExistingRepository,type:"normal",image:QC}))))}}class eS extends de.Component{constructor(){super(...arguments),this.onContinue=()=>{this.props.onContinue()&&this.props.onDismissed()}}render(){return de.createElement(ev,{title:"Exit Tutorial",onDismissed:this.props.onDismissed,onSubmit:this.onContinue,type:"normal"},de.createElement(Xy,null,de.createElement("p",null,"Are you sure you want to leave the tutorial? This will bring you back to the home screen.")),de.createElement(nv,null,de.createElement(rv,{okButtonText:"Exit Tutorial"})))}}class tS extends de.Component{constructor(e){super(e),this.previousSection=this.props.state.selectedSection,this.forceCompareListScrollTop=!1,this.onChangesListScrolled=e=>{this.setState({changesListScrollTop:e})},this.onCompareListScrolled=e=>{this.setState({compareListScrollTop:e})},this.handleSidebarWidthReset=()=>{this.props.dispatcher.resetSidebarWidth()},this.handleSidebarResize=e=>{this.props.dispatcher.setSidebarWidth(e)},this.onSidebarFocusWithinChanged=e=>{!1===e&&this.props.state.selectedSection===je.History&&this.props.dispatcher.updateCompareForm(this.props.repository,{showBranchList:!1})},this.onHideWhitespaceInDiffChanged=e=>this.props.dispatcher.onHideWhitespaceInChangesDiffChanged(e,this.props.repository),this.onDiffOptionsOpened=()=>{this.props.dispatcher.recordDiffOptionsViewed()},this.onOpenBinaryFile=e=>{Vv(e,this.props.dispatcher)},this.onChangeImageDiffType=e=>{this.props.dispatcher.changeImageDiffType(e)},this.onRevertCommit=e=>{this.props.dispatcher.revertCommit(this.props.repository,e)},this.onAmendCommit=(e,t)=>{this.props.dispatcher.startAmendingRepository(this.props.repository,e,t)},this.onGlobalKeyDown=e=>{e.defaultPrevented||this.props.isShowingModal||this.props.isShowingFoldout||e.ctrlKey&&"Tab"===e.key&&(this.changeTab(),e.preventDefault())},this.onTabClicked=e=>{const t=1===e?je.History:je.Changes;this.props.dispatcher.changeRepositorySection(this.props.repository,t),t&&this.props.dispatcher.updateCompareForm(this.props.repository,{showBranchList:!1})},this.state={changesListScrollTop:0,compareListScrollTop:0}}scrollCompareListToTop(){this.forceCompareListScrollTop=!0,this.setState({compareListScrollTop:0})}renderChangesBadge(){const e=this.props.state.changesState.workingDirectory.files.length;return e<=0?null:de.createElement(ww,{filesChangedCount:e})}renderTabs(){const e=this.props.state.selectedSection===je.Changes?0:1;return de.createElement(Zy,{selectedIndex:e,onTabClicked:this.onTabClicked},de.createElement("span",{className:"with-indicator"},de.createElement("span",null,""),this.renderChangesBadge()),de.createElement("div",{className:"with-indicator"},de.createElement("span",null," ",this.renderNewCallToActionBubble())))}renderNewCallToActionBubble(){const{dragAndDropIntroTypesShown:e,state:t}=this.props,{compareState:n}=t;return 0===dc.filter(t=>!e.has(t)).length||0===n.commitSHAs.length?null:de.createElement("span",{className:"call-to-action-bubble"},"New")}renderChangesSidebar(){const e=this.props.state.branchesState.tip;let t=null;e.kind===si.Valid?t=e.branch.name:e.kind===si.Unborn&&(t=e.ref);const n=this.props.state.localCommitSHAs,r=n.length>0?n[0]:null,i=(r?this.props.state.commitLookup.get(r):null)||null,o=Do(this.props.sidebarWidth)-1,s=this.previousSection===je.History?this.state.changesListScrollTop:void 0;return this.previousSection=je.Changes,de.createElement($v,{repository:this.props.repository,dispatcher:this.props.dispatcher,changes:this.props.state.changesState,branch:t,commitAuthor:this.props.state.commitAuthor,emoji:this.props.emoji,mostRecentLocalCommit:i,issuesStore:this.props.issuesStore,availableWidth:o,gitHubUserStore:this.props.gitHubUserStore,isCommitting:this.props.state.isCommitting,commitToAmend:this.props.state.commitToAmend,isPushPullFetchInProgress:this.props.state.isPushPullFetchInProgress,focusCommitMessage:this.props.focusCommitMessage,askForConfirmationOnDiscardChanges:this.props.askForConfirmationOnDiscardChanges,accounts:this.props.accounts,externalEditorLabel:this.props.externalEditorLabel,onOpenInExternalEditor:this.props.onOpenInExternalEditor,onChangesListScrolled:this.onChangesListScrolled,changesListScrollTop:s,shouldNudgeToCommit:this.props.currentTutorialStep===Ns.MakeCommit,commitSpellcheckEnabled:this.props.commitSpellcheckEnabled})}renderCompareSidebar(){const{repository:e,dispatcher:t,state:n,aheadBehindStore:r,dragAndDropIntroTypesShown:i,emoji:o}=this.props,{remote:s,compareState:a,branchesState:l,commitSelection:{shas:c},commitLookup:u,localCommitSHAs:h,localTags:p,tagsToPush:d,multiCommitOperationState:f}=n,{tip:m}=l,g=m.kind===si.Valid?m.branch:null,y=null!==f&&"Cherry-pick"===f.operationDetail.kind,v=this.forceCompareListScrollTop||this.previousSection===je.Changes?this.state.compareListScrollTop:void 0;return this.previousSection=je.History,this.forceCompareListScrollTop=!1,de.createElement(BC,{repository:e,isLocalRepository:null===s,compareState:a,selectedCommitShas:c,currentBranch:g,emoji:o,commitLookup:u,localCommitSHAs:h,localTags:p,dispatcher:t,onRevertCommit:this.onRevertCommit,onAmendCommit:this.onAmendCommit,onViewCommitOnGitHub:this.props.onViewCommitOnGitHub,onCompareListScrolled:this.onCompareListScrolled,onCherryPick:this.props.onCherryPick,compareListScrollTop:v,tagsToPush:d,aheadBehindStore:r,dragAndDropIntroTypesShown:i,isCherryPickInProgress:y})}renderSidebarContents(){const e=this.props.state.selectedSection;return e===je.Changes?this.renderChangesSidebar():e===je.History?this.renderCompareSidebar():Ze(0,"Unknown repository section")}renderSidebar(){return de.createElement(Sg,{onFocusWithinChanged:this.onSidebarFocusWithinChanged},de.createElement(Cw,{id:"repository-sidebar",width:this.props.sidebarWidth.value,maximumWidth:this.props.sidebarWidth.max,minimumWidth:this.props.sidebarWidth.min,onReset:this.handleSidebarWidthReset,onResize:this.handleSidebarResize},this.renderTabs(),this.renderSidebarContents()))}renderStashedChangesContent(){const{changesState:e}=this.props.state,{selection:t,stashEntry:n,workingDirectory:r}=e,i=0===r.files.length;return t.kind!==We.Stash||null===n?null:n.files.kind===es.Loaded?de.createElement(UC,{stashEntry:n,selectedStashedFile:t.selectedStashedFile,stashedFileDiff:t.selectedStashedFileDiff,imageDiffType:this.props.imageDiffType,fileListWidth:this.props.stashedFilesWidth,repository:this.props.repository,dispatcher:this.props.dispatcher,isWorkingTreeClean:i,showSideBySideDiff:this.props.showSideBySideDiff,onOpenBinaryFile:this.onOpenBinaryFile,onChangeImageDiffType:this.onChangeImageDiffType,onHideWhitespaceInDiffChanged:this.onHideWhitespaceInDiffChanged}):null}renderContentForHistory(){const{commitSelection:e}=this.props.state,t=1===e.shas.length?e.shas[0]:null,n=null!=t&&this.props.state.commitLookup.get(t)||null,r=null!=n&&this.props.state.localCommitSHAs.includes(n.sha),{changesetData:i,file:o,diff:s}=e,a=Dg.isDragOfTypeInProgress(_g.Commit);return de.createElement(Tw,{repository:this.props.repository,isLocalRepository:null===this.props.state.remote,dispatcher:this.props.dispatcher,selectedCommit:n,isLocal:r,changesetData:i,selectedFile:o,currentDiff:s,emoji:this.props.emoji,commitSummaryWidth:this.props.commitSummaryWidth,selectedDiffType:this.props.imageDiffType,externalEditorLabel:this.props.externalEditorLabel,onOpenInExternalEditor:this.props.onOpenInExternalEditor,onViewCommitOnGitHub:this.props.onViewCommitOnGitHub,hideWhitespaceInDiff:this.props.hideWhitespaceInHistoryDiff,showSideBySideDiff:this.props.showSideBySideDiff,onOpenBinaryFile:this.onOpenBinaryFile,onChangeImageDiffType:this.onChangeImageDiffType,onDiffOptionsOpened:this.onDiffOptionsOpened,areMultipleCommitsSelected:e.shas.length>1,showDragOverlay:a})}renderTutorialPane(){return this.props.currentTutorialStep===Ns.AllDone?de.createElement(JC,{dispatcher:this.props.dispatcher,repository:this.props.repository}):de.createElement(KC,null)}renderContentForChanges(){const{changesState:e}=this.props.state,{workingDirectory:t,selection:n}=e;if(n.kind===We.Stash)return this.renderStashedChangesContent();const{selectedFileIDs:r,diff:i}=n;if(r.length>1)return de.createElement(bw,{count:r.length});if(0===t.files.length)return this.props.currentTutorialStep!==Ns.NotApplicable?this.renderTutorialPane():de.createElement(yw,{key:this.props.repository.id,appMenu:this.props.appMenu,repository:this.props.repository,repositoryState:this.props.state,isExternalEditorAvailable:void 0!==this.props.externalEditorLabel,dispatcher:this.props.dispatcher});{if(0===r.length)return null;const e=t.findFileWithID(r[0]);return null===e?null:de.createElement(cw,{repository:this.props.repository,dispatcher:this.props.dispatcher,file:e,diff:i,isCommitting:this.props.state.isCommitting,imageDiffType:this.props.imageDiffType,hideWhitespaceInDiff:this.props.hideWhitespaceInChangesDiff,showSideBySideDiff:this.props.showSideBySideDiff,onOpenBinaryFile:this.onOpenBinaryFile,onChangeImageDiffType:this.onChangeImageDiffType,askForConfirmationOnDiscardChanges:this.props.askForConfirmationOnDiscardChanges,onDiffOptionsOpened:this.onDiffOptionsOpened})}}renderContent(){const e=this.props.state.selectedSection;return e===je.Changes?this.renderContentForChanges():e===je.History?this.renderContentForHistory():Ze(0,"Unknown repository section")}render(){return de.createElement(Zg,{id:"repository"},this.renderSidebar(),this.renderContent(),this.maybeRenderTutorialPanel())}componentDidMount(){window.addEventListener("keydown",this.onGlobalKeyDown)}componentWillUnmount(){window.removeEventListener("keydown",this.onGlobalKeyDown)}changeTab(){const e=this.props.state.selectedSection===je.History?je.Changes:je.History;this.props.dispatcher.changeRepositorySection(this.props.repository,e)}maybeRenderTutorialPanel(){return Gs(this.props.currentTutorialStep)?de.createElement(zC,{dispatcher:this.props.dispatcher,repository:this.props.repository,resolvedExternalEditor:this.props.resolvedExternalEditor,currentTutorialStep:this.props.currentTutorialStep,onExitTutorial:this.props.onExitTutorial}):null}}const nS=/[\x00-\x20\x7F~^:?*\[\\|""<>]+|@{|\.\.+|^\.|\.$|\.lock$|\/$/g;function rS(e){return e.replace(nS,"-").replace(/^[-\+]*/g,"")}class iS extends de.Component{constructor(e){super(e),this.textBoxRef=de.createRef(),this.onValueChange=e=>{const t=rS(e),n=this.state.sanitizedValue;this.setState({proposedValue:e,sanitizedValue:t}),t!==n&&void 0!==this.props.onValueChange&&this.props.onValueChange(t)},this.onBlur=e=>{void 0!==this.props.onBlur&&this.props.onBlur(rS(e))};const t=e.initialValue||"";this.state={proposedValue:t,sanitizedValue:rS(t)}}componentDidMount(){this.state.sanitizedValue!==this.props.initialValue&&void 0!==this.props.onValueChange&&this.props.onValueChange(this.state.sanitizedValue)}render(){return de.createElement("div",{className:"ref-name-text-box"},de.createElement(Fg,{label:this.props.label,value:this.state.proposedValue,ref:this.textBoxRef,onValueChanged:this.onValueChange,onBlur:this.onBlur}),this.renderRefValueWarning())}focus(){null!==this.textBoxRef.current&&this.textBoxRef.current.focus()}renderRefValueWarning(){var e;const{proposedValue:t,sanitizedValue:n}=this.state;if(t===n)return null;const r=null!==(e=this.props.renderWarningMessage)&&void 0!==e?e:this.defaultRenderWarningMessage;return de.createElement("div",{className:"warning-helper-text"},de.createElement(cf,{symbol:hf}),de.createElement("p",null,r(n,t)))}defaultRenderWarningMessage(e,t){return 0===e.length?de.createElement(de.Fragment,null,de.createElement(av,null,t)," is not a valid name."):de.createElement(de.Fragment,null,"Will be created as ",de.createElement(av,null,e),".")}}class oS extends de.Component{constructor(e){super(e),this.onNameChange=e=>{this.setState({newName:e})},this.renameBranch=()=>{this.props.dispatcher.renameBranch(this.props.repository,this.props.branch,this.state.newName),this.props.onDismissed()},this.state={newName:e.branch.name}}render(){return de.createElement(ev,{id:"rename-branch",title:"",onDismissed:this.props.onDismissed,onSubmit:this.renameBranch},de.createElement(Xy,null,de.createElement(iS,{label:"Name",initialValue:this.props.branch.name,onValueChange:this.onNameChange}),null!=(e=this.props.branch).upstream?de.createElement(Ng,{className:"warning-helper-text"},de.createElement(cf,{symbol:hf}),de.createElement("p",null,"This branch is tracking ",de.createElement(av,null,e.upstream)," and renaming this branch will not change the branch name on the remote.")):null,null===this.props.stash?null:de.createElement(Ng,{className:"warning-helper-text"},de.createElement(cf,{symbol:hf}),de.createElement("p",null,"Your current stashed changes on this branch will no longer be visible in GitHub Desktop if the branch is renamed."))),de.createElement(nv,null,de.createElement(rv,{okButtonText:"Rename "+this.props.branch.name,okButtonDisabled:0===this.state.newName.length})));var e}}class sS extends de.Component{constructor(e){super(e),this.onIncludeRemoteChanged=e=>{const t=e.currentTarget.checked;this.setState({includeRemoteBranch:t})},this.deleteBranch=async()=>{const{dispatcher:e,repository:t,branch:n}=this.props;this.setState({isDeleting:!0}),await e.deleteLocalBranch(t,n,this.state.includeRemoteBranch),this.props.onDeleted(t),this.props.onDismissed()},this.state={includeRemoteBranch:!1,isDeleting:!1}}render(){return de.createElement(ev,{id:"delete-branch",title:"",type:"warning",onSubmit:this.deleteBranch,onDismissed:this.props.onDismissed,disabled:this.state.isDeleting,loading:this.state.isDeleting},de.createElement(Xy,null,de.createElement("p",null,"Delete branch ",de.createElement(av,null,this.props.branch.name),"?",de.createElement("br",null),"This action cannot be undone."),this.renderDeleteOnRemote()),de.createElement(nv,null,de.createElement(rv,{destructive:!0,okButtonText:"Delete"})))}renderDeleteOnRemote(){return this.props.branch.upstreamRemoteName&&this.props.existsOnRemote?de.createElement("div",null,de.createElement("p",null,de.createElement("strong",null,"The branch also exists on the remote, do you wish to delete it there as well?")),de.createElement(Qg,{label:"Yes, delete this branch on the remote",value:this.state.includeRemoteBranch?Xg.On:Xg.Off,onChange:this.onIncludeRemoteChanged})):null}}class aS extends de.Component{constructor(e){super(e),this.deleteBranch=async()=>{const{dispatcher:e,repository:t,branch:n}=this.props;this.setState({isDeleting:!0}),await e.deleteRemoteBranch(t,n),this.props.onDeleted(t),this.props.onDismissed()},this.state={isDeleting:!1}}render(){return de.createElement(ev,{id:"delete-branch",title:"",type:"warning",onSubmit:this.deleteBranch,onDismissed:this.props.onDismissed,disabled:this.state.isDeleting,loading:this.state.isDeleting},de.createElement(Xy,null,de.createElement("p",null,"Delete remote branch ",de.createElement(av,null,this.props.branch.name),"?",de.createElement("br",null),"This action cannot be undone."),de.createElement("p",null,"This branch does not exist locally. Deleting it may impact others collaborating on this branch.")),de.createElement(nv,null,de.createElement(rv,{destructive:!0,okButtonText:"Delete"})))}}class lS extends de.Component{render(){const e=this.props.progress.value||void 0;return de.createElement(Zg,{id:"cloning-repository-view"},de.createElement("div",{className:"title-container"},de.createElement(cf,{symbol:wf}),de.createElement("div",{className:"title"},"Cloning ",this.props.repository.name)),de.createElement("progress",{value:e}),de.createElement("div",{title:this.props.progress.description,className:"details"},this.props.progress.description))}}class cS extends de.Component{render(){return de.createElement("div",{id:this.props.id,className:"toolbar"},this.props.children)}}var uS;!function(e){e[e.Standard=0]="Standard",e[e.Subtitle=1]="Subtitle"}(uS||(uS={}));class hS extends de.Component{constructor(){super(...arguments),this.wrapperRef=Qd(),this.innerButton=null,this.onClick=e=>{this.props.onClick&&this.props.onClick(e)},this.onButtonRef=e=>{this.innerButton=e},this.focusButton=()=>{this.innerButton&&this.innerButton.focus()},this.getButtonBoundingClientRect=()=>this.innerButton?this.innerButton.getBoundingClientRect():void 0}render(){const{tooltip:e}=this.props,t=this.props.icon?de.createElement(cf,{symbol:this.props.icon,className:al()("icon",this.props.iconClassName)}):null,n=al()("toolbar-button",{"has-progress":void 0!==this.props.progressValue},this.props.className),r=void 0!==this.props.progressValue?Math.round(100*Do(this.props.progressValue,0,1))/100:void 0,i=void 0!==r?de.createElement("div",{className:"progress",style:{transform:`scaleX(${r})`}}):void 0;return de.createElement("div",{className:n,onKeyDown:this.props.onKeyDown,ref:this.wrapperRef},e&&de.createElement(of,{target:this.wrapperRef,direction:rf.SOUTH,onlyWhenOverflowed:this.props.onlyShowTooltipWhenOverflowed,isTargetOverflowed:this.props.isOverflowed},e),de.createElement(qg,{onClick:this.onClick,ref:this.onButtonRef,disabled:this.props.disabled,onMouseEnter:this.props.onMouseEnter,tabIndex:this.props.tabIndex,role:this.props.role,ariaExpanded:this.props.ariaExpanded},i,t,this.renderText(),this.props.children))}renderText(){if(void 0===this.props.title&&void 0===this.props.description)return null;const e=void 0!==this.props.title?de.createElement("div",{className:"title"},this.props.title):null,t=void 0!==this.props.description?de.createElement("div",{className:"description"},this.props.description):null,n=this.props.style||uS.Standard;switch(n){case uS.Standard:return de.createElement("div",{className:"text"},t,e);case uS.Subtitle:return de.createElement("div",{className:"text"},de.createElement("div",{className:"title"},this.props.title),t);default:return Ze(0,"Unknown button style: "+n)}}}class pS extends de.Component{constructor(e){super(e),this.innerButton=null,this.onClick=e=>{const t="open"===this.props.dropdownState?"closed":"open",n=e.clientX||e.clientY?"pointer":"keyboard";this.props.onDropdownStateChanged(t,n)},this.handleOverlayClick=()=>{this.props.onDropdownStateChanged("closed","pointer")},this.onFoldoutKeyDown=e=>{!e.defaultPrevented&&this.isOpen&&"Escape"===e.key&&(e.preventDefault(),this.props.onDropdownStateChanged("closed","keyboard"))},this.renderDropdownContents=()=>{var e;return"open"!==this.props.dropdownState?null:de.createElement(jy.a,{active:null===(e=this.props.enableFocusTrap)||void 0===e||e,focusTrapOptions:this.focusTrapOptions},de.createElement("div",{id:"foldout-container",style:this.getFoldoutContainerStyle()},de.createElement("div",{className:"overlay",tabIndex:-1,onClick:this.handleOverlayClick}),de.createElement("div",{className:"foldout",style:this.getFoldoutStyle(),tabIndex:-1,onKeyDown:this.onFoldoutKeyDown},this.props.dropdownContentRenderer())))},this.onRef=e=>{this.innerButton=e},this.focusButton=()=>{this.innerButton&&this.innerButton.focusButton()},this.state={clientRect:null},this.focusTrapOptions={allowOutsideClick:!0,clickOutsideDeactivates:!1,escapeDeactivates:!1}}get isOpen(){return"open"===this.props.dropdownState}dropdownIcon(e){return"open"===e?am:"closed"===e?sm:Ze(0,"Unknown dropdown state "+e)}renderDropdownArrow(){if(!1===this.props.showDisclosureArrow)return null;const e=this.props.dropdownState;return de.createElement(cf,{symbol:this.dropdownIcon(e),className:"dropdownArrow"})}updateClientRectIfNecessary(){if("open"===this.props.dropdownState&&this.innerButton){const e=this.innerButton.getButtonBoundingClientRect();if(e){const t=this.state.clientRect;t&&nf(t,e)||this.setState({clientRect:e})}}}componentDidMount(){this.updateClientRectIfNecessary()}componentWillUnmount(){this.innerButton=null}componentDidUpdate(){this.updateClientRectIfNecessary()}getFoldoutContainerStyle(){const e=this.state.clientRect;if(e)return{position:"absolute",top:e.bottom,left:0,width:"100%",height:`calc(100% - ${e.bottom}px)`}}getFoldoutStyle(){if(this.props.foldoutStyle)return this.props.foldoutStyle;const e=this.state.clientRect;return e?{position:"absolute",marginLeft:e.left,minWidth:e.width,height:"100%",top:0}:void 0}render(){const e=al()("toolbar-dropdown",this.props.dropdownState,this.props.className),t="open"===this.props.dropdownState?"true":"false";return de.createElement("div",{className:e,onKeyDown:this.props.onKeyDown,role:this.props.role,"aria-expanded":t,onDragOver:this.props.onDragOver},this.renderDropdownContents(),de.createElement(hS,{className:this.props.buttonClassName,ref:this.onRef,icon:this.props.icon,title:this.props.title,description:this.props.description,tooltip:this.props.tooltip,onClick:this.onClick,onMouseEnter:this.props.onMouseEnter,style:this.props.style,iconClassName:this.props.iconClassName,disabled:this.props.disabled,tabIndex:this.props.tabIndex,progressValue:this.props.progressValue,role:this.props.buttonRole,onlyShowTooltipWhenOverflowed:this.props.onlyShowTooltipWhenOverflowed,isOverflowed:this.props.isOverflowed},this.props.children,this.renderDropdownArrow()))}}function dS(e,t){const{ahead:n,behind:r}=e;if(0===n&&0===r&&0===t)return null;const i=new Array;return(n>0||t>0)&&i.push(de.createElement("span",{key:"ahead"},n+t,de.createElement(cf,{symbol:ff}))),r>0&&i.push(de.createElement("span",{key:"behind"},r,de.createElement(cf,{symbol:pf}))),de.createElement("div",{className:"ahead-behind"},i)}function fS(e){return e?de.createElement("span",null,"Last fetched ",de.createElement(Gv,{date:e})):"Never fetched"}const mS={className:"push-pull-button",style:uS.Subtitle};const gS={w:10,h:16,d:"M0 6a.75.75 0 0 0 .974.714L4.469 3.22a.75.75 0 0 1 1.06 0l3.478 3.478a.75.75 0 0 0 .772-1.228L5.53 1.22a.75.75 0 0 0-1.06 0L.22 5.47A.75.75 0 0 0 0 6zm0 3a.75.75 0 0 0 1.28.53l2.97-2.97V14a.75.75 0 1 0 1.5 0V6.56l2.97 2.97a.75.75 0 0 0 1.06-1.06L5.53 4.22a.75.75 0 0 0-1.06 0L.22 8.47A.75.75 0 0 0 0 9z",fr:"evenodd"};class yS extends de.Component{constructor(){super(...arguments),this.push=()=>{this.props.dispatcher.push(this.props.repository)},this.forcePushWithLease=()=>{this.props.dispatcher.confirmOrForcePush(this.props.repository)},this.pull=()=>{this.props.dispatcher.pull(this.props.repository)},this.fetch=()=>{this.props.dispatcher.fetch(this.props.repository,ti.UserInitiatedTask)}}render(){const{progress:e,networkActionInProgress:t,aheadBehind:n,numTagsToPush:r,remoteName:i,repository:o,tipState:s,rebaseInProgress:a,lastFetched:l,pullWithRebase:c,isForcePush:u}=this.props;if(null!==e)return function(e,t){return de.createElement(hS,Object.assign({},mS,{title:e.title,description:e.description||"Hang on",progressValue:e.value,icon:bm,iconClassName:t?"spin":"",tooltip:e.description,disabled:!0}))}(e,t);if(null===i)return h=this.push,de.createElement(hS,Object.assign({},mS,{title:"Publish repository",description:"Publish this repository to GitHub",className:"push-pull-button",icon:cm,style:uS.Subtitle,onClick:h}));var h;if(s===si.Unborn)return de.createElement(hS,Object.assign({},mS,{title:"Publish branch",description:"Cannot publish unborn HEAD",icon:cm,disabled:!0}));if(s===si.Detached)return function(e){const t=e?"Rebase in progress":"Cannot publish detached HEAD";return de.createElement(hS,Object.assign({},mS,{title:"Publish branch",description:t,icon:cm,disabled:!0}))}(a);if(null===n){return function(e,t,n){const r=e?"Publish this branch to GitHub":"Publish this branch to the remote",i=al()(mS.className,"nudge-arrow",{"nudge-arrow-up":n});return de.createElement(hS,Object.assign({},mS,{title:"Publish branch",description:r,icon:cm,onClick:t,className:i}))}(null!==o.gitHubRepository,this.push,this.props.shouldNudge)}const{ahead:p,behind:d}=n;return 0===p&&0===d&&0===r?function(e,t,n,r,i){const o=" "+e;return de.createElement(hS,Object.assign({},mS,{title:o,description:fS(r),icon:bm,onClick:i}),dS(t,n))}(i,n,r,l,this.fetch):u?function(e,t,n,r,i){return de.createElement(hS,Object.assign({},mS,{title:"Force push "+e,description:fS(r),icon:gS,onClick:i}),dS(t,n))}(i,n,r,l,this.forcePushWithLease):d>0?function(e,t,n,r,i,o){const s=i?`Pull ${e} with rebase`:"Pull "+e;return de.createElement(hS,Object.assign({},mS,{title:s,description:fS(r),icon:pf,onClick:o}),dS(t,n))}(i,n,r,l,c||!1,this.pull):function(e,t,n,r,i){return de.createElement(hS,Object.assign({},mS,{title:" "+e,description:fS(r),icon:ff,onClick:i}),dS(t,n))}(i,n,r,l,this.push)}}class vS extends de.PureComponent{constructor(){super(...arguments),this.onViewJobStepExternally=()=>{this.props.onViewJobStepExternally(this.props.step)},this.onStepHeaderRef=e=>t=>{void 0!==this.props.firstFailedStep&&e.number===this.props.firstFailedStep.number&&null!==t&&t.scrollIntoView({behavior:"smooth",block:"start"})}}render(){const{step:e}=this.props;return de.createElement("div",{className:"ci-check-run-job-step list-item",ref:this.onStepHeaderRef(e)},de.createElement("div",{className:"job-step-status-symbol"},de.createElement(cf,{className:al()("ci-status","ci-status-"+nC(e)),symbol:rC(e)})),de.createElement(km,{className:"job-step-name",tooltip:e.name,onlyWhenOverflowed:!0,tagName:"div",direction:rf.NORTH},de.createElement("span",{onClick:this.onViewJobStepExternally},e.name)),de.createElement("div",{className:"job-step-duration"},null===(t=e).completed_at||null===t.started_at?"":ve.a.duration(Sc(t),"seconds").format("d[d] h[h] m[m] s[s]",{largest:4})));var t}}class bS extends de.PureComponent{constructor(e){super(e),this.state={firstFailedStep:this.props.steps.find(Dc)}}componentDidUpdate(){this.setState({firstFailedStep:this.props.steps.find(Dc)})}render(){const{steps:e}=this.props,t=e.map((e,t)=>de.createElement(vS,{key:t,step:e,firstFailedStep:this.state.firstFailedStep,onViewJobStepExternally:this.props.onViewJobStep}));return de.createElement("div",{className:"ci-check-run-job-steps-list"},t)}}class wS extends de.PureComponent{constructor(){super(...arguments),this.toggleCheckRunExpansion=()=>{this.props.onCheckRunExpansionToggleClick(this.props.checkRun)},this.onViewCheckExternally=()=>{var e,t;null===(t=(e=this.props).onViewCheckExternally)||void 0===t||t.call(e,this.props.checkRun)},this.onViewJobStep=e=>{var t,n;null===(n=(t=this.props).onViewJobStep)||void 0===n||n.call(t,this.props.checkRun,e)},this.renderCheckStatusSymbol=()=>{const{checkRun:e}=this.props;return de.createElement("div",{className:"ci-check-status-symbol"},de.createElement(cf,{className:al()("ci-status","ci-status-"+nC(e)),symbol:tC(e)}))},this.renderCheckJobStepToggle=()=>{const{checkRun:e,isCheckRunExpanded:t,selectable:n,notExpandable:r}=this.props;return void 0===e.actionJobSteps||n||!0===r?null:de.createElement("div",{className:"job-step-toggled-indicator"},de.createElement(cf,{symbol:t?bf:yf}))},this.renderCheckRunName=()=>{const{name:e,description:t}=this.props.checkRun;return de.createElement("div",{className:"ci-check-list-item-detail"},de.createElement(km,{className:"ci-check-name",tooltip:e,onlyWhenOverflowed:!0,tagName:"div",direction:rf.NORTH},de.createElement("span",{className:al()({isLink:void 0!==this.props.onViewCheckExternally}),onClick:this.onViewCheckExternally},e)),de.createElement("div",{className:"ci-check-description"},t))}}render(){const{checkRun:e,isCheckRunExpanded:t}=this.props,n=al()("ci-check-list-item","list-item",{sticky:t,selected:this.props.selected});return de.createElement("div",{className:"ci-check-list-item-group"},de.createElement("div",{className:n,onClick:this.toggleCheckRunExpansion,tabIndex:0},this.renderCheckStatusSymbol(),this.renderCheckRunName(),this.renderCheckJobStepToggle()),t&&void 0!==e.actionJobSteps?de.createElement(bS,{steps:e.actionJobSteps,onViewJobStep:this.onViewJobStep}):null)}}class CS extends de.PureComponent{constructor(e){super(e),this.onCheckRunClick=e=>{var t,n;if(!0===this.props.notExpandable)return;const r=this.state.checkRunExpanded!==e.id.toString()||this.props.selectable?e.id.toString():null;this.setState({checkRunExpanded:r,hasUserToggledCheckRun:!0}),null===(n=(t=this.props).onCheckRunClick)||void 0===n||n.call(t,e)},this.renderListItems=e=>{if(void 0===e)return null;const t=e.map((e,t)=>{const n=this.state.checkRunExpanded===e.id.toString(),r=!0===this.props.selectable;return de.createElement(wS,{checkRun:e,key:t,loadingActionLogs:this.props.loadingActionLogs,loadingActionWorkflows:this.props.loadingActionWorkflows,selectable:r,selected:r&&n,isCheckRunExpanded:!r&&n,notExpandable:this.props.notExpandable,onCheckRunExpansionToggleClick:this.onCheckRunClick,onViewCheckExternally:this.props.onViewCheckDetails,onViewJobStep:this.props.onViewJobStep})});return de.createElement(Sg,{className:"list-focus-container"},t)},this.renderList=()=>{const{checkRunGroups:e}=this.state,t=Ic(e);if(1===t.length&&"Other"===t[0])return this.renderListItems(this.props.checkRuns);const n=t.map((t,n)=>de.createElement("div",{className:"ci-check-run-list-group",key:n},de.createElement("div",{className:"ci-check-run-list-group-header"},t),this.renderListItems(e.get(t))));return de.createElement(de.Fragment,null,n)},this.state=this.setupStateAfterCheckRunPropChange(this.props,null)}componentDidUpdate(e){const{checkRunExpanded:t,hasUserToggledCheckRun:n}=this.setupStateAfterCheckRunPropChange(this.props,this.state);let r=!1;for(const t of e.checkRuns){if(void 0!==this.props.checkRuns.find(e=>e.id===t.id&&e.status!==t.status)){r=!0;break}}r?this.setState({checkRunExpanded:t,hasUserToggledCheckRun:n,checkRunGroups:Pc(this.props.checkRuns)}):this.setState({checkRunExpanded:t,hasUserToggledCheckRun:n})}setupStateAfterCheckRunPropChange(e,t){if(!0===(null==t?void 0:t.hasUserToggledCheckRun))return t;const n=Pc(e.checkRuns);let r=null;if(!0!==this.props.notExpandable)for(const e of n.values()){const t=e.find(e=>Dc(e)&&void 0!==e.actionJobSteps);if(void 0!==t){r=t.id.toString();break}}return{checkRunGroups:n,checkRunExpanded:r,hasUserToggledCheckRun:(null==t?void 0:t.hasUserToggledCheckRun)||!1}}render(){return de.createElement("div",{className:"ci-check-run-list"},this.renderList())}}class SS extends de.Component{render(){const{valueMap:e}=this.props,{paths:t,height:n,width:r}=function(e,t=15,n=9){const r=2*t,i=[...e.values()].reduce((e,t)=>e+t),o=r/2,s=o,a=[];let l=0;for(const[r,c]of[...e.entries()]){if(0===c)continue;const e=c/i;if(1===e){const e=o-.01,i=s-t,l=s-n,c=["M",o,i];c.push("A",t,t,0,1,1,e,i),c.push("L",e,l),c.push("A",n,n,0,1,0,o,l),a.push({name:r,path:c.join(" ")});continue}const u=l+c,h=["M",...ES(l,t,o,i)];h.push("A",t,t,0),h.push(e>.5?1:0),h.push(1),h.push(...ES(u,t,o,i)),h.push("L"),h.push(...ES(u,n,o,i)),h.push("A",n,n,0),h.push(e>.5?1:0),h.push(0),h.push(...ES(l,n,o,i)),l+=c,a.push({name:r,path:h.join(" ")})}return{paths:a,height:r,width:r}}(e),i=`0 0 ${r} ${n}`,o=t.map((e,t)=>de.createElement("path",{key:t,className:e.name,d:e.path}));return de.createElement("svg",{className:"donut",version:"1.1",viewBox:i,tabIndex:-1},o)}}function ES(e,t,n,r){const i=e/r*Math.PI*2-Math.PI/2;return[t*Math.cos(i)+n,t*Math.sin(i)+n]}const kS=lt(__dirname,"static/empty-no-pull-requests.svg");class xS extends de.PureComponent{constructor(e){var t;super(e),this.statusSubscription=null,this.onStatus=async e=>{null!==e&&this.setState({checkRuns:[...e.checks],checkRunSummary:this.getCombinedCheckSummary(e),loadingActionWorkflows:!1,loadingActionLogs:!1})},this.onViewCheckDetails=e=>{var t;if(null===e.htmlUrl&&null===this.props.repository.htmlURL)return;const n=null!==(t=e.htmlUrl)&&void 0!==t?t:`${this.props.repository.htmlURL}/pull/${this.props.prNumber}`;this.props.dispatcher.openInBrowser(n),this.props.dispatcher.recordCheckViewedOnline()},this.onViewJobStep=(e,t)=>{const{repository:n,prNumber:r,dispatcher:i}=this.props,o=Oc(e,t,n,r);null!==o&&(i.openInBrowser(o),this.props.dispatcher.recordCheckJobStepViewedOnline())},this.rerunChecks=()=>{this.props.dispatcher.showPopup({type:ai.CICheckRunRerun,checkRuns:this.state.checkRuns,repository:this.props.repository,prRef:Np(this.props.prNumber)})},this.getPopoverPositioningStyles=()=>({top:this.props.badgeBottom+10}),this.getListHeightStyles=()=>({maxHeight:window.innerHeight-(this.props.badgeBottom+55+20)+"px"}),this.renderRerunButton=()=>{const{checkRuns:e}=this.state;return gn(this.props.repository.endpoint)?de.createElement(qg,{onClick:this.rerunChecks,disabled:0===e.length||this.state.loadingActionWorkflows},de.createElement(cf,{symbol:bm})," Re-run checks"):null},this.renderHeader=()=>{const{loadingActionWorkflows:e,checkRuns:t,checkRunSummary:n}=this.state,r=e&&0===t.length,i=!r&&t.some(e=>null===e.conclusion)&&!t.some(e=>null!==e.conclusion&&Fc.includes(e.conclusion)),o=!r&&!i&&!t.some(e=>e.conclusion!==Tn.Success),s=!r&&!i&&!t.some(e=>null===e.conclusion||!Fc.includes(e.conclusion));return de.createElement("div",{className:"ci-check-run-list-header",tabIndex:0},de.createElement("div",{className:"completeness-indicator"},this.renderCompletenessIndicator(o,s,r,t)),de.createElement("div",{className:"ci-check-run-list-title-container"},de.createElement("div",{className:"title"},this.getTitle(o,s,i,r)),de.createElement("div",{className:"check-run-list-summary"},n)),this.renderRerunButton())},this.renderList=()=>{const{checkRuns:e,loadingActionLogs:t,loadingActionWorkflows:n}=this.state;return n?this.renderCheckRunLoadings():de.createElement("div",{className:"ci-check-run-list-container",style:this.getListHeightStyles()},de.createElement(CS,{checkRuns:e,loadingActionLogs:t,loadingActionWorkflows:n,onViewCheckDetails:this.onViewCheckDetails,onViewJobStep:this.onViewJobStep}))};const n=this.props.dispatcher.tryGetCommitStatus(this.props.repository,Np(this.props.prNumber));this.state={checkRuns:null!==(t=null==n?void 0:n.checks)&&void 0!==t?t:[],checkRunSummary:this.getCombinedCheckSummary(n),loadingActionLogs:!0,loadingActionWorkflows:!0}}componentDidMount(){const e=this.props.dispatcher.tryGetCommitStatus(this.props.repository,Np(this.props.prNumber),this.props.branchName);this.onStatus(e),this.subscribe()}componentWillUnmount(){this.unsubscribe()}subscribe(){this.unsubscribe(),this.statusSubscription=this.props.dispatcher.subscribeToCommitStatus(this.props.repository,Np(this.props.prNumber),this.onStatus,this.props.branchName)}unsubscribe(){this.statusSubscription&&(this.statusSubscription.dispose(),this.statusSubscription=null)}getCombinedCheckSummary(e){var t;if(null===e||0===e.checks.length)return"";const{checks:n}=e,r=new Map;for(const e of n){const n=wc(e.conclusion).toLocaleLowerCase();r.set(n,(null!==(t=r.get(n))&&void 0!==t?t:0)+1)}const i=[];for(const[e,t]of r.entries())i.push({count:t,conclusion:e});if(i.length>1){const e=i.map(({count:e,conclusion:t})=>`${e} ${t}`);return`${e.slice(0,-1).join(", ")}, and ${e.slice(-1)} checks`}const o=i[0].count>1?"checks":"check";return`${i[0].count} ${i[0].conclusion} ${o}`}renderCheckRunLoadings(){return de.createElement("div",{className:"loading-check-runs"},de.createElement("img",{src:kS,className:"blankslate-image"}),de.createElement("div",{className:"title"},"Stand By"),de.createElement("div",{className:"call-to-action"},"Check runs incoming!"))}renderCompletenessIndicator(e,t,n,r){if(n)return de.createElement(cf,{symbol:bm,className:"spin"});switch(!0){case e:return de.createElement(cf,{className:"completeness-indicator-success",symbol:gf});case t:return de.createElement(cf,{className:"completeness-indicator-error",symbol:hm})}return de.createElement(SS,{valueMap:Mc(r)})}getTitle(e,t,n,r){switch(!0){case r:return de.createElement(de.Fragment,null,"Checks Summary");case n:return de.createElement("span",{className:"pending"},"Some checks haven't completed yet");case t:return de.createElement("span",{className:"failure"},"All checks have failed");case e:return de.createElement(de.Fragment,null,"All checks have passed")}return de.createElement("span",{className:"failure"},"Some checks were not successful")}render(){return de.createElement("div",{className:"ci-check-list-popover"},de.createElement(Wy,{caretPosition:Ly.Top,onClickOutside:this.props.closePopover,style:this.getPopoverPositioningStyles()},this.renderHeader(),this.renderList()))}}class DS extends de.Component{constructor(e){super(e),this.renderBranchFoldout=()=>{const e=this.props.repositoryState,t=e.branchesState,n=e.branchesState.tip,r=n.kind===si.Valid?n.branch:null;return de.createElement(xC,{allBranches:t.allBranches,recentBranches:t.recentBranches,currentBranch:r,defaultBranch:t.defaultBranch,dispatcher:this.props.dispatcher,repository:this.props.repository,selectedTab:this.props.selectedTab,pullRequests:this.props.pullRequests,currentPullRequest:this.props.currentPullRequest,isLoadingPullRequests:this.props.isLoadingPullRequests,emoji:this.props.emoji})},this.onDropDownStateChanged=e=>{"open"===e&&this.props.repositoryState.checkoutProgress||this.props.onDropDownStateChanged(e)},this.onMouseEnter=()=>{Dg.isDragOfTypeInProgress(_g.Commit)&&(Dg.emitEnterDragZone("branch-button"),this.props.dispatcher.showFoldout({type:Ue.Branch}))},this.onBadgeClick=()=>{this.togglePopover()},this.updateBadgeBottomPosition=e=>{this.setState({badgeBottom:e})},this.openPopover=()=>{this.props.dispatcher.setShowCIStatusPopover(!0)},this.closePopover=e=>{if(void 0===e)return void this.props.dispatcher.setShowCIStatusPopover(!1);const{target:t}=e,n=document.getElementById("pr-badge"),r=document.getElementById("rerun-check-runs");null!==t&&t instanceof Node&&(null!==n&&n.contains(t)||null!==r&&r.contains(t))||this.props.dispatcher.setShowCIStatusPopover(!1)},this.state={badgeBottom:0}}render(){const{repositoryState:e}=this.props,{branchesState:t,checkoutProgress:n,changesState:r}=e,{tip:i}=t,{conflictState:o}=r,s=i.kind;let a,l,c=Mf,u=void 0,h="",p=!0,d=!1;if(this.props.currentPullRequest&&(c=Bf),i.kind===si.Unknown)return null;if(i.kind===si.Unborn)a=i.ref,l=" "+i.ref,p=t.allBranches.some(e=>!e.isDesktopForkRemoteBranch);else if(i.kind===si.Detached)a="On "+i.currentSha.substr(0,7),l="Currently on a detached HEAD",c=Ff,h="Detached HEAD";else{if(i.kind!==si.Valid)return Ze(0,"Unknown tip state: "+s);a=l=i.branch.name}let f=void 0;if(n){if(a=n.targetBranch,h="",n.value>0){h=`${h} (${Math.round(100*n.value)}%)`}l="Switching to "+n.targetBranch,f=n.value,c=bm,u="spin",p=!1}else null!==o&&$e(o)&&(a=o.targetBranch,h="Rebasing branch",c=Mf,p=!1,d=!0,l="Rebasing "+o.targetBranch);const m=this.props.isOpen,g=m&&p?"open":"closed",y=al()("nudge-arrow",{"nudge-arrow-up":this.props.shouldNudge});return de.createElement(de.Fragment,null,de.createElement(pS,{className:"branch-button",icon:c,iconClassName:u,title:a,description:h,tooltip:m?void 0:l,onDropdownStateChanged:this.onDropDownStateChanged,dropdownContentRenderer:this.renderBranchFoldout,dropdownState:g,disabled:d,showDisclosureArrow:p,progressValue:f,buttonClassName:y,onMouseEnter:this.onMouseEnter,onlyShowTooltipWhenOverflowed:!0,isOverflowed:_S},this.renderPullRequestInfo()),this.props.showCIStatusPopover&&this.renderPopover())}togglePopover(){this.props.showCIStatusPopover?this.closePopover():(this.props.dispatcher.closeFoldout(Ue.Branch),this.openPopover())}renderPopover(){var e;const t=this.props.currentPullRequest,{tip:n}=this.props.repositoryState.branchesState,r=n.kind===si.Valid?null!==(e=n.branch.upstreamWithoutRemote)&&void 0!==e?e:n.branch.name:"";return null===t?null:de.createElement(xS,{prNumber:t.pullRequestNumber,dispatcher:this.props.dispatcher,repository:t.base.gitHubRepository,branchName:r,badgeBottom:this.state.badgeBottom,closePopover:this.closePopover})}renderPullRequestInfo(){const e=this.props.currentPullRequest;return null===e?null:de.createElement(DC,{number:e.pullRequestNumber,dispatcher:this.props.dispatcher,repository:e.base.gitHubRepository,onBadgeClick:this.onBadgeClick,onBadgeBottomPositionUpdate:this.updateBadgeBottomPosition})}}const _S=e=>{var t;const n=null!==(t=e.querySelector(".title"))&&void 0!==t?t:e;return n.scrollWidth>n.clientWidth};class TS extends de.Component{render(){const e=this.props.progress,t=e.title||"Hang on";return de.createElement(hS,{title:"Reverting",description:t,progressValue:e.value,className:"revert-progress",icon:bm,iconClassName:"spin",style:uS.Subtitle,disabled:!0})}}class RS extends de.Component{constructor(e){super(e),this.discard=async()=>{this.setState({isDiscardingChanges:!0}),await this.props.dispatcher.discardChanges(this.props.repository,this.props.files),this.props.onConfirmDiscardChangesChanged(this.state.confirmDiscardChanges),this.props.onDismissed()},this.onConfirmDiscardChangesChanged=e=>{const t=!e.currentTarget.checked;this.setState({confirmDiscardChanges:t})},this.state={isDiscardingChanges:!1,confirmDiscardChanges:this.props.confirmDiscardChanges}}getOkButtonLabel(){return this.props.discardingAllChanges?"Discard All Changes":"Discard Changes"}getDialogTitle(){return this.props.discardingAllChanges?"Confirm Discard All Changes":"Confirm Discard Changes"}render(){const e=this.state.isDiscardingChanges;return de.createElement(ev,{id:"discard-changes",title:this.getDialogTitle(),onDismissed:this.props.onDismissed,onSubmit:this.discard,dismissable:!e,loading:e,disabled:e,type:"warning"},de.createElement(Xy,null,this.renderFileList(),de.createElement("p",null," ","","."),this.renderConfirmDiscardChanges()),de.createElement(nv,null,de.createElement(rv,{destructive:!0,okButtonText:this.getOkButtonLabel()})))}renderConfirmDiscardChanges(){return this.props.showDiscardChangesSetting?de.createElement(Qg,{label:"Do not show this message again",value:this.state.confirmDiscardChanges?Xg.Off:Xg.On,onChange:this.onConfirmDiscardChangesChanged}):null}renderFileList(){return this.props.files.length>10?de.createElement("p",null,"Are you sure you want to discard all ",this.props.files.length," ?"):de.createElement("div",null,de.createElement("p",null,"Are you sure you want to discard all changes to:"),de.createElement("ul",null,this.props.files.map(e=>de.createElement("li",{key:e.id},de.createElement(Iv,{path:e.path})))))}}class AS extends de.Component{constructor(){super(...arguments),this.onSubmit=e=>{e.preventDefault(),this.props.onSubmit&&this.props.onSubmit()}}render(){const e=al()("form-component",this.props.className);return de.createElement("form",{className:e,onSubmit:this.onSubmit},this.props.children)}}class OS extends de.Component{render(){const e=al()("errors-component",this.props.className);return de.createElement("div",{className:e},this.props.children)}}const PS="Your browser will redirect you back to GitHub Desktop once you've signed in. If your browser asks for your permission to launch GitHub Desktop please allow it to.";class IS extends de.Component{constructor(e){super(e),this.onUsernameChange=e=>{this.setState({username:e})},this.onPasswordChange=e=>{this.setState({password:e})},this.signInWithBrowser=e=>{e&&e.preventDefault(),this.props.onBrowserSignInRequested()},this.signIn=()=>{this.props.onSubmit(this.state.username,this.state.password)},this.state={username:"",password:""}}render(){const e=this.props.supportsBasicAuth?this.renderSignInForm():this.renderEndpointRequiresWebFlow();return de.createElement(AS,{className:"sign-in-form",onSubmit:this.signIn},e)}renderUsernamePassword(){const e=this.props.loading;return de.createElement(de.Fragment,null,de.createElement(Fg,{label:"Username or email address",disabled:e,autoFocus:!0,onValueChanged:this.onUsernameChange}),de.createElement(Fg,{label:"Password",type:"password",disabled:e,onValueChanged:this.onPasswordChange}),this.renderError(),de.createElement("div",{className:"sign-in-footer"},this.renderActions()))}renderActions(){const e=Boolean(!this.state.username.length||!this.state.password.length||this.props.loading);return de.createElement("div",{className:"actions"},this.props.supportsBasicAuth?de.createElement(qg,{type:"submit",disabled:e},this.props.loading?de.createElement(uy,null):null," Sign in"):null,this.props.additionalButtons,this.props.supportsBasicAuth?de.createElement(Mg,{className:"forgot-password-link",uri:this.props.forgotPasswordUrl},"Forgot password?"):null)}renderSignInWithBrowser(){return de.createElement(de.Fragment,null,this.renderSignInWithBrowserButton(),this.props.additionalButtons)}renderSignInForm(){return this.props.endpoint===Nn()?this.renderUsernamePassword():de.createElement(de.Fragment,null,this.renderSignInWithBrowser(),this.renderUsernamePassword())}renderEndpointRequiresWebFlow(){return de.createElement(de.Fragment,null,this.props.endpoint===Nn()?de.createElement(de.Fragment,null,de.createElement("p",null,"GitHub now requires you to sign in with your browser."),de.createElement("p",null,PS)):de.createElement("p",null,"Your GitHub Enterprise instance requires you to sign in with your browser."),this.renderSignInWithBrowserButton(),this.props.additionalButtons)}renderSignInWithBrowserButton(){return de.createElement(qg,{type:"submit",className:"button-with-icon",onClick:this.signInWithBrowser},"Sign in using your browser",de.createElement(cf,{symbol:zf}))}renderError(){const e=this.props.error;return e?de.createElement(OS,null,e.message):null}}class MS extends de.Component{constructor(){super(...arguments),this.signInWithBrowser=e=>{e&&e.preventDefault(),this.props.advance(WS.SignInToDotComWithBrowser),this.props.dispatcher.requestBrowserAuthenticationToDotcom()},this.cancelBrowserAuth=()=>{this.props.advance(WS.Start)},this.signInToEnterprise=()=>{this.props.advance(WS.SignInToEnterprise)},this.skip=()=>{this.props.advance(WS.ConfigureGit)}}render(){return de.createElement("div",{id:"start"},de.createElement("h1",{className:"welcome-title"},"Welcome to GitHubDesktop"),this.props.loadingBrowserAuth?de.createElement("p",null,PS):de.createElement(de.Fragment,null,de.createElement("p",{className:"welcome-text"},"GitHub Desktop is a seamless way to contribute to projects on GitHub and GitHub Enterprise. Sign in below to get started with your existing projects."),de.createElement("p",{className:"welcome-text"},"New to GitHub?"," ",de.createElement(Mg,{uri:"https://github.com/join?source=github-desktop",className:"create-account-link"},"Create your free account."))),de.createElement("div",{className:"welcome-main-buttons"},de.createElement(qg,{type:"submit",className:"button-with-icon",disabled:this.props.loadingBrowserAuth,onClick:this.signInWithBrowser},this.props.loadingBrowserAuth&&de.createElement(uy,null),"Sign in to GitHub.com",de.createElement(cf,{symbol:zf})),this.props.loadingBrowserAuth?de.createElement(qg,{onClick:this.cancelBrowserAuth},"Cancel"):de.createElement(qg,{onClick:this.signInToEnterprise},"Sign in to GitHub Enterprise")),de.createElement("div",{className:"skip-action-container"},de.createElement(Mg,{className:"skip-button",onClick:this.skip},"Skip this step")),de.createElement("div",{className:"welcome-start-disclaimer-container"},"By creating an account, you agree to the"," ",de.createElement(Mg,{uri:"https://github.com/site/terms"},"Terms of Service"),". For more information about GitHub's privacy practices, see the"," ",de.createElement(Mg,{uri:"https://github.com/site/privacy"},"GitHub Privacy Statement"),".",de.createElement("br",null),de.createElement("br",null),"GitHub Desktop sends usage metrics to improve the product and inform feature decisions. Read more about what metrics are sent and how we use them ",de.createElement(Mg,{uri:Wp},"here"),"."))}}class FS extends de.Component{constructor(e){super(e),this.onOTPChange=e=>{this.setState({otp:e})},this.signIn=()=>{this.props.onOTPEntered(this.state.otp)},this.state={otp:""}}render(){const e=this.props.loading,t=!/\S+/.test(this.state.otp)||this.props.loading,n=this.props.error?de.createElement(OS,null,this.props.error.message):null;return de.createElement("div",null,de.createElement("p",{className:"welcome-text"},Kt(this.props.type)),de.createElement(AS,{onSubmit:this.signIn},de.createElement(Fg,{label:"Authentication code",disabled:e,autoFocus:!0,onValueChanged:this.onOTPChange}),n,de.createElement("div",{className:"actions"},de.createElement(qg,{type:"submit",disabled:t},this.props.loading?de.createElement(uy,null):null," Verify"),this.props.additionalButtons)))}}class NS extends de.Component{constructor(e){super(e),this.onServerAddressChanged=e=>{this.setState({serverAddress:e})},this.onSubmit=()=>{this.props.onSubmit(this.state.serverAddress)},this.state={serverAddress:""}}render(){const e=this.props.loading,t=0===this.state.serverAddress.length||this.props.loading;return de.createElement(AS,{onSubmit:this.onSubmit},de.createElement(Fg,{label:"Enterprise or AE address",autoFocus:!0,disabled:e,onValueChanged:this.onServerAddressChanged,placeholder:"https://github.example.com"}),this.props.error?de.createElement(OS,null,this.props.error.message):null,de.createElement("div",{className:"actions"},de.createElement(qg,{type:"submit",disabled:t},this.props.loading?de.createElement(uy,null):null," Continue"),this.props.additionalButtons))}}class BS extends de.Component{constructor(){super(...arguments),this.onEndpointEntered=e=>{this.props.dispatcher.setSignInEndpoint(e)},this.onCredentialsEntered=(e,t)=>{this.props.dispatcher.setSignInCredentials(e,t)},this.onBrowserSignInRequested=()=>{this.props.dispatcher.requestBrowserAuthentication()},this.onOTPEntered=e=>{this.props.dispatcher.setSignInOTP(e)}}renderEndpointEntryStep(e){const t=this.props.children;return de.createElement(NS,{loading:e.loading,error:e.error,onSubmit:this.onEndpointEntered,additionalButtons:t})}renderAuthenticationStep(e){const t=this.props.children;return de.createElement(IS,{loading:e.loading,error:e.error,supportsBasicAuth:e.supportsBasicAuth,additionalButtons:t,onBrowserSignInRequested:this.onBrowserSignInRequested,onSubmit:this.onCredentialsEntered,forgotPasswordUrl:e.forgotPasswordUrl,endpoint:e.endpoint})}renderTwoFactorAuthenticationStep(e){return de.createElement(FS,{loading:e.loading,error:e.error,type:e.type,additionalButtons:this.props.children,onOTPEntered:this.onOTPEntered})}render(){const e=this.props.signInState,t=this.props.signInState.kind;switch(e.kind){case eu.EndpointEntry:return this.renderEndpointEntryStep(e);case eu.Authentication:return this.renderAuthenticationStep(e);case eu.TwoFactorAuthentication:return this.renderTwoFactorAuthenticationStep(e);case eu.Success:return null;default:return Ze(0,"Unknown sign-in step: "+t)}}}class LS extends de.Component{constructor(){super(...arguments),this.cancel=()=>{this.props.advance(WS.Start)}}render(){const e=this.props.signInState;return e?de.createElement("div",{id:"sign-in-enterprise"},de.createElement("h1",{className:"welcome-title"},"Sign in to your GitHub Enterprise"),de.createElement(BS,{signInState:e,dispatcher:this.props.dispatcher},de.createElement(qg,{onClick:this.cancel},"Cancel"))):null}}class HS extends de.Component{constructor(){super(...arguments),this.onDeleteLockFile=async()=>{try{await Object(w.unlink)(this.props.lockFilePath)}catch(e){if("ENOENT"!==e.code)return void this.props.onError(e)}this.props.onLockFileDeleted()}}render(){return de.createElement("div",{className:"config-lock-file-exists-component"},de.createElement("p",null,"Failed to update Git configuration file. A lock file already exists at"," ",de.createElement(av,null,this.props.lockFilePath),"."),de.createElement("p",null,"This can happen if another tool is currently modifying the Git configuration or if a Git process has terminated earlier without cleaning up the lock file. Do you want to"," ",de.createElement(Mg,{onClick:this.onDeleteLockFile},"delete the lock file")," ","and try again?"))}}class US extends de.Component{constructor(e){super(e),this.globalUsernamePromise=cr("user.name"),this.globalEmailPromise=cr("user.email"),this.loadInitialDataPromise=null,this.onSelectedGitHubEmailChange=e=>{const t=e.currentTarget.value;t&&this.setState({gitHubEmail:t})},this.onLockFileDeleted=()=>{this.setState({existingLockFilePath:void 0})},this.onLockFileDeleteError=e=>{log.error("Failed to unlink config lock file",e),this.setState({existingLockFilePath:void 0})},this.onUseGitHubInfoSelected=()=>{this.setState({useGitHubAuthorInfo:!0})},this.onUseGitConfigInfoSelected=()=>{this.setState({useGitHubAuthorInfo:!1})},this.onNameChange=e=>{this.setState({manualName:e})},this.onEmailChange=e=>{this.setState({manualEmail:e})},this.save=async()=>{const{manualName:e,manualEmail:t,globalUserName:n,globalUserEmail:r,useGitHubAuthorInfo:i,gitHubName:o,gitHubEmail:s}=this.state,a=i?o:e,l=i?s:t;try{a.length>0&&a!==n&&await pr("user.name",a),l.length>0&&l!==r&&await pr("user.email",l)}catch(e){if(fd(e)){const t=gd(e.result);if(null!==t)return void this.setState({existingLockFilePath:t})}}this.props.onSave&&this.props.onSave()};const t=this.account;this.state={globalUserName:null,globalUserEmail:null,manualName:"",manualEmail:"",useGitHubAuthorInfo:null!==this.account,gitHubName:(null==t?void 0:t.name)||(null==t?void 0:t.login)||"",gitHubEmail:null!==this.account?Aa(this.account):""}}async componentDidMount(){this.loadInitialDataPromise=this.loadInitialData()}async loadInitialData(){const e=this.props.accounts,[t,n]=await Promise.all([this.globalUsernamePromise,this.globalEmailPromise]);this.setState(e=>({globalUserName:t,globalUserEmail:n,manualName:0===e.manualName.length?t||"":e.manualName,manualEmail:0===e.manualEmail.length?n||"":e.manualEmail}),()=>{e===this.props.accounts&&e.length>0&&this.setDefaultValuesFromAccount(e[0])})}async componentDidUpdate(e){if(null!==this.loadInitialDataPromise&&this.props.accounts!==e.accounts&&this.props.accounts.length>0&&this.props.accounts[0]!==e.accounts[0]){await this.loadInitialDataPromise;const e=this.props.accounts[0];this.setDefaultValuesFromAccount(e)}}setDefaultValuesFromAccount(e){const t=Aa(e);this.setState({useGitHubAuthorInfo:!0,gitHubName:e.name||e.login,gitHubEmail:t}),0===this.state.manualName.length&&this.setState({manualName:e.name||e.login}),0===this.state.manualEmail.length&&this.setState({manualEmail:t})}get account(){return 0===this.props.accounts.length?null:this.props.accounts[0]}dateWithMinuteOffset(e,t){const n=new Date(e.getTime());return n.setTime(n.getTime()+60*t*1e3),n}render(){const e=void 0!==this.state.existingLockFilePath?de.createElement(HS,{lockFilePath:this.state.existingLockFilePath,onLockFileDeleted:this.onLockFileDeleted,onError:this.onLockFileDeleteError}):null;return de.createElement("div",{id:"configure-git-user"},this.renderAuthorOptions(),e,this.state.useGitHubAuthorInfo?this.renderGitHubInfo():this.renderGitConfigForm(),this.renderExampleCommit())}renderExampleCommit(){const e=new Date;let t=this.state.manualName,n=this.state.manualEmail;this.state.useGitHubAuthorInfo&&(t=this.state.gitHubName,n=this.state.gitHubEmail);const r=new ns(t,n,this.dateWithMinuteOffset(e,-30)),i=new ts(t,t.slice(0,7),"Fix all the things","",r,r,[],[],[]),o=new Map;return de.createElement("div",{id:"commit-list",className:"commit-list-example"},de.createElement("div",{className:"header"},"Example commit"),de.createElement(Pw,{commit:i,emoji:o,gitHubRepository:null,canBeUndone:!1,canBeAmended:!1,canBeResetTo:!1,isLocal:!1,showUnpushedIndicator:!1,selectedCommits:[i]}))}renderAuthorOptions(){const e=this.account;if(null===e)return;const t=e.endpoint===Nn()?"":" Enterprise";return de.createElement("div",null,de.createElement(pv,{label:`Use my GitHub${t} account name and email address`,checked:this.state.useGitHubAuthorInfo,onSelected:this.onUseGitHubInfoSelected,value:"github-account"}),de.createElement(pv,{label:"Configure manually",checked:!this.state.useGitHubAuthorInfo,onSelected:this.onUseGitConfigInfoSelected,value:"git-config"}))}renderGitHubInfo(){if(null!==this.account)return de.createElement(AS,{className:"sign-in-form",onSubmit:this.save},de.createElement(Fg,{label:"Name",placeholder:"Your Name",value:this.state.gitHubName,disabled:!0}),de.createElement(By,{label:"Email",value:this.state.gitHubEmail,onChange:this.onSelectedGitHubEmailChange},this.account.emails.map(e=>de.createElement("option",{key:e.email,value:e.email},e.email))),de.createElement(Ng,null,de.createElement(qg,{type:"submit"},this.props.saveLabel||"Save"),this.props.children))}renderGitConfigForm(){return de.createElement(AS,{className:"sign-in-form",onSubmit:this.save},de.createElement(Fg,{label:"Name",placeholder:"Your Name",value:this.state.manualName,onValueChanged:this.onNameChange}),de.createElement(Fg,{type:"email",label:"Email",placeholder:"your-email@example.com",value:this.state.manualEmail,onValueChanged:this.onEmailChange}),null!==this.account&&de.createElement(fv,{accounts:[this.account],email:this.state.manualEmail}),de.createElement(Ng,null,de.createElement(qg,{type:"submit"},this.props.saveLabel||"Save"),this.props.children))}}class jS extends de.Component{constructor(){super(...arguments),this.cancel=()=>{this.props.advance(WS.Start)}}render(){return de.createElement("div",{id:"configure-git"},de.createElement("h1",{className:"welcome-title"},"Configure Git"),de.createElement("p",{className:"welcome-text"},"This is used to identify the commits you create. Anyone will be able to see this information if you publish commits."),de.createElement(US,{accounts:this.props.accounts,onSave:this.props.done,saveLabel:"Finish"},de.createElement(qg,{onClick:this.cancel},"Cancel")))}}var WS;!function(e){e.Start="Start",e.SignInToDotComWithBrowser="SignInToDotComWithBrowser",e.SignInToEnterprise="SignInToEnterprise",e.ConfigureGit="ConfigureGit"}(WS||(WS={}));const zS=lt(__dirname,"static/welcome-illustration-right.svg"),GS=lt(__dirname,"static/welcome-illustration-left-top.svg"),qS=lt(__dirname,"static/welcome-illustration-left-bottom.svg");class VS extends de.Component{constructor(e){super(e),this.advanceToStep=e=>{log.info("[Welcome] advancing to step: "+e),e===WS.SignInToEnterprise&&this.props.dispatcher.beginEnterpriseSignIn(),this.setState({currentStep:e})},this.done=()=>{this.setState({exiting:!0},()=>{setTimeout(()=>{this.props.dispatcher.endWelcomeFlow()},250)})},this.state={currentStep:WS.Start,exiting:!1}}componentWillReceiveProps(e){this.advanceOnSuccessfulSignIn(e)}componentDidMount(){this.props.dispatcher.recordWelcomeWizardInitiated()}get inSignInStep(){return this.state.currentStep===WS.SignInToDotComWithBrowser||this.state.currentStep===WS.SignInToEnterprise}advanceOnSuccessfulSignIn(e){this.inSignInStep?this.props.signInState?e.signInState?this.props.signInState.kind!==e.signInState.kind?e.signInState.kind===eu.Success&&(this.advanceToStep(WS.ConfigureGit),this.props.dispatcher.resetSignInState()):log.info(`[Welcome] kind ${this.props.signInState.kind} is the same as ${e.signInState.kind}. ignoring...`):log.info("[Welcome] next sign in state not found. ignoring..."):log.info("[Welcome] current sign in state not found. ignoring..."):log.info("[Welcome] no sign in step found. ignoring...")}getComponentForCurrentStep(){const e=this.state.currentStep,t=this.props.signInState;switch(e){case WS.Start:case WS.SignInToDotComWithBrowser:const n=e===WS.SignInToDotComWithBrowser&&null!==t&&t.kind===eu.Authentication&&t.loading;return de.createElement(MS,{advance:this.advanceToStep,dispatcher:this.props.dispatcher,loadingBrowserAuth:n});case WS.SignInToEnterprise:return de.createElement(LS,{dispatcher:this.props.dispatcher,advance:this.advanceToStep,signInState:t});case WS.ConfigureGit:return de.createElement(jS,{advance:this.advanceToStep,accounts:this.props.accounts,done:this.done});default:return Ze(0,"Unknown welcome step: "+e)}}render(){const e=al()({exiting:this.state.exiting});return de.createElement(Zg,{id:"welcome",className:e},de.createElement("div",{className:"welcome-left"},de.createElement("div",{className:"welcome-content"},this.getComponentForCurrentStep(),de.createElement("img",{className:"welcome-graphic-top",src:GS}),de.createElement("img",{className:"welcome-graphic-bottom",src:qS}))),de.createElement("div",{className:"welcome-right"},de.createElement("img",{className:"welcome-graphic",src:zS})))}}de.Component;de.Component;de.Component;de.Component;de.Component;de.Component;class $S extends de.Component{constructor(){super(...arguments),this.timeoutId=null,this.componentDidMount=()=>{void 0!==this.props.timeout&&(this.timeoutId=window.setTimeout(()=>{this.props.onDismissed()},this.props.timeout))},this.componentWillUnmount=()=>{void 0!==this.props.timeout&&null!==this.timeoutId&&window.clearTimeout(this.timeoutId)}}render(){return de.createElement("div",{id:this.props.id,className:"banner"},de.createElement("div",{className:"contents"},this.props.children),this.renderCloseButton())}renderCloseButton(){const{dismissable:e}=this.props;return void 0===e||!1===e?null:de.createElement("div",{className:"close"},de.createElement("a",{onClick:this.props.onDismissed},de.createElement(cf,{symbol:um})))}}const KS="https://desktop.github.com/release-notes/";class YS extends de.Component{constructor(){super(...arguments),this.showReleaseNotes=()=>{null==this.props.newRelease?Je.openExternal(KS):this.props.dispatcher.showPopup({type:ai.ReleaseNotes,newRelease:this.props.newRelease})},this.updateNow=()=>{Pt.quitAndInstallUpdate()}}render(){return de.createElement($S,{id:"update-available",onDismissed:this.props.onDismissed},de.createElement(cf,{className:"download-icon",symbol:wf}),de.createElement("span",{onSubmit:this.updateNow},"An updated version of GitHub Desktop is available and will be installed at the next launch. See"," ",de.createElement(Mg,{onClick:this.showReleaseNotes},"what's new")," or"," ",de.createElement(Mg,{onClick:this.updateNow},"restart GitHub Desktop"),"."))}}class ZS extends de.Component{constructor(){super(...arguments),this.openDialog=()=>{this.props.onDismissed(),this.props.dispatcher.showPopup(this.props.popup),this.props.dispatcher.recordMergeConflictsDialogReopened()}}render(){return de.createElement($S,{id:"merge-conflicts-banner",dismissable:!1,onDismissed:this.props.onDismissed},de.createElement(cf,{className:"alert-icon",symbol:hf}),de.createElement("div",{className:"banner-message"},de.createElement("span",null,"Resolve conflicts and commit to merge into"," ",de.createElement("strong",null,this.props.ourBranch),"."),de.createElement(Mg,{onClick:this.openDialog},"View conflicts")))}}class XS extends de.Component{constructor(){super(...arguments),this.undo=()=>{this.props.onDismissed(),void 0!==this.props.onUndo&&this.props.onUndo()},this.renderUndo=()=>{if(void 0!==this.props.onUndo)return de.createElement(Mg,{onClick:this.undo},"Undo")}}render(){return de.createElement($S,{id:"successful",timeout:this.props.timeout,onDismissed:this.props.onDismissed},de.createElement("div",{className:"green-circle"},de.createElement(cf,{className:"check-icon",symbol:mf})),de.createElement("div",{className:"banner-message"},de.createElement("span",{className:"success-contents"},this.props.children),this.renderUndo()))}}function QS({ourBranch:e,theirBranch:t,onDismissed:n}){const r=void 0!==t?de.createElement("span",null,"Successfully merged ",de.createElement("strong",null,t)," into ",de.createElement("strong",null,e)):de.createElement("span",null,"Successfully merged into ",de.createElement("strong",null,e));return de.createElement(XS,{timeout:5e3,onDismissed:n},de.createElement("div",{className:"banner-message"},r))}class JS extends de.Component{constructor(){super(...arguments),this.openDialog=async()=>{this.props.onDismissed(),this.props.onOpenDialog(),this.props.dispatcher.recordRebaseConflictsDialogReopened()},this.onDismissed=()=>{log.warn("[RebaseConflictsBanner] this is not dismissable by default unless the user clicks on the link")}}render(){return de.createElement($S,{id:"rebase-conflicts-banner",dismissable:!1,onDismissed:this.onDismissed},de.createElement(cf,{className:"alert-icon",symbol:hf}),de.createElement("div",{className:"banner-message"},de.createElement("span",null,"Resolve conflicts to continue rebasing"," ",de.createElement("strong",null,this.props.targetBranch),"."),de.createElement(Mg,{onClick:this.openDialog},"View conflicts")))}}function eE({baseBranch:e,targetBranch:t,onDismissed:n}){const r=void 0!==e?de.createElement("span",null,"Successfully rebased ",de.createElement("strong",null,t)," onto ",de.createElement("strong",null,e)):de.createElement("span",null,"Successfully rebased ",de.createElement("strong",null,t));return de.createElement(XS,{timeout:5e3,onDismissed:n},de.createElement("div",{className:"banner-message"},r))}function tE({ourBranch:e,theirBranch:t,onDismissed:n}){const r=void 0!==t?de.createElement("span",null,de.createElement("strong",null,e)," is already up to date with ",de.createElement("strong",null,t)):de.createElement("span",null,de.createElement("strong",null,e)," is already up to date");return de.createElement($S,{id:"successful-merge",timeout:5e3,onDismissed:n},de.createElement("div",{className:"green-circle"},de.createElement(cf,{className:"check-icon",symbol:mf})),de.createElement("div",{className:"banner-message"},r))}class nE extends de.Component{render(){const{countCherryPicked:e,onDismissed:t,onUndo:n,targetBranchName:r}=this.props,i=1===e?"commit":"commits";return de.createElement(XS,{timeout:15e3,onDismissed:t,onUndo:n},de.createElement("span",null,"Successfully copied ",e," ",i," to"," ",de.createElement("strong",null,r),"."))}}class rE extends de.Component{constructor(){super(...arguments),this.openDialog=async()=>{this.props.onDismissed(),this.props.onOpenConflictsDialog()},this.onDismissed=()=>{log.warn("[CherryPickConflictsBanner] this is not dismissable by default unless the user clicks on the link")}}render(){return de.createElement($S,{id:"cherry-pick-conflicts-banner",dismissable:!1,onDismissed:this.onDismissed},de.createElement(cf,{className:"alert-icon",symbol:hf}),de.createElement("div",{className:"banner-message"},de.createElement("span",null,"Resolve conflicts to continue cherry-picking onto"," ",de.createElement("strong",null,this.props.targetBranchName),"."),de.createElement(Mg,{onClick:this.openDialog},"View conflicts")))}}class iE extends de.Component{render(){const{countCherryPicked:e,targetBranchName:t,onDismissed:n}=this.props,r=1===e?"commit":"commits";return de.createElement(XS,{timeout:5e3,onDismissed:n},"Cherry-pick undone. Successfully removed the ",e," copied ",r," from ",de.createElement("strong",null,t),".")}}class oE extends de.Component{constructor(){super(...arguments),this.onThrowCardAway=()=>{this.props.onDismissed(),this.props.onThrowCardAway()}}render(){return de.createElement($S,{id:"open-thank-you-card",onDismissed:this.props.onDismissed},de.createElement("span",{onSubmit:this.props.onOpenCard},"The Desktop team would like to thank you for your contributions."," ",de.createElement(Mg,{onClick:this.props.onOpenCard},"Open Your Card")," ",de.createElement(Wv,{className:"thank-you-banner-emoji",text:":tada:",emoji:this.props.emoji,renderUrlsAsLinks:!0}),"or"," ",de.createElement(Mg,{onClick:this.onThrowCardAway},"Throw It Away")," ",de.createElement(Wv,{className:"thank-you-banner-emoji",text:":sob:",emoji:this.props.emoji,renderUrlsAsLinks:!0})))}}class sE extends de.Component{render(){const{count:e,onDismissed:t,onUndo:n}=this.props,r=1===e?"commit":"commits";return de.createElement(XS,{timeout:15e3,onDismissed:t,onUndo:n},de.createElement("span",null,"Successfully squashed ",e," ",r,"."))}}class aE extends de.Component{constructor(){super(...arguments),this.openDialog=async()=>{this.props.onDismissed(),this.props.onOpenConflictsDialog()},this.onDismissed=()=>{log.warn("[ConflictsBanner] This cannot be dismissed by default unless the user clicks on the link")}}render(){return de.createElement($S,{id:"conflicts-found-banner",dismissable:!1,onDismissed:this.onDismissed},de.createElement(cf,{className:"alert-icon",symbol:hf}),de.createElement("div",{className:"banner-message"},de.createElement("span",null,"Resolve conflicts to continue ",this.props.operationDescription,"."),de.createElement(Mg,{onClick:this.openDialog},"View conflicts")))}}var lE;!function(e){e[e.DotCom=0]="DotCom",e[e.Enterprise=1]="Enterprise"}(lE||(lE={}));class cE extends de.Component{constructor(){super(...arguments),this.onDotComSignIn=()=>{this.props.onDotComSignIn()},this.onEnterpriseSignIn=()=>{this.props.onEnterpriseSignIn()},this.logout=e=>()=>{this.props.onLogout(e)}}render(){return de.createElement(Xy,{className:"accounts-tab"},de.createElement("h2",null,"GitHub.com"),this.props.dotComAccount?this.renderAccount(this.props.dotComAccount):this.renderSignIn(lE.DotCom),de.createElement("h2",null,"GitHub Enterprise"),this.props.enterpriseAccount?this.renderAccount(this.props.enterpriseAccount):this.renderSignIn(lE.Enterprise))}renderAccount(e){const t={name:e.name,email:Aa(e),avatarURL:e.avatarURL,endpoint:e.endpoint};return de.createElement(Ng,{className:"account-info"},de.createElement(Vy,{user:t}),de.createElement("div",{className:"user-info"},de.createElement("div",{className:"name"},e.name),de.createElement("div",{className:"login"},"@",e.login)),de.createElement(qg,{onClick:this.logout(e)},""))}renderSignIn(e){switch(e){case lE.DotCom:return de.createElement(cv,{actionTitle:"",onAction:this.onDotComSignIn},de.createElement("div",null,"Sign in to your GitHub.com account to access your repositories."));case lE.Enterprise:return de.createElement(cv,{actionTitle:"",onAction:this.onEnterpriseSignIn},de.createElement("div",null,"GitHub EnterpriseAE, ."));default:return Ze(0,"Unknown sign in type: "+e)}}}class uE extends de.Component{constructor(e){super(e),this.onReportingOptOutChanged=e=>{const t=!e.currentTarget.checked;this.setState({optOutOfUsageTracking:t}),this.props.onOptOutofReportingChanged(t)},this.onUncommittedChangesStrategyChanged=e=>{this.setState({uncommittedChangesStrategy:e}),this.props.onUncommittedChangesStrategyChanged(e)},this.onRepositoryIndicatorsEnabledChanged=e=>{this.props.onRepositoryIndicatorsEnabledChanged(e.currentTarget.checked)},this.onUseWindowsOpenSSHChanged=e=>{this.props.onUseWindowsOpenSSHChanged(e.currentTarget.checked)},this.onNotificationsEnabledChanged=e=>{this.props.onNotificationsEnabledChanged(e.currentTarget.checked)},this.state={optOutOfUsageTracking:this.props.optOutOfUsageTracking,uncommittedChangesStrategy:this.props.uncommittedChangesStrategy,canUseWindowsSSH:!1}}componentDidMount(){this.checkSSHAvailability()}async checkSSHAvailability(){this.setState({canUseWindowsSSH:await mc()})}reportDesktopUsageLabel(){return de.createElement("span",null,"Help GitHub Desktop improve by submitting"," ",de.createElement(Mg,{uri:Wp},"usage stats"))}render(){return de.createElement(Xy,null,de.createElement("div",{className:"advanced-section"},de.createElement("h2",null,"If I have changes and I switch branches..."),de.createElement(pv,{value:Ms.AskForConfirmation,checked:this.state.uncommittedChangesStrategy===Ms.AskForConfirmation,label:"Ask me where I want the changes to go",onSelected:this.onUncommittedChangesStrategyChanged}),de.createElement(pv,{value:Ms.MoveToNewBranch,checked:this.state.uncommittedChangesStrategy===Ms.MoveToNewBranch,label:"Always bring my changes to my new branch",onSelected:this.onUncommittedChangesStrategyChanged}),de.createElement(pv,{value:Ms.StashOnCurrentBranch,checked:this.state.uncommittedChangesStrategy===Ms.StashOnCurrentBranch,label:"Always stash and leave my changes on the current branch",onSelected:this.onUncommittedChangesStrategyChanged})),de.createElement("div",{className:"advanced-section"},de.createElement("h2",null,"Background updates"),de.createElement(Qg,{label:"Periodically fetch and refresh status of all repositories",value:this.props.repositoryIndicatorsEnabled?Xg.On:Xg.Off,onChange:this.onRepositoryIndicatorsEnabledChanged}),de.createElement("p",{className:"git-settings-description"},"Allows the display of up-to-date status indicators in the repository list. Disabling this may improve performance with many repositories.")),this.renderSSHSettings(),this.renderNotificationsSettings(),de.createElement("div",{className:"advanced-section"},de.createElement("h2",null,"Usage"),de.createElement(Qg,{label:this.reportDesktopUsageLabel(),value:this.state.optOutOfUsageTracking?Xg.Off:Xg.On,onChange:this.onReportingOptOutChanged})))}renderSSHSettings(){return this.state.canUseWindowsSSH?de.createElement("div",{className:"advanced-section"},de.createElement("h2",null,"SSH"),de.createElement(Qg,{label:"Use system OpenSSH (recommended)",value:this.props.useWindowsOpenSSH?Xg.On:Xg.Off,onChange:this.onUseWindowsOpenSSHChanged})):null}renderNotificationsSettings(){return de.createElement("div",{className:"advanced-section"},de.createElement("h2",null,"Notifications"),de.createElement(Qg,{label:"Enable notifications",value:this.props.notificationsEnabled?Xg.On:Xg.Off,onChange:this.onNotificationsEnabledChanged}),de.createElement("p",{className:"git-settings-description"},"Allows the display of notifications when high-signal events take place in the current repository."))}}class hE extends de.Component{constructor(e){super(e),this.defaultBranchInputRef=de.createRef(),this.renderWarningMessage=(e,t)=>""===e?de.createElement(de.Fragment,null,de.createElement(av,null,t)," is an invalid branch name."):de.createElement(de.Fragment,null,"Will be saved as ",de.createElement(av,null,e),"."),this.onDefaultBranchChanged=e=>{this.setState({defaultBranchIsOther:!ks.includes(e)}),this.props.onDefaultBranchChanged(e)},this.state={defaultBranchIsOther:!ks.includes(this.props.defaultBranch)}}componentDidUpdate(e){this.props.defaultBranch!==e.defaultBranch&&""===this.props.defaultBranch&&null!==this.defaultBranchInputRef.current&&this.defaultBranchInputRef.current.focus()}render(){return de.createElement(Xy,null,this.renderGitConfigAuthorInfo(),this.renderDefaultBranchSetting())}renderGitConfigAuthorInfo(){return de.createElement(mv,{email:this.props.email,name:this.props.name,enterpriseAccount:this.props.enterpriseAccount,dotComAccount:this.props.dotComAccount,onEmailChanged:this.props.onEmailChanged,onNameChanged:this.props.onNameChanged})}renderDefaultBranchSetting(){const{defaultBranchIsOther:e}=this.state;return de.createElement("div",{className:"default-branch-component"},de.createElement("h2",null,"Default branch name for new repositories"),ks.map(t=>de.createElement(pv,{key:t,checked:!e&&this.props.defaultBranch===t,value:t,label:t,onSelected:this.onDefaultBranchChanged})),de.createElement(pv,{key:"",checked:e,value:"",label:"Other",onSelected:this.onDefaultBranchChanged}),e&&de.createElement(iS,{initialValue:this.props.defaultBranch,renderWarningMessage:this.renderWarningMessage,onValueChange:this.props.onDefaultBranchChanged,ref:this.defaultBranchInputRef}),de.createElement("p",{className:"git-settings-description"},"These preferences will edit your global Git config."))}}class pE extends de.Component{constructor(){super(...arguments),this.onClick=()=>{this.props.onClick(this.props.value)},this.onDoubleClick=()=>{this.props.onDoubleClick(this.props.value)}}render(){const e=this.props.description?de.createElement("p",null,this.props.description):void 0,t=this.props.isSelected,n=t?"selected":void 0;return de.createElement("li",{className:n,onClick:this.onClick,onDoubleClick:this.onDoubleClick,role:"radio",id:this.props.id,"aria-checked":t?"true":"false"},de.createElement("div",{className:"title"},this.props.title),e)}}class dE extends de.Component{constructor(e){super(e),this.listRef=null,this.formRef=null,this.onItemClick=e=>{e!==this.props.selectedKey&&this.props.onSelectionChanged(e)},this.onItemDoubleClick=e=>{this.onItemClick(e),this.submitForm()},this.onKeyDown=e=>{const t=this.findSelectedIndex(this.props.items);"ArrowUp"===e.key?(t>0&&this.props.onSelectionChanged(this.props.items[t-1].key),e.preventDefault()):"ArrowDown"===e.key?(t<this.props.items.length-1&&this.props.onSelectionChanged(this.props.items[t+1].key),e.preventDefault()):"Enter"===e.key&&this.submitForm()},this.onListRef=e=>{this.listRef=e},this.onFieldsetRef=e=>{this.formRef=e?e.form:null},this.onLegendClick=()=>{this.listRef&&this.listRef.focus()},this.state={}}updateListId(e){this.state.listId&&(tf(this.state.listId),this.setState({listId:void 0})),e&&this.setState({listId:ef("VerticalSegmentedControl_"+e)})}componentWillMount(){this.updateListId(this.props.label)}componentWillUnmount(){this.state.listId&&tf(this.state.listId)}componentWillReceiveProps(e){this.props.label!==e.label&&this.updateListId(e.label)}submitForm(){const e=this.formRef;e&&e.dispatchEvent(new Event("submit"))}getListItemId(e){return`${this.state.listId}_Item_${e}`}renderItem(e,t){return de.createElement(pE,{id:this.getListItemId(t),key:e.key,title:e.title,description:e.description,isSelected:e.key===this.props.selectedKey,value:e.key,onClick:this.onItemClick,onDoubleClick:this.onItemDoubleClick})}render(){if(0===this.props.items.length)return null;const e=this.props.label?de.createElement("legend",{onClick:this.onLegendClick},this.props.label):void 0,t=this.findSelectedIndex(this.props.items),n=this.getListItemId(t);return de.createElement("fieldset",{className:"vertical-segmented-control",ref:this.onFieldsetRef},e,de.createElement("ul",{ref:this.onListRef,id:this.state.listId,className:"vertical-segmented-control",tabIndex:0,onKeyDown:this.onKeyDown,role:"radiogroup","aria-activedescendant":n},this.props.items.map((e,t)=>this.renderItem(e,t))))}findSelectedIndex(e){return e.findIndex(e=>e.key===this.props.selectedKey)}}var fE=n(6),mE=n.n(fE),gE=function(e,t,n,r,i){var o=i.clientWidth,s=i.clientHeight,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,c=a-(i.getBoundingClientRect().left+window.pageXOffset),u=l-(i.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n){var h=void 0;if(h=u<0?0:u>s?1:Math.round(100*u/s)/100,t.a!==h)return{h:t.h,s:t.s,l:t.l,a:h,source:"rgb"}}else{var p=void 0;if(r!==(p=c<0?0:c>o?1:Math.round(100*c/o)/100))return{h:t.h,s:t.s,l:t.l,a:p,source:"rgb"}}return null},yE={},vE=function(e,t,n,r){var i=e+"-"+t+"-"+n+(r?"-server":"");if(yE[i])return yE[i];var o=function(e,t,n,r){if("undefined"==typeof document&&!r)return null;var i=r?new r:document.createElement("canvas");i.width=2*n,i.height=2*n;var o=i.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,i.width,i.height),o.fillStyle=t,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),i.toDataURL()):null}(e,t,n,r);return yE[i]=o,o},bE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wE=function(e){var t=e.white,n=e.grey,r=e.size,i=e.renderers,o=e.borderRadius,s=e.boxShadow,a=e.children,l=mE()({default:{grid:{borderRadius:o,boxShadow:s,absolute:"0px 0px 0px 0px",background:"url("+vE(t,n,r,i.canvas)+") center left"}}});return Object(de.isValidElement)(a)?fe.a.cloneElement(a,bE({},a.props,{style:bE({},a.props.style,l.grid)})):fe.a.createElement("div",{style:l.grid})};wE.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var CE=wE,SE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EE=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function kE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xE(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var DE=function(e){function t(){var e,n,r;kE(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=xE(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e){var t=gE(e,r.props.hsl,r.props.direction,r.props.a,r.container);t&&"function"==typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},xE(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),EE(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=mE()({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:SE({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return fe.a.createElement("div",{style:n.alpha},fe.a.createElement("div",{style:n.checkboard},fe.a.createElement(CE,{renderers:this.props.renderers})),fe.a.createElement("div",{style:n.gradient}),fe.a.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},fe.a.createElement("div",{style:n.pointer},this.props.pointer?fe.a.createElement(this.props.pointer,this.props):fe.a.createElement("div",{style:n.slider}))))}}]),t}(de.PureComponent||de.Component),_E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var TE=[38,40],RE=1,AE=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.setUpdatedValue(e.target.value,e)},n.handleKeyDown=function(e){var t,r=function(e){return Number(String(e).replace(/%/g,""))}(e.target.value);if(!isNaN(r)&&(t=e.keyCode,TE.indexOf(t)>-1)){var i=n.getArrowOffset(),o=38===e.keyCode?r+i:r-i;n.setUpdatedValue(o,e)}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n.inputId="rc-editable-input-"+RE++,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),_E(t,[{key:"componentDidUpdate",value:function(e,t){this.props.value===this.state.value||e.value===this.props.value&&t.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.label,e)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(e,t){var n=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(n,t),this.setState({value:e})}},{key:"render",value:function(){var e=this,t=mE()({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return fe.a.createElement("div",{style:t.wrap},fe.a.createElement("input",{id:this.inputId,style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?fe.a.createElement("label",{htmlFor:this.inputId,style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(de.PureComponent||de.Component),OE=function(e,t,n,r){var i=r.clientWidth,o=r.clientHeight,s="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,a="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=s-(r.getBoundingClientRect().left+window.pageXOffset),c=a-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){var u=void 0;if(c<0)u=359;else if(c>o)u=0;else{u=360*(-100*c/o+100)/100}if(n.h!==u)return{h:u,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var h=void 0;if(l<0)h=0;else if(l>i)h=359;else{h=360*(100*l/i)/100}if(n.h!==h)return{h:h,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null},PE=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function IE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ME(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var FE=function(e){function t(){var e,n,r;IE(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=ME(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e){var t=OE(e,r.props.direction,r.props.hsl,r.container);t&&"function"==typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},ME(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),PE(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=mE()({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return fe.a.createElement("div",{style:r.hue},fe.a.createElement("div",{className:"hue-"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},fe.a.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),fe.a.createElement("div",{style:r.pointer},this.props.pointer?fe.a.createElement(this.props.pointer,this.props):fe.a.createElement("div",{style:r.slider}))))}}]),t}(de.PureComponent||de.Component);var NE=function(){this.__data__=[],this.size=0};var BE=function(e,t){return e===t||e!=e&&t!=t};var LE=function(e,t){for(var n=e.length;n--;)if(BE(e[n][0],t))return n;return-1},HE=Array.prototype.splice;var UE=function(e){var t=this.__data__,n=LE(t,e);return!(n<0)&&(n==t.length-1?t.pop():HE.call(t,n,1),--this.size,!0)};var jE=function(e){var t=this.__data__,n=LE(t,e);return n<0?void 0:t[n][1]};var WE=function(e){return LE(this.__data__,e)>-1};var zE=function(e,t){var n=this.__data__,r=LE(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function GE(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}GE.prototype.clear=NE,GE.prototype.delete=UE,GE.prototype.get=jE,GE.prototype.has=WE,GE.prototype.set=zE;var qE=GE;var VE=function(){this.__data__=new qE,this.size=0};var $E=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var KE=function(e){return this.__data__.get(e)};var YE=function(e){return this.__data__.has(e)},ZE=n(15),XE=ZE.a.Symbol,QE=Object.prototype,JE=QE.hasOwnProperty,ek=QE.toString,tk=XE?XE.toStringTag:void 0;var nk=function(e){var t=JE.call(e,tk),n=e[tk];try{e[tk]=void 0;var r=!0}catch(e){}var i=ek.call(e);return r&&(t?e[tk]=n:delete e[tk]),i},rk=Object.prototype.toString;var ik=function(e){return rk.call(e)},ok=XE?XE.toStringTag:void 0;var sk=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ok&&ok in Object(e)?nk(e):ik(e)};var ak=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var lk,ck=function(e){if(!ak(e))return!1;var t=sk(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},uk=ZE.a["__core-js_shared__"],hk=(lk=/[^.]+$/.exec(uk&&uk.keys&&uk.keys.IE_PROTO||""))?"Symbol(src)_1."+lk:"";var pk=function(e){return!!hk&&hk in e},dk=Function.prototype.toString;var fk=function(e){if(null!=e){try{return dk.call(e)}catch(e){}try{return e+""}catch(e){}}return""},mk=/^\[object .+?Constructor\]$/,gk=Function.prototype,yk=Object.prototype,vk=gk.toString,bk=yk.hasOwnProperty,wk=RegExp("^"+vk.call(bk).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Ck=function(e){return!(!ak(e)||pk(e))&&(ck(e)?wk:mk).test(fk(e))};var Sk=function(e,t){return null==e?void 0:e[t]};var Ek=function(e,t){var n=Sk(e,t);return Ck(n)?n:void 0},kk=Ek(ZE.a,"Map"),xk=Ek(Object,"create");var Dk=function(){this.__data__=xk?xk(null):{},this.size=0};var _k=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Tk=Object.prototype.hasOwnProperty;var Rk=function(e){var t=this.__data__;if(xk){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Tk.call(t,e)?t[e]:void 0},Ak=Object.prototype.hasOwnProperty;var Ok=function(e){var t=this.__data__;return xk?void 0!==t[e]:Ak.call(t,e)};var Pk=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=xk&&void 0===t?"__lodash_hash_undefined__":t,this};function Ik(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ik.prototype.clear=Dk,Ik.prototype.delete=_k,Ik.prototype.get=Rk,Ik.prototype.has=Ok,Ik.prototype.set=Pk;var Mk=Ik;var Fk=function(){this.size=0,this.__data__={hash:new Mk,map:new(kk||qE),string:new Mk}};var Nk=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Bk=function(e,t){var n=e.__data__;return Nk(t)?n["string"==typeof t?"string":"hash"]:n.map};var Lk=function(e){var t=Bk(this,e).delete(e);return this.size-=t?1:0,t};var Hk=function(e){return Bk(this,e).get(e)};var Uk=function(e){return Bk(this,e).has(e)};var jk=function(e,t){var n=Bk(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Wk(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Wk.prototype.clear=Fk,Wk.prototype.delete=Lk,Wk.prototype.get=Hk,Wk.prototype.has=Uk,Wk.prototype.set=jk;var zk=Wk;var Gk=function(e,t){var n=this.__data__;if(n instanceof qE){var r=n.__data__;if(!kk||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new zk(r)}return n.set(e,t),this.size=n.size,this};function qk(e){var t=this.__data__=new qE(e);this.size=t.size}qk.prototype.clear=VE,qk.prototype.delete=$E,qk.prototype.get=KE,qk.prototype.has=YE,qk.prototype.set=Gk;var Vk=qk,$k=function(){try{var e=Ek(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var Kk=function(e,t,n){"__proto__"==t&&$k?$k(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var Yk=function(e,t,n){(void 0!==n&&!BE(e[t],n)||void 0===n&&!(t in e))&&Kk(e,t,n)};var Zk=function(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===n(o[l],l,o))break}return t}}(),Xk=n(241),Qk=ZE.a.Uint8Array;var Jk=function(e){var t=new e.constructor(e.byteLength);return new Qk(t).set(new Qk(e)),t};var ex=function(e,t){var n=t?Jk(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var tx=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},nx=Object.create,rx=function(){function e(){}return function(t){if(!ak(t))return{};if(nx)return nx(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var ix=function(e,t){return function(n){return e(t(n))}},ox=ix(Object.getPrototypeOf,Object),sx=Object.prototype;var ax=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||sx)};var lx=function(e){return"function"!=typeof e.constructor||ax(e)?{}:rx(ox(e))};var cx=function(e){return null!=e&&"object"==typeof e};var ux=function(e){return cx(e)&&"[object Arguments]"==sk(e)},hx=Object.prototype,px=hx.hasOwnProperty,dx=hx.propertyIsEnumerable,fx=ux(function(){return arguments}())?ux:function(e){return cx(e)&&px.call(e,"callee")&&!dx.call(e,"callee")},mx=Array.isArray;var gx=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var yx=function(e){return null!=e&&gx(e.length)&&!ck(e)};var vx=function(e){return cx(e)&&yx(e)},bx=n(48),wx=Function.prototype,Cx=Object.prototype,Sx=wx.toString,Ex=Cx.hasOwnProperty,kx=Sx.call(Object);var xx=function(e){if(!cx(e)||"[object Object]"!=sk(e))return!1;var t=ox(e);if(null===t)return!0;var n=Ex.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Sx.call(n)==kx},Dx={};Dx["[object Float32Array]"]=Dx["[object Float64Array]"]=Dx["[object Int8Array]"]=Dx["[object Int16Array]"]=Dx["[object Int32Array]"]=Dx["[object Uint8Array]"]=Dx["[object Uint8ClampedArray]"]=Dx["[object Uint16Array]"]=Dx["[object Uint32Array]"]=!0,Dx["[object Arguments]"]=Dx["[object Array]"]=Dx["[object ArrayBuffer]"]=Dx["[object Boolean]"]=Dx["[object DataView]"]=Dx["[object Date]"]=Dx["[object Error]"]=Dx["[object Function]"]=Dx["[object Map]"]=Dx["[object Number]"]=Dx["[object Object]"]=Dx["[object RegExp]"]=Dx["[object Set]"]=Dx["[object String]"]=Dx["[object WeakMap]"]=!1;var _x=function(e){return cx(e)&&gx(e.length)&&!!Dx[sk(e)]};var Tx=function(e){return function(t){return e(t)}},Rx=n(156),Ax=Rx.a&&Rx.a.isTypedArray,Ox=Ax?Tx(Ax):_x;var Px=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},Ix=Object.prototype.hasOwnProperty;var Mx=function(e,t,n){var r=e[t];Ix.call(e,t)&&BE(r,n)&&(void 0!==n||t in e)||Kk(e,t,n)};var Fx=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=r?r(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),i?Kk(n,a,l):Mx(n,a,l)}return n};var Nx=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},Bx=/^(?:0|[1-9]\d*)$/;var Lx=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Bx.test(e))&&e>-1&&e%1==0&&e<t},Hx=Object.prototype.hasOwnProperty;var Ux=function(e,t){var n=mx(e),r=!n&&fx(e),i=!n&&!r&&Object(bx.a)(e),o=!n&&!r&&!i&&Ox(e),s=n||r||i||o,a=s?Nx(e.length,String):[],l=a.length;for(var c in e)!t&&!Hx.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Lx(c,l))||a.push(c);return a};var jx=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},Wx=Object.prototype.hasOwnProperty;var zx=function(e){if(!ak(e))return jx(e);var t=ax(e),n=[];for(var r in e)("constructor"!=r||!t&&Wx.call(e,r))&&n.push(r);return n};var Gx=function(e){return yx(e)?Ux(e,!0):zx(e)};var qx=function(e){return Fx(e,Gx(e))};var Vx=function(e,t,n,r,i,o,s){var a=Px(e,n),l=Px(t,n),c=s.get(l);if(c)Yk(e,n,c);else{var u=o?o(a,l,n+"",e,t,s):void 0,h=void 0===u;if(h){var p=mx(l),d=!p&&Object(bx.a)(l),f=!p&&!d&&Ox(l);u=l,p||d||f?mx(a)?u=a:vx(a)?u=tx(a):d?(h=!1,u=Object(Xk.a)(l,!0)):f?(h=!1,u=ex(l,!0)):u=[]:xx(l)||fx(l)?(u=a,fx(a)?u=qx(a):ak(a)&&!ck(a)||(u=lx(l))):h=!1}h&&(s.set(l,u),i(u,l,r,o,s),s.delete(l)),Yk(e,n,u)}};var $x=function e(t,n,r,i,o){t!==n&&Zk(n,(function(s,a){if(o||(o=new Vk),ak(s))Vx(t,n,a,r,e,i,o);else{var l=i?i(Px(t,a),s,a+"",t,n,o):void 0;void 0===l&&(l=s),Yk(t,a,l)}}),Gx)};var Kx=function(e){return e};var Yx=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Zx=Math.max;var Xx=function(e,t,n){return t=Zx(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Zx(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),Yx(e,this,a)}};var Qx=function(e){return function(){return e}},Jx=$k?function(e,t){return $k(e,"toString",{configurable:!0,enumerable:!1,value:Qx(t),writable:!0})}:Kx,eD=Date.now;var tD=function(e){var t=0,n=0;return function(){var r=eD(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Jx);var nD=function(e,t){return tD(Xx(e,t,Kx),e+"")};var rD=function(e,t,n){if(!ak(n))return!1;var r=typeof t;return!!("number"==r?yx(n)&&Lx(t,n.length):"string"==r&&t in n)&&BE(n[t],e)};var iD=function(e){return nD((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,s&&rD(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var a=n[r];a&&e(t,a,r,o)}return t}))}((function(e,t,n){$x(e,t,n)})),oD=function(e){var t=e.zDepth,n=e.radius,r=e.background,i=e.children,o=e.styles,s=void 0===o?{}:o,a=mE()(iD({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:r}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},s),{"zDepth-1":1===t});return fe.a.createElement("div",{style:a.wrap},fe.a.createElement("div",{style:a.bg}),fe.a.createElement("div",{style:a.content},i))};oD.propTypes={background:ke.a.string,zDepth:ke.a.oneOf([0,1,2,3,4,5]),radius:ke.a.number,styles:ke.a.object},oD.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var sD=oD,aD=function(){return ZE.a.Date.now()},lD=/\s/;var cD=function(e){for(var t=e.length;t--&&lD.test(e.charAt(t)););return t},uD=/^\s+/;var hD=function(e){return e?e.slice(0,cD(e)+1).replace(uD,""):e};var pD=function(e){return"symbol"==typeof e||cx(e)&&"[object Symbol]"==sk(e)},dD=/^[-+]0x[0-9a-f]+$/i,fD=/^0b[01]+$/i,mD=/^0o[0-7]+$/i,gD=parseInt;var yD=function(e){if("number"==typeof e)return e;if(pD(e))return NaN;if(ak(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ak(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=hD(e);var n=fD.test(e);return n||mD.test(e)?gD(e.slice(2),n?2:8):dD.test(e)?NaN:+e},vD=Math.max,bD=Math.min;var wD=function(e,t,n){var r,i,o,s,a,l,c=0,u=!1,h=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(t){var n=r,o=i;return r=i=void 0,c=t,s=e.apply(o,n)}function f(e){return c=e,a=setTimeout(g,t),u?d(e):s}function m(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-c>=o}function g(){var e=aD();if(m(e))return y(e);a=setTimeout(g,function(e){var n=t-(e-l);return h?bD(n,o-(e-c)):n}(e))}function y(e){return a=void 0,p&&r?d(e):(r=i=void 0,s)}function v(){var e=aD(),n=m(e);if(r=arguments,i=this,l=e,n){if(void 0===a)return f(l);if(h)return clearTimeout(a),a=setTimeout(g,t),d(l)}return void 0===a&&(a=setTimeout(g,t)),s}return t=yD(t)||0,ak(n)&&(u=!!n.leading,o=(h="maxWait"in n)?vD(yD(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),v.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=i=a=void 0},v.flush=function(){return void 0===a?s:y(aD())},v};var CD=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return ak(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),wD(e,t,{leading:r,maxWait:t,trailing:i})},SD=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ED=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){"function"==typeof n.props.onChange&&n.throttle(n.props.onChange,function(e,t,n){var r=n.getBoundingClientRect(),i=r.width,o=r.height,s="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,a="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=s-(n.getBoundingClientRect().left+window.pageXOffset),c=a-(n.getBoundingClientRect().top+window.pageYOffset);l<0?l=0:l>i&&(l=i),c<0?c=0:c>o&&(c=o);var u=l/i,h=1-c/o;return{h:t.h,s:u,v:h,a:t.a,source:"hsv"}}(e,n.props.hsl,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e);var t=n.getContainerRenderWindow();t.addEventListener("mousemove",n.handleChange),t.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=CD((function(e,t,n){e(t,n)}),50),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),SD(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var e=this.container,t=window;!t.document.contains(e)&&t.parent!==t;)t=t.parent;return t}},{key:"unbindEventListeners",value:function(){var e=this.getContainerRenderWindow();e.removeEventListener("mousemove",this.handleChange),e.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,i=t.black,o=t.pointer,s=t.circle,a=mE()({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:i,pointer:o,circle:s}},{custom:!!this.props.style});return fe.a.createElement("div",{style:a.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},fe.a.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),fe.a.createElement("div",{style:a.white,className:"saturation-white"},fe.a.createElement("div",{style:a.black,className:"saturation-black"}),fe.a.createElement("div",{style:a.pointer},this.props.pointer?fe.a.createElement(this.props.pointer,this.props):fe.a.createElement("div",{style:a.circle}))))}}]),t}(de.PureComponent||de.Component);var kD=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},xD=ix(Object.keys,Object),DD=Object.prototype.hasOwnProperty;var _D=function(e){if(!ax(e))return xD(e);var t=[];for(var n in Object(e))DD.call(e,n)&&"constructor"!=n&&t.push(n);return t};var TD=function(e){return yx(e)?Ux(e):_D(e)};var RD=function(e,t){return function(n,r){if(null==n)return n;if(!yx(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}((function(e,t){return e&&Zk(e,t,TD)}));var AD=function(e){return"function"==typeof e?e:Kx};var OD=function(e,t){return(mx(e)?kD:RD)(e,AD(t))},PD=n(67),ID=n.n(PD),MD=function(e){var t=0,n=0;return OD(["r","g","b","a","h","s","l","v"],(function(r){if(e[r]&&(t+=1,isNaN(e[r])||(n+=1),"s"===r||"l"===r)){/^\d+%$/.test(e[r])&&(n+=1)}})),t===n&&e},FD=function(e,t){var n=e.hex?ID()(e.hex):ID()(e),r=n.toHsl(),i=n.toHsv(),o=n.toRgb(),s=n.toHex();return 0===r.s&&(r.h=t||0,i.h=t||0),{hsl:r,hex:"000000"===s&&0===o.a?"transparent":"#"+s,rgb:o,hsv:i,oldHue:e.h||t||r.h,source:e.source}},ND=function(e){if("transparent"===e)return!0;var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&ID()(e).isValid()},BD=function(e){if(!e)return"#fff";var t=FD(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"},LD=function(e,t){var n=e.replace("","");return ID()(t+" ("+n+")")._ok},HD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UD=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var jD=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(MD(e)){var r=FD(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(MD(e)){var r=FD(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=HD({},FD(e.color,0)),t.debounce=wD((function(e,t,n){e(t,n)}),100),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),UD(n,[{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),fe.a.createElement(e,HD({},this.props,this.state,{onChange:this.handleChange},t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return HD({},FD(e.color,t.oldHue))}}]),n}(de.PureComponent||de.Component);return t.propTypes=HD({},e.propTypes),t.defaultProps=HD({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t},WD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zD=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function GD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qD(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function VD(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var $D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KD=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var e,t,n;GD(this,r);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=n=qD(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(o))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},qD(n,t)}return VD(r,n),zD(r,[{key:"render",value:function(){return fe.a.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},fe.a.createElement(e,WD({},this.props,this.state)))}}]),r}(fe.a.Component)}((function(e){var t=e.color,n=e.style,r=e.onClick,i=void 0===r?function(){}:r,o=e.onHover,s=e.title,a=void 0===s?t:s,l=e.children,c=e.focus,u=e.focusStyle,h=void 0===u?{}:u,p="transparent"===t,d=mE()({default:{swatch:$D({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,c?h:{})}}),f={};return o&&(f.onMouseOver=function(e){return o(t,e)}),fe.a.createElement("div",$D({style:d.swatch,onClick:function(e){return i(t,e)},title:a,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&i(t,e)}},f),l,p&&fe.a.createElement(CE,{borderRadius:d.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))})),YD=function(e){var t=e.direction,n=mE()({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return fe.a.createElement("div",{style:n.picker})},ZD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XD=function(e){var t=e.rgb,n=e.hsl,r=e.width,i=e.height,o=e.onChange,s=e.direction,a=e.style,l=e.renderers,c=e.pointer,u=e.className,h=void 0===u?"":u,p=mE()({default:{picker:{position:"relative",width:r,height:i},alpha:{radius:"2px",style:a}}});return fe.a.createElement("div",{style:p.picker,className:"alpha-picker "+h},fe.a.createElement(DE,ZD({},p.alpha,{rgb:t,hsl:n,pointer:c,renderers:l,onChange:o,direction:s})))};XD.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:YD};jD(XD);var QD=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var JD=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var e_=function(e){return this.__data__.has(e)};function t_(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new zk;++t<n;)this.add(e[t])}t_.prototype.add=t_.prototype.push=JD,t_.prototype.has=e_;var n_=t_;var r_=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var i_=function(e,t){return e.has(t)};var o_=function(e,t,n,r,i,o){var s=1&n,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var h=-1,p=!0,d=2&n?new n_:void 0;for(o.set(e,t),o.set(t,e);++h<a;){var f=e[h],m=t[h];if(r)var g=s?r(m,f,h,t,e,o):r(f,m,h,e,t,o);if(void 0!==g){if(g)continue;p=!1;break}if(d){if(!r_(t,(function(e,t){if(!i_(d,t)&&(f===e||i(f,e,n,r,o)))return d.push(t)}))){p=!1;break}}else if(f!==m&&!i(f,m,n,r,o)){p=!1;break}}return o.delete(e),o.delete(t),p};var s_=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var a_=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},l_=XE?XE.prototype:void 0,c_=l_?l_.valueOf:void 0;var u_=function(e,t,n,r,i,o,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Qk(e),new Qk(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return BE(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=s_;case"[object Set]":var l=1&r;if(a||(a=a_),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;r|=2,s.set(e,t);var u=o_(a(e),a(t),r,i,o,s);return s.delete(e),u;case"[object Symbol]":if(c_)return c_.call(e)==c_.call(t)}return!1};var h_=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};var p_=function(e,t,n){var r=t(e);return mx(e)?r:h_(r,n(e))};var d_=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o};var f_=function(){return[]},m_=Object.prototype.propertyIsEnumerable,g_=Object.getOwnPropertySymbols,y_=g_?function(e){return null==e?[]:(e=Object(e),d_(g_(e),(function(t){return m_.call(e,t)})))}:f_;var v_=function(e){return p_(e,TD,y_)},b_=Object.prototype.hasOwnProperty;var w_=function(e,t,n,r,i,o){var s=1&n,a=v_(e),l=a.length;if(l!=v_(t).length&&!s)return!1;for(var c=l;c--;){var u=a[c];if(!(s?u in t:b_.call(t,u)))return!1}var h=o.get(e),p=o.get(t);if(h&&p)return h==t&&p==e;var d=!0;o.set(e,t),o.set(t,e);for(var f=s;++c<l;){var m=e[u=a[c]],g=t[u];if(r)var y=s?r(g,m,u,t,e,o):r(m,g,u,e,t,o);if(!(void 0===y?m===g||i(m,g,n,r,o):y)){d=!1;break}f||(f="constructor"==u)}if(d&&!f){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(e),o.delete(t),d},C_=Ek(ZE.a,"DataView"),S_=Ek(ZE.a,"Promise"),E_=Ek(ZE.a,"Set"),k_=Ek(ZE.a,"WeakMap"),x_=fk(C_),D_=fk(kk),__=fk(S_),T_=fk(E_),R_=fk(k_),A_=sk;(C_&&"[object DataView]"!=A_(new C_(new ArrayBuffer(1)))||kk&&"[object Map]"!=A_(new kk)||S_&&"[object Promise]"!=A_(S_.resolve())||E_&&"[object Set]"!=A_(new E_)||k_&&"[object WeakMap]"!=A_(new k_))&&(A_=function(e){var t=sk(e),n="[object Object]"==t?e.constructor:void 0,r=n?fk(n):"";if(r)switch(r){case x_:return"[object DataView]";case D_:return"[object Map]";case __:return"[object Promise]";case T_:return"[object Set]";case R_:return"[object WeakMap]"}return t});var O_=A_,P_=Object.prototype.hasOwnProperty;var I_=function(e,t,n,r,i,o){var s=mx(e),a=mx(t),l=s?"[object Array]":O_(e),c=a?"[object Array]":O_(t),u="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),h="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),p=l==c;if(p&&Object(bx.a)(e)){if(!Object(bx.a)(t))return!1;s=!0,u=!1}if(p&&!u)return o||(o=new Vk),s||Ox(e)?o_(e,t,n,r,i,o):u_(e,t,l,n,r,i,o);if(!(1&n)){var d=u&&P_.call(e,"__wrapped__"),f=h&&P_.call(t,"__wrapped__");if(d||f){var m=d?e.value():e,g=f?t.value():t;return o||(o=new Vk),i(m,g,n,r,o)}}return!!p&&(o||(o=new Vk),w_(e,t,n,r,i,o))};var M_=function e(t,n,r,i,o){return t===n||(null==t||null==n||!cx(t)&&!cx(n)?t!=t&&n!=n:I_(t,n,r,i,e,o))};var F_=function(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){var l=(a=n[i])[0],c=e[l],u=a[1];if(s&&a[2]){if(void 0===c&&!(l in e))return!1}else{var h=new Vk;if(r)var p=r(c,u,l,e,t,h);if(!(void 0===p?M_(u,c,3,r,h):p))return!1}}return!0};var N_=function(e){return e==e&&!ak(e)};var B_=function(e){for(var t=TD(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,N_(i)]}return t};var L_=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var H_=function(e){var t=B_(e);return 1==t.length&&t[0][2]?L_(t[0][0],t[0][1]):function(n){return n===e||F_(n,e,t)}},U_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,j_=/^\w*$/;var W_=function(e,t){if(mx(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!pD(e))||(j_.test(e)||!U_.test(e)||null!=t&&e in Object(t))};function z_(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(z_.Cache||zk),n}z_.Cache=zk;var G_=z_;var q_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,V_=/\\(\\)?/g,$_=function(e){var t=G_(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(q_,(function(e,n,r,i){t.push(r?i.replace(V_,"$1"):n||e)})),t})),K_=XE?XE.prototype:void 0,Y_=K_?K_.toString:void 0;var Z_=function e(t){if("string"==typeof t)return t;if(mx(t))return QD(t,e)+"";if(pD(t))return Y_?Y_.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};var X_=function(e){return null==e?"":Z_(e)};var Q_=function(e,t){return mx(e)?e:W_(e,t)?[e]:$_(X_(e))};var J_=function(e){if("string"==typeof e||pD(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var eT=function(e,t){for(var n=0,r=(t=Q_(t,e)).length;null!=e&&n<r;)e=e[J_(t[n++])];return n&&n==r?e:void 0};var tT=function(e,t,n){var r=null==e?void 0:eT(e,t);return void 0===r?n:r};var nT=function(e,t){return null!=e&&t in Object(e)};var rT=function(e,t,n){for(var r=-1,i=(t=Q_(t,e)).length,o=!1;++r<i;){var s=J_(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&gx(i)&&Lx(s,i)&&(mx(e)||fx(e))};var iT=function(e,t){return null!=e&&rT(e,t,nT)};var oT=function(e,t){return W_(e)&&N_(t)?L_(J_(e),t):function(n){var r=tT(n,e);return void 0===r&&r===t?iT(n,e):M_(t,r,3)}};var sT=function(e){return function(t){return null==t?void 0:t[e]}};var aT=function(e){return function(t){return eT(t,e)}};var lT=function(e){return W_(e)?sT(J_(e)):aT(e)};var cT=function(e){return"function"==typeof e?e:null==e?Kx:"object"==typeof e?mx(e)?oT(e[0],e[1]):H_(e):lT(e)};var uT=function(e,t){var n=-1,r=yx(e)?Array(e.length):[];return RD(e,(function(e,i,o){r[++n]=t(e,i,o)})),r};var hT=function(e,t){return(mx(e)?QD:uT)(e,cT(t,3))},pT=function(e){var t=e.colors,n=e.onClick,r=e.onSwatchHover,i=mE()({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return fe.a.createElement("div",{style:i.swatches},hT(t,(function(e){return fe.a.createElement(KD,{key:e,color:e,style:i.swatch,onClick:n,onHover:r,focusStyle:{boxShadow:"0 0 4px "+e}})})),fe.a.createElement("div",{style:i.clear}))},dT=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,i=e.colors,o=e.width,s=e.triangle,a=e.styles,l=void 0===a?{}:a,c=e.className,u=void 0===c?"":c,h="transparent"===r,p=function(e,n){ND(e)&&t({hex:e,source:"hex"},n)},d=mE()(iD({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:r,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:BD(r),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+r+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},l),{"hide-triangle":"hide"===s});return fe.a.createElement("div",{style:d.card,className:"block-picker "+u},fe.a.createElement("div",{style:d.triangle}),fe.a.createElement("div",{style:d.head},h&&fe.a.createElement(CE,{borderRadius:"6px 6px 0 0"}),fe.a.createElement("div",{style:d.label},r)),fe.a.createElement("div",{style:d.body},fe.a.createElement(pT,{colors:i,onClick:p,onSwatchHover:n}),fe.a.createElement(AE,{style:{input:d.input},value:r,onChange:p})))};dT.propTypes={width:ke.a.oneOfType([ke.a.string,ke.a.number]),colors:ke.a.arrayOf(ke.a.string),triangle:ke.a.oneOf(["top","hide"]),styles:ke.a.object},dT.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};jD(dT);var fT={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},mT={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},gT={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},yT={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},vT={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},bT={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},wT={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},CT={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},ST={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},ET={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},kT={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},xT={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},DT={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},_T={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},TT={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},RT={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},AT={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},OT={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},PT=function(e){var t=e.color,n=e.onClick,r=e.onSwatchHover,i=e.hover,o=e.active,s=e.circleSize,a=e.circleSpacing,l=mE()({default:{swatch:{width:s,height:s,marginRight:a,marginBottom:a,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(s/2+1)+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:i,active:o});return fe.a.createElement("div",{style:l.swatch},fe.a.createElement(KD,{style:l.Swatch,color:t,onClick:n,onHover:r,focusStyle:{boxShadow:l.Swatch.boxShadow+", 0 0 5px "+t}}))};PT.defaultProps={circleSize:28,circleSpacing:14};var IT=Object(fE.handleHover)(PT),MT=function(e){var t=e.width,n=e.onChange,r=e.onSwatchHover,i=e.colors,o=e.hex,s=e.circleSize,a=e.styles,l=void 0===a?{}:a,c=e.circleSpacing,u=e.className,h=void 0===u?"":u,p=mE()(iD({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-c,marginBottom:-c}}},l)),d=function(e,t){return n({hex:e,source:"hex"},t)};return fe.a.createElement("div",{style:p.card,className:"circle-picker "+h},hT(i,(function(e){return fe.a.createElement(IT,{key:e,color:e,onClick:d,onSwatchHover:r,active:o===e.toLowerCase(),circleSize:s,circleSpacing:c})})))};MT.propTypes={width:ke.a.oneOfType([ke.a.string,ke.a.number]),circleSize:ke.a.number,circleSpacing:ke.a.number,styles:ke.a.object},MT.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[fT[500],mT[500],gT[500],yT[500],vT[500],bT[500],wT[500],CT[500],ST[500],ET[500],kT[500],xT[500],DT[500],_T[500],TT[500],RT[500],AT[500],OT[500]],styles:{}};jD(MT);var FT=function(e){return void 0===e},NT=n(242),BT=n.n(NT),LT=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var HT=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.toggleViews=function(){"hex"===n.state.view?n.setState({view:"rgb"}):"rgb"===n.state.view?n.setState({view:"hsl"}):"hsl"===n.state.view&&(1===n.props.hsl.a?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(e,t){e.hex?ND(e.hex)&&n.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?n.props.onChange({r:e.r||n.props.rgb.r,g:e.g||n.props.rgb.g,b:e.b||n.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&("string"==typeof e.s&&e.s.includes("%")&&(e.s=e.s.replace("%","")),"string"==typeof e.l&&e.l.includes("%")&&(e.l=e.l.replace("%","")),1==e.s?e.s=.01:1==e.l&&(e.l=.01),n.props.onChange({h:e.h||n.props.hsl.h,s:Number(FT(e.s)?n.props.hsl.s:e.s),l:Number(FT(e.l)?n.props.hsl.l:e.l),source:"hsl"},t))},n.showHighlight=function(e){e.currentTarget.style.background="#eee"},n.hideHighlight=function(e){e.currentTarget.style.background="transparent"},1!==e.hsl.a&&"hex"===e.view?n.state={view:"rgb"}:n.state={view:e.view},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),LT(t,[{key:"render",value:function(){var e=this,t=mE()({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=fe.a.createElement("div",{style:t.fields,className:"flexbox-fix"},fe.a.createElement("div",{style:t.field},fe.a.createElement(AE,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=fe.a.createElement("div",{style:t.fields,className:"flexbox-fix"},fe.a.createElement("div",{style:t.field},fe.a.createElement(AE,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),fe.a.createElement("div",{style:t.field},fe.a.createElement(AE,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),fe.a.createElement("div",{style:t.field},fe.a.createElement(AE,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),fe.a.createElement("div",{style:t.alpha},fe.a.createElement(AE,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=fe.a.createElement("div",{style:t.fields,className:"flexbox-fix"},fe.a.createElement("div",{style:t.field},fe.a.createElement(AE,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),fe.a.createElement("div",{style:t.field},fe.a.createElement(AE,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),fe.a.createElement("div",{style:t.field},fe.a.createElement(AE,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),fe.a.createElement("div",{style:t.alpha},fe.a.createElement(AE,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),fe.a.createElement("div",{style:t.wrap,className:"flexbox-fix"},n,fe.a.createElement("div",{style:t.toggle},fe.a.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},fe.a.createElement(BT.a,{style:t.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 1!==e.hsl.a&&"hex"===t.view?{view:"rgb"}:null}}]),t}(fe.a.Component);HT.defaultProps={view:"hex"};var UT=HT,jT=function(){var e=mE()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return fe.a.createElement("div",{style:e.picker})},WT=function(){var e=mE()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return fe.a.createElement("div",{style:e.picker})},zT=function(e){var t=e.width,n=e.onChange,r=e.disableAlpha,i=e.rgb,o=e.hsl,s=e.hsv,a=e.hex,l=e.renderers,c=e.styles,u=void 0===c?{}:c,h=e.className,p=void 0===h?"":h,d=e.defaultView,f=mE()(iD({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+i.r+", "+i.g+", "+i.b+", "+i.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},u),{disableAlpha:r});return fe.a.createElement("div",{style:f.picker,className:"chrome-picker "+p},fe.a.createElement("div",{style:f.saturation},fe.a.createElement(ED,{style:f.Saturation,hsl:o,hsv:s,pointer:WT,onChange:n})),fe.a.createElement("div",{style:f.body},fe.a.createElement("div",{style:f.controls,className:"flexbox-fix"},fe.a.createElement("div",{style:f.color},fe.a.createElement("div",{style:f.swatch},fe.a.createElement("div",{style:f.active}),fe.a.createElement(CE,{renderers:l}))),fe.a.createElement("div",{style:f.toggles},fe.a.createElement("div",{style:f.hue},fe.a.createElement(FE,{style:f.Hue,hsl:o,pointer:jT,onChange:n})),fe.a.createElement("div",{style:f.alpha},fe.a.createElement(DE,{style:f.Alpha,rgb:i,hsl:o,pointer:jT,renderers:l,onChange:n})))),fe.a.createElement(UT,{rgb:i,hsl:o,hex:a,view:d,onChange:n,disableAlpha:r})))};zT.propTypes={width:ke.a.oneOfType([ke.a.string,ke.a.number]),disableAlpha:ke.a.bool,styles:ke.a.object,defaultView:ke.a.oneOf(["hex","rgb","hsl"])},zT.defaultProps={width:225,disableAlpha:!1,styles:{}};jD(zT);var GT=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,i=e.onSwatchHover,o=e.active,s=mE()({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:BD(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return fe.a.createElement(KD,{style:s.color,color:t,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+t}},fe.a.createElement("div",{style:s.dot}))},qT=function(e){var t=e.hex,n=e.rgb,r=e.onChange,i=mE()({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(e,t){e.r||e.g||e.b?r({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},t):r({hex:e.hex,source:"hex"},t)};return fe.a.createElement("div",{style:i.fields,className:"flexbox-fix"},fe.a.createElement("div",{style:i.active}),fe.a.createElement(AE,{style:{wrap:i.HEXwrap,input:i.HEXinput,label:i.HEXlabel},label:"hex",value:t,onChange:o}),fe.a.createElement(AE,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"r",value:n.r,onChange:o}),fe.a.createElement(AE,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"g",value:n.g,onChange:o}),fe.a.createElement(AE,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"b",value:n.b,onChange:o}))},VT=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.colors,i=e.hex,o=e.rgb,s=e.styles,a=void 0===s?{}:s,l=e.className,c=void 0===l?"":l,u=mE()(iD({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},a)),h=function(e,n){e.hex?ND(e.hex)&&t({hex:e.hex,source:"hex"},n):t(e,n)};return fe.a.createElement(sD,{style:u.Compact,styles:a},fe.a.createElement("div",{style:u.compact,className:"compact-picker "+c},fe.a.createElement("div",null,hT(r,(function(e){return fe.a.createElement(GT,{key:e,color:e,active:e.toLowerCase()===i,onClick:h,onSwatchHover:n})})),fe.a.createElement("div",{style:u.clear})),fe.a.createElement(qT,{hex:i,rgb:o,onChange:h})))};VT.propTypes={colors:ke.a.arrayOf(ke.a.string),styles:ke.a.object},VT.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};jD(VT);var $T=Object(fE.handleHover)((function(e){var t=e.hover,n=e.color,r=e.onClick,i=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},s=mE()({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:t});return fe.a.createElement("div",{style:s.swatch},fe.a.createElement(KD,{color:n,onClick:r,onHover:i,focusStyle:o}))})),KT=function(e){var t=e.width,n=e.colors,r=e.onChange,i=e.onSwatchHover,o=e.triangle,s=e.styles,a=void 0===s?{}:s,l=e.className,c=void 0===l?"":l,u=mE()(iD({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},a),{"hide-triangle":"hide"===o,"top-left-triangle":"top-left"===o,"top-right-triangle":"top-right"===o,"bottom-left-triangle":"bottom-left"===o,"bottom-right-triangle":"bottom-right"===o}),h=function(e,t){return r({hex:e,source:"hex"},t)};return fe.a.createElement("div",{style:u.card,className:"github-picker "+c},fe.a.createElement("div",{style:u.triangleShadow}),fe.a.createElement("div",{style:u.triangle}),hT(n,(function(e){return fe.a.createElement($T,{color:e,key:e,onClick:h,onSwatchHover:i})})))};KT.propTypes={width:ke.a.oneOfType([ke.a.string,ke.a.number]),colors:ke.a.arrayOf(ke.a.string),triangle:ke.a.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:ke.a.object},KT.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};jD(KT);var YT=function(e){var t=e.direction,n=mE()({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return fe.a.createElement("div",{style:n.picker})},ZT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XT=function(e){var t=e.width,n=e.height,r=e.onChange,i=e.hsl,o=e.direction,s=e.pointer,a=e.styles,l=void 0===a?{}:a,c=e.className,u=void 0===c?"":c,h=mE()(iD({default:{picker:{position:"relative",width:t,height:n},hue:{radius:"2px"}}},l));return fe.a.createElement("div",{style:h.picker,className:"hue-picker "+u},fe.a.createElement(FE,ZT({},h.hue,{hsl:i,pointer:s,onChange:function(e){return r({a:1,h:e.h,l:.5,s:1})},direction:o})))};XT.propTypes={styles:ke.a.object},XT.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:YT,styles:{}};jD(XT),jD((function(e){var t=e.onChange,n=e.hex,r=e.rgb,i=e.styles,o=void 0===i?{}:i,s=e.className,a=void 0===s?"":s,l=mE()(iD({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),c=function(e,n){e.hex?ND(e.hex)&&t({hex:e.hex,source:"hex"},n):(e.r||e.g||e.b)&&t({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:"rgb"},n)};return fe.a.createElement(sD,{styles:o},fe.a.createElement("div",{style:l.material,className:"material-picker "+a},fe.a.createElement(AE,{style:{wrap:l.HEXwrap,input:l.HEXinput,label:l.HEXlabel},label:"hex",value:n,onChange:c}),fe.a.createElement("div",{style:l.split,className:"flexbox-fix"},fe.a.createElement("div",{style:l.third},fe.a.createElement(AE,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"r",value:r.r,onChange:c})),fe.a.createElement("div",{style:l.third},fe.a.createElement(AE,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"g",value:r.g,onChange:c})),fe.a.createElement("div",{style:l.third},fe.a.createElement(AE,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"b",value:r.b,onChange:c})))))}));var QT=function(e){var t=e.onChange,n=e.rgb,r=e.hsv,i=e.hex,o=mE()({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),s=function(e,i){e["#"]?ND(e["#"])&&t({hex:e["#"],source:"hex"},i):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},i):(e.h||e.s||e.v)&&t({h:e.h||r.h,s:e.s||r.s,v:e.v||r.v,source:"hsv"},i)};return fe.a.createElement("div",{style:o.fields},fe.a.createElement(AE,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(r.h),onChange:s}),fe.a.createElement(AE,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(100*r.s),onChange:s}),fe.a.createElement(AE,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(100*r.v),onChange:s}),fe.a.createElement("div",{style:o.divider}),fe.a.createElement(AE,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:n.r,onChange:s}),fe.a.createElement(AE,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:n.g,onChange:s}),fe.a.createElement(AE,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:n.b,onChange:s}),fe.a.createElement("div",{style:o.divider}),fe.a.createElement(AE,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:i.replace("#",""),onChange:s}),fe.a.createElement("div",{style:o.fieldSymbols},fe.a.createElement("div",{style:o.symbol},""),fe.a.createElement("div",{style:o.symbol},"%"),fe.a.createElement("div",{style:o.symbol},"%")))},JT=function(e){var t=e.hsl,n=mE()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return fe.a.createElement("div",{style:n.picker})},eR=function(){var e=mE()({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return fe.a.createElement("div",{style:e.pointer},fe.a.createElement("div",{style:e.left},fe.a.createElement("div",{style:e.leftInside})),fe.a.createElement("div",{style:e.right},fe.a.createElement("div",{style:e.rightInside})))},tR=function(e){var t=e.onClick,n=e.label,r=e.children,i=e.active,o=mE()({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:i});return fe.a.createElement("div",{style:o.button,onClick:t},n||r)},nR=function(e){var t=e.rgb,n=e.currentColor,r=mE()({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return fe.a.createElement("div",null,fe.a.createElement("div",{style:r.label},"new"),fe.a.createElement("div",{style:r.swatches},fe.a.createElement("div",{style:r.new}),fe.a.createElement("div",{style:r.current})),fe.a.createElement("div",{style:r.label},"current"))},rR=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var iR=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),rR(t,[{key:"render",value:function(){var e=this.props,t=e.styles,n=void 0===t?{}:t,r=e.className,i=void 0===r?"":r,o=mE()(iD({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},n));return fe.a.createElement("div",{style:o.picker,className:"photoshop-picker "+i},fe.a.createElement("div",{style:o.head},this.props.header),fe.a.createElement("div",{style:o.body,className:"flexbox-fix"},fe.a.createElement("div",{style:o.saturation},fe.a.createElement(ED,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:JT,onChange:this.props.onChange})),fe.a.createElement("div",{style:o.hue},fe.a.createElement(FE,{direction:"vertical",hsl:this.props.hsl,pointer:eR,onChange:this.props.onChange})),fe.a.createElement("div",{style:o.controls},fe.a.createElement("div",{style:o.top,className:"flexbox-fix"},fe.a.createElement("div",{style:o.previews},fe.a.createElement(nR,{rgb:this.props.rgb,currentColor:this.state.currentColor})),fe.a.createElement("div",{style:o.actions},fe.a.createElement(tR,{label:"OK",onClick:this.props.onAccept,active:!0}),fe.a.createElement(tR,{label:"Cancel",onClick:this.props.onCancel}),fe.a.createElement(QT,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(fe.a.Component);iR.propTypes={header:ke.a.string,styles:ke.a.object},iR.defaultProps={header:"Color Picker",styles:{}};jD(iR);var oR=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,i=e.hex,o=e.disableAlpha,s=mE()({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),a=function(e,i){e.hex?ND(e.hex)&&t({hex:e.hex,source:"hex"},i):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},i):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:r.h,s:r.s,l:r.l,a:e.a,source:"rgb"},i))};return fe.a.createElement("div",{style:s.fields,className:"flexbox-fix"},fe.a.createElement("div",{style:s.double},fe.a.createElement(AE,{style:{input:s.input,label:s.label},label:"hex",value:i.replace("#",""),onChange:a})),fe.a.createElement("div",{style:s.single},fe.a.createElement(AE,{style:{input:s.input,label:s.label},label:"r",value:n.r,onChange:a,dragLabel:"true",dragMax:"255"})),fe.a.createElement("div",{style:s.single},fe.a.createElement(AE,{style:{input:s.input,label:s.label},label:"g",value:n.g,onChange:a,dragLabel:"true",dragMax:"255"})),fe.a.createElement("div",{style:s.single},fe.a.createElement(AE,{style:{input:s.input,label:s.label},label:"b",value:n.b,onChange:a,dragLabel:"true",dragMax:"255"})),fe.a.createElement("div",{style:s.alpha},fe.a.createElement(AE,{style:{input:s.input,label:s.label},label:"a",value:Math.round(100*n.a),onChange:a,dragLabel:"true",dragMax:"100"})))},sR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aR=function(e){var t=e.colors,n=e.onClick,r=void 0===n?function(){}:n,i=e.onSwatchHover,o=mE()({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),s=function(e,t){r({hex:e,source:"hex"},t)};return fe.a.createElement("div",{style:o.colors,className:"flexbox-fix"},t.map((function(e){var t="string"==typeof e?{color:e}:e,n=""+t.color+(t.title||"");return fe.a.createElement("div",{key:n,style:o.swatchWrap},fe.a.createElement(KD,sR({},t,{style:o.swatch,onClick:s,onHover:i,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))})))};aR.propTypes={colors:ke.a.arrayOf(ke.a.oneOfType([ke.a.string,ke.a.shape({color:ke.a.string,title:ke.a.string})])).isRequired};var lR=aR,cR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uR=function(e){var t=e.width,n=e.rgb,r=e.hex,i=e.hsv,o=e.hsl,s=e.onChange,a=e.onSwatchHover,l=e.disableAlpha,c=e.presetColors,u=e.renderers,h=e.styles,p=void 0===h?{}:h,d=e.className,f=void 0===d?"":d,m=mE()(iD({default:cR({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:l});return fe.a.createElement("div",{style:m.picker,className:"sketch-picker "+f},fe.a.createElement("div",{style:m.saturation},fe.a.createElement(ED,{style:m.Saturation,hsl:o,hsv:i,onChange:s})),fe.a.createElement("div",{style:m.controls,className:"flexbox-fix"},fe.a.createElement("div",{style:m.sliders},fe.a.createElement("div",{style:m.hue},fe.a.createElement(FE,{style:m.Hue,hsl:o,onChange:s})),fe.a.createElement("div",{style:m.alpha},fe.a.createElement(DE,{style:m.Alpha,rgb:n,hsl:o,renderers:u,onChange:s}))),fe.a.createElement("div",{style:m.color},fe.a.createElement(CE,null),fe.a.createElement("div",{style:m.activeColor}))),fe.a.createElement(oR,{rgb:n,hsl:o,hex:r,onChange:s,disableAlpha:l}),fe.a.createElement(lR,{colors:c,onClick:s,onSwatchHover:a}))};uR.propTypes={disableAlpha:ke.a.bool,width:ke.a.oneOfType([ke.a.string,ke.a.number]),styles:ke.a.object},uR.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};var hR=jD(uR),pR=function(e){var t=e.hsl,n=e.offset,r=e.onClick,i=void 0===r?function(){}:r,o=e.active,s=e.first,a=e.last,l=mE()({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:s,last:a});return fe.a.createElement("div",{style:l.swatch,onClick:function(e){return i({h:t.h,s:.5,l:n,source:"hsl"},e)}})},dR=function(e){var t=e.onClick,n=e.hsl,r=mE()({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}});return fe.a.createElement("div",{style:r.swatches},fe.a.createElement("div",{style:r.swatch},fe.a.createElement(pR,{hsl:n,offset:".80",active:Math.abs(n.l-.8)<.1&&Math.abs(n.s-.5)<.1,onClick:t,first:!0})),fe.a.createElement("div",{style:r.swatch},fe.a.createElement(pR,{hsl:n,offset:".65",active:Math.abs(n.l-.65)<.1&&Math.abs(n.s-.5)<.1,onClick:t})),fe.a.createElement("div",{style:r.swatch},fe.a.createElement(pR,{hsl:n,offset:".50",active:Math.abs(n.l-.5)<.1&&Math.abs(n.s-.5)<.1,onClick:t})),fe.a.createElement("div",{style:r.swatch},fe.a.createElement(pR,{hsl:n,offset:".35",active:Math.abs(n.l-.35)<.1&&Math.abs(n.s-.5)<.1,onClick:t})),fe.a.createElement("div",{style:r.swatch},fe.a.createElement(pR,{hsl:n,offset:".20",active:Math.abs(n.l-.2)<.1&&Math.abs(n.s-.5)<.1,onClick:t,last:!0})),fe.a.createElement("div",{style:r.clear}))},fR=function(){var e=mE()({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return fe.a.createElement("div",{style:e.picker})},mR=function(e){var t=e.hsl,n=e.onChange,r=e.pointer,i=e.styles,o=void 0===i?{}:i,s=e.className,a=void 0===s?"":s,l=mE()(iD({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return fe.a.createElement("div",{style:l.wrap||{},className:"slider-picker "+a},fe.a.createElement("div",{style:l.hue},fe.a.createElement(FE,{style:l.Hue,hsl:t,pointer:r,onChange:n})),fe.a.createElement("div",{style:l.swatches},fe.a.createElement(dR,{hsl:t,onClick:n})))};mR.propTypes={styles:ke.a.object},mR.defaultProps={pointer:fR,styles:{}};jD(mR);var gR=n(243),yR=n.n(gR),vR=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,i=e.onSwatchHover,o=e.first,s=e.last,a=e.active,l=mE()({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:BD(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:s,active:a,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return fe.a.createElement(KD,{color:t,style:l.color,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+t}},fe.a.createElement("div",{style:l.check},fe.a.createElement(yR.a,null)))},bR=function(e){var t=e.onClick,n=e.onSwatchHover,r=e.group,i=e.active,o=mE()({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return fe.a.createElement("div",{style:o.group},hT(r,(function(e,o){return fe.a.createElement(vR,{key:e,color:e,active:e.toLowerCase()===i,first:0===o,last:o===r.length-1,onClick:t,onSwatchHover:n})})))},wR=function(e){var t=e.width,n=e.height,r=e.onChange,i=e.onSwatchHover,o=e.colors,s=e.hex,a=e.styles,l=void 0===a?{}:a,c=e.className,u=void 0===c?"":c,h=mE()(iD({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},l)),p=function(e,t){return r({hex:e,source:"hex"},t)};return fe.a.createElement("div",{style:h.picker,className:"swatches-picker "+u},fe.a.createElement(sD,null,fe.a.createElement("div",{style:h.overflow},fe.a.createElement("div",{style:h.body},hT(o,(function(e){return fe.a.createElement(bR,{key:e.toString(),group:e,active:s,onClick:p,onSwatchHover:i})})),fe.a.createElement("div",{style:h.clear})))))};wR.propTypes={width:ke.a.oneOfType([ke.a.string,ke.a.number]),height:ke.a.oneOfType([ke.a.string,ke.a.number]),colors:ke.a.arrayOf(ke.a.arrayOf(ke.a.string)),styles:ke.a.object},wR.defaultProps={width:320,height:240,colors:[[fT[900],fT[700],fT[500],fT[300],fT[100]],[mT[900],mT[700],mT[500],mT[300],mT[100]],[gT[900],gT[700],gT[500],gT[300],gT[100]],[yT[900],yT[700],yT[500],yT[300],yT[100]],[vT[900],vT[700],vT[500],vT[300],vT[100]],[bT[900],bT[700],bT[500],bT[300],bT[100]],[wT[900],wT[700],wT[500],wT[300],wT[100]],[CT[900],CT[700],CT[500],CT[300],CT[100]],[ST[900],ST[700],ST[500],ST[300],ST[100]],["#194D33",ET[700],ET[500],ET[300],ET[100]],[kT[900],kT[700],kT[500],kT[300],kT[100]],[xT[900],xT[700],xT[500],xT[300],xT[100]],[DT[900],DT[700],DT[500],DT[300],DT[100]],[_T[900],_T[700],_T[500],_T[300],_T[100]],[TT[900],TT[700],TT[500],TT[300],TT[100]],[RT[900],RT[700],RT[500],RT[300],RT[100]],[AT[900],AT[700],AT[500],AT[300],AT[100]],[OT[900],OT[700],OT[500],OT[300],OT[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};jD(wR);var CR=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,i=e.colors,o=e.width,s=e.triangle,a=e.styles,l=void 0===a?{}:a,c=e.className,u=void 0===c?"":c,h=mE()(iD({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},l),{"hide-triangle":"hide"===s,"top-left-triangle":"top-left"===s,"top-right-triangle":"top-right"===s}),p=function(e,n){ND(e)&&t({hex:e,source:"hex"},n)};return fe.a.createElement("div",{style:h.card,className:"twitter-picker "+u},fe.a.createElement("div",{style:h.triangleShadow}),fe.a.createElement("div",{style:h.triangle}),fe.a.createElement("div",{style:h.body},hT(i,(function(e,t){return fe.a.createElement(KD,{key:t,color:e,hex:e,style:h.swatch,onClick:p,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})})),fe.a.createElement("div",{style:h.hash},"#"),fe.a.createElement(AE,{label:null,style:{input:h.input},value:r.replace("#",""),onChange:p}),fe.a.createElement("div",{style:h.clear})))};CR.propTypes={width:ke.a.oneOfType([ke.a.string,ke.a.number]),triangle:ke.a.oneOf(["hide","top-left","top-right"]),colors:ke.a.arrayOf(ke.a.string),styles:ke.a.object},CR.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};jD(CR);var SR=function(e){var t=mE()({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(100*e.hsl.s)+"%, "+Math.round(100*e.hsl.l)+"%)"}}});return fe.a.createElement("div",{style:t.picker})};SR.propTypes={hsl:ke.a.shape({h:ke.a.number,s:ke.a.number,l:ke.a.number,a:ke.a.number})},SR.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var ER=SR,kR=function(e){var t=mE()({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return fe.a.createElement("div",{style:t.picker})};kR.propTypes={hsl:ke.a.shape({h:ke.a.number,s:ke.a.number,l:ke.a.number,a:ke.a.number})},kR.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var xR=kR,DR=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,i=e.hex,o=e.hsv,s=function(e,n){if(e.hex)ND(e.hex)&&t({hex:e.hex,source:"hex"},n);else if(e.rgb){var r=e.rgb.split(",");LD(e.rgb,"rgb")&&t({r:r[0],g:r[1],b:r[2],a:1,source:"rgb"},n)}else if(e.hsv){var i=e.hsv.split(",");LD(e.hsv,"hsv")&&(i[2]=i[2].replace("%",""),i[1]=i[1].replace("%",""),i[0]=i[0].replace("",""),1==i[1]?i[1]=.01:1==i[2]&&(i[2]=.01),t({h:Number(i[0]),s:Number(i[1]),v:Number(i[2]),source:"hsv"},n))}else if(e.hsl){var o=e.hsl.split(",");LD(e.hsl,"hsl")&&(o[2]=o[2].replace("%",""),o[1]=o[1].replace("%",""),o[0]=o[0].replace("",""),1==u[1]?u[1]=.01:1==u[2]&&(u[2]=.01),t({h:Number(o[0]),s:Number(o[1]),v:Number(o[2]),source:"hsl"},n))}},a=mE()({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),l=n.r+", "+n.g+", "+n.b,c=Math.round(r.h)+", "+Math.round(100*r.s)+"%, "+Math.round(100*r.l)+"%",u=Math.round(o.h)+", "+Math.round(100*o.s)+"%, "+Math.round(100*o.v)+"%";return fe.a.createElement("div",{style:a.wrap,className:"flexbox-fix"},fe.a.createElement("div",{style:a.fields},fe.a.createElement("div",{style:a.double},fe.a.createElement(AE,{style:{input:a.input,label:a.label},label:"hex",value:i,onChange:s})),fe.a.createElement("div",{style:a.column},fe.a.createElement("div",{style:a.single},fe.a.createElement(AE,{style:{input:a.input2,label:a.label2},label:"rgb",value:l,onChange:s})),fe.a.createElement("div",{style:a.single},fe.a.createElement(AE,{style:{input:a.input2,label:a.label2},label:"hsv",value:u,onChange:s})),fe.a.createElement("div",{style:a.single},fe.a.createElement(AE,{style:{input:a.input2,label:a.label2},label:"hsl",value:c,onChange:s})))))},_R=function(e){var t=e.width,n=e.onChange,r=e.rgb,i=e.hsl,o=e.hsv,s=e.hex,a=e.header,l=e.styles,c=void 0===l?{}:l,u=e.className,h=void 0===u?"":u,p=mE()(iD({default:{picker:{width:t,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+r.r+", "+r.g+", "+r.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},c));return fe.a.createElement("div",{style:p.picker,className:"google-picker "+h},fe.a.createElement("div",{style:p.head},a),fe.a.createElement("div",{style:p.swatch}),fe.a.createElement("div",{style:p.saturation},fe.a.createElement(ED,{hsl:i,hsv:o,pointer:ER,onChange:n})),fe.a.createElement("div",{style:p.body},fe.a.createElement("div",{style:p.controls,className:"flexbox-fix"},fe.a.createElement("div",{style:p.hue},fe.a.createElement(FE,{style:p.Hue,hsl:i,radius:"4px",pointer:xR,onChange:n}))),fe.a.createElement(DR,{rgb:r,hsl:i,hex:s,hsv:o,onChange:n})))};_R.propTypes={width:ke.a.oneOfType([ke.a.string,ke.a.number]),styles:ke.a.object,header:ke.a.string},_R.defaultProps={width:652,styles:{},header:"Color picker"};jD(_R);function TR(e){let t=!1;"#"===e[0]&&(e=e.slice(1),t=!0);const n=parseInt(e,16);return{red:n>>16,blue:n>>8&255,green:255&n,usePound:t}}function RR(e){return e>255?255:e<0?0:e}function AR(e,t){const n=TR(e),r=RR(n.red+t),i=RR(n.blue+t),o=(RR(n.green+t)|i<<8|r<<16).toString(16);return(n.usePound?"#":"")+o}const OR={[Dr.HighContrast]:{background:"#090c11",border:"#7a828e",text:"#f0f3f6",activeItem:"#9ea7b3",activeText:"#090c11"}};class PR extends de.Component{constructor(e){super(e),this.isCustom=()=>this.props.selectedTheme===Dr.HighContrast&&Tt(),this.getDefaultCustomTheme=()=>{const{customTheme:e}=this.props,t=void 0===e?OR[Dr.HighContrast]:e;return void 0===e&&this.props.onCustomThemeChanged(t),t},this.onThemeChange=e=>{this.closePopover(),void 0!==this.state.customTheme?(this.setState({customTheme:Object.assign(Object.assign({},this.state.customTheme),{[this.state.selectedThemeOptionColor]:e.hex})}),this.props.onCustomThemeChanged(this.state.customTheme)):log.error("[onThemeChange] - customTheme not defined. This should not be possible.")},this.openPopover=()=>{null!==this.state&&!0!==this.state.isPopoverOpen&&this.setState({isPopoverOpen:!0})},this.closePopover=()=>{null!==this.state&&!1!==this.state.isPopoverOpen&&this.setState({isPopoverOpen:!1})},this.onSwatchClick=e=>t=>{const n=t.currentTarget.offsetTop-300+"px",r=t.currentTarget.offsetLeft+50+"px";this.setState({selectedThemeOptionColor:e,popoverBottom:n,popoverLeft:r}),this.openPopover()},this.onResetToDefaults=()=>{this.setState({customTheme:OR[Dr.HighContrast]}),this.props.onCustomThemeChanged(OR[Dr.HighContrast])},this.renderThemeOptions=()=>{const e=void 0===this.state.customTheme?this.getDefaultCustomTheme():this.state.customTheme,t=new Map([["background","Background"],["border","Border"],["text","Text"],["activeItem","Active"],["activeText","Active Text"]]);return Object.entries(e).map(([e,n],r)=>{const i=e;return de.createElement("div",{key:r,className:"swatch-box"},de.createElement("div",{className:"theme-option-swatch",onClick:this.onSwatchClick(i),style:{backgroundColor:n}}),de.createElement("div",{className:"theme-option-title"},t.get(e)))})},this.state={customTheme:this.getDefaultCustomTheme(),isPopoverOpen:!1,selectedThemeOptionColor:"background",popoverBottom:"500px",popoverLeft:"275px"}}renderPopover(){if(null===this.state||!this.state.isPopoverOpen)return;if(void 0===this.state.customTheme)return void log.error("[onThemeChange] - customTheme not defined. This should not be possible.");const e={bottom:this.state.popoverBottom,left:this.state.popoverLeft};return de.createElement("div",{className:"color-picker-container",style:e},de.createElement(hR,{color:this.state.customTheme[this.state.selectedThemeOptionColor],onChangeComplete:this.onThemeChange}))}render(){return this.isCustom()?de.createElement("div",{className:"custom-theme-selector"},de.createElement("div",{className:"custom-theme-selecter-header"},de.createElement("h2",null,"Customize:"),de.createElement(qg,{onClick:this.onResetToDefaults,tooltip:"Reset to High Contrast defaults"},de.createElement(cf,{symbol:bm}))),de.createElement("div",{className:"swatch-options"},this.renderThemeOptions()),this.renderPopover()):null}}const IR={title:"System",description:"Automatically switch theme to match system theme",key:Dr.System},MR=[{title:"Light",description:"The default theme of GitHub Desktop",key:Dr.Light},{title:"Dark",description:"GitHub Desktop is for you too, creatures of the night",key:Dr.Dark},...Tt()?[{title:"High Contrast",description:"Customizable High Contrast Theme",key:Dr.HighContrast}]:[],...Or()?[IR]:[]];class FR extends de.Component{constructor(e){super(e),this.initializeSelectedTheme=async()=>{const e=await Tr();this.setState({selectedTheme:e})},this.onSelectedThemeChanged=e=>{this.props.onSelectedThemeChanged(e)},this.onCustomThemeChanged=e=>{this.props.onCustomThemeChanged(e)};const t=e.selectedTheme!==Dr.System||Or();this.state={selectedTheme:t?e.selectedTheme:null},t||this.initializeSelectedTheme()}async componentDidUpdate(e){if(e.selectedTheme===this.props.selectedTheme)return;const t=this.props.selectedTheme!==Dr.System||Or()?this.props.selectedTheme:await Tr();this.setState({selectedTheme:t})}render(){const{selectedTheme:e}=this.state;return null==e?de.createElement(Xy,null,de.createElement(Ng,null,"Loading system theme")):de.createElement(Xy,null,de.createElement(Ng,null,de.createElement(dE,{items:MR,selectedKey:e,onSelectionChanged:this.onSelectedThemeChanged})),de.createElement(Ng,null,de.createElement(PR,{onCustomThemeChanged:this.onCustomThemeChanged,selectedTheme:e,customTheme:this.props.customTheme})))}}class NR extends de.Component{constructor(e){super(e),this.onSelectedEditorChanged=e=>{const t=e.currentTarget.value;t&&(this.setState({selectedExternalEditor:t}),this.props.onSelectedEditorChanged(t))},this.onSelectedShellChanged=e=>{const t=Lo(e.currentTarget.value);this.setState({selectedShell:t}),this.props.onSelectedShellChanged(t)},this.state={selectedExternalEditor:this.props.selectedExternalEditor,selectedShell:this.props.selectedShell}}async componentWillReceiveProps(e){const t=e.availableEditors;let n=e.selectedExternalEditor;if(t.length){-1===(n?t.indexOf(n):-1)&&(n=t[0],e.onSelectedEditorChanged(n))}const r=e.availableShells;let i=e.selectedShell;if(r.length){-1===r.indexOf(i)&&(i=r[0],e.onSelectedShellChanged(i))}this.setState({selectedExternalEditor:n,selectedShell:i})}renderExternalEditor(){const e=this.props.availableEditors,t=this.state.selectedExternalEditor;return 0===e.length?de.createElement("div",{className:"select-component no-options-found"},de.createElement("label",null,"External Editor"),de.createElement("span",null,"No editors found."," ",de.createElement(Mg,{uri:Fi},"Install ",Mi,"?"))):de.createElement(By,{label:"External Editor",value:t||void 0,onChange:this.onSelectedEditorChanged},e.map(e=>de.createElement("option",{key:e,value:e},e)))}renderSelectedShell(){const e=this.props.availableShells;return de.createElement(By,{label:"Shell",value:this.state.selectedShell,onChange:this.onSelectedShellChanged},e.map(e=>de.createElement("option",{key:e,value:e},e)))}render(){return de.createElement(Xy,null,de.createElement("h2",null,"Applications"),de.createElement(Ng,null,this.renderExternalEditor()),de.createElement(Ng,null,this.renderSelectedShell()))}}class BR extends de.Component{constructor(e){super(e),this.onConfirmDiscardChangesChanged=e=>{const t=e.currentTarget.checked;this.setState({confirmDiscardChanges:t}),this.props.onConfirmDiscardChangesChanged(t)},this.onConfirmDiscardChangesPermanentlyChanged=e=>{const t=e.currentTarget.checked;this.setState({confirmDiscardChangesPermanently:t}),this.props.onConfirmDiscardChangesPermanentlyChanged(t)},this.onConfirmForcePushChanged=e=>{const t=e.currentTarget.checked;this.setState({confirmForcePush:t}),this.props.onConfirmForcePushChanged(t)},this.onConfirmRepositoryRemovalChanged=e=>{const t=e.currentTarget.checked;this.setState({confirmRepositoryRemoval:t}),this.props.onConfirmRepositoryRemovalChanged(t)},this.state={confirmRepositoryRemoval:this.props.confirmRepositoryRemoval,confirmDiscardChanges:this.props.confirmDiscardChanges,confirmDiscardChangesPermanently:this.props.confirmDiscardChangesPermanently,confirmForcePush:this.props.confirmForcePush}}render(){return de.createElement(Xy,null,de.createElement("h2",null,"Show a confirmation dialog before..."),de.createElement(Qg,{label:"Removing repositories",value:this.state.confirmRepositoryRemoval?Xg.On:Xg.Off,onChange:this.onConfirmRepositoryRemovalChanged}),de.createElement(Qg,{label:"Discarding changes",value:this.state.confirmDiscardChanges?Xg.On:Xg.Off,onChange:this.onConfirmDiscardChangesChanged}),de.createElement(Qg,{label:"Discarding changes permanently",value:this.state.confirmDiscardChangesPermanently?Xg.On:Xg.Off,onChange:this.onConfirmDiscardChangesPermanentlyChanged}),de.createElement(Qg,{label:"Force pushing",value:this.state.confirmForcePush?Xg.On:Xg.Off,onChange:this.onConfirmForcePushChanged}))}}class LR extends de.Component{constructor(e){super(e),this.onDotComSignIn=()=>{this.props.onDismissed(),this.props.dispatcher.showDotComSignInDialog()},this.onEnterpriseSignIn=()=>{this.props.onDismissed(),this.props.dispatcher.showEnterpriseSignInDialog()},this.onLogout=e=>{this.props.dispatcher.removeAccount(e)},this.onRepositoryIndicatorsEnabledChanged=e=>{this.setState({repositoryIndicatorsEnabled:e})},this.onLockFileDeleted=()=>{this.setState({existingLockFilePath:void 0})},this.onLockFileDeleteError=e=>{this.props.dispatcher.postError(e)},this.onUseWindowsOpenSSHChanged=e=>{this.setState({useWindowsOpenSSH:e})},this.onNotificationsEnabledChanged=e=>{this.setState({notificationsEnabled:e})},this.onOptOutofReportingChanged=e=>{this.setState({optOutOfUsageTracking:e})},this.onConfirmRepositoryRemovalChanged=e=>{this.setState({confirmRepositoryRemoval:e})},this.onConfirmDiscardChangesChanged=e=>{this.setState({confirmDiscardChanges:e})},this.onConfirmDiscardChangesPermanentlyChanged=e=>{this.setState({confirmDiscardChangesPermanently:e})},this.onConfirmForcePushChanged=e=>{this.setState({confirmForcePush:e})},this.onUncommittedChangesStrategyChanged=e=>{this.setState({uncommittedChangesStrategy:e})},this.onCommitterNameChanged=e=>{this.setState({committerName:e,disallowedCharactersMessage:bv(e)?null:"Name is invalid, it consists only of disallowed characters."})},this.onCommitterEmailChanged=e=>{this.setState({committerEmail:e})},this.onDefaultBranchChanged=e=>{this.setState({defaultBranch:e})},this.onSelectedEditorChanged=e=>{this.setState({selectedExternalEditor:e})},this.onSelectedShellChanged=e=>{this.setState({selectedShell:e})},this.onSelectedThemeChanged=e=>{this.props.dispatcher.setSelectedTheme(e)},this.onCustomThemeChanged=e=>{this.props.dispatcher.setCustomTheme(e)},this.onSave=async()=>{try{let e=!1;this.state.committerName!==this.state.initialCommitterName&&(await pr("user.name",this.state.committerName),e=!0),this.state.committerEmail!==this.state.initialCommitterEmail&&(await pr("user.email",this.state.committerEmail),e=!0),null!==this.props.repository&&e&&this.props.dispatcher.refreshAuthor(this.props.repository),this.state.defaultBranch.length>0&&this.state.defaultBranch!==this.state.initialDefaultBranch&&await async function(e){return pr("init.defaultBranch",e)}(this.state.defaultBranch),this.props.repositoryIndicatorsEnabled!==this.state.repositoryIndicatorsEnabled&&this.props.dispatcher.setRepositoryIndicatorsEnabled(this.state.repositoryIndicatorsEnabled)}catch(e){if(fd(e)){const t=gd(e.result);if(null!==t)return void this.setState({existingLockFilePath:t,selectedIndex:Xd.Git})}return this.props.onDismissed(),void this.props.dispatcher.postError(e)}this.props.dispatcher.setUseWindowsOpenSSH(this.state.useWindowsOpenSSH),this.props.dispatcher.setNotificationsEnabled(this.state.notificationsEnabled),await this.props.dispatcher.setStatsOptOut(this.state.optOutOfUsageTracking,!1),await this.props.dispatcher.setConfirmRepoRemovalSetting(this.state.confirmRepositoryRemoval),await this.props.dispatcher.setConfirmForcePushSetting(this.state.confirmForcePush),this.state.selectedExternalEditor&&await this.props.dispatcher.setExternalEditor(this.state.selectedExternalEditor),await this.props.dispatcher.setShell(this.state.selectedShell),await this.props.dispatcher.setConfirmDiscardChangesSetting(this.state.confirmDiscardChanges),await this.props.dispatcher.setConfirmDiscardChangesPermanentlySetting(this.state.confirmDiscardChangesPermanently),await this.props.dispatcher.setUncommittedChangesStrategySetting(this.state.uncommittedChangesStrategy),this.props.onDismissed()},this.onTabClicked=e=>{this.setState({selectedIndex:e})},this.state={selectedIndex:this.props.initialSelectedTab||Xd.Accounts,committerName:"",committerEmail:"",defaultBranch:"",initialCommitterName:null,initialCommitterEmail:null,initialDefaultBranch:null,disallowedCharactersMessage:null,availableEditors:[],useWindowsOpenSSH:!1,notificationsEnabled:!0,optOutOfUsageTracking:!1,confirmRepositoryRemoval:!1,confirmDiscardChanges:!1,confirmDiscardChangesPermanently:!1,confirmForcePush:!1,uncommittedChangesStrategy:Fs,selectedExternalEditor:this.props.selectedExternalEditor,availableShells:[],selectedShell:this.props.selectedShell,repositoryIndicatorsEnabled:this.props.repositoryIndicatorsEnabled}}async componentWillMount(){const e=await cr("user.name"),t=await cr("user.email"),n=await xs();let r=e,i=t;if(!r||!i){const e=this.props.dotComAccount||this.props.enterpriseAccount;e&&(r||(r=e.login),i||(i=Aa(e)))}r=r||"",i=i||"";const[o,s]=await Promise.all([Yi(),Ho()]),a=o.map(e=>e.editor),l=s.map(e=>e.shell);this.setState({committerName:r,committerEmail:i,defaultBranch:n,initialCommitterName:e,initialCommitterEmail:t,initialDefaultBranch:n,useWindowsOpenSSH:this.props.useWindowsOpenSSH,notificationsEnabled:this.props.notificationsEnabled,optOutOfUsageTracking:this.props.optOutOfUsageTracking,confirmRepositoryRemoval:this.props.confirmRepositoryRemoval,confirmDiscardChanges:this.props.confirmDiscardChanges,confirmDiscardChangesPermanently:this.props.confirmDiscardChangesPermanently,confirmForcePush:this.props.confirmForcePush,uncommittedChangesStrategy:this.props.uncommittedChangesStrategy,availableShells:l,availableEditors:a})}render(){return de.createElement(ev,{id:"preferences",title:"Preferences",onDismissed:this.props.onDismissed,onSubmit:this.onSave},de.createElement("div",{className:"preferences-container"},this.renderDisallowedCharactersError(),de.createElement(Zy,{onTabClicked:this.onTabClicked,selectedIndex:this.state.selectedIndex,type:Ky.Vertical},de.createElement("span",null,de.createElement(cf,{className:"icon",symbol:Hf}),""),de.createElement("span",null,de.createElement(cf,{className:"icon",symbol:Yf}),""),de.createElement("span",null,de.createElement(cf,{className:"icon",symbol:Ff}),"Git"),de.createElement("span",null,de.createElement(cf,{className:"icon",symbol:Kf}),""),de.createElement("span",null,de.createElement(cf,{className:"icon",symbol:Xf}),""),de.createElement("span",null,de.createElement(cf,{className:"icon",symbol:tm}),"")),this.renderActiveTab()),this.renderFooter())}renderDisallowedCharactersError(){const e=this.state.disallowedCharactersMessage;return null!=e?de.createElement(tv,null,e):null}renderActiveTab(){const e=this.state.selectedIndex;let t;switch(e){case Xd.Accounts:t=de.createElement(cE,{dotComAccount:this.props.dotComAccount,enterpriseAccount:this.props.enterpriseAccount,onDotComSignIn:this.onDotComSignIn,onEnterpriseSignIn:this.onEnterpriseSignIn,onLogout:this.onLogout});break;case Xd.Integrations:t=de.createElement(NR,{availableEditors:this.state.availableEditors,selectedExternalEditor:this.state.selectedExternalEditor,onSelectedEditorChanged:this.onSelectedEditorChanged,availableShells:this.state.availableShells,selectedShell:this.state.selectedShell,onSelectedShellChanged:this.onSelectedShellChanged});break;case Xd.Git:{const{existingLockFilePath:e}=this.state,n=void 0!==e?de.createElement(tv,null,de.createElement(HS,{lockFilePath:e,onLockFileDeleted:this.onLockFileDeleted,onError:this.onLockFileDeleteError})):null;t=de.createElement(de.Fragment,null,n,de.createElement(hE,{name:this.state.committerName,email:this.state.committerEmail,defaultBranch:this.state.defaultBranch,dotComAccount:this.props.dotComAccount,enterpriseAccount:this.props.enterpriseAccount,onNameChanged:this.onCommitterNameChanged,onEmailChanged:this.onCommitterEmailChanged,onDefaultBranchChanged:this.onDefaultBranchChanged}));break}case Xd.Appearance:t=de.createElement(FR,{selectedTheme:this.props.selectedTheme,customTheme:this.props.customTheme,onSelectedThemeChanged:this.onSelectedThemeChanged,onCustomThemeChanged:this.onCustomThemeChanged});break;case Xd.Prompts:t=de.createElement(BR,{confirmRepositoryRemoval:this.state.confirmRepositoryRemoval,confirmDiscardChanges:this.state.confirmDiscardChanges,confirmDiscardChangesPermanently:this.state.confirmDiscardChangesPermanently,confirmForcePush:this.state.confirmForcePush,onConfirmRepositoryRemovalChanged:this.onConfirmRepositoryRemovalChanged,onConfirmDiscardChangesChanged:this.onConfirmDiscardChangesChanged,onConfirmForcePushChanged:this.onConfirmForcePushChanged,onConfirmDiscardChangesPermanentlyChanged:this.onConfirmDiscardChangesPermanentlyChanged});break;case Xd.Advanced:t=de.createElement(uE,{useWindowsOpenSSH:this.state.useWindowsOpenSSH,notificationsEnabled:this.state.notificationsEnabled,optOutOfUsageTracking:this.state.optOutOfUsageTracking,repositoryIndicatorsEnabled:this.state.repositoryIndicatorsEnabled,uncommittedChangesStrategy:this.state.uncommittedChangesStrategy,onUseWindowsOpenSSHChanged:this.onUseWindowsOpenSSHChanged,onNotificationsEnabledChanged:this.onNotificationsEnabledChanged,onOptOutofReportingChanged:this.onOptOutofReportingChanged,onUncommittedChangesStrategyChanged:this.onUncommittedChangesStrategyChanged,onRepositoryIndicatorsEnabledChanged:this.onRepositoryIndicatorsEnabledChanged});break;default:return Ze(0,"Unknown tab index: "+e)}return de.createElement("div",{className:"tab-container"},t)}renderFooter(){const e=null!=this.state.disallowedCharactersMessage,t=this.state.selectedIndex;switch(t){case Xd.Accounts:case Xd.Appearance:return null;case Xd.Integrations:case Xd.Advanced:case Xd.Prompts:case Xd.Git:return de.createElement(nv,null,de.createElement(rv,{okButtonText:"Save",okButtonDisabled:e}));default:return Ze(0,"Unknown tab index: "+t)}}}function HR(e){return e.indexOf("\r")<0?e:e.split("\n").map(e=>e.split("\r").reduce((e,t)=>t.length>=e.length?t:t+e.substring(t.length))).join("\n")}class UR extends de.Component{constructor(e){super(e),this.dialogContent=null,this.formatGitErrorMessage=Jn(HR),this.onDismissed=()=>{const e=this.state.error;null!==e&&(this.setState({error:null,disabled:!0}),window.setTimeout(()=>{this.props.onClearError(e)},eP.exit))},this.showPreferencesDialog=()=>{this.onDismissed(),window.setTimeout(()=>{this.props.onShowPopup({type:ai.Preferences})},eP.exit)},this.onRetryAction=e=>{e.preventDefault(),this.onDismissed();const{error:t}=this.state;if(null!==t&&WR(t)){const{retryAction:e}=t.metadata;void 0!==e&&this.props.onRetryAction(e)}},this.onDialogContentRef=e=>{this.dialogContent=e},this.onCloseButtonClick=e=>{e.preventDefault(),this.onDismissed()},this.state={error:e.errors[0]||null,disabled:!1}}componentWillReceiveProps(e){const t=e.errors[0]||null;t!==this.state.error&&this.setState({error:t,disabled:!1})}renderErrorMessage(e){const t=jR(e);if(zR(t)){const e=this.formatGitErrorMessage(t.message);return de.createElement("p",{className:"monospace"},e)}return de.createElement("p",null,t.message)}getTitle(e){return GR(e)?"Clone failed":"Error"}renderDialog(){const e=this.state.error;return e?de.createElement(ev,{id:"app-error",type:"error",key:"error",title:this.getTitle(e),dismissable:!1,onSubmit:this.onDismissed,onDismissed:this.onDismissed,disabled:this.state.disabled,className:zR(this.state.error)?"raw-git-error":void 0},de.createElement(Xy,{onRef:this.onDialogContentRef},this.renderErrorMessage(e),this.renderContentAfterErrorMessage(e)),this.renderFooter(e)):null}renderContentAfterErrorMessage(e){if(!WR(e))return;const{retryAction:t}=e.metadata;return t&&t.type===tt.Clone?de.createElement("p",null,"Would you like to retry cloning ",de.createElement(av,null,t.name),"?"):void 0}scrollToBottomOfGitErrorMessage(){if(null===this.dialogContent||null===this.state.error)return;zR(jR(this.state.error))&&(this.dialogContent.scrollTop=this.dialogContent.scrollHeight)}componentDidMount(){this.scrollToBottomOfGitErrorMessage()}componentDidUpdate(e,t){t.error!==this.state.error&&this.scrollToBottomOfGitErrorMessage()}renderFooter(e){if(GR(e))return this.renderRetryCloneFooter();const t=jR(e);if(function(e){return e instanceof hd}(t)){const{gitError:e}=t.result;if(null!==e&&dd(e))return this.renderOpenPreferencesFooter()}return this.renderDefaultFooter()}renderRetryCloneFooter(){return de.createElement(nv,null,de.createElement(rv,{okButtonText:"Retry Clone",onOkButtonClick:this.onRetryAction,onCancelButtonClick:this.onCloseButtonClick}))}renderOpenPreferencesFooter(){return de.createElement(nv,null,de.createElement(rv,{okButtonText:"Close",onOkButtonClick:this.onCloseButtonClick,cancelButtonText:"Open Preferences",onCancelButtonClick:this.showPreferencesDialog}))}renderDefaultFooter(){return de.createElement(iv,{onButtonClick:this.onCloseButtonClick})}render(){const e=this.renderDialog();return de.createElement(Oe,null,e&&de.createElement(qe,{classNames:"modal",timeout:eP},e))}}function jR(e){return WR(e)?e.underlyingError:e}function WR(e){return e instanceof rt}function zR(e){if(!e)return!1;const t=jR(e);return t instanceof hd&&t.isRawMessage}function GR(e){if(!WR(e))return!1;const{retryAction:t}=e.metadata;return void 0!==t&&t.type===tt.Clone}class qR extends de.Component{constructor(){super(...arguments),this.checkAgain=()=>{this.props.dispatcher.refreshRepository(this.props.repository)},this.remove=()=>{this.props.dispatcher.removeRepository(this.props.repository,!1)},this.locate=()=>{this.props.dispatcher.relocateRepository(this.props.repository)},this.cloneAgain=async()=>{const e=this.props.repository.gitHubRepository;if(!e)return;const t=e.cloneURL;if(t)try{await this.props.dispatcher.cloneAgain(t,this.props.repository.path)}catch(e){this.props.dispatcher.postError(e)}}}render(){const e=new Array;return e.push(de.createElement(qg,{key:"locate",onClick:this.locate,type:"submit"},"Locate")),this.canCloneAgain()&&e.push(de.createElement(qg,{key:"clone-again",onClick:this.cloneAgain},"Clone Again")),e.push(de.createElement(qg,{key:"remove",onClick:this.remove},"Remove")),de.createElement(Zg,{id:"missing-repository-view"},de.createElement("div",{className:"title-container"},de.createElement("div",{className:"title"},"Can't find \"",this.props.repository.name,'"'),de.createElement("div",{className:"details"},"It was last seen at"," ",de.createElement("span",{className:"path"},this.props.repository.path),"."," ",de.createElement(Mg,{onClick:this.checkAgain},"Checkagain."))),de.createElement(Ng,null,e))}canCloneAgain(){const e=this.props.repository.gitHubRepository;return e&&e.cloneURL}}var VR=n(244),$R=n.n(VR);class KR extends de.Component{constructor(e){super(e),this.onPathChanged=async e=>{const t=await Ud(e);this.setState({path:e,isRepository:t})},this.showFilePicker=async()=>{const e=await ce({properties:["createDirectory","openDirectory"]});if(null===e)return;const t=await Ud(e),n=await Hd(e);this.setState({path:e,isRepository:t,showNonGitRepositoryWarning:!t||n,isRepositoryBare:n})},this.addRepository=async()=>{this.props.onDismissed();const{dispatcher:e}=this.props,t=this.resolvedPath(this.state.path),n=await e.addRepositories([t]);n.length>0&&(e.selectRepository(n[0]),e.recordAddExistingRepository())},this.onCreateRepositoryClicked=()=>{const e=this.resolvedPath(this.state.path);return this.props.dispatcher.showPopup({type:ai.CreateRepository,path:e})};const t=this.props.path?this.props.path:"";this.state={path:t,isRepository:!1,showNonGitRepositoryWarning:!1,isRepositoryBare:!1}}async componentDidMount(){const e=this.state.path;if(e.length<1)return;const t=await Ud(e);if(this.state.path!==e)return;!0!==await Hd(this.state.path)?(this.setState({isRepository:t,showNonGitRepositoryWarning:!t}),this.setState({isRepositoryBare:!1})):this.setState({isRepositoryBare:!0})}renderWarning(){return this.state.path.length&&this.state.showNonGitRepositoryWarning?this.state.isRepositoryBare?de.createElement(Ng,{className:"warning-helper-text"},de.createElement(cf,{symbol:hf}),de.createElement("p",null,"This directory appears to be a bare repository. Bare repositories are not currently supported.")):de.createElement(Ng,{className:"warning-helper-text"},de.createElement(cf,{symbol:hf}),de.createElement("p",null,"This directory does not appear to be a Git repository.",de.createElement("br",null),"Would you like to"," ",de.createElement(Mg,{onClick:this.onCreateRepositoryClicked},"create a repository")," ","here instead?")):null}render(){const e=0===this.state.path.length||!this.state.isRepository||this.state.isRepositoryBare;return de.createElement(ev,{id:"add-existing-repository",title:"Add Local Repository",onSubmit:this.addRepository,onDismissed:this.props.onDismissed},de.createElement(Xy,null,de.createElement(Ng,null,de.createElement(Fg,{value:this.state.path,label:"Local Path",placeholder:"repository path",onValueChanged:this.onPathChanged}),de.createElement(qg,{onClick:this.showFilePicker},"Choose")),this.renderWarning()),de.createElement(nv,null,de.createElement(rv,{okButtonText:"Add Repository",okButtonDisabled:e})))}resolvedPath(e){return r.resolve("/",$R()(e))}}const YR=new RegExp(["\ud83c[\udf00-\udfff]","\ud83d[\udc00-\ude4f]","\ud83d[\ude80-\udeff]"].join("|"),"g");function ZR(e){return e.replace(YR,"-").replace(/[^\w.-]/g,"-")}const XR=r.join(__dirname,"static","gitignore");let QR=null;async function JR(){if(null!=QR)return QR;{const e=(await Object(w.readdir)(XR)).filter(e=>e.endsWith(".gitignore"));QR=new Map;for(const t of e)QR.set(r.basename(t,".gitignore"),r.join(XR,t));return QR}}async function eA(e,t){const n=r.join(e,".gitignore"),i=await async function(e){const t=(await JR()).get(e);if(!t)throw new Error(`Unknown gitignore: ${e}. Only names returned from getGitIgnoreNames() can be used.`);return await Object(w.readFile)(t,"utf8")}(t);await Object(w.writeFile)(n,i)}let tA=null;function nA(e,t,n){const r=new RegExp(`\\[${t}\\]`,"g"),i=e.replace(r,`{${t}}`),o=new RegExp(`\\{${t}\\}`,"g");return i.replace(o,n)}async function rA(e,t,n){const i=r.join(e,"LICENSE"),o=function(e,t,n){let r=e;for(const e of t){r=nA(r,e,n[e])}return r}(t.body,["","email","","",""],n);await Object(w.writeFile)(i,o)}const iA={name:"None",featured:!1,body:"",hidden:!1};class oA extends de.Component{constructor(e){super(e),this.initializePath=async()=>{const e=await Da();this.setState({path:e})},this.onPathChanged=async e=>{this.setState({path:e,isValidPath:null});const t=await Ud(e);this.setState(n=>n.path===e?{isRepository:t}:null),this.updateReadMeExists(e,this.state.name)},this.onNameChanged=e=>{this.setState({name:e}),this.updateReadMeExists(this.state.path,e)},this.onDescriptionChanged=e=>{this.setState({description:e})},this.showFilePicker=async()=>{const e=await ce({properties:["createDirectory","openDirectory"]});if(null===e)return;const t=await Ud(e);this.setState({isRepository:t,path:e})},this.resolveRepositoryRoot=async()=>{const e=this.state.path;if(null===e)return null;if(this.props.initialPath&&this.props.initialPath===e)try{return await w.ensureDir(e),e}catch(e){}return r.join(e,ZR(this.state.name))},this.createRepository=async()=>{const e=await this.resolveRepositoryRoot();if(null===e)return void this.setState({isValidPath:!0});try{await w.ensureDir(e),this.setState({isValidPath:!0})}catch(t){return"EACCES"===t.code&&-13===t.errno?this.setState({isValidPath:!1}):(log.error(`createRepository: the directory at ${e} is not valid`,t),this.props.dispatcher.postError(t))}this.setState({creating:!0});try{await async function(e){await pd(["-c","init.defaultBranch="+await xs(),"init"],e,"initGitRepository")}(e)}catch(t){return this.setState({creating:!1}),log.error("createRepository: unable to initialize a Git repository at "+e,t),this.props.dispatcher.postError(t)}const t=await this.props.dispatcher.addRepositories([e]);if(t.length<1)return;const n=t[0];if(this.state.createWithReadme)try{await async function(e,t,n){const i=r.join(e,"README.md"),o=function(e,t){return void 0!==t?`# ${e}\n ${t}\n`:`# ${e}\n`}(t,n);await Object(w.writeFile)(i,o)}(e,this.state.name,this.state.description)}catch(t){log.error("createRepository: unable to write README at "+e,t),this.props.dispatcher.postError(t)}const i=this.state.gitIgnore;if("None"!==i)try{await eA(e,i)}catch(t){log.error("createRepository: unable to write .gitignore file at "+e,t),this.props.dispatcher.postError(t)}const o=this.state.description;if(o)try{await async function(e,t){const n=r.join(e,".git/description");await w.writeFile(n,t)}(e,o)}catch(t){log.error("createRepository: unable to write .git/description file at "+e,t),this.props.dispatcher.postError(t)}const s=this.state.license===iA.name?null:this.state.license,a=(this.state.licenses||[]).find(e=>e.name===s);if(a)try{const t=await jd(n);await rA(e,a,{fullname:t?t.name:"",email:t?t.email:"",year:(new Date).getFullYear().toString(),description:"",project:this.state.name})}catch(t){log.error("createRepository: unable to write LICENSE at "+e,t),this.props.dispatcher.postError(t)}try{const t=r.join(e,".gitattributes");await w.pathExists(t)||await async function(e){const t=Object(r.join)(e,".gitattributes");await Object(w.writeFile)(t,"# Auto detect text files and perform LF normalization\n* text=auto\n")}(e)}catch(t){log.error("createRepository: unable to write .gitattributes at "+e,t),this.props.dispatcher.postError(t)}const l=await nc(n);if(null!==l){try{const e=l.workingDirectory.files;e.length>0&&await Md(n,"Initial commit",e)}catch(t){log.error("createRepository: initial commit failed at "+e,t),this.props.dispatcher.postError(t)}this.setState({creating:!1}),this.updateDefaultDirectory(),this.props.dispatcher.selectRepository(n),this.props.dispatcher.recordCreateRepository(),this.props.onDismissed()}else this.props.dispatcher.postError(new Error("Unable to create the new repository because there are too many new files in this directory"))},this.updateDefaultDirectory=()=>{this.props.initialPath||null===this.state.path||_a(this.state.path)},this.onCreateWithReadmeChange=e=>{this.setState({createWithReadme:e.currentTarget.checked})},this.onGitIgnoreChange=e=>{const t=e.currentTarget.value;this.setState({gitIgnore:t})},this.onLicenseChange=e=>{const t=e.currentTarget.value;this.setState({license:t})},this.onAddRepositoryClicked=()=>{if(null!==this.state.path)return this.props.dispatcher.showPopup({type:ai.AddRepository,path:this.state.path})},this.onWindowFocus=()=>{this.updateReadMeExists(this.state.path,this.state.name)};const t=this.props.initialPath?this.props.initialPath:null,n=this.props.initialPath?ZR(r.basename(this.props.initialPath)):"";this.state={path:t,name:n,description:"",createWithReadme:!1,creating:!1,gitIgnoreNames:null,gitIgnore:"None",licenses:null,license:iA.name,isValidPath:null,isRepository:!1,readMeExists:!1},null===t&&this.initializePath()}async componentDidMount(){window.addEventListener("focus",this.onWindowFocus);const e=await async function(){const e=await JR();return Array.from(e.keys())}();this.setState({gitIgnoreNames:e});const t=await async function(){if(null!=tA)return tA;{const e=r.join(__dirname,"static","available-licenses.json"),t=await Object(w.readFile)(e,"utf8"),n=JSON.parse(t);return tA=n.sort((e,t)=>e.featured?-1:t.featured?1:e.name.localeCompare(t.name)),tA}}();this.setState({licenses:t});const n=null!==this.state.path?this.state.path:await Da(),i=await Ud(n);this.setState({isRepository:i}),this.updateReadMeExists(n,this.state.name)}componentWillUnmount(){window.removeEventListener("focus",this.onWindowFocus)}async updateReadMeExists(e,t){if(!At()||null===e)return;const n=r.join(e,ZR(t),"README.md"),i=await w.pathExists(n);this.setState(t=>t.path===e?{readMeExists:i}:null)}renderSanitizedName(){const e=ZR(this.state.name);return this.state.name===e?null:de.createElement(Ng,{className:"warning-helper-text"},de.createElement(cf,{symbol:hf}),"Will be created as ",e)}renderGitIgnores(){const e=["None",...this.state.gitIgnoreNames||[]];return de.createElement(Ng,null,de.createElement(By,{label:"Git Ignore",value:this.state.gitIgnore,onChange:this.onGitIgnoreChange},e.map(e=>de.createElement("option",{key:e,value:e},e))))}renderLicenses(){const e=this.state.licenses||[],t=[iA,...e.filter(e=>e.featured)],n=e.filter(e=>!e.featured);return de.createElement(Ng,null,de.createElement(By,{label:"License",value:this.state.license,onChange:this.onLicenseChange},t.map(e=>de.createElement("option",{key:e.name,value:e.name},e.name)),de.createElement("option",{disabled:!0},""),n.map(e=>de.createElement("option",{key:e.name,value:e.name},e.name))))}renderInvalidPathError(){const e=this.state.isValidPath;return!(null!==e)||e?null:de.createElement(tv,null,"Directory could not be created at this path. You may not have permissions to create a directory here.")}renderGitRepositoryWarning(){const e=this.state.isRepository;return this.state.path&&0!==this.state.path.length&&e?de.createElement(Ng,{className:"warning-helper-text"},de.createElement(cf,{symbol:hf}),de.createElement("p",null,"This directory appears to be a Git repository. Would you like to"," ",de.createElement(Mg,{onClick:this.onAddRepositoryClicked},"add this repository")," ","instead?")):null}renderReadmeOverwriteWarning(){return At()?!1===this.state.createWithReadme||!1===this.state.readMeExists?null:de.createElement(Ng,{className:"warning-helper-text"},de.createElement(cf,{symbol:hf}),de.createElement("p",null,"This directory contains a ",de.createElement(av,null,"README.md")," file already. Checking this box will result in the existing file being overwritten.")):null}render(){var e;const t=null===this.state.path||0===this.state.path.length||0===this.state.name.length||this.state.creating||this.state.isRepository,n=!!this.props.initialPath,r=null===this.state.path;return de.createElement(ev,{id:"create-repository",title:"Create a New Repository",loading:this.state.creating,onSubmit:this.createRepository,onDismissed:this.props.onDismissed},this.renderInvalidPathError(),de.createElement(Xy,null,de.createElement(Ng,null,de.createElement(Fg,{value:this.state.name,label:"Name",placeholder:"repository name",onValueChanged:this.onNameChanged})),this.renderSanitizedName(),de.createElement(Ng,null,de.createElement(Fg,{value:this.state.description,label:"",onValueChanged:this.onDescriptionChanged})),de.createElement(Ng,null,de.createElement(Fg,{value:null!==(e=this.state.path)&&void 0!==e?e:"",label:"Local Path",placeholder:"repository path",onValueChanged:this.onPathChanged,disabled:n||r}),de.createElement(qg,{onClick:this.showFilePicker,disabled:n||r},"Choose")),this.renderGitRepositoryWarning(),de.createElement(Ng,null,de.createElement(Qg,{label:"Initialize this repository with a README",value:this.state.createWithReadme?Xg.On:Xg.Off,onChange:this.onCreateWithReadmeChange})),this.renderReadmeOverwriteWarning(),this.renderGitIgnores(),this.renderLicenses()),de.createElement(nv,null,de.createElement(rv,{okButtonText:"Create Repository",okButtonDisabled:t||r})))}}async function sA(e,t,n){const r=Pn.fromAccount(e);return!!await r.fetchRepository(t,n)}async function aA(e,t,n=sA){const r=[...t,Bt.anonymous()],i=Un(e);if(i){const e=r.find(e=>{const t=Fn(e.endpoint),n=Mt.parse(t);return i.hostname===n.hostname})||null;if(e)return e}const o=jn(e);if(o){const{owner:e,name:t,hostname:i}=o,s=Array.from(r).sort((e,t)=>e.endpoint===Nn()?e.token.length?-1:1:t.endpoint===Nn()?t.token.length?1:-1:0);for(const r of s){if(null!=i){if(Mt.parse(Fn(r.endpoint)).hostname!==i)continue}if(await n(r,e,t))return r}}return null}class lA extends de.Component{constructor(){super(...arguments),this.onUrlChanged=e=>{this.props.onUrlChanged(e)}}render(){return de.createElement(Xy,{className:"clone-generic-repository-content"},de.createElement(Ng,null,de.createElement(Fg,{placeholder:"URL or username/repository",value:this.props.url,onValueChanged:this.onUrlChanged,autoFocus:!0,label:de.createElement("span",null,"Repository URL or GitHub username and repository",de.createElement("br",null),"(",de.createElement(av,null,"hubot/cool-repo"),")")})),de.createElement(Ng,null,de.createElement(Fg,{value:this.props.path,label:"Local Path",placeholder:"repository path",onValueChanged:this.props.onPathChanged}),de.createElement(qg,{onClick:this.props.onChooseDirectory},"Choose")))}}function cA(e){return e.map(e=>{const t=(n=e).private?qf:n.fork?em:Qf;var n;return{id:e.html_url,text:[`${e.owner.login}/${e.name}`],url:e.clone_url,name:e.name,icon:t}})}function uA(e,t){if(null!==t)for(const n of e)for(const e of n.items)if(e.url===t.clone_url)return e;return null}function hA(e,t){return e.find(e=>e.clone_url===t.url)||null}class pA extends de.PureComponent{constructor(){super(...arguments),this.getRepositoryGroups=Jn((e,t)=>null===e?[]:function(e,t){const n=e.filter(e=>"User"===e.owner.type),r=e.filter(e=>"Organization"===e.owner.type),i=[{identifier:"your-repositories",items:cA(n)}],o=r.map(e=>e.owner.login),s=Array.from(new Set(o));for(const e of s.sort(qn)){const t=r.filter(t=>t.owner.login===e);i.push({identifier:e,items:cA(t)})}return i}(e)),this.getSelectedListItem=Jn(uA),this.refreshRepositories=()=>{this.props.onRefreshRepositories(this.props.account)},this.onItemClick=(e,t)=>{const{onItemClicked:n,repositories:r}=this.props;if(void 0===n||null===r)return;const i=hA(r,e);null!==i&&n(i,t)},this.onSelectionChanged=e=>{null===e||null===this.props.repositories?this.props.onSelectionChanged(null):this.props.onSelectionChanged(hA(this.props.repositories,e))},this.renderGroupHeader=e=>{let t=e;return"your-repositories"===e&&(t="Your Repositories"),de.createElement("div",{className:"clone-repository-list-content clone-repository-list-group-header"},t)},this.renderItem=(e,t)=>de.createElement("div",{className:"clone-repository-list-item"},de.createElement(cf,{className:"icon",symbol:e.icon}),de.createElement("div",{className:"name",title:e.text[0]},de.createElement(Sm,{text:e.text[0],highlight:t.title}))),this.renderPostFilter=()=>de.createElement(qg,{disabled:this.props.loading,onClick:this.refreshRepositories,tooltip:"Refresh the list of repositories"},de.createElement(cf,{symbol:bm,className:this.props.loading?"spin":void 0})),this.renderNoItems=()=>{const{loading:e,repositories:t}=this.props,n=this.props.account.endpoint===Nn()?"GitHub.com":Fn(this.props.account.endpoint);return!e||null!==t&&0!==t.length?0!==this.props.filterText.length?de.createElement("div",{className:"no-items no-results-found"},de.createElement("div",null,"Sorry, I can't find any repository matching"," ",de.createElement(av,null,this.props.filterText))):de.createElement("div",{className:"no-items empty-repository-list"},de.createElement("div",null,"Looks like there are no repositories for"," ",de.createElement(av,null,this.props.account.login)," on ",n,"."," ",de.createElement(Mg,{onClick:this.refreshRepositories},"Refresh this list")," ","if you've created a repository recently.")):de.createElement("div",{className:"no-items loading"},`Loading repositories from ${n}`)}}componentDidMount(){null===this.props.repositories&&this.refreshRepositories()}componentDidUpdate(e){e.repositories!==this.props.repositories&&null===this.props.repositories&&this.refreshRepositories()}render(){const{repositories:e,account:t,selectedItem:n}=this.props,r=this.getRepositoryGroups(e,t.login),i=this.getSelectedListItem(r,n);return de.createElement(Ug,{className:"clone-github-repo",rowHeight:31,selectedItem:i,renderItem:this.renderItem,renderGroupHeader:this.renderGroupHeader,onSelectionChanged:this.onSelectionChanged,invalidationProps:r,groups:r,filterText:this.props.filterText,onFilterTextChanged:this.props.onFilterTextChanged,renderNoItems:this.renderNoItems,renderPostFilter:this.renderPostFilter,onItemClick:this.props.onItemClicked?this.onItemClick:void 0,placeholderText:"Filter your repositories"})}}class dA extends de.PureComponent{render(){return de.createElement(Xy,{className:"clone-github-repository-content"},de.createElement(Ng,null,de.createElement(pA,{account:this.props.account,selectedItem:this.props.selectedItem,onSelectionChanged:this.props.onSelectionChanged,loading:this.props.loading,repositories:this.props.repositories,filterText:this.props.filterText,onFilterTextChanged:this.props.onFilterTextChanged,onRefreshRepositories:this.props.onRefreshRepositories,onItemClicked:this.props.onItemClicked})),de.createElement(Ng,{className:"local-path-field"},de.createElement(Fg,{value:this.props.path,label:"Local Path",placeholder:"repository path",onValueChanged:this.props.onPathChanged}),de.createElement(qg,{onClick:this.props.onChooseDirectory},"Choose")))}}class fA extends de.Component{constructor(e){super(e),this.initializePath=async()=>{const e=await Da(),t=Object.assign(Object.assign({},this.state.dotComTabState),{path:e}),n=Object.assign(Object.assign({},this.state.enterpriseTabState),{path:e}),r=Object.assign(Object.assign({},this.state.urlTabState),{path:e});this.setState({initialPath:e,dotComTabState:t,enterpriseTabState:n,urlTabState:r});const i=this.getSelectedTabState();this.updateUrl(i.url)},this.checkIfCloningDisabled=()=>{const e=this.getSelectedTabState(),{error:t,url:n,path:r}=e,{loading:i}=this.state;return 0===n.length||null==r||0===r.length||i||null!==t},this.onTabClicked=e=>{this.props.onTabSelected(e)},this.onPathChanged=e=>{this.setSelectedTabState({path:e},this.validatePath)},this.signInDotCom=()=>{this.props.dispatcher.showDotComSignInDialog()},this.signInEnterprise=()=>{this.props.dispatcher.showEnterpriseSignInDialog()},this.onFilterTextChanged=e=>{this.props.selectedTab!==Vr.Generic&&this.setGitHubTabState({filterText:e},this.props.selectedTab)},this.onSelectionChanged=e=>{this.props.selectedTab!==Vr.Generic&&(this.setGitHubTabState({selectedItem:e},this.props.selectedTab),this.updateUrl(null===e?"":e.clone_url))},this.validatePath=async()=>{const e=this.getSelectedTabState(),{path:t,url:n,error:r}=e,{initialPath:i}=this.state;if(i===t&&""===n)r&&this.setSelectedTabState({error:null});else{const e=await this.validateEmptyFolder(t);this.getSelectedTabState().path===t&&this.setSelectedTabState({error:e,path:t})}},this.onChooseDirectory=async()=>this.onChooseWithSaveDialog(),this.onChooseWithOpenDialog=async()=>{const e=await ce({properties:["createDirectory","openDirectory"]});if(null===e)return;const t=this.getSelectedTabState().lastParsedIdentifier,n=t?r.join(e,t.name):e;return this.setSelectedTabState({path:n,error:null},this.validatePath),n},this.onChooseWithSaveDialog=async()=>{var e;const t=this.getSelectedTabState(),n=await le({buttonLabel:"Select",nameFieldLabel:"Clone As:",showsTagField:!1,defaultPath:null!==(e=t.path)&&void 0!==e?e:"",properties:["createDirectory"]});if(null!=n)return this.setSelectedTabState({path:n,error:null},this.validatePath),n},this.updateUrl=async e=>{const t=jn(e),n=this.getSelectedTabState(),i=n.lastParsedIdentifier;if(null===n.path)return void this.setSelectedTabState({url:e},this.validatePath);let o;const s=n.path;o=i?t?r.join(r.dirname(s),t.name):r.dirname(s):t?r.join(s,t.name):s,this.setSelectedTabState({url:e,lastParsedIdentifier:t,path:o},this.validatePath)},this.onItemClicked=(e,t)=>{"keyboard"===t.kind&&"Enter"===t.event.key&&!1===this.checkIfCloningDisabled()&&this.clone()},this.clone=async()=>{this.setState({loading:!0});const e=await this.resolveCloneInfo(),{path:t}=this.getSelectedTabState();if(null==t){const e=new Error("Directory could not be created at this path.");return this.setState({loading:!1}),void this.setSelectedTabState({error:e})}if(!e){const e=new Error("We couldn't find that repository. Check that you are logged in, the network is accessible, and the URL or repository alias are spelled correctly.");return this.setState({loading:!1}),void this.setSelectedTabState({error:e})}const{url:n,defaultBranch:r}=e;try{this.cloneImpl(n.trim(),t,r)}catch(e){log.error("CloneRepository: clone failed to complete to "+t,e),this.setState({loading:!1}),this.setSelectedTabState({error:e})}},this.onWindowFocus=()=>{this.validatePath()};const t={error:null,lastParsedIdentifier:null,path:null,url:this.props.initialURL||""};this.state={initialPath:null,loading:!1,dotComTabState:Object.assign({kind:"dotComTabState",filterText:"",selectedItem:null},t),enterpriseTabState:Object.assign({kind:"enterpriseTabState",filterText:"",selectedItem:null},t),urlTabState:Object.assign({kind:"urlTabState"},t)},this.initializePath()}componentDidUpdate(e){e.selectedTab!==this.props.selectedTab&&this.validatePath()}componentDidMount(){const e=this.props.initialURL;e&&this.updateUrl(e),window.addEventListener("focus",this.onWindowFocus)}componentWillUnmount(){window.removeEventListener("focus",this.onWindowFocus)}render(){const{error:e}=this.getSelectedTabState();return de.createElement(ev,{className:"clone-repository",title:"Clone a Repository",onSubmit:this.clone,onDismissed:this.props.onDismissed,loading:this.state.loading},de.createElement(Zy,{onTabClicked:this.onTabClicked,selectedIndex:this.props.selectedTab},de.createElement("span",null,"GitHub.com"),de.createElement("span",null,"GitHub Enterprise"),de.createElement("span",null,"URL")),e?de.createElement(tv,null,e.message):null,this.renderActiveTab(),this.renderFooter())}renderFooter(){const e=this.props.selectedTab;if(e!==Vr.Generic&&!this.getAccountForTab(e))return null;const t=this.checkIfCloningDisabled();return de.createElement(nv,null,de.createElement(rv,{okButtonText:"Clone",okButtonDisabled:t}))}renderActiveTab(){var e,t;const n=this.props.selectedTab;switch(n){case Vr.Generic:const r=this.state.urlTabState;return de.createElement(lA,{path:null!==(e=r.path)&&void 0!==e?e:"",url:r.url,onPathChanged:this.onPathChanged,onUrlChanged:this.updateUrl,onChooseDirectory:this.onChooseDirectory});case Vr.DotCom:case Vr.Enterprise:{const e=this.getAccountForTab(n);if(e){const r=this.props.apiRepositories.get(e),i=void 0===r?null:r.repositories,o=void 0!==r&&r.loading,s=this.getGitHubTabState(n);return de.createElement(dA,{path:null!==(t=s.path)&&void 0!==t?t:"",account:e,selectedItem:s.selectedItem,onSelectionChanged:this.onSelectionChanged,onPathChanged:this.onPathChanged,onChooseDirectory:this.onChooseDirectory,repositories:i,loading:o,onRefreshRepositories:this.props.onRefreshRepositories,filterText:s.filterText,onFilterTextChanged:this.onFilterTextChanged,onItemClicked:this.onItemClicked})}return de.createElement(Xy,null,this.renderSignIn(n))}default:return Ze(0,"Unknown tab: "+n)}}getAccountForTab(e){switch(e){case Vr.DotCom:return this.props.dotComAccount;case Vr.Enterprise:return this.props.enterpriseAccount;default:return null}}getGitHubTabState(e){return e===Vr.DotCom?this.state.dotComTabState:e===Vr.Enterprise?this.state.enterpriseTabState:Ze(0,"Unknown tab: "+e)}getTabState(e){return e===Vr.DotCom?this.state.dotComTabState:e===Vr.Enterprise?this.state.enterpriseTabState:e===Vr.Generic?this.state.urlTabState:Ze(0,"Unknown tab: "+e)}getSelectedTabState(){return this.getTabState(this.props.selectedTab)}setSelectedTabState(e,t){this.setTabState(e,this.props.selectedTab,t)}setTabState(e,t,n){if(t===Vr.DotCom)this.setState(t=>({dotComTabState:Object.assign(Object.assign({},t.dotComTabState),e)}),n);else if(t===Vr.Enterprise)this.setState(t=>({enterpriseTabState:Object.assign(Object.assign({},t.enterpriseTabState),e)}),n);else{if(t!==Vr.Generic)return Ze(0,"Unknown tab: "+t);this.setState(t=>({urlTabState:Object.assign(Object.assign({},t.urlTabState),e)}),n)}}setGitHubTabState(e,t){if(t===Vr.DotCom)this.setState(t=>({dotComTabState:Cr(t.dotComTabState,e)}));else{if(t!==Vr.Enterprise)return Ze(0,"Unknown tab: "+t);this.setState(t=>({enterpriseTabState:Cr(t.enterpriseTabState,e)}))}}renderSignIn(e){switch(e){case Vr.DotCom:return de.createElement(cv,{actionTitle:"",onAction:this.signInDotCom},de.createElement("div",null,"Sign in to your GitHub.com account to access your repositories."));case Vr.Enterprise:return de.createElement(cv,{actionTitle:"",onAction:this.signInEnterprise},de.createElement("div",null,"GitHub EnterpriseAE, ."));case Vr.Generic:return null;default:return Ze(0,"Unknown sign in tab: "+e)}}async validateEmptyFolder(e){if(null===e)return new Error("Unable to read path on disk. Please check the path and try again.");try{return 0===(await Object(w.readdir)(e)).length?null:new Error("This folder contains files. Git can only clone to empty folders.")}catch(e){return"ENOTDIR"===e.code?new Error("There is already a file with this name. Git can only clone to a folder."):"ENOENT"===e.code?null:(log.error("CloneRepository: Path validation failed. Error: "+e.message),new Error("Unable to read path on disk. Please check the path and try again."))}}async resolveCloneInfo(){var e;const{url:t,lastParsedIdentifier:n}=this.getSelectedTabState(),r=new Array;this.props.dotComAccount&&r.push(this.props.dotComAccount),this.props.enterpriseAccount&&r.push(this.props.enterpriseAccount);const i=await aA(t,r);if(null!==n&&null!==i){const r=Pn.fromAccount(i),{owner:o,name:s}=n,a=null===(e=Un(t))||void 0===e?void 0:e.protocol;return r.fetchRepositoryCloneInfo(o,s,a).catch(e=>(log.error(`Failed to look up repository clone info for '${t}'`,e),{url:t}))}return{url:t}}cloneImpl(e,t,n){this.props.dispatcher.clone(e,t,{defaultBranch:n}),this.props.onDismissed(),_a(r.resolve(t,".."))}}function mA(e,t){return e.tip.kind===si.Detached?Gr.Head:t===Gr.UpstreamDefaultBranch&&null!==e.upstreamDefaultBranch||t===Gr.DefaultBranch&&null!==e.defaultBranch||t===Gr.CurrentBranch&&e.tip.kind===si.Valid||t===Gr.Head?t:e.upstreamDefaultBranch?Gr.UpstreamDefaultBranch:e.defaultBranch?Gr.DefaultBranch:e.tip.kind===si.Valid?Gr.CurrentBranch:Gr.Head}class gA extends de.Component{constructor(e){super(e),this.onBaseBranchChanged=e=>{this.setState({startPoint:e})},this.getHeaderText=()=>void 0!==this.props.headerText?this.props.headerText:"",this.getOkButtonText=()=>void 0!==this.props.okButtonText?this.props.okButtonText:"",this.onBranchNameChange=e=>{this.updateBranchName(e)},this.createBranch=async()=>{const e=this.state.branchName;let t=null,n=!1;const{defaultBranch:r,upstreamDefaultBranch:i,repository:o}=this.props;if(void 0!==this.props.targetCommit)t=this.props.targetCommit.sha;else if(this.state.startPoint===Gr.DefaultBranch){if(!r)return void this.setState({currentError:new Error("Could not determine the default branch")});t=r.name}else if(this.state.startPoint===Gr.UpstreamDefaultBranch){if(!i)return void this.setState({currentError:new Error("Could not determine the default branch")});t=i.name,n=!0}if(e.length>0){if(this.setState({isCreatingBranch:!0}),void 0!==this.props.createBranch)return void this.props.createBranch(e,t,n);const r=Oy("create branch",o),i=await this.props.dispatcher.createBranch(o,e,t,n);r.done(),this.props.onDismissed(),void 0!==i&&void 0!==this.props.targetCommit&&void 0!==this.props.onBranchCreatedFromCommit&&this.props.onBranchCreatedFromCommit()}},this.renderOptions=(e,t)=>de.createElement(Ng,null,de.createElement(dE,{label:"Create branch based on",items:e,selectedKey:t,onSelectionChanged:this.onBaseBranchChanged}));const t=mA(e,Gr.UpstreamDefaultBranch);this.state={currentError:null,branchName:e.initialName,startPoint:t,isCreatingBranch:!1,tipAtCreateStart:e.tip,defaultBranchAtCreateStart:vA(t,e)}}componentWillReceiveProps(e){if(this.setState({startPoint:mA(e,this.state.startPoint)}),!this.state.isCreatingBranch){const t=mA(e,Gr.UpstreamDefaultBranch);this.setState({tipAtCreateStart:e.tip,defaultBranchAtCreateStart:vA(t,e)})}}renderBranchSelection(){const e=this.state.isCreatingBranch?this.state.tipAtCreateStart:this.props.tip,t=e.kind,n=this.props.targetCommit;if(void 0!==n)return de.createElement("p",null,"Your new branch will be based on the commit '",n.summary,"' (",n.sha.substr(0,7),") from your repository.");if(e.kind===si.Detached)return de.createElement("p",null,"You do not currently have any branch checked out (your HEAD reference is detached). As such your new branch will be based on your currently checked out commit (",e.currentSha.substr(0,7),").");if(e.kind===si.Unborn)return de.createElement("p",null,"Your current branch is unborn (does not contain any commits). Creating a new branch will rename the current branch.");if(e.kind===si.Valid){if(null!==this.props.upstreamGitHubRepository&&null!==this.props.upstreamDefaultBranch)return this.renderForkBranchSelection(e.branch.name,this.props.upstreamDefaultBranch,this.props.upstreamGitHubRepository.fullName);const t=this.state.isCreatingBranch?this.props.defaultBranch:this.state.defaultBranchAtCreateStart;return this.renderRegularBranchSelection(e.branch.name,t)}return Ze(0,"Unknown tip kind "+t)}render(){const e=this.state.branchName.length<=0||!!this.state.currentError||/^\s*$/.test(this.state.branchName),t=this.state.currentError;return de.createElement(ev,{id:"create-branch",title:this.getHeaderText(),onSubmit:this.createBranch,onDismissed:this.props.onDismissed,loading:this.state.isCreatingBranch,disabled:this.state.isCreatingBranch},t?de.createElement(tv,null,t.message):null,de.createElement(Xy,null,de.createElement(iS,{label:"Name",initialValue:this.props.initialName,onValueChange:this.onBranchNameChange}),(n=this.state.branchName,!1==this.props.allBranches.findIndex(e=>e.nameWithoutRemote===n&&e.type===zr.Remote)>-1?null:de.createElement(Ng,{className:"warning-helper-text"},de.createElement(cf,{symbol:hf}),de.createElement("p",null,"A branch named ",de.createElement(av,null,n)," already exists on the remote."))),this.renderBranchSelection()),de.createElement(nv,null,de.createElement(rv,{okButtonText:this.getOkButtonText(),okButtonDisabled:e})));var n}updateBranchName(e){const t=this.props.allBranches.findIndex(t=>t.name===e)>-1?new Error(`A branch named ${e} already exists`):null;this.setState({branchName:e,currentError:t})}renderRegularBranchSelection(e,t){if(null===t||t.name===e)return de.createElement("p",null,"Your new branch will be based on your currently checked out branch (",de.createElement(av,null,e),"). ",de.createElement(av,null,e)," is the ",yA," for your repository.");{const n=[{title:t.name,description:"The default branch in your repository. Pick this to start on something new that's not dependent on your current branch.",key:Gr.DefaultBranch},{title:e,description:"The currently checked out branch. Pick this if you need to build on work done on this branch.",key:Gr.CurrentBranch}],r=this.state.startPoint===Gr.DefaultBranch?this.state.startPoint:Gr.CurrentBranch;return this.renderOptions(n,r)}}renderForkBranchSelection(e,t,n){if(e===t.nameWithoutRemote)return de.createElement("p",null,"Your new branch will be based on"," ",de.createElement("strong",null,n),"'s ",yA," (",de.createElement(av,null,t.nameWithoutRemote),").");{const n=[{title:t.name,description:"The default branch of the upstream repository. Pick this to start on something new that's not dependent on your current branch.",key:Gr.UpstreamDefaultBranch},{title:e,description:"The currently checked out branch. Pick this if you need to build on work done on this branch.",key:Gr.CurrentBranch}],r=this.state.startPoint===Gr.UpstreamDefaultBranch?this.state.startPoint:Gr.CurrentBranch;return this.renderOptions(n,r)}}}const yA=de.createElement(Mg,{uri:"https://help.github.com/articles/setting-the-default-branch/"},"default branch");function vA(e,t){return e===Gr.UpstreamDefaultBranch?t.upstreamDefaultBranch:e===Gr.DefaultBranch?t.defaultBranch:null}class bA extends de.Component{constructor(e){super(e),this.onSubmit=()=>{const e=this.props.signInState;if(!e)return;const t=e.kind;switch(e.kind){case eu.EndpointEntry:this.props.dispatcher.setSignInEndpoint(this.state.endpoint);break;case eu.Authentication:e.supportsBasicAuth?this.props.dispatcher.setSignInCredentials(this.state.username,this.state.password):this.props.dispatcher.requestBrowserAuthentication();break;case eu.TwoFactorAuthentication:this.props.dispatcher.setSignInOTP(this.state.otpToken);break;case eu.Success:this.onDismissed();break;default:Ze(0,"Unknown sign in step "+t)}},this.onEndpointChanged=e=>{this.setState({endpoint:e})},this.onUsernameChanged=e=>{this.setState({username:e})},this.onPasswordChanged=e=>{this.setState({password:e})},this.onOTPTokenChanged=e=>{this.setState({otpToken:e})},this.onSignInWithBrowser=()=>{this.props.dispatcher.requestBrowserAuthentication()},this.onDismissed=()=>{this.props.dispatcher.resetSignInState(),this.props.onDismissed()},this.state={endpoint:"",username:"",password:"",otpToken:""}}componentWillReceiveProps(e){e.signInState!==this.props.signInState&&e.signInState&&e.signInState.kind===eu.Success&&this.onDismissed()}renderFooter(){const e=this.props.signInState;if(!e||e.kind===eu.Success)return null;let t,n=!1;const r=e.kind;switch(e.kind){case eu.EndpointEntry:n=0===this.state.endpoint.length,t="Continue";break;case eu.TwoFactorAuthentication:n=!/\S+/.test(this.state.otpToken),t="Sign in";break;case eu.Authentication:if(e.supportsBasicAuth){const e=this.state.username.length>0,r=this.state.password.length>0;n=!e||!r,t="Sign in"}else t="Continue With Browser";break;default:return Ze(0,"Unknown sign in step "+r)}return de.createElement(nv,null,de.createElement(rv,{okButtonText:t,okButtonDisabled:n}))}renderEndpointEntryStep(e){return de.createElement(Xy,null,de.createElement(Ng,null,de.createElement(Fg,{label:"Enterprise address",value:this.state.endpoint,onValueChanged:this.onEndpointChanged,placeholder:"https://github.example.com"})))}renderAuthenticationStep(e){if(!e.supportsBasicAuth)return e.endpoint===Nn()?de.createElement(Xy,null,de.createElement("p",null,"To improve the security of your account, GitHub now requires you to sign in through your browser."),de.createElement("p",null,"Your browser will redirect you back to GitHub Desktop once you've signed in. If your browser asks for your permission to launch GitHub Desktop please allow it to.")):de.createElement(Xy,null,de.createElement("p",null,"Your GitHub Enterprise instance requires you to sign in with your browser."));const t=e.loading;return de.createElement(Xy,null,de.createElement(Ng,{className:"sign-in-with-browser"},de.createElement(qg,{className:"button-with-icon button-component-primary",onClick:this.onSignInWithBrowser,disabled:t},"Sign in using your browser",de.createElement(cf,{symbol:zf}))),de.createElement("div",{className:"horizontal-rule"},de.createElement("span",{className:"horizontal-rule-content"},"or")),de.createElement(Ng,null,de.createElement(Fg,{label:"Username or email address",value:this.state.username,onValueChanged:this.onUsernameChanged})),de.createElement(Ng,null,de.createElement(Fg,{label:"Password",value:this.state.password,type:"password",onValueChanged:this.onPasswordChanged})),de.createElement(Ng,null,de.createElement(Mg,{className:"forgot-password-link-sign-in",uri:e.forgotPasswordUrl},"Forgot password?")))}renderTwoFactorAuthenticationStep(e){return de.createElement(Xy,null,de.createElement("p",null,Kt(e.type)),de.createElement(Ng,null,de.createElement(Fg,{label:"Authentication code",value:this.state.otpToken,onValueChanged:this.onOTPTokenChanged,labelLinkText:"What's this?",labelLinkUri:"https://help.github.com/articles/providing-your-2fa-authentication-code/",autoFocus:!0})))}renderStep(){const e=this.props.signInState;if(!e)return null;const t=e.kind;switch(e.kind){case eu.EndpointEntry:return this.renderEndpointEntryStep(e);case eu.Authentication:return this.renderAuthenticationStep(e);case eu.TwoFactorAuthentication:return this.renderTwoFactorAuthenticationStep(e);case eu.Success:return null;default:return Ze(0,"Unknown sign in step "+t)}}render(){const e=this.props.signInState;if(!e||e.kind===eu.Success)return null;const t=e.loading,n=e.error?de.createElement(tv,null,e.error.message):null,r=this.props.signInState&&this.props.signInState.kind===eu.Authentication&&!this.props.signInState.supportsBasicAuth?"Sign in Using Your Browser":"Sign in";return de.createElement(ev,{id:"sign-in",title:r,disabled:t,onDismissed:this.onDismissed,onSubmit:this.onSubmit,loading:e.loading},n,this.renderStep(),this.renderFooter())}}class wA extends de.Component{constructor(e){super(e),this.onSubmit=()=>{this.props.onOpenShell(this.props.path),this.props.onDismissed()},this.onExternalLink=e=>{Je.openExternal("https://help.github.com/articles/set-up-git/#setting-up-git")}}render(){return de.createElement(ev,{id:"install-git",type:"warning",title:"Unable to Locate Git",onSubmit:this.onSubmit,onDismissed:this.props.onDismissed},de.createElement(Xy,null,de.createElement("p",null,"We were unable to locate Git on your system. This means you won't be able to execute any Git commands in the"," ","Terminal window","."),de.createElement("p",null,"To help you get Git installed and configured for your operating system, we have some external resources available.")),de.createElement(nv,null,de.createElement(rv,{okButtonText:"Open Without Git",cancelButtonText:"Install Git",onCancelButtonClick:this.onExternalLink})))}}class CA extends de.Component{constructor(e){super(e),this.onExternalLink=()=>{Je.openExternal(Fi)},this.onShowPreferencesDialog=e=>{e.preventDefault(),this.props.onDismissed(),this.props.showPreferencesDialog()}}renderFooter(){const{viewPreferences:e,suggestDefaultEditor:t}=this.props;return e?de.createElement(nv,null,de.createElement(rv,{okButtonText:"Close",cancelButtonText:"Open Preferences",onCancelButtonClick:this.onShowPreferencesDialog})):t?de.createElement(nv,null,de.createElement(rv,{okButtonText:"Close",cancelButtonText:"Download "+Mi,onCancelButtonClick:this.onExternalLink})):de.createElement(iv,null)}render(){return de.createElement(ev,{id:"external-editor-error",type:"error",title:"Unable to Open External Editor",onSubmit:this.props.onDismissed,onDismissed:this.props.onDismissed},de.createElement(Xy,null,de.createElement("p",null,this.props.message)),this.renderFooter())}}const SA=lt(__dirname,"static/logo-64x64@2x.png");class EA extends de.Component{constructor(e){super(e),this.updateStoreEventHandle=null,this.onUpdateStateChanged=e=>{this.setState({updateState:e})},this.onQuitAndInstall=()=>{Pt.quitAndInstallUpdate()},this.state={updateState:Pt.state}}componentDidMount(){this.updateStoreEventHandle=Pt.onDidChange(this.onUpdateStateChanged),this.setState({updateState:Pt.state})}componentWillUnmount(){this.updateStoreEventHandle&&(this.updateStoreEventHandle.dispose(),this.updateStoreEventHandle=null)}renderUpdateButton(){const e=this.state.updateState.status;switch(e){case Ot.UpdateReady:return de.createElement(Ng,null,de.createElement(qg,{onClick:this.onQuitAndInstall},"Quit and Install Update"));case Ot.UpdateNotAvailable:case Ot.CheckingForUpdates:case Ot.UpdateAvailable:const t=e!==Ot.UpdateNotAvailable;return de.createElement(Ng,null,de.createElement(qg,{disabled:t,onClick:this.props.onCheckForUpdates},"Check for Updates"));default:return Ze(0,"Unknown update status "+e)}}renderCheckingForUpdate(){return de.createElement(Ng,{className:"update-status"},de.createElement(uy,null),de.createElement("span",null,"Checking for updates"))}renderUpdateAvailable(){return de.createElement(Ng,{className:"update-status"},de.createElement(uy,null),de.createElement("span",null,"Downloading update"))}renderUpdateNotAvailable(){const e=this.state.updateState.lastSuccessfulCheck;return e?de.createElement("p",{className:"update-status"},"You have the latest version (last checked"," ",de.createElement(Gv,{date:e}),")"):null}renderUpdateReady(){return de.createElement("p",{className:"update-status"},"An update has been downloaded and is ready to be installed.")}renderUpdateDetails(){const e=this.state.updateState;switch(e.status){case Ot.CheckingForUpdates:return this.renderCheckingForUpdate();case Ot.UpdateAvailable:return this.renderUpdateAvailable();case Ot.UpdateNotAvailable:return this.renderUpdateNotAvailable();case Ot.UpdateReady:return this.renderUpdateReady();default:return Ze(e.status,"Unknown update status "+e.status)}}renderUpdateErrors(){return this.state.updateState.lastSuccessfulCheck?null:de.createElement(tv,null,"Couldn't determine the last time an update check was performed. You may be running an old version. Please try manually checking for updates and contact GitHub Support if the problem persists")}render(){const e=this.props.applicationName,t=this.props.applicationVersion,n=de.createElement(Mg,{uri:KS},"release notes"),r="Version "+t;return de.createElement(ev,{id:"about",onSubmit:this.props.onDismissed,onDismissed:this.props.onDismissed},this.renderUpdateErrors(),de.createElement(Xy,null,de.createElement(Ng,{className:"logo"},de.createElement("img",{src:SA,alt:"GitHub Desktop",width:"64",height:"64"})),de.createElement("h2",null,e),de.createElement("p",{className:"no-padding"},de.createElement("span",{className:"selectable-text"},r," (",this.props.applicationArchitecture,")")," ","(",n,")"),de.createElement("p",{className:"no-padding"},de.createElement(Mg,{onClick:this.props.onShowTermsAndConditions},"Terms and Conditions")),de.createElement("p",null,de.createElement(Mg,{onClick:this.props.onShowAcknowledgements},"License and Open Source Notices")),this.renderUpdateDetails(),this.renderUpdateButton()),de.createElement(iv,null))}}class kA extends de.Component{constructor(e){super(e),this.onNameChange=e=>{this.name=e,e=ZR(e),this.updateSettings({name:e})},this.onDescriptionChange=e=>{this.updateSettings({description:e})},this.onPrivateChange=e=>{this.updateSettings({private:e.currentTarget.checked})},this.onOrgChange=e=>{const{settings:t}=this.props,n=e.currentTarget.value,r=parseInt(n,10);let i;if(r<0||isNaN(r))i=Object.assign(Object.assign({},t),{org:null});else{const e=this.state.orgs[r];i=Object.assign(Object.assign({},t),{org:e})}this.props.onSettingsChanged(i)},this.state={orgs:[]},this.name=e.settings.name}async componentWillMount(){this.fetchOrgs(this.props.account)}componentWillReceiveProps(e){this.props.account!==e.account&&(this.setState({orgs:[]}),this.fetchOrgs(e.account))}async fetchOrgs(e){const t=Pn.fromAccount(e),n=[...await t.fetchOrgs()];n.sort((e,t)=>qn(e.login,t.login)),this.setState({orgs:n})}updateSettings(e){const t=Cr(this.props.settings,e);this.props.onSettingsChanged(t)}renderOrgs(){if(0===this.state.orgs.length)return null;const e=new Array;e.push(de.createElement("option",{value:-1,key:-1},"None"));let t=-1;const n=this.props.settings.org;for(const[r,i]of this.state.orgs.entries())n&&n.id===i.id&&(t=r),e.push(de.createElement("option",{value:r,key:r},i.login));return de.createElement(By,{label:"Organization",value:t.toString(),onChange:this.onOrgChange},e)}render(){return de.createElement(Xy,null,de.createElement(Ng,null,de.createElement(Fg,{label:"Name",value:this.name,onValueChanged:this.onNameChange})),this.renderSanitizedName(),de.createElement(Ng,null,de.createElement(Fg,{label:"",value:this.props.settings.description,onValueChanged:this.onDescriptionChange})),de.createElement(Ng,null,de.createElement("label",null,de.createElement("input",{type:"checkbox",checked:this.props.settings.private,onChange:this.onPrivateChange}),"Keep this code private")),this.renderOrgs())}renderSanitizedName(){const e=this.props.settings.name;return this.name===e?null:de.createElement(Ng,{className:"warning-helper-text"},de.createElement(cf,{symbol:hf}),"Will be created as ",e)}}var xA,DA;!function(e){e[e.enterprise=0]="enterprise",e[e.dotcom=1]="dotcom"}(xA||(xA={})),function(e){e[e.DotCom=0]="DotCom",e[e.Enterprise=1]="Enterprise"}(DA||(DA={}));class _A extends de.Component{constructor(e){super(e),this.onSettingsChanged=e=>{let t;t=e.kind===xA.enterprise?{kind:"enterprise",settings:e,error:this.state.enterpriseTabState.error}:{kind:"dotcom",settings:e,error:this.state.dotcomTabState.error},this.setTabState(t)},this.signInDotCom=()=>{this.props.dispatcher.showDotComSignInDialog()},this.signInEnterprise=()=>{this.props.dispatcher.showEnterpriseSignInDialog()},this.publishRepository=async()=>{const e=this.getCurrentTabState();this.setCurrentTabError(null),this.setState({publishing:!0});const t=this.state.currentTab,n=this.getAccountForTab(t);n||Ye("Tried to publish with no user. That seems impossible!");const r=e.settings,{org:i}=e.settings;try{await this.props.dispatcher.publishRepository(this.props.repository,r.name,r.description,r.private,n,i),this.props.onDismissed()}catch(e){this.setCurrentTabError(e),this.setState({publishing:!1})}},this.onTabClicked=e=>{e!==this.state.currentTab&&this.setState({currentTab:e})},this.getCurrentTabState=()=>this.state.currentTab===DA.DotCom?this.state.dotcomTabState:this.state.enterpriseTabState,this.setTabState=e=>{"enterprise"===e.kind?this.setState({enterpriseTabState:e}):this.setState({dotcomTabState:e})},this.setCurrentTabSettings=e=>{if(e.kind===xA.enterprise){const t=Object.assign(Object.assign({},this.state.enterpriseTabState),{settings:e});this.setTabState(t)}else{const t=Object.assign(Object.assign({},this.state.dotcomTabState),{settings:e});this.setTabState(t)}},this.setCurrentTabError=e=>{this.setTabState(Object.assign(Object.assign({},this.getCurrentTabState()),{error:e}))};const t=this.getAccountForTab(DA.DotCom),n=this.getAccountForTab(DA.Enterprise);let r=DA.DotCom;!t&&n&&(r=DA.Enterprise);const i={name:e.repository.name,description:"",private:!0},o={kind:"dotcom",settings:Object.assign(Object.assign({},i),{kind:xA.dotcom,org:null}),error:null},s={kind:"enterprise",settings:Object.assign(Object.assign({},i),{kind:xA.enterprise,org:null}),error:null};this.state={currentTab:r,dotcomTabState:o,enterpriseTabState:s,publishing:!1}}render(){const e=this.getCurrentTabState();return de.createElement(ev,{id:"publish-repository",title:"Publish Repository",onDismissed:this.props.onDismissed,onSubmit:this.publishRepository,disabled:this.state.publishing,loading:this.state.publishing},de.createElement(Zy,{onTabClicked:this.onTabClicked,selectedIndex:this.state.currentTab},de.createElement("span",null,"GitHub.com"),de.createElement("span",null,"GitHub Enterprise")),e.error?de.createElement(tv,null,e.error.message):null,this.renderContent(),this.renderFooter())}async componentDidMount(){const e=this.getCurrentTabState();try{const t=await async function(e){const t=r.join(e,".git/description");try{const e=await w.readFile(t,"utf8");return"Unnamed repository; edit this file 'description' to name the repository.\n"===e?"":e}catch(e){return""}}(this.props.repository.path),n=Object.assign(Object.assign({},e.settings),{description:t});this.setCurrentTabSettings(n)}catch(e){log.warn("Couldn't get the repository's description",e)}}renderContent(){const e=this.state.currentTab,t=this.getCurrentTabState(),n=this.getAccountForTab(e);return n?de.createElement(kA,{account:n,settings:t.settings,onSettingsChanged:this.onSettingsChanged}):de.createElement(Xy,null,this.renderSignInTab(e))}getAccountForTab(e){const t=this.props.accounts;switch(e){case DA.DotCom:return t.find(e=>e.endpoint===Nn())||null;case DA.Enterprise:return t.find(e=>e.endpoint!==Nn())||null;default:return Ze(0,"Unknown tab: "+e)}}renderSignInTab(e){switch(e){case DA.DotCom:return de.createElement(cv,{actionTitle:"",onAction:this.signInDotCom},de.createElement("div",null,"Sign in to your GitHub.com account to access your repositories."));case DA.Enterprise:return de.createElement(cv,{actionTitle:"",onAction:this.signInEnterprise},de.createElement("div",null,"GitHub EnterpriseAE, ."));default:return Ze(0,"Unknown tab: "+e)}}renderFooter(){const e=!this.getCurrentTabState().settings.name.length,t=this.state.currentTab;return this.getAccountForTab(t)?de.createElement(nv,null,de.createElement(rv,{okButtonText:"Publish Repository",okButtonDisabled:e})):null}}class TA extends de.Component{constructor(e){super(e),this.state={licenses:null}}async componentDidMount(){const e=r.join(await Ut(),"static","licenses.json");i.readFile(e,"utf8",(e,t)=>{if(e)return void log.error("Error loading licenses",e);const n=JSON.parse(t);n?this.setState({licenses:n}):log.warn("Couldn't parse licenses!")})}renderLicenses(e){const t=[];for(const[n,r]of Object.keys(e).sort().entries()){if(0===n)continue;const i=e[r],o=i.repository;let s,a;if(o){const e=RA(o);s=de.createElement(Mg,{uri:e},r)}else s=r;a=i.sourceText?i.sourceText:i.license?"License: "+i.license:"Unknown license";const l=de.createElement("h2",{key:r+"-header"},s),c=de.createElement("p",{key:r+"-text",className:"license-text"},a);t.push(l,c)}return t}render(){const e=this.state.licenses;let t=null;if(e){const n=e["desktop@"+this.props.applicationVersion];t=de.createElement("p",{className:"license-text"},n.sourceText)}return de.createElement(ev,{id:"acknowledgements",title:"License and Open Source Notices",onSubmit:this.props.onDismissed,onDismissed:this.props.onDismissed},de.createElement(Xy,null,de.createElement("p",null,de.createElement(Mg,{uri:"https://desktop.github.com"},"GitHub Desktop")," is an open source project published under the MIT License. You can view the source code and contribute to this project on"," ",de.createElement(Mg,{uri:"https://github.com/desktop/desktop"},"GitHub"),"."),t,de.createElement("p",null,"GitHub Desktop also distributes these libraries:"),e?this.renderLicenses(e):de.createElement(uy,null)),de.createElement(iv,null))}}function RA(e){let t=e;return t=t.replace("git+https://github.com","https://github.com"),t=t.replace("git+ssh://git@github.com","https://github.com"),t}class AA extends de.Component{constructor(){super(...arguments),this.onContinue=()=>{this.props.onDismissed(),this.props.onContinue(this.props.certificate)}}render(){const e=Mt.parse(this.props.url).hostname;return de.createElement(ev,{title:"Untrusted Server",onDismissed:this.props.onDismissed,onSubmit:this.onContinue,type:"warning"},de.createElement(Xy,null,de.createElement("p",null,"GitHub Desktop cannot verify the identity of ",e,". The certificate (",this.props.certificate.subjectName,") is invalid or untrusted."," ",de.createElement("strong",null,"This may indicate attackers are trying to steal your data.")),de.createElement("p",null,"In some cases, this may be expected. For example:"),de.createElement("ul",null,de.createElement("li",null,"If this is a GitHub Enterprise trial."),de.createElement("li",null,"If your GitHub Enterprise instance is run on an unusual top-level domain.")),de.createElement("p",null,"If you are unsure of what to do, cancel and contact your system administrator.")),de.createElement(nv,null,de.createElement(rv,{destructive:!0,okButtonText:"View Certificate"})))}}var OA;!function(e){e[e.dotCom=0]="dotCom",e[e.enterprise=1]="enterprise"}(OA||(OA={}));class PA extends de.Component{constructor(e){super(e),this.onItemClicked=(e,t)=>{"keyboard"===t.kind&&"Enter"===t.event.key&&this.onCloneSelectedRepository()},this.onCloneSelectedRepository=()=>{const e=this.getSelectedAccount();if(null===e)return;const t=this.getSelectedItemForAccount(e);null!==t&&this.props.onClone(t.clone_url)},this.onSelectionChanged=e=>{const t=this.getSelectedAccount();t===this.props.dotComAccount?this.setState({selectedDotComRepository:e}):t===this.props.enterpriseAccount&&this.setState({selectedEnterpriseRepository:e})},this.onFilterTextChanged=e=>{const t=this.getSelectedAccount();t===this.props.dotComAccount?this.setState({dotComFilterText:e}):t===this.props.enterpriseAccount&&this.setState({enterpriseFilterText:e})},this.onTabClicked=e=>{0===e?this.setState({selectedTab:OA.dotCom}):1===e&&this.setState({selectedTab:OA.enterprise})},this.onShowClone=()=>this.props.onClone(),this.state={selectedTab:OA.dotCom,dotComFilterText:"",enterpriseFilterText:"",selectedDotComRepository:null,selectedEnterpriseRepository:null}}render(){return de.createElement(Zg,{id:"no-repositories"},de.createElement("header",null,de.createElement("h1",null,"Let's get started!"),de.createElement("p",null,"Add a repository to GitHub Desktop to start collaborating")),de.createElement("div",{className:"content"},this.renderGetStartedActions(),this.renderRepositoryList()),de.createElement("img",{className:"no-repositories-graphic-top",src:GS}),de.createElement("img",{className:"no-repositories-graphic-bottom",src:qS}))}componentDidMount(){this.ensureRepositoriesForAccount(this.getSelectedAccount())}componentDidUpdate(e,t){e.dotComAccount===this.props.dotComAccount&&e.enterpriseAccount===this.props.enterpriseAccount&&t.selectedTab===this.state.selectedTab||this.ensureRepositoriesForAccount(this.getSelectedAccount())}ensureRepositoriesForAccount(e){if(null!==e){void 0===this.props.apiRepositories.get(e)&&this.props.onRefreshRepositories(e)}}getSelectedAccount(){const{selectedTab:e}=this.state;return e===OA.dotCom?this.props.dotComAccount||this.props.enterpriseAccount:e===OA.enterprise?this.props.enterpriseAccount||this.props.dotComAccount:Ze(0,"Unknown account tab "+e)}renderRepositoryList(){const e=this.getSelectedAccount();if(null===e)return null;const t=this.props.apiRepositories.get(e);return de.createElement("div",{className:"content-pane repository-list"},this.renderAccountsTabBar(),this.renderAccountRepositoryList(e,t))}getSelectedItemForAccount(e){return e===this.props.dotComAccount?this.state.selectedDotComRepository:this.state.selectedEnterpriseRepository}renderAccountRepositoryList(e,t){const n=void 0===t||t.loading,r=void 0===t?null:t.repositories,i=this.getSelectedItemForAccount(e),o=e===this.props.dotComAccount?this.state.dotComFilterText:this.state.enterpriseFilterText;return de.createElement(de.Fragment,null,de.createElement(pA,{account:e,selectedItem:i,filterText:o,onRefreshRepositories:this.props.onRefreshRepositories,loading:n,repositories:r,onSelectionChanged:this.onSelectionChanged,onFilterTextChanged:this.onFilterTextChanged,onItemClicked:this.onItemClicked}),this.renderCloneSelectedRepositoryButton(i))}renderCloneSelectedRepositoryButton(e){return null===e?null:de.createElement(qg,{type:"submit",className:"clone-selected-repository",onClick:this.onCloneSelectedRepository},"Clone"," ",de.createElement("strong",null,e.owner.login,"/",e.name))}renderAccountsTabBar(){if(null===this.props.dotComAccount||null===this.props.enterpriseAccount)return null;const e=this.getSelectedAccount()===this.props.dotComAccount?0:1;return de.createElement(Zy,{selectedIndex:e,onTabClicked:this.onTabClicked},de.createElement("span",null,"GitHub.com"),de.createElement("span",null,"GitHub Enterprise"))}renderButtonGroupButton(e,t,n,r){return de.createElement("li",null,de.createElement(qg,{onClick:n,type:r},de.createElement(cf,{symbol:e}),de.createElement("div",null,t)))}renderTutorialRepositoryButton(){return null===this.props.dotComAccount&&null===this.props.enterpriseAccount?null:this.props.tutorialPaused?this.renderButtonGroupButton($f,"Return to In Progress Tutorial",this.props.onResumeTutorialRepository,"submit"):this.renderButtonGroupButton($f,"Create a Tutorial Repository",this.props.onCreateTutorialRepository,"submit")}renderCloneButton(){return this.renderButtonGroupButton(Jf,"Clone a Repository from the Internet",this.onShowClone)}renderCreateRepositoryButton(){return this.renderButtonGroupButton(Zf,"Create a New Repository on your Hard Drive",this.props.onCreate)}renderAddExistingRepositoryButton(){return this.renderButtonGroupButton(Rf,"Add an Existing Repository from your Hard Drive",this.props.onAdd)}renderGetStartedActions(){return de.createElement("div",{className:"content-pane"},de.createElement("ul",{className:"button-group"},this.renderTutorialRepositoryButton(),this.renderCloneButton(),this.renderCreateRepositoryButton(),this.renderAddExistingRepositoryButton()),de.createElement("div",{className:"drag-drop-info"},de.createElement(cf,{symbol:Wf}),de.createElement("div",null,de.createElement("strong",null,"ProTip!")," You can drag & drop an existing repository folder here to add it to Desktop")))}}class IA extends de.Component{constructor(e){super(e),this.onSubmit=async()=>{this.setState({isRemovingRepository:!0}),await this.props.onConfirmation(this.props.repository,this.state.deleteRepoFromDisk),this.props.onDismissed()},this.onConfirmRepositoryDeletion=e=>{const t=e.currentTarget.checked;this.setState({deleteRepoFromDisk:t})},this.state={deleteRepoFromDisk:!1,isRemovingRepository:!1}}render(){const e=this.state.isRemovingRepository;return de.createElement(ev,{id:"confirm-remove-repository",key:"remove-repository-confirmation",type:"warning",title:"Remove Repository",dismissable:!e,loading:e,disabled:e,onDismissed:this.props.onDismissed,onSubmit:this.onSubmit},de.createElement(Xy,null,de.createElement("p",null,'Are you sure you want to remove the repository "',this.props.repository.name,'" from GitHub Desktop?'),de.createElement("p",{className:"description"},"The repository will be removed from GitHub Desktop:",de.createElement("br",null),de.createElement(av,null,this.props.repository.path)),de.createElement("div",null,de.createElement(Qg,{label:"Also move this repository to Trash",value:this.state.deleteRepoFromDisk?Xg.On:Xg.Off,onChange:this.onConfirmRepositoryDeletion}))),de.createElement(nv,null,de.createElement(rv,{destructive:!0,okButtonText:"Remove"})))}}const MA="https://github.com/contact";class FA extends de.Component{render(){return de.createElement(ev,{id:"terms-and-conditions",title:"GitHub Open Source Applications Terms and Conditions",onSubmit:this.props.onDismissed,onDismissed:this.props.onDismissed},de.createElement(Xy,null,de.createElement("p",null,'These GitHub Open Source Applications Terms and Conditions ("Application Terms") are a legal agreement between you (either as an individual or on behalf of an entity) and GitHub, Inc. regarding your use of GitHub\'s applications, such as GitHub Desktop and associated documentation ("Software"). These Application Terms apply to the executable code version of the Software. Source code for the Software is available separately and free of charge under open source software license agreements. If you do not agree to all of the terms in these Application Terms, do not download, install, use, or copy the Software.'),de.createElement("h2",null,"Connecting to GitHub"),de.createElement("p",null,'If you configure the Software to work with one or more accounts on the GitHub.com website or with an instance of GitHub Enterprise Server, your use of the Software will also be governed your applicable GitHub.com website Terms of Service and/or the license agreement applicable to your instance of GitHub Enterprise ("GitHub Terms").'),de.createElement("p",null,"Any use of the Software that violates your applicable GitHub Terms will also be a violation of these Application Terms."),de.createElement("h2",null,"Open Source Licenses and Notices"),de.createElement("p",null,'The open source license for the Software is included in the "Open Source Notices" documentation that is included with the Software. That documentation also includes copies of all applicable open source licenses.'),de.createElement("p",null,"To the extent the terms of the licenses applicable to open source components require GitHub to make an offer to provide source code in connection with the Software, such offer is hereby made, and you may exercise it by contacting GitHub:"," ",de.createElement(Mg,{uri:MA},"contact"),"."),de.createElement("p",null,"Unless otherwise agreed to in writing with GitHub, your agreement with GitHub will always include, at a minimum, these Application Terms. Open source software licenses for the Software's source code constitute separate written agreements. To the limited extent that the open source software licenses expressly supersede these Application Terms, the open source licenses govern your agreement with GitHub for the use of the Software or specific included components of the Software."),de.createElement("h2",null,"GitHub's Logos"),de.createElement("p",null,'The license grant included with the Software is not for GitHub\'s trademarks, which include the Software logo designs. GitHub reserves all trademark and copyright rights in and to all GitHub trademarks. GitHub\'s logos include, for instance, the stylized designs that include "logo" in the file title in the "logos" folder.'),de.createElement("p",null,"The names GitHub, GitHub Desktop, GitHub for Mac, GitHub for Windows, Atom, the Octocat, and related GitHub logos and/or stylized names are trademarks of GitHub. You agree not to display or use these trademarks in any manner without GitHub's prior, written permission, except as allowed by GitHub's Logos and Usage Policy:"," ",de.createElement(Mg,{uri:"https://github.com/logos"},"logos"),"."),de.createElement("h2",null,"Privacy"),de.createElement("p",null,"The Software may collect personal information. You may control what information the Software collects in the settings panel. If the Software does collect personal information on GitHub's behalf, GitHub will process that information in accordance with the",de.createElement(Mg,{uri:"https://help.github.com/articles/github-privacy-statement/"},"GitHub Privacy Statement"),"."),de.createElement("h2",null,"Additional Services"),de.createElement("h3",null,"Auto-Update Services"),de.createElement("p",null,'The Software may include an auto-update service ("Service"). If you choose to use the Service or you download Software that automatically enables the Service, GitHub will automatically update the Software when a new version is available.'),de.createElement("h3",null,"Disclaimers and Limitations of Liability"),de.createElement("p",null,'THE SERVICE IS PROVIDED ON AN "AS IS" BASIS, AND NO WARRANTY, EITHER EXPRESS OR IMPLIED, IS GIVEN. YOUR USE OF THE SERVICE IS AT YOUR SOLE RISK. GitHub does not warrant that (i) the Service will meet your specific requirements; (ii) the Service is fully compatible with any particular platform; (iii) your use of the Service will be uninterrupted, timely, secure, or error-free; (iv) the results that may be obtained from the use of the Service will be accurate or reliable; (v) the quality of any products, services, information, or other material purchased or obtained by you through the Service will meet your expectations; or (vi) any errors in the Service will be corrected.'),de.createElement("p",null,"YOU EXPRESSLY UNDERSTAND AND AGREE THAT GITHUB SHALL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL OR EXEMPLARY DAMAGES, INCLUDING BUT NOT LIMITED TO, DAMAGES FOR LOSS OF PROFITS, GOODWILL, USE, DATA OR OTHER INTANGIBLE LOSSES (EVEN IF GITHUB HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES) RELATED TO THE SERVICE, including, for example: (i) the use or the inability to use the Service; (ii) the cost of procurement of substitute goods and services resulting from any goods, data, information or services purchased or obtained or messages received or transactions entered into through or from the Service; (iii) unauthorized access to or alteration of your transmissions or data; (iv) statements or conduct of any third-party on the Service; (v) or any other matter relating to the Service."),de.createElement("p",null,"GitHub reserves the right at any time and from time to time to modify or discontinue, temporarily or permanently, the Service (or any part thereof) with or without notice. GitHub shall not be liable to you or to any third-party for any price change, suspension or discontinuance of the Service."),de.createElement("h2",null,"Miscellanea"),de.createElement("ol",null,de.createElement("li",null,"No Waiver. The failure of GitHub to exercise or enforce any right or provision of these Application Terms shall not constitute a waiver of such right or provision."),de.createElement("li",null,"Entire Agreement. These Application Terms, together with any applicable Privacy Notices, constitutes the entire agreement between you and GitHub and governs your use of the Software, superseding any prior agreements between you and GitHub (including, but not limited to, any prior versions of the Application Terms)."),de.createElement("li",null,"Governing Law. You agree that these Application Terms and your use of the Software are governed under California law and any dispute related to the Software must be brought in a tribunal of competent jurisdiction located in or near San Francisco, California."),de.createElement("li",null,'Third-Party Packages. The Software supports third-party "Packages" which may modify, add, remove, or alter the functionality of the Software. These Packages are not covered by these Application Terms and may include their own license which governs your use of that particular package.'),de.createElement("li",null,"No Modifications; Complete Agreement. These Application Terms may only be modified by a written amendment signed by an authorized representative of GitHub, or by the posting by GitHub of a revised version. These Application Terms, together with any applicable Open Source Licenses and Notices and GitHub's Privacy Statement, represent the complete and exclusive statement of the agreement between you and us. These Application Terms supersede any proposal or prior agreement oral or written, and any other communications between you and GitHub relating to the subject matter of these terms."),de.createElement("li",null,"License to GitHub Policies. These Application Terms are licensed under the"," ",de.createElement(Mg,{uri:"https://creativecommons.org/licenses/by/4.0/"},"Creative Commons Attribution license"),". You may use it freely under the terms of the Creative Commons license."),de.createElement("li",null,"Contact Us. Please send any questions about these Application Terms to ",de.createElement(Mg,{uri:MA},"support@github.com"),"."))),de.createElement(iv,null))}}class NA extends de.Component{render(){return de.createElement(ev,{title:"Command Line Tool Installed",onDismissed:this.props.onDismissed,onSubmit:this.props.onDismissed},de.createElement(Xy,null,de.createElement("div",null,"The command line tool has been installed at"," ",de.createElement("strong",null,Bw),".")),de.createElement(iv,{buttonText:"Ok"}))}}class BA extends de.Component{constructor(e){super(e),this.onUsernameChange=e=>{this.setState({username:e})},this.onPasswordChange=e=>{this.setState({password:e})},this.save=()=>{this.props.onDismiss(),this.props.onSave(this.props.hostname,this.state.username,this.state.password,this.props.retryAction)},this.state={username:"",password:""}}render(){const e=!this.state.password.length||!this.state.username.length;return de.createElement(ev,{id:"generic-git-auth",title:"Authentication Failed",onDismissed:this.props.onDismiss,onSubmit:this.save},de.createElement(Xy,null,de.createElement("p",null,"We were unable to authenticate with ",de.createElement(av,null,this.props.hostname),". Please enter your username and password to try again."),de.createElement(Ng,null,de.createElement(Fg,{label:"Username",autoFocus:!0,value:this.state.username,onValueChanged:this.onUsernameChange})),de.createElement(Ng,null,de.createElement(Fg,{label:"Password",type:"password",value:this.state.password,onValueChanged:this.onPasswordChange})),de.createElement(Ng,null,de.createElement("div",null,"Depending on your repository's hosting service, you might need to use a Personal Access Token (PAT) as your password. Learn more about creating a PAT in our"," ",de.createElement(Mg,{uri:"https://github.com/desktop/desktop/tree/development/docs/integrations"},"integration docs"),"."))),de.createElement(nv,null,de.createElement(rv,{okButtonText:"Save and Retry",okButtonDisabled:e})))}}class LA extends de.Component{constructor(){super(...arguments),this.onShowPreferencesDialog=e=>{e.preventDefault(),this.props.onDismissed(),this.props.showPreferencesDialog()}}render(){return de.createElement(ev,{id:"shell-error",type:"error",title:"Unable to Open Shell",onSubmit:this.props.onDismissed,onDismissed:this.props.onDismissed},de.createElement(Xy,null,de.createElement("p",null,this.props.message)),de.createElement(nv,null,de.createElement(rv,{okButtonText:"Close",cancelButtonText:"Open Preferences",onCancelButtonClick:this.onShowPreferencesDialog})))}}const HA="https://git-lfs.github.com/";class UA extends de.Component{constructor(){super(...arguments),this.onInitialize=()=>{this.props.onInitialize(this.props.repositories),this.props.onDismissed()}}render(){return de.createElement(ev,{id:"initialize-lfs",title:"Initialize Git LFS",onDismissed:this.props.onDismissed,onSubmit:this.onInitialize},de.createElement(Xy,null,this.renderRepositories()),de.createElement(nv,null,de.createElement(rv,{okButtonText:"Initialize Git LFS",cancelButtonText:"Not Now"})))}renderRepositories(){if(this.props.repositories.length>10)return de.createElement("p",null,this.props.repositories.length," repositories use"," ",de.createElement(Mg,{uri:HA},"Git LFS"),". To contribute to them, Git LFS must first be initialized. Would you like to do so now?");{const e=1!==this.props.repositories.length,t=e?"The repositories use":"This repository uses",n=e?"them":"it";return de.createElement("div",null,de.createElement("p",null,t," ",de.createElement(Mg,{uri:HA},"Git LFS"),". To contribute to"," ",n,", Git LFS must first be initialized. Would you like to do so now?"),de.createElement("ul",null,this.props.repositories.map(e=>de.createElement("li",{key:e.id},de.createElement(Iv,{path:e.path})))))}}}class jA extends de.Component{constructor(e){super(e),this.showGlobalGitConfig=()=>{const e=this.state.globalGitConfigPath;e&&Je.openPath(e)},this.onSubmit=()=>{this.props.onUpdateExistingFilters(),this.props.onDismissed()},this.state={globalGitConfigPath:null}}async componentDidMount(){try{const e=await async function(e){const t=e?{env:e}:void 0,n=(await pd(["config","--global","--list","--show-origin","--name-only","-z"],__dirname,"getGlobalConfigPath",t)).stdout.split("\0");if(n.length<1)return null;const i=n[0];if(!i.length)return null;const o=i.match(/file:(.+)/i);return!o||o.length<2?null:Object(r.normalize)(o[1])}();this.setState({globalGitConfigPath:e})}catch(e){log.warn("Couldn't get the global git config path",e)}}renderGlobalGitConfigLink(){const e="your global git config";return this.state.globalGitConfigPath?de.createElement(Mg,{onClick:this.showGlobalGitConfig},e):e}render(){return de.createElement(ev,{id:"lfs-attribute-mismatch",title:"Update Existing Git LFS Filters?",onDismissed:this.props.onDismissed,onSubmit:this.onSubmit},de.createElement(Xy,null,de.createElement("p",null,"Git LFS filters are already configured in"," ",this.renderGlobalGitConfigLink()," but are not the values it expects. Would you like to update them now?")),de.createElement(nv,null,de.createElement(rv,{okButtonText:"Update Existing Filters",cancelButtonText:"Not Now"})))}}class WA extends de.Component{constructor(){super(...arguments),this.onUpdate=()=>{this.props.onUpdate(this.props.repository),this.props.onDismissed()},this.onIgnore=e=>{e.preventDefault(),this.props.onIgnore(this.props.repository),this.props.onDismissed()}}render(){const e=this.props.repository.name,t=Xe("A repository must have a GitHub repository to add an upstream remote",this.props.repository.gitHubRepository),n=Xe("A repository must have a parent repository to add an upstream remote",t.parent),r=n.fullName,i=this.props.existingRemote.url,o=n.cloneURL;return de.createElement(ev,{title:"Upstream Already Exists",onDismissed:this.props.onDismissed,onSubmit:this.onUpdate,type:"warning"},de.createElement(Xy,null,de.createElement("p",null,"The repository ",de.createElement(av,null,e)," is a fork of"," ",de.createElement(av,null,r),", but its ",de.createElement(av,null,"upstream")," ","remote points elsewhere."),de.createElement("ul",null,de.createElement("li",null,"Current: ",de.createElement(av,null,i)),de.createElement("li",null,"Expected: ",de.createElement(av,null,o))),de.createElement("p",null,"Would you like to update the remote to use the expected URL?")),de.createElement(nv,null,de.createElement(rv,{destructive:!0,okButtonText:"Update",cancelButtonText:"Ignore",onCancelButtonClick:this.onIgnore})))}}const zA=new Gc("desktop",Nn(),-1),GA=new vi("",-1,new gi("desktop",zA,-1,!1,"https://github.com/desktop/desktop"),!0);class qA extends de.Component{constructor(){super(...arguments),this.updateNow=()=>{Pt.quitAndInstallUpdate()},this.showAllReleaseNotes=()=>{Je.openExternal(KS)}}renderList(e,t){if(0===e.length)return null;const n=new Array;for(const[t,r]of e.entries())n.push(de.createElement("li",{key:t},de.createElement(Wv,{text:r.message,emoji:this.props.emoji,renderUrlsAsLinks:!0,repository:GA})));return de.createElement("div",{className:"section"},de.createElement("p",{className:"header"},de.createElement("strong",null,t)),de.createElement("ul",{className:"entries"},n))}drawSingleColumnLayout(e){return de.createElement("div",{className:"container"},de.createElement("div",{className:"column"},this.renderList(e.bugfixes,"Bugfixes"),this.renderList(e.enhancements,"Enhancements"),this.renderList(e.other,"Other")))}drawTwoColumnLayout(e){return de.createElement("div",{className:"container"},de.createElement("div",{className:"column"},this.renderList(e.enhancements,"Enhancements"),this.renderList(e.other,"Other")),de.createElement("div",{className:"column"},this.renderList(e.bugfixes,"Bugfixes")))}render(){const e=this.props.newRelease,t=e.enhancements.length>0&&e.bugfixes.length>0?this.drawTwoColumnLayout(e):this.drawSingleColumnLayout(e),n=de.createElement("div",{className:"release-notes-header"},de.createElement("img",{className:"release-note-graphic-left",src:mt}),de.createElement("div",{className:"title"},de.createElement("p",{className:"version"},"Version ",e.latestVersion),de.createElement("p",{className:"date"},e.datePublished)),de.createElement("img",{className:"release-note-graphic-right",src:gt}));return de.createElement(ev,{id:"release-notes",onDismissed:this.props.onDismissed,onSubmit:this.updateNow,title:n},de.createElement(Xy,null,t),de.createElement(nv,null,de.createElement(Mg,{onClick:this.showAllReleaseNotes},"View all release notes"),de.createElement(rv,{destructive:!0,okButtonText:"Install and Restart",cancelButtonText:"Close"})))}}class VA extends de.Component{constructor(){super(...arguments),this.openPullRequest=()=>{this.props.dispatcher.showPullRequest(this.props.repository)},this.deleteBranch=()=>(this.props.dispatcher.deleteLocalBranch(this.props.repository,this.props.branch),this.props.onDismissed())}render(){return de.createElement(ev,{id:"delete-branch",title:"",type:"warning",onDismissed:this.props.onDismissed,onSubmit:this.deleteBranch},de.createElement(Xy,null,de.createElement("p",null,"This branch may have an open pull request associated with it."),de.createElement("p",null,"If"," ",de.createElement(Mg,{onClick:this.openPullRequest},"#",this.props.pullRequest.pullRequestNumber)," ","has been merged, you can also go to GitHub to delete the remote branch.")),de.createElement(nv,null,de.createElement(rv,{destructive:!0,okButtonText:"Delete"})))}}class $A extends de.Component{constructor(){super(...arguments),this.onCancel=()=>{this.props.onDismissed()},this.onSubmit=async()=>{this.props.onDismissed(),await this.props.dispatcher.commitIncludedChanges(this.props.repository,this.props.context),this.props.dispatcher.clearBanner(),this.props.dispatcher.setCommitMessage(this.props.repository,Yo)}}renderFiles(e){return de.createElement("div",{className:"conflicted-files-text"},de.createElement("ul",null,e.map(e=>de.createElement("li",{key:e.path},de.createElement(Iv,{path:e.path})))))}render(){return de.createElement(ev,{id:"commit-conflict-markers-warning",onDismissed:this.onCancel,onSubmit:this.onSubmit,title:"Confirm committing conflicted files",type:"warning"},de.createElement(Xy,null,de.createElement("p",null,"If you choose to commit, youll be committing the following conflicted files into your repository:"),this.renderFiles(this.props.files),de.createElement("p",null,"Are you sure you want to commit these conflicted files?")),de.createElement(nv,null,de.createElement(rv,{destructive:!0,okButtonText:"Yes, Commit Files"})))}}class KA extends de.PureComponent{componentDidMount(){this.ensureTheme()}componentDidUpdate(){this.ensureTheme()}componentWillUnmount(){this.clearThemes()}async ensureTheme(){const{customTheme:e,useCustomTheme:t}=this.props;if(void 0!==e&&t)return this.clearThemes(),void this.setCustomTheme(e);let n=this.props.theme;this.props.theme===Dr.System&&(n=await Tr());const r="theme-"+_r(n),i=document.body;(!i.classList.contains(r)||i.classList.contains("theme-high-contrast")&&!this.props.useCustomTheme)&&(this.clearThemes(),i.classList.add(r))}setCustomTheme(e){const{background:t}=e,n=document.body;if(!n.classList.contains("theme-high-contrast")){n.classList.add("theme-high-contrast");const e=function(e){const{red:t,green:n,blue:r}=TR(e);return.2126*t+.7152*n+.0722*r>150}(t)?"theme-light":"theme-dark";n.classList.add(e)}const r=function(e){const{background:t,text:n,activeItem:r,activeText:i,border:o}=e,s=AR(r,20);return`body.theme-high-contrast {\n    --hc-background-color: ${t};\n    --hc-secondary-background-color: ${AR(t,20)};\n    --hc-border-color: ${o};\n    --hc-text-color: ${n};\n    --hc-active-item-color: ${r};\n    --hc-secondary-active-item-color: ${s};\n    --hc-active-text-color: ${i};\n  }`}(e),i=document.createElement("style");i.setAttribute("type","text/css"),i.appendChild(document.createTextNode(r)),n.appendChild(i)}clearThemes(){const e=document.body,t=[...e.classList];for(const n of t)n.startsWith("theme-")&&e.classList.remove(n)}render(){return null}}class YA extends de.Component{constructor(e){super(e),this.onSubmit=async()=>{this.props.onDismissed(),await this.props.dispatcher.commitIncludedChanges(this.props.repository,this.props.context),this.props.dispatcher.setCommitMessage(this.props.repository,Yo)}}render(){return de.createElement(ev,{id:"oversized-files",title:"Files Too Large",onSubmit:this.onSubmit,onDismissed:this.props.onDismissed,type:"warning"},de.createElement(Xy,null,de.createElement("p",null,"The following files are over 100MB."," ",de.createElement("strong",null,"If you commit these files, you will no longer be able to push this repository to GitHub.com.")),this.renderFileList(),de.createElement("p",{className:"recommendation"},"We recommend you avoid committing these files or use"," ",de.createElement(Mg,{uri:"https://help.github.com/articles/versioning-large-files/"},"Git LFS")," to store large files on GitHub.")),de.createElement(nv,null,de.createElement(rv,{destructive:!0,okButtonText:"Commit Anyway"})))}renderFileList(){return de.createElement("div",{className:"files-list"},de.createElement("ul",null,this.props.oversizedFiles.map(e=>de.createElement("li",{key:e},de.createElement(Iv,{path:e})))))}}class ZA extends de.Component{constructor(e){super(e),this.onFetch=async()=>{this.setState({isLoading:!0}),await this.props.dispatcher.fetch(this.props.repository,ti.UserInitiatedTask),this.setState({isLoading:!1}),this.props.onDismissed()},this.state={isLoading:!1}}render(){return de.createElement(ev,{title:"Newer Commits on Remote",dismissable:!this.state.isLoading,disabled:this.state.isLoading,onDismissed:this.props.onDismissed,onSubmit:this.onFetch,loading:this.state.isLoading,type:"warning"},de.createElement(Xy,null,de.createElement("p",null,", .")),de.createElement(nv,null,de.createElement(rv,{okButtonText:"",okButtonDisabled:this.state.isLoading})))}}var XA;!function(e){e[e.StashOnCurrentBranch=0]="StashOnCurrentBranch",e[e.MoveToNewBranch=1]="MoveToNewBranch"}(XA||(XA={}));class QA extends de.Component{constructor(e){super(e),this.onSelectionChanged=e=>{this.setState({selectedStashAction:e})},this.onSubmit=async()=>{const{repository:e,branchToCheckout:t,dispatcher:n,hasAssociatedStash:r}=this.props,{selectedStashAction:i}=this.state;if(i===XA.StashOnCurrentBranch&&r)return void n.showPopup({type:ai.ConfirmOverwriteStash,repository:e,branchToCheckout:t});this.setState({isStashingChanges:!0});const o=Oy("stash and checkout",e);try{i===XA.StashOnCurrentBranch?await n.checkoutBranch(e,t,Ms.StashOnCurrentBranch):i===XA.MoveToNewBranch&&await n.checkoutBranch(e,t,Ms.MoveToNewBranch)}finally{o.done(),this.setState({isStashingChanges:!1},()=>{this.props.onDismissed()})}},this.state={isStashingChanges:!1,selectedStashAction:XA.StashOnCurrentBranch,currentBranchName:e.currentBranch.name}}render(){const{isStashingChanges:e}=this.state;return de.createElement(ev,{id:"stash-changes",title:"",onSubmit:this.onSubmit,onDismissed:this.props.onDismissed,loading:e,disabled:e},de.createElement(Xy,null,this.renderStashActions(),this.renderStashOverwriteWarning()),de.createElement(nv,null,de.createElement(rv,{okButtonText:""})))}renderStashOverwriteWarning(){return this.props.hasAssociatedStash&&this.state.selectedStashAction===XA.StashOnCurrentBranch?de.createElement(Ng,null,de.createElement(cf,{symbol:hf})," Your current stash will be overwritten by creating a new stash"):null}renderStashActions(){const{branchToCheckout:e}=this.props,t=[{title:"Leave my changes on "+this.state.currentBranchName,description:"Your in-progress work will be stashed on this branch for you to return to later",key:XA.StashOnCurrentBranch},{title:"Bring my changes to "+e.name,description:"Your in-progress work will follow you to the new branch",key:XA.MoveToNewBranch}];return de.createElement(Ng,null,de.createElement(dE,{label:"You have changes on this branch. What would you like to do with them?",items:t,selectedKey:this.state.selectedStashAction,onSelectionChanged:this.onSelectionChanged}))}}class JA extends de.Component{constructor(e){super(e),this.onSubmit=async()=>{const{dispatcher:e,repository:t,branchToCheckout:n,onDismissed:r}=this.props;this.setState({isLoading:!0});try{if(null!==n){const r=Ms.StashOnCurrentBranch;await e.checkoutBranch(t,n,r)}else await e.createStashForCurrentBranch(t,!1)}finally{this.setState({isLoading:!1})}r()},this.state={isLoading:!1}}render(){return de.createElement(ev,{id:"overwrite-stash",type:"warning",title:"Overwrite Stash?",loading:this.state.isLoading,disabled:this.state.isLoading,onSubmit:this.onSubmit,onDismissed:this.props.onDismissed},de.createElement(Xy,null,de.createElement(Ng,null,"Are you sure you want to proceed? This will overwrite your existing stash with your current changes.")),de.createElement(nv,null,de.createElement(rv,{destructive:!0,okButtonText:"Overwrite"})))}}class eO extends de.Component{constructor(e){super(e),this.onSubmit=async()=>{const{dispatcher:e,repository:t,stash:n,onDismissed:r}=this.props;this.setState({isDiscarding:!0});try{await e.dropStash(t,n)}finally{this.setState({isDiscarding:!1})}r()},this.state={isDiscarding:!1}}render(){return de.createElement(ev,{id:"discard-stash",type:"warning",title:"Discard Stash?",loading:this.state.isDiscarding,disabled:this.state.isDiscarding,onSubmit:this.onSubmit,onDismissed:this.props.onDismissed},de.createElement(Xy,null,de.createElement(Ng,null,"Are you sure you want to discard these stashed changes?")),de.createElement(nv,null,de.createElement(rv,{destructive:!0,okButtonText:"Discard"})))}}class tO extends de.Component{constructor(){super(...arguments),this.onSubmit=()=>this.props.onCreateTutorialRepository(this.props.account)}renderProgress(){const{progress:e}=this.props;if(void 0===e)return null;const t=e.description?de.createElement("div",{className:"description"},e.description):null;return de.createElement("div",{className:"progress-container"},de.createElement("div",null,e.title),de.createElement("progress",{value:e.value}),t)}render(){const{account:e,progress:t}=this.props,n=void 0!==t;return de.createElement(ev,{id:"create-tutorial-repository-dialog",title:"Start tutorial",onDismissed:this.props.onDismissed,onSubmit:this.onSubmit,dismissable:!n,loading:n,disabled:n},de.createElement(Xy,null,de.createElement("div",null,"This will create a repository on your local machine, and push it to your account ",de.createElement(av,null,"@",this.props.account.login)," on"," ",de.createElement(Mg,{uri:Fn(e.endpoint)},ba(e)),". This repository will only be visible to you, and not visible publicly."),this.renderProgress()),de.createElement(nv,null,de.createElement(rv,{okButtonText:"Continue"})))}}class nO extends de.Component{constructor(e){super(e),this.onSignIn=async()=>{this.setState({loading:!0});const{repository:e,dispatcher:t}=this.props,{endpoint:n}=e.gitHubRepository;n===Nn()?await t.beginDotComSignIn():(await t.beginEnterpriseSignIn(),await t.setSignInEndpoint(n)),await t.requestBrowserAuthentication(),t.push(e),this.props.onDismissed()},this.state={loading:!1}}render(){return de.createElement(ev,{id:"workflow-push-rejected",title:"",loading:this.state.loading,onDismissed:this.props.onDismissed,onSubmit:this.onSignIn,type:"error"},de.createElement(Xy,null,de.createElement("p",null,"The push was rejected by the server for containing a modification to the workflow file ",de.createElement(av,null,this.props.rejectedPath),". In order to be able to push to workflow files GitHub Desktop needs to request additional permissions."),de.createElement("p",null,"Would you like to open a browser to grant GitHub Desktop permission to update workflow files?")),de.createElement(nv,null,de.createElement(rv,{okButtonText:"Continue in Browser"})))}}class rO extends de.Component{constructor(e){super(e),this.onSignIn=async()=>{this.setState({loading:!0}),this.props.endpoint===Nn()?await this.props.dispatcher.beginDotComSignIn():await this.props.dispatcher.beginEnterpriseSignIn(),await this.props.dispatcher.requestBrowserAuthentication(),void 0!==this.props.retryAction&&this.props.dispatcher.performRetry(this.props.retryAction),this.props.onDismissed()},this.state={loading:!1}}render(){return de.createElement(ev,{title:"Re-authorization Required",loading:this.state.loading,onDismissed:this.props.onDismissed,onSubmit:this.onSignIn,type:"error"},de.createElement(Xy,null,de.createElement("p",null,'The "',this.props.organizationName,"\" organization has enabled or enforced SAML SSO. To access this repository, you must sign in again and grant GitHub Desktop permission to access the organization's repositories."),de.createElement("p",null,"Would you like to open a browser to grant GitHub Desktop permission to access the repository?")),de.createElement(nv,null,de.createElement(rv,{okButtonText:"Continue in Browser"})))}}class iO extends de.Component{constructor(e){super(e),this.onSubmit=async()=>{this.setState({loading:!0});const{gitHubRepository:e}=this.props.repository,t=Pn.fromAccount(this.props.account);try{const n=await t.forkRepository(e.owner.login,e.name);this.props.dispatcher.recordForkCreated();const r=await this.props.dispatcher.convertRepositoryToFork(this.props.repository,n);this.setState({loading:!1}),this.props.onDismissed(),wi(r)&&this.props.dispatcher.showPopup({type:ai.ChooseForkSettings,repository:r})}catch(e){log.error(`Fork creation through API failed (${e})`),Yp("forkCreation",e),this.setState({error:e,loading:!1})}},this.state={loading:!1}}render(){return de.createElement(ev,{title:"Do you want to fork this repository?",onDismissed:this.props.onDismissed,onSubmit:this.state.error?void 0:this.onSubmit,dismissable:!this.state.loading,loading:this.state.loading,type:this.state.error?"error":"normal",key:this.props.repository.name,id:"create-fork"},void 0!==this.state.error?function(e,t,n){const r=null!==e.gitHubRepository.htmlURL?de.createElement(de.Fragment,null,"You can try ",de.createElement(Mg,{uri:e.gitHubRepository.htmlURL},"creating the fork manually on GitHub"),"."):void 0;return de.createElement(de.Fragment,null,de.createElement(Xy,null,de.createElement("div",null,"Creating your fork ",de.createElement("strong",null,`${t.login}/${e.gitHubRepository.name}`)," failed. ",r),de.createElement("details",null,de.createElement("summary",null,"Error details"),de.createElement("pre",{className:"error"},n.message))),de.createElement(iv,null))}(this.props.repository,this.props.account,this.state.error):(e=this.props.repository,t=this.props.account,n=this.state.loading,de.createElement(de.Fragment,null,de.createElement(Xy,null,de.createElement("p",null,"It looks like you dont have write access to ",de.createElement("strong",null,e.gitHubRepository.fullName),". If you should, please check with a repository administrator."),de.createElement("p",null," Do you want to create a fork of this repository at ",de.createElement("strong",null,`${t.login}/${e.gitHubRepository.name}`)," to continue?")),de.createElement(nv,null,de.createElement(rv,{destructive:!0,okButtonText:"Fork This Repository",okButtonDisabled:n,cancelButtonDisabled:n})))));var e,t,n}}class oO extends de.Component{constructor(e){super(e),this.updateTagName=e=>{this.setState({tagName:e,previousTags:this.getExistingTagsFiltered(e)})},this.createTag=async()=>{const e=this.state.tagName,t=this.props.repository;if(e.length>0){this.setState({isCreatingTag:!0});const n=Oy("create tag",t);await this.props.dispatcher.createTag(t,e,this.props.targetCommitSha),n.done(),this.props.onDismissed()}},this.state={tagName:e.initialName||"",isCreatingTag:!1,previousTags:this.getExistingTagsFiltered()}}render(){const e=this.getCurrentError(),t=null!==e||0===this.state.tagName.length;return de.createElement(ev,{id:"create-tag",title:"Create a Tag",onSubmit:this.createTag,onDismissed:this.props.onDismissed,loading:this.state.isCreatingTag,disabled:this.state.isCreatingTag},e&&de.createElement(tv,null,e),de.createElement(Xy,null,de.createElement(iS,{label:"Name",initialValue:this.props.initialName,onValueChange:this.updateTagName}),this.renderPreviousTags()),de.createElement(nv,null,de.createElement(rv,{okButtonText:"Create Tag",okButtonDisabled:t})))}renderPreviousTags(){if(!Tt())return null;const{localTags:e}=this.props,{previousTags:t,tagName:n}=this.state;if(null===t||null===e||0===e.size)return null;const r=t.slice(-3);return de.createElement(de.Fragment,null,de.createElement("p",null,"Previous Tags"),0===r.length?de.createElement("p",null,`No matches found for '${n}'`):r.map((e,t)=>de.createElement(av,{key:t},e)))}getCurrentError(){if(this.state.tagName.length>245)return de.createElement(de.Fragment,null,"The tag name cannot be longer than ",245," characters");return this.props.localTags&&this.props.localTags.has(this.state.tagName)?de.createElement(de.Fragment,null,"A tag named ",de.createElement(av,null,this.state.tagName)," already exists"):null}getExistingTagsFiltered(e=""){if(null===this.props.localTags)return null;return Array.from(this.props.localTags.keys()).filter(t=>t.includes(e))}}class sO extends de.Component{constructor(e){super(e),this.DeleteTag=async()=>{const{dispatcher:e,repository:t,tagName:n}=this.props;this.setState({isDeleting:!0}),await e.deleteTag(t,n),this.props.onDismissed()},this.state={isDeleting:!1}}render(){return de.createElement(ev,{id:"delete-tag",title:"Delete Tag",type:"warning",onSubmit:this.DeleteTag,onDismissed:this.props.onDismissed,disabled:this.state.isDeleting,loading:this.state.isDeleting},de.createElement(Xy,null,de.createElement("p",null,"Are you sure you want to delete the tag"," ",de.createElement(av,null,this.props.tagName),"?")),de.createElement(nv,null,de.createElement(rv,{destructive:!0,okButtonText:"Delete"})))}}class aO extends de.Component{constructor(e){super(e),this.onSelectionChanged=e=>{this.setState({forkContributionTarget:e})},this.onSubmit=async()=>{this.props.dispatcher.updateRepositoryWorkflowPreferences(this.props.repository,{forkContributionTarget:this.state.forkContributionTarget}),this.props.onDismissed()},this.state={forkContributionTarget:ki(e.repository)}}render(){const e=[{title:"To contribute to the parent project",description:de.createElement(de.Fragment,null,"We will help you contribute to the"," ",de.createElement("strong",null,this.props.repository.gitHubRepository.parent.fullName)," ","repository"),key:ni.Parent},{title:"For my own purposes",description:de.createElement(de.Fragment,null,"We will help you contribute to the"," ",de.createElement("strong",null,this.props.repository.gitHubRepository.fullName)," ","repository"),key:ni.Self}];return de.createElement(ev,{id:"fork-settings",title:"How are you planning to use this fork?",onSubmit:this.onSubmit,onDismissed:this.props.onDismissed},de.createElement(Xy,null,de.createElement(Ng,null,de.createElement(dE,{label:"You have changes on this branch. What would you like to do with them?",items:e,selectedKey:this.state.forkContributionTarget,onSelectionChanged:this.onSelectionChanged})),de.createElement(Ng,null,de.createElement(hv,{repository:this.props.repository,forkContributionTarget:this.state.forkContributionTarget}))),de.createElement(nv,null,de.createElement(rv,{okButtonText:"Continue"})))}}class lO extends de.Component{constructor(e){super(e),this.discard=async()=>{this.setState({isDiscardingSelection:!0}),await this.props.dispatcher.discardChangesFromSelection(this.props.repository,this.props.file.path,this.props.diff,this.props.selection),this.props.dispatcher.setConfirmDiscardChangesSetting(this.state.confirmDiscardSelection),this.props.onDismissed()},this.onConfirmDiscardSelectionChanged=e=>{const t=!e.currentTarget.checked;this.setState({confirmDiscardSelection:t})},this.state={isDiscardingSelection:!1,confirmDiscardSelection:!0}}getOkButtonLabel(){return"Discard Changes"}render(){const e=this.state.isDiscardingSelection;return de.createElement(ev,{id:"discard-changes",title:"Confirm Discard changes",onDismissed:this.props.onDismissed,onSubmit:this.discard,dismissable:!e,loading:e,disabled:e,type:"warning"},de.createElement(Xy,null,de.createElement("p",null,"Are you sure you want to discard the selected changes to:"),de.createElement("ul",null,de.createElement("li",null,de.createElement(Iv,{path:this.props.file.path}))),de.createElement(Qg,{label:"Do not show this message again",value:this.state.confirmDiscardSelection?Xg.Off:Xg.On,onChange:this.onConfirmDiscardSelectionChanged})),de.createElement(nv,null,de.createElement(rv,{destructive:!0,okButtonText:this.getOkButtonLabel()})))}}class cO extends de.Component{constructor(e){super(e),this.onSubmit=async()=>{const{hasExistingStash:e,repository:t,dispatcher:n,retryAction:r}=this.props;if(e)return void this.props.onDismissed();this.setState({stashingAndRetrying:!0});await n.createStashForCurrentBranch(t,!1)&&await n.performRetry(r),this.props.onDismissed()},this.state={stashingAndRetrying:!1}}render(){const e=this.props.files.length>0?" The following files would be overwritten:":null;return de.createElement(ev,{title:"Error",id:"local-changes-overwritten",loading:this.state.stashingAndRetrying,disabled:this.state.stashingAndRetrying,onDismissed:this.props.onDismissed,onSubmit:this.onSubmit,type:"error"},de.createElement(Xy,null,de.createElement("p",null,"Unable to ",this.getRetryActionName()," when changes are present on your branch.",e),this.renderFiles(),this.renderStashText()),this.renderFooter())}renderFiles(){const{files:e}=this.props;return 0===e.length?null:de.createElement("div",{className:"files-list"},de.createElement("ul",null,e.map(e=>de.createElement("li",{key:e},de.createElement(Iv,{path:e})))))}renderStashText(){return this.props.hasExistingStash&&!this.state.stashingAndRetrying?null:de.createElement("p",null,"You can stash your changes now and recover them afterwards.")}renderFooter(){return this.props.hasExistingStash&&!this.state.stashingAndRetrying?de.createElement(iv,null):de.createElement(nv,null,de.createElement(rv,{okButtonText:"Stash Changes and Continue",okButtonTitle:"This will create a stash with your current changes. You can recover them by restoring the stash afterwards.",cancelButtonText:"Close"}))}getRetryActionName(){switch(this.props.retryAction.type){case tt.Checkout:return"checkout";case tt.Pull:return"pull";case tt.Merge:return"merge";case tt.Rebase:return"rebase";case tt.Clone:return"clone";case tt.Fetch:return"fetch";case tt.Push:return"push";case tt.CherryPick:case tt.CreateBranchForCherryPick:return"cherry-pick";case tt.Squash:return"squash";case tt.Reorder:return"reorder";case tt.DiscardChanges:return"discard changes";default:Ze(this.props.retryAction,"Unknown retryAction: "+this.props.retryAction)}}}class uO extends de.Component{constructor(e){super(e),this.timeoutId=null,this.onEnterDropTarget=null,this.onLeaveDropTargetDisposable=null,this.state={showTooltip:!1,currentDropTarget:null}}clearTimeout(){null!==this.timeoutId&&window.clearTimeout(this.timeoutId)}setToolTipTimer(e){this.setState({showTooltip:!1}),this.clearTimeout(),this.timeoutId=window.setTimeout(()=>this.setState({showTooltip:!0}),e)}renderDragToolTip(){const{showTooltip:e,currentDropTarget:t}=this.state;if(!e||null===t)return;let n;switch(t.type){case Tg.Branch:const e=null;n=de.createElement(de.Fragment,null,e,de.createElement("span",null,de.createElement("span",{className:"copy-to"},"Copy to"),de.createElement("span",{className:"branch-name"},t.branchName)));break;case Tg.Commit:const r=this.props.selectedCommits.length+1;n=de.createElement(de.Fragment,null,de.createElement("span",null,"Squash ",r," commits"));break;case Tg.ListInsertionPoint:if(t.data.type!==_g.Commit){n=de.createElement(de.Fragment,null,de.createElement("span",null,"'Insert here'"));break}const i=1===t.data.commits.length?"commit":"commits";n=de.createElement(de.Fragment,null,de.createElement("span",null,`Move ${i} here`));break;default:Ze(0,"Unknown drop target type: "+t)}return de.createElement("div",{className:"tool-tip-contents"},de.createElement("div",null,n))}componentDidMount(){this.onEnterDropTarget=Dg.onEnterDropTarget(e=>{switch(this.setState({currentDropTarget:e}),e.type){case Tg.Branch:case Tg.Commit:case Tg.ListInsertionPoint:this.setToolTipTimer(1500);break;default:Ze(0,"Unknown drop target type: "+e)}}),this.onLeaveDropTargetDisposable=Dg.onLeaveDropTarget(()=>{this.setState({currentDropTarget:null,showTooltip:!1})})}componentWillUnmount(){this.clearTimeout(),null!==this.onEnterDropTarget&&(this.onEnterDropTarget.dispose(),this.onEnterDropTarget=null),null!==this.onLeaveDropTargetDisposable&&(this.onLeaveDropTargetDisposable.dispose(),this.onLeaveDropTargetDisposable=null)}render(){const{commit:e,gitHubRepository:t,selectedCommits:n,emoji:r}=this.props,i=n.length,o=al()({"multiple-selected":i>1});return de.createElement("div",{id:"commit-drag-element",className:o},de.createElement("div",{className:"commit-box"},de.createElement("div",{className:"count"},i),de.createElement(Pw,{gitHubRepository:t,commit:e,selectedCommits:n,emoji:r,canBeUndone:!1,canBeAmended:!1,canBeResetTo:!1,isLocal:!1,showUnpushedIndicator:!1})),this.renderDragToolTip())}}class hO extends de.Component{constructor(e){super(e),this.onAskToMoveToApplicationsFolderChanged=e=>{const t=!e.currentTarget.checked;this.setState({askToMoveToApplicationsFolder:t})},this.onNotNow=()=>{this.props.onDismissed(),this.props.dispatcher.setAskToMoveToApplicationsFolderSetting(this.state.askToMoveToApplicationsFolder)},this.onSubmit=async()=>{this.props.onDismissed();try{await this.props.dispatcher.moveToApplicationsFolder()}catch(e){this.props.dispatcher.postError(e)}},this.state={askToMoveToApplicationsFolder:!0}}render(){return de.createElement(ev,{title:"Move GitHub Desktop to the Applications folder?",id:"move-to-applications-folder",dismissable:!1,onDismissed:this.props.onDismissed,onSubmit:this.onSubmit,type:"warning"},de.createElement(Xy,null,de.createElement("p",null,"We've detected that you're not running GitHub Desktop from the Applications folder of your machine. This could cause problems with the app, including impacting your ability to sign in.",de.createElement("br",null),de.createElement("br",null),"Do you want to move GitHub Desktop to the Applications folder now? This will also restart the app."),de.createElement("div",null,de.createElement(Qg,{label:"Do not show this message again",value:this.state.askToMoveToApplicationsFolder?Xg.Off:Xg.On,onChange:this.onAskToMoveToApplicationsFolderChanged}))),this.renderFooter())}renderFooter(){return de.createElement(nv,null,de.createElement(rv,{okButtonText:"Move and Restart",okButtonTitle:"This will move GitHub Desktop to the Applications folder in your machine and restart the app.",cancelButtonText:"Not Now",onCancelButtonClick:this.onNotNow}))}}class pO extends de.Component{constructor(e){var t;super(e),this.onNameChanged=e=>{this.setState({newAlias:e})},this.changeAlias=()=>{this.props.dispatcher.changeRepositoryAlias(this.props.repository,this.state.newAlias),this.props.onDismissed()},this.state={newAlias:null!==(t=e.repository.alias)&&void 0!==t?t:e.repository.name}}render(){const e=this.props.repository,t=null===e.alias?"Create":"Change";return de.createElement(ev,{id:"change-repository-alias",title:t+" Repository Alias",onDismissed:this.props.onDismissed,onSubmit:this.changeAlias},de.createElement(Xy,null,de.createElement("p",null,'Choose a new alias for the repository "',Ci(e),'". '),de.createElement("p",null,de.createElement(Fg,{value:this.state.newAlias,onValueChanged:this.onNameChanged})),null!==e.gitHubRepository&&de.createElement("p",{className:"description"},"This will not affect the original repository name on GitHub.")),de.createElement(nv,null,de.createElement(rv,{okButtonText:t+" Alias",okButtonDisabled:0===this.state.newAlias.length})))}}class dO extends de.Component{renderList(e){if(0===e.length)return null;const t=new Array;for(const[n,r]of e.entries())t.push(de.createElement("li",{key:n},de.createElement(Wv,{text:r.message,emoji:this.props.emoji,renderUrlsAsLinks:!0,repository:GA})));return de.createElement("div",{className:"section"},de.createElement("ul",{className:"entries"},t))}renderConfetti(){const e=new Array;for(let t=0;t<750;t++)e.push(de.createElement("div",{key:t,className:"confetti"}));return de.createElement(de.Fragment,null,e)}render(){const e=de.createElement("div",{className:"release-notes-header"},de.createElement("div",{className:"header-graphics"},de.createElement("img",{className:"release-note-graphic-left",src:mt}),de.createElement("div",{className:"img-space"}),de.createElement("img",{className:"release-note-graphic-right",src:gt})),de.createElement("div",{className:"title"},de.createElement("div",{className:"thank-you"},"Thank you ",this.props.friendlyName,"!"," ",de.createElement(Wv,{text:":tada:",emoji:this.props.emoji,renderUrlsAsLinks:!0})))),t=null!==this.props.latestVersion?" "+this.props.latestVersion:"",n=de.createElement(de.Fragment,null,"Thanks so much for all your hard work on GitHub Desktop",t,". We're so grateful for your willingness to contribute and make the app better for everyone!");return de.createElement(ev,{id:"thank-you-notes",onDismissed:this.props.onDismissed,title:e},de.createElement(Xy,null,de.createElement("div",{className:"container"},de.createElement("div",{className:"thank-you-note"},n),de.createElement("div",{className:"contributions-heading"},"You contributed:"),de.createElement("div",{className:"contributions"},this.renderList(this.props.userContributions)),de.createElement("div",{className:"confetti-container",onClick:this.props.onDismissed},this.renderConfetti()),de.createElement("div",{className:"footer"}))))}}function fO(e,t,n,r){const i=[n],o={version:r,checkedUsers:[...void 0===t||t.version!==r?[]:t.checkedUsers,...i]};e.setLastThankYou(o)}async function mO(e,t){const n=(await async function(e){let t=await ft(250);e&&(t=t.slice(0,1));const n=t.map(dt),r=new Map;return n.forEach(e=>{if(0===e.thankYous.length)return;const t=/\.\sThanks\s@.+!/i;e.thankYous.forEach(e=>{const n=t.exec(e.message);if(null===n)return;const i=n[0].slice(10,-1);let o=r.get(i);void 0===o?o=[e]:o.push(e),r.set(i,o)})}),r}(e)).get(t);return void 0!==n?n:null}class gO extends de.Component{render(){return de.createElement(ev,{id:"commit-message-dialog",title:this.props.dialogTitle,onDismissed:this.props.onDismissed},de.createElement(Xy,null,de.createElement(Rv,{branch:this.props.branch,commitAuthor:this.props.commitAuthor,commitButtonText:this.props.dialogButtonText,commitToAmend:null,repository:this.props.repository,dispatcher:this.props.dispatcher,commitMessage:this.props.commitMessage,focusCommitMessage:!1,autocompletionProviders:this.props.autocompletionProviders,showCoAuthoredBy:this.props.showCoAuthoredBy,coAuthors:this.props.coAuthors,placeholder:"",prepopulateCommitSummary:this.props.prepopulateCommitSummary,key:this.props.repository.id,showBranchProtected:this.props.showBranchProtected,showNoWriteAccess:this.props.showNoWriteAccess,commitSpellcheckEnabled:this.props.commitSpellcheckEnabled,persistCoAuthors:!1,persistCommitMessage:!1,onCreateCommit:this.props.onSubmitCommitMessage,anyFilesAvailable:!0,anyFilesSelected:!0})))}}const yO=e=>de.createElement("li",{key:e.path,className:"unmerged-file-status-resolved"},de.createElement(cf,{symbol:Tf,className:"file-octicon"}),de.createElement("div",{className:"column-left"},de.createElement(Iv,{path:e.path}),kO({path:e.path,status:e.status,branch:e.branch,manualResolution:e.manualResolution,repository:e.repository,dispatcher:e.dispatcher})),de.createElement("div",{className:"green-circle"},de.createElement(cf,{symbol:mf}))),vO=e=>{const t=CO(e.path,e.status,e.repository,e.dispatcher,e.ourBranch,e.theirBranch),{ourBranch:n,theirBranch:r}=e,{entry:i}=e.status;let o=xO;if([i.us,i.them].includes(ri.Deleted)){let e="target branch";i.us===ri.Deleted&&void 0!==n&&(e=n),i.them===ri.Deleted&&void 0!==r&&(e=r),o=`File does not exist on ${e}.`}const s=de.createElement(de.Fragment,null,de.createElement("div",{className:"column-left"},de.createElement(Iv,{path:e.path}),de.createElement("div",{className:"file-conflicts-status"},o)),de.createElement("div",{className:"action-buttons"},de.createElement(qg,{className:"small-button button-group-item resolve-arrow-menu",onClick:t},"Resolve",de.createElement(cf,{symbol:sm}))));return bO(e.path,s)};function bO(e,t){return de.createElement("li",{key:e,className:"unmerged-file-status-conflicts"},de.createElement(cf,{symbol:Tf,className:"file-octicon"}),t)}const wO=e=>{const t=(n=e.status.conflictMarkerCount,Math.ceil(n/3));var n;const r=1===t?"1 conflict":t+" conflicts",i=null===e.resolvedExternalEditor,o=function(e){if(null!==e)return;return"No editor configured in Preferences > Advanced"}(e.resolvedExternalEditor),s=SO(e.path,e.repository,e.dispatcher,e.status,e.ourBranch,e.theirBranch),a=de.createElement(de.Fragment,null,de.createElement("div",{className:"column-left"},de.createElement(Iv,{path:e.path}),de.createElement("div",{className:"file-conflicts-status"},r)),de.createElement("div",{className:"action-buttons"},de.createElement(qg,{onClick:e.onOpenEditorClick,disabled:i,tooltip:o,className:"small-button button-group-item"}," "+(e.resolvedExternalEditor||"editor")+" "),de.createElement(qg,{onClick:s,className:"small-button button-group-item arrow-menu"},de.createElement(cf,{symbol:sm}))));return bO(e.path,a)},CO=(e,t,n,r,i,o)=>()=>{Cm(EO(e,n,r,t,i,o))},SO=(e,t,n,i,o,s)=>()=>{const a=Object(r.join)(t.path,e);Cm([{label:"Open with Default Program",action:()=>Vv(a,n)},{label:"Reveal in Finder",action:()=>y.shell.showItemInFolder(a)},{type:"separator"},...EO(e,t,n,i,o,s)])};function EO(e,t,n,r,i,o){return[{label:vo(r.entry.us,i),action:()=>n.updateManualConflictResolution(t,e,Nl.ours)},{label:vo(r.entry.them,o),action:()=>n.updateManualConflictResolution(t,e,Nl.theirs)}]}const kO=e=>{if(Di(e.status)&&0===e.status.conflictMarkerCount)return de.createElement("div",{className:"file-conflicts-status"},"No conflicts remaining");const t=function(e,t,n){return t===Nl.ours?yo(e.entry.us,n):t===Nl.theirs?yo(e.entry.them,n):"No conflicts remaining"}(e.status,e.manualResolution,e.branch);return de.createElement("div",{className:"file-conflicts-status"},t,"",de.createElement(Mg,{onClick:(n=e.path,r=e.repository,i=e.dispatcher,()=>i.updateManualConflictResolution(r,n,null))},"Undo"));var n,r,i};const xO="Manual conflict";class DO extends de.Component{constructor(e){super(e),this.onSubmit=async()=>{this.setState({isCommitting:!0}),await this.props.onSubmit()},this.onAbort=async e=>{e.preventDefault(),this.setState({isAborting:!0}),await this.props.onAbort(),this.setState({isAborting:!1})},this.openThisRepositoryInShell=()=>this.props.openRepositoryInShell(this.props.repository),this.state={isCommitting:!1,isAborting:!1}}componentWillUnmount(){const{workingDirectory:e,userHasResolvedConflicts:t,manualResolutions:n,someConflictsHaveBeenResolved:r}=this.props;if(t||void 0===r)return;bo(e,n).length>0&&r()}renderUnmergedFiles(e){return de.createElement("ul",{className:"unmerged-file-statuses"},e.map(e=>{return fo(e.status)?Di((o={path:e.path,status:e.status,resolvedExternalEditor:this.props.resolvedExternalEditor,openFileInExternalEditor:this.props.openFileInExternalEditor,repository:this.props.repository,dispatcher:this.props.dispatcher,manualResolution:this.props.manualResolutions.get(e.path),ourBranch:this.props.ourBranch,theirBranch:this.props.theirBranch}).status)&&go(o.status,o.manualResolution)?wO({path:o.path,status:o.status,resolvedExternalEditor:o.resolvedExternalEditor,onOpenEditorClick:()=>o.openFileInExternalEditor(Object(r.join)(o.repository.path,o.path)),repository:o.repository,dispatcher:o.dispatcher,ourBranch:o.ourBranch,theirBranch:o.theirBranch}):_i(o.status)&&go(o.status,o.manualResolution)?vO({path:o.path,status:o.status,repository:o.repository,dispatcher:o.dispatcher,ourBranch:o.ourBranch,theirBranch:o.theirBranch}):yO({path:o.path,status:o.status,repository:o.repository,dispatcher:o.dispatcher,manualResolution:o.manualResolution,branch:(t=o.manualResolution,n=o.ourBranch,i=o.theirBranch,t===Nl.ours?n:t===Nl.theirs?i:void 0)}):null;var t,n,i,o}))}renderContent(e,t){return 0===e.length?de.createElement("div",{className:"all-conflicts-resolved"},de.createElement("div",{className:"green-circle"},de.createElement(cf,{symbol:mf})),de.createElement("div",{className:"message"},"All conflicts resolved")):de.createElement(de.Fragment,null,function(e){const t=1===e?"1 conflicted file":e+" conflicted files";return de.createElement("h3",{className:"summary"},t)}(t),this.renderUnmergedFiles(e),(n=this.openThisRepositoryInShell,de.createElement("div",null,de.createElement(Mg,{onClick:n},",")," ","your tool of choice, or close to resolve manually.")));var n}render(){const{workingDirectory:e,manualResolutions:t,headerTitle:n,submitButton:r,abortButton:i}=this.props,o=function(e){return e.files.filter(e=>fo(e.status))}(this.props.workingDirectory),s=wo(e,t),a=s.length>0?"Resolve all changes before continuing":void 0;return de.createElement(ev,{id:"conflicts-dialog",dismissable:!this.state.isCommitting,onDismissed:this.props.onDismissed,onSubmit:this.onSubmit,title:n,loading:this.state.isCommitting,disabled:this.state.isCommitting},de.createElement(Xy,null,this.renderContent(o,s.length)),de.createElement(nv,null,de.createElement(rv,{okButtonText:r,okButtonDisabled:s.length>0,okButtonTitle:a,cancelButtonText:i,onCancelButtonClick:this.onAbort,cancelButtonDisabled:this.state.isAborting})))}}class _O extends de.Component{constructor(e){super(e),this.onSubmit=async()=>{this.setState({isAborting:!0}),await this.props.onConfirmAbort(),this.setState({isAborting:!1})},this.onCancel=async()=>this.props.onReturnToConflicts(),this.state={isAborting:!1}}render(){const{operation:e}=this.props;return de.createElement(ev,{id:"abort-warning",title:"Confirm Abort "+e,onDismissed:this.onCancel,onSubmit:this.onSubmit,disabled:this.state.isAborting,type:"warning"},de.createElement(Xy,null,de.createElement("div",{className:"column-left"},de.createElement("p",null,"Are you sure you want to abort this ",e.toLowerCase(),"?"),de.createElement("p",null,"This will take you back to the original branch state and the conflicts you have already resolved will be discarded."))),de.createElement(nv,null,de.createElement(rv,{destructive:!0,okButtonText:"Abort "+e})))}}class TO extends de.Component{render(){const{progress:e,operation:t,emoji:n}=this.props,{position:r,totalCommitCount:i,value:o,currentCommitSummary:s}=e,a=_o(o);return de.createElement(ev,{dismissable:!1,id:"multi-commit-progress",title:t+" in progress"},de.createElement(Xy,null,de.createElement("div",null,de.createElement("progress",{value:a}),de.createElement("div",{className:"details"},de.createElement("div",{className:"green-circle"},de.createElement(cf,{symbol:mf})),de.createElement("div",{className:"summary"},de.createElement("div",{className:"message"},"Commit ",r," of ",i),de.createElement("div",{className:"detail"},de.createElement(Wv,{emoji:n,text:s||""})))))))}}class RO extends de.Component{constructor(e){super(e),this.onAskForConfirmationOnForcePushChanged=e=>{const t=!e.currentTarget.checked;this.setState({askForConfirmationOnForcePush:t})},this.onBegin=async()=>{this.props.dispatcher.setConfirmForcePushSetting(this.state.askForConfirmationOnForcePush),this.props.onBegin()},this.state={askForConfirmationOnForcePush:e.askForConfirmationOnForcePush}}render(){const{operation:e,onDismissed:t}=this.props,n=e+" Will Require Force Push";return de.createElement(ev,{title:n,onDismissed:t,onSubmit:this.onBegin,dismissable:!1,type:"warning"},de.createElement(Xy,null,de.createElement("p",null,"Are you sure you want to ",e.toLowerCase(),"?"),de.createElement("p",null,"At the end of the ",e.toLowerCase()," flow, GitHub Desktop will enable you to force push the branch to update the upstream branch. Force pushing will alter the history on the remote and potentially cause problems for others collaborating on this branch."),de.createElement("div",null,de.createElement(Qg,{label:"Do not show this message again",value:this.state.askForConfirmationOnForcePush?Xg.Off:Xg.On,onChange:this.onAskForConfirmationOnForcePushChanged}))),de.createElement(nv,null,de.createElement(rv,{okButtonText:"Begin "+e,onCancelButtonClick:this.props.onDismissed})))}}class AO extends de.Component{constructor(){super(...arguments),this.onFlowEnded=()=>{this.props.dispatcher.closePopup(ai.MultiCommitOperation),this.props.dispatcher.endMultiCommitOperation(this.props.repository)},this.onInvokeConflictsDialogDismissed=e=>{const{repository:t,dispatcher:n,state:r}=this.props,{targetBranch:i,step:o}=r;if("ShowConflicts"!==o.kind)return void this.endFlowInvalidState();const{conflictState:s}=o;n.setMultiCommitOperationStep(t,{kind:"HideConflicts",conflictState:s});const a=de.createElement(de.Fragment,null,e," ",null!==i?de.createElement("strong",null,i.name):null);return n.onConflictsFoundBanner(t,a,s)},this.onConfirmingAbort=async()=>{const{repository:e,dispatcher:t,workingDirectory:n,state:r}=this.props,{userHasResolvedConflicts:i,step:o}=r;if("ShowConflicts"!==o.kind)return void this.endFlowInvalidState();const{conflictState:s}=o,a=bo(n,s.manualResolutions);if(!(i||a.length>0))return this.onAbort();t.setMultiCommitOperationStep(e,{kind:"ConfirmAbort",conflictState:s})},this.moveToConflictState=()=>{const{dispatcher:e,repository:t,state:n}=this.props,{step:r}=n;if("ConfirmAbort"!==r.kind)return void this.endFlowInvalidState();const{conflictState:i}=r;return e.setMultiCommitOperationStep(t,{kind:"ShowConflicts",conflictState:i})},this.setConflictsHaveBeenResolved=()=>{this.props.dispatcher.setConflictsResolved(this.props.repository)}}endFlowInvalidState(e=!1){const{step:t,operationDetail:n}=this.props.state,r=`[${n.kind}] - Invalid state - ${n.kind} ended during ${t.kind}.`;if(e)return this.onFlowEnded(),void log.error(r);throw new Error(r)}render(){const{state:e}=this.props,{step:t}=e;switch(t.kind){case"ChooseBranch":return this.renderChooseBranch();case"ShowProgress":const{emoji:n}=this.props;return de.createElement(TO,{progress:e.progress,emoji:n,operation:e.operationDetail.kind});case"ShowConflicts":{const{repository:e,resolvedExternalEditor:n,openFileInExternalEditor:r,openRepositoryInShell:i,dispatcher:o,workingDirectory:s,state:a}=this.props,{userHasResolvedConflicts:l,operationDetail:c}=a,{manualResolutions:u,ourBranch:h,theirBranch:p}=t.conflictState,d=c.kind,f="Continue "+d,m="Abort "+d;return de.createElement(DO,{dispatcher:o,repository:e,workingDirectory:s,userHasResolvedConflicts:l,resolvedExternalEditor:n,ourBranch:h,theirBranch:p,manualResolutions:u,headerTitle:"Resolve conflicts before "+c.kind,submitButton:f,abortButton:m,onSubmit:this.onContinueAfterConflicts,onAbort:this.onConfirmingAbort,onDismissed:this.onConflictsDialogDismissed,openFileInExternalEditor:r,openRepositoryInShell:i,someConflictsHaveBeenResolved:this.setConflictsHaveBeenResolved})}case"ConfirmAbort":return de.createElement(_O,{operation:this.props.state.operationDetail.kind,onConfirmAbort:this.onAbort,onReturnToConflicts:this.moveToConflictState});case"WarnForcePush":const{dispatcher:r,askForConfirmationOnForcePush:i}=this.props;return de.createElement(RO,{operation:e.operationDetail.kind,dispatcher:r,askForConfirmationOnForcePush:i,onBegin:this.onBeginOperation,onDismissed:this.onFlowEnded});case"CreateBranch":return this.renderCreateBranch();case"HideConflicts":return null;default:return Ze(0,"Unknown multi commit operation step found: "+t)}}}class OO extends AO{constructor(){super(...arguments),this.onContinueAfterConflicts=async()=>{const{repository:e,dispatcher:t,workingDirectory:n,state:r,conflictState:i}=this.props,{operationDetail:o,originalBranchTip:s}=r;if(null===i||null===s||!$e(i)||(a=o,!Object.keys({commits:[],currentTip:""}).every(e=>e in a)))return void this.endFlowInvalidState();var a;const{targetBranch:l,baseBranch:c}=i,{commits:u,currentTip:h}=o;await t.switchMultiCommitOperationToShowProgress(e);const p={kind:"rebase",currentTip:h,targetBranch:l,baseBranch:c,originalBranchTip:s,baseBranchTip:h,manualResolutions:i.manualResolutions},d=await t.continueRebase(this.rebaseKind,e,n,p),f="Rebase"===this.rebaseKind?c||"":this.rebaseKind.toLowerCase()+" commit";await t.processMultiCommitOperationRebaseResult(this.rebaseKind,e,d,u.length+1,l,f)},this.onAbort=async()=>{const{repository:e,dispatcher:t}=this.props;return this.onFlowEnded(),t.abortRebase(e)},this.onConflictsDialogDismissed=()=>{this.onInvokeConflictsDialogDismissed(this.conflictDialogOperationPrefix)}}}class PO extends OO{constructor(){super(...arguments),this.conflictDialogOperationPrefix="squashing commits on",this.rebaseKind="Squash",this.onBeginOperation=()=>{const{repository:e,dispatcher:t,state:n}=this.props,{operationDetail:r}=n;if("Squash"!==r.kind)return void this.endFlowInvalidState();const{targetCommit:i,lastRetainedCommitRef:o,commitContext:s,commits:a}=r;return t.squash(e,a,i,o,s,!0)}}}class IO extends de.Component{constructor(e){super(e),this.getSubmitButtonToolTip=()=>{},this.onFilterTextChanged=e=>{this.setState({filterText:e})},this.onItemClick=(e,t)=>{if("keyboard"!==t.kind||"Enter"!==t.event.key)return;t.event.preventDefault();const{selectedBranch:n}=this.state;null!==n&&n.name===e.name&&this.start()},this.onSelectionChanged=async e=>{if(null!=e)return this.setState({selectedBranch:e}),this.updateStatus(e);this.setState({selectedBranch:e})},this.onOperationChange=e=>{const t=e.value,{dispatcher:n,repository:r}=this.props,{selectedBranch:i}=this.state;switch(t){case"Merge":n.startMergeBranchOperation(r,!1,i);break;case"Squash":n.startMergeBranchOperation(r,!0,i);break;case"Rebase":n.showRebaseDialog(r,i);break;case"Cherry-pick":case"Reorder":break;default:Ze(0,"Unknown operation value: "+e.value)}},this.renderBranch=(e,t)=>fC(e,t,this.props.currentBranch);const t=this.resolveSelectedBranch();this.state={selectedBranch:t,filterText:"",statusPreview:null}}componentDidMount(){const{selectedBranch:e}=this.state;null!==e&&this.updateStatus(e)}resolveSelectedBranch(){const{currentBranch:e,defaultBranch:t,initialBranch:n}=this.props;return void 0!==n?n:e===t?null:t}renderStatusPreview(){const{currentBranch:e}=this.props,{selectedBranch:t,statusPreview:n}=this.state;return null==n||null==e||null==t||e.name===t.name?null:de.createElement("div",{className:"merge-status-component"},this.renderActionStatusIcon(),de.createElement("p",{className:"merge-info"},n))}render(){const{selectedBranch:e}=this.state,{currentBranch:t,operation:n}=this.props,r=function(e,t){if(e.length<=t)return e;const n=[...e];if(n.length<=t)return e;const r=n.reduce((e,t)=>(t>=""&&t<=""?e.length&&e.push(`${e.pop()}${t}`):e.push(t),e),[]);return r.length<=t?e:r.slice(0,t).join("")+""}(t.name,40);return de.createElement(ev,{id:"choose-branch",onDismissed:this.props.onDismissed,onSubmit:this.start,dismissable:!0,title:this.getDialogTitle(r)},de.createElement(Xy,null,de.createElement(Jw,{allBranches:this.props.allBranches,currentBranch:t,defaultBranch:this.props.defaultBranch,recentBranches:this.props.recentBranches,filterText:this.state.filterText,onFilterTextChanged:this.onFilterTextChanged,selectedBranch:e,onSelectionChanged:this.onSelectionChanged,canCreateNewBranch:!1,renderBranch:this.renderBranch,onItemClick:this.onItemClick})),de.createElement(nv,null,this.renderStatusPreview(),de.createElement(OC,{selectedValue:n,options:PC(),disabled:!this.canStart(),tooltip:this.getSubmitButtonToolTip(),onSelectChange:this.onOperationChange})))}}class MO extends IO{constructor(){super(...arguments),this.commitCount=0,this.mergeStatus=null,this.start=()=>{if(!this.canStart())return;const{selectedBranch:e}=this.state,{operation:t,dispatcher:n,repository:r}=this.props;e&&(n.mergeBranch(r,e,this.mergeStatus,"Squash"===t),this.props.dispatcher.closePopup(ai.MultiCommitOperation))},this.canStart=()=>{const e=this.state.selectedBranch,t=this.props.currentBranch,n=null!==e&&null!==t&&e.name===t.name,r=void 0!==this.commitCount&&this.commitCount>0,i=null===this.mergeStatus||this.mergeStatus.kind!==Is.Invalid;return null!==e&&!n&&r&&i},this.onSelectionChanged=async e=>{if(null!=e)return this.setState({selectedBranch:e}),this.updateStatus(e);this.setState({selectedBranch:e}),this.commitCount=0,this.mergeStatus=null},this.renderActionStatusIcon=()=>fe.a.createElement(RC,{status:this.mergeStatus,classNamePrefix:"merge-status"}),this.getDialogTitle=e=>{const t="Squash"===this.props.operation?"Squash and ":null;return fe.a.createElement(fe.a.Fragment,null,t,"Merge into ",fe.a.createElement("strong",null,e))},this.updateStatus=async e=>{const{currentBranch:t}=this.props;this.mergeStatus={kind:Is.Loading},this.updateMergeStatusPreview(e),null!=t&&(this.mergeStatus=await jo(()=>nl(this.props.repository,t,e),500),this.updateMergeStatusPreview(e));const n=jl("",e.name),r=await Wl(this.props.repository,n);this.commitCount=r?r.behind:0,this.state.selectedBranch!==e&&(this.commitCount=0),this.updateMergeStatusPreview(e)}}updateMergeStatusPreview(e){this.setState({statusPreview:this.getMergeStatusPreview(e)})}getMergeStatusPreview(e){const{currentBranch:t}=this.props;return null===this.mergeStatus?null:this.mergeStatus.kind===Is.Loading?this.renderLoadingMergeMessage():this.mergeStatus.kind===Is.Clean?this.renderCleanMergeMessage(e,t,this.commitCount):this.mergeStatus.kind===Is.Invalid?this.renderInvalidMergeMessage():this.renderConflictedMergeMessage(e,t,this.mergeStatus.conflictedFiles)}renderLoadingMergeMessage(){return fe.a.createElement(fe.a.Fragment,null,"Checking for ability to merge automatically...")}renderCleanMergeMessage(e,t,n){if(0===n)return fe.a.createElement(fe.a.Fragment,null,"This branch is up to date with ",fe.a.createElement("strong",null,e.name));const r=1===n?"commit":"commits";return fe.a.createElement(fe.a.Fragment,null,"This will merge",fe.a.createElement("strong",null,` ${n} ${r}`)," from ",fe.a.createElement("strong",null,e.name)," into ",fe.a.createElement("strong",null,t.name))}renderInvalidMergeMessage(){return fe.a.createElement(fe.a.Fragment,null,"Unable to merge unrelated histories in this repository")}renderConflictedMergeMessage(e,t,n){const r=1===n?"file":"files";return fe.a.createElement(fe.a.Fragment,null,"There will be",fe.a.createElement("strong",null,` ${n} conflicted ${r}`)," when merging ",fe.a.createElement("strong",null,e.name)," into ",fe.a.createElement("strong",null,t.name))}}class FO extends AO{constructor(){super(...arguments),this.onContinueAfterConflicts=async()=>{const{repository:e,dispatcher:t,workingDirectory:n,state:r,conflictState:i,state:{operationDetail:o}}=this.props;if("ShowConflicts"!==r.step.kind||null===i||!Ve(i)||"Merge"!==o.kind)return void this.endFlowInvalidState();const{theirBranch:s}=r.step.conflictState,{currentBranch:a}=i;await t.finishConflictedMerge(e,n,{type:Ps.SuccessfulMerge,ourBranch:a,theirBranch:s},o.isSquash),await t.setCommitMessage(e,Yo),await this.props.dispatcher.changeRepositorySection(e,je.Changes),this.onFlowEnded(),t.recordGuidedConflictedMergeCompletion()},this.onAbort=async()=>{const{repository:e,dispatcher:t,state:{operationDetail:n}}=this.props;return this.onFlowEnded(),"Merge"===n.kind&&n.isSquash?t.abortSquashMerge(e):t.abortMerge(e)},this.onConflictsDialogDismissed=()=>{const{dispatcher:e,workingDirectory:t,conflictState:n}=this.props;if(null===n||!Ve(n))return void this.endFlowInvalidState(!0);e.recordMergeConflictsDialogDismissal();wo(t,n.manualResolutions).length>0&&e.recordAnyConflictsLeftOnMergeConflictsDialogDismissal(),this.onInvokeConflictsDialogDismissed("merge into")},this.renderChooseBranch=()=>{const{repository:e,dispatcher:t,state:n}=this.props,{step:r,operationDetail:i}=n;if("ChooseBranch"!==r.kind||"Merge"!==i.kind)return this.endFlowInvalidState(),null;const{defaultBranch:o,currentBranch:s,allBranches:a,recentBranches:l,initialBranch:c}=r,{isSquash:u}=i;return fe.a.createElement(MO,{dispatcher:t,repository:e,allBranches:a,defaultBranch:o,recentBranches:l,currentBranch:s,initialBranch:c,operation:u?"Squash":"Merge",onDismissed:this.onFlowEnded})}}}class NO extends OO{constructor(){super(...arguments),this.conflictDialogOperationPrefix="reordering commits on",this.rebaseKind="Reorder",this.onBeginOperation=()=>{const{repository:e,dispatcher:t,state:n}=this.props,{operationDetail:r}=n;if("Reorder"!==r.kind)return void this.endFlowInvalidState();const{commits:i,beforeCommit:o,lastRetainedCommitRef:s}=r;return t.reorderCommits(e,i,o,s,!0)}}}class BO extends de.Component{constructor(e){super(e),this.onFilterTextChanged=e=>{this.setState({filterText:e})},this.onSelectionChanged=e=>{this.setState({selectedBranch:e})},this.renderBranch=(e,t)=>fC(e,t,this.props.currentBranch),this.onEnterPressed=(e,t)=>{if("keyboard"!==t.kind||"Enter"!==t.event.key)return;t.event.preventDefault();const{selectedBranch:n}=this.state;null!==n&&n.name===e.name&&this.startCherryPick()},this.onFilterListResultsChanged=e=>{const{isCreateBranchState:t}=this.state;0!==e||t?e>0&&t&&this.setState({isCreateBranchState:!1}):this.setState({isCreateBranchState:!0})},this.onSubmit=async()=>{const{isCreateBranchState:e,filterText:t}=this.state;e?this.props.onCreateNewBranch(t):this.startCherryPick()},this.startCherryPick=async()=>{const{selectedBranch:e}=this.state;null!==e&&this.canCherryPickOntoSelectedBranch()&&this.props.onCherryPick(e)},this.state={selectedBranch:null,filterText:"",isCreateBranchState:0===e.allBranches.length}}canCherryPickOntoSelectedBranch(){const{selectedBranch:e,isCreateBranchState:t}=this.state;return null!==e&&!this.selectedBranchIsCurrentBranch()||t}selectedBranchIsCurrentBranch(){const{selectedBranch:e}=this.state,t=this.props.currentBranch;return null!==e&&null!==t&&e.name===t.name}renderOkButtonText(){const{selectedBranch:e,isCreateBranchState:t}=this.state;if(t)return"";const n=this.props.commitCount>1?"commits":"commit",r=`Cherry-pick ${this.props.commitCount} ${n}`;return null!==e?de.createElement(de.Fragment,null,r," to ",de.createElement("strong",null,e.name),""):r}render(){const e=this.selectedBranchIsCurrentBranch()?"You are not able to cherry-pick from and to the same branch":void 0,t=this.props.commitCount>1?"commits":"commit";return de.createElement(ev,{id:"cherry-pick",onDismissed:this.props.onDismissed,onSubmit:this.onSubmit,dismissable:!0,title:de.createElement("strong",null,"Cherry-pick ",this.props.commitCount," ",t," to a branch")},de.createElement(Xy,null,de.createElement(Jw,{allBranches:this.props.allBranches,currentBranch:this.props.currentBranch,defaultBranch:this.props.defaultBranch,recentBranches:this.props.recentBranches,filterText:this.state.filterText,onFilterTextChanged:this.onFilterTextChanged,onFilterListResultsChanged:this.onFilterListResultsChanged,selectedBranch:this.state.selectedBranch,onSelectionChanged:this.onSelectionChanged,canCreateNewBranch:!0,onCreateNewBranch:this.props.onCreateNewBranch,renderBranch:this.renderBranch,onItemClick:this.onEnterPressed})),de.createElement(nv,null,de.createElement(rv,{okButtonText:this.renderOkButtonText(),okButtonDisabled:!this.canCherryPickOntoSelectedBranch(),okButtonTitle:e,cancelButtonVisible:!1})))}}class LO extends AO{constructor(){super(...arguments),this.onContinueAfterConflicts=async()=>{const{repository:e,dispatcher:t,workingDirectory:n,state:r,conflictState:i}=this.props,{operationDetail:o,targetBranch:s}=r;if(null===i||"Cherry-pick"!==o.kind||null===s)return void this.endFlowInvalidState();const{commits:a}=o;await t.switchMultiCommitOperationToShowProgress(e);const l={kind:"cherryPick",targetBranchName:s.name,manualResolutions:i.manualResolutions};await t.continueCherryPick(e,n.files,l,a,o.sourceBranch)},this.onAbort=async()=>{const{repository:e,dispatcher:t,state:n}=this.props,{operationDetail:r}=n;if("Cherry-pick"===r.kind)return this.onFlowEnded(),t.abortCherryPick(e,r.sourceBranch);this.endFlowInvalidState()},this.onConflictsDialogDismissed=()=>{this.onInvokeConflictsDialogDismissed("cherry-picking onto")},this.renderChooseBranch=()=>{const{state:{step:e,operationDetail:t}}=this.props;if("ChooseBranch"!==e.kind||"Cherry-pick"!==t.kind)return this.endFlowInvalidState(),null;const{allBranches:n,defaultBranch:r,currentBranch:i,recentBranches:o}=e,{commits:s}=t;return fe.a.createElement(BO,{key:"choose-target-branch",allBranches:n,defaultBranch:r,recentBranches:o,currentBranch:i,onCherryPick:this.onChooseBranch,onDismissed:this.onFlowEnded,commitCount:s.length,onCreateNewBranch:this.onCreateNewBranch})},this.renderCreateBranch=()=>{const{repository:e,dispatcher:t,state:{step:n,operationDetail:r}}=this.props;if("CreateBranch"!==n.kind||"Cherry-pick"!==r.kind)return this.endFlowInvalidState(),null;const{allBranches:i,defaultBranch:o,upstreamDefaultBranch:s,upstreamGhRepo:a,tip:l,targetBranchName:c}=n;return fe.a.createElement(gA,{key:"create-branch",tip:l,defaultBranch:o,upstreamDefaultBranch:s,upstreamGitHubRepository:a,allBranches:i,repository:e,onDismissed:this.onFlowEnded,dispatcher:t,initialName:c,createBranch:this.onCreateBranchAndCherryPick,okButtonText:"",headerText:""})},this.onChooseBranch=e=>{const{dispatcher:t,repository:n,state:{operationDetail:r}}=this.props;if("Cherry-pick"!==r.kind)return void this.endFlowInvalidState();const{commits:i,sourceBranch:o}=r;t.setMultiCommitOperationTargetBranch(n,e),t.setCherryPickBranchCreated(n,!1),t.cherryPick(n,e,i,o)},this.onCreateNewBranch=e=>{const{dispatcher:t,repository:n,state:{step:r,operationDetail:i}}=this.props;if("ChooseBranch"!==r.kind||"Cherry-pick"!==i.kind)return void this.endFlowInvalidState();const{commits:o,sourceBranch:s}=i;t.setCherryPickCreateBranchFlowStep(n,e,o,s)},this.onCreateBranchAndCherryPick=(e,t,n)=>{const{dispatcher:r,repository:i,state:{step:o,operationDetail:s}}=this.props;if("CreateBranch"!==o.kind||"Cherry-pick"!==s.kind)return void this.endFlowInvalidState();const{commits:a,sourceBranch:l}=s;r.startCherryPickWithBranchName(i,e,t,n,a,l)}}}class HO extends IO{constructor(){super(...arguments),this.rebasePreview=null,this.start=()=>{const{selectedBranch:e}=this.state,{repository:t,currentBranch:n}=this.props;e&&null!==this.rebasePreview&&this.rebasePreview.kind===Is.Clean&&this.canStart()&&this.props.dispatcher.startRebase(t,e,n,this.rebasePreview.commits)},this.canStart=()=>null!==this.state.selectedBranch&&!this.selectedBranchIsCurrentBranch()&&this.selectedBranchIsAheadOfCurrentBranch(),this.getSubmitButtonToolTip=()=>this.selectedBranchIsCurrentBranch()?"You are not able to rebase this branch onto itself":this.selectedBranchIsAheadOfCurrentBranch()?void 0:"",this.getDialogTitle=e=>fe.a.createElement(fe.a.Fragment,null,"Rebase ",fe.a.createElement("strong",null,e)),this.renderActionStatusIcon=()=>fe.a.createElement(RC,{status:this.rebasePreview,classNamePrefix:"merge-status"}),this.updateStatus=async e=>{const{currentBranch:t,repository:n}=this.props;IC(e,t,n,t=>{this.rebasePreview=t,this.updateRebaseStatusPreview(e)})}}selectedBranchIsCurrentBranch(){const e=this.props.currentBranch,{selectedBranch:t}=this.state;return null!==t&&null!==e&&t.name===e.name}selectedBranchIsAheadOfCurrentBranch(){return null!==this.rebasePreview&&this.rebasePreview.kind===Is.Clean&&this.rebasePreview.commits.length>0}updateRebaseStatusPreview(e){this.setState({statusPreview:this.getRebaseStatusPreview(e)})}getRebaseStatusPreview(e){if(null==this.rebasePreview)return null;const{currentBranch:t}=this.props;return this.rebasePreview.kind===Is.Loading?this.renderLoadingRebaseMessage():this.rebasePreview.kind===Is.Clean?this.renderCleanRebaseMessage(t,e,this.rebasePreview.commits.length):this.rebasePreview.kind===Is.Invalid?this.renderInvalidRebaseMessage():null}renderLoadingRebaseMessage(){return fe.a.createElement(fe.a.Fragment,null,"Checking for ability to rebase automatically")}renderInvalidRebaseMessage(){return fe.a.createElement(fe.a.Fragment,null,"Unable to start rebase. Check you have chosen a valid branch.")}renderCleanRebaseMessage(e,t,n){if(n<=0)return fe.a.createElement(fe.a.Fragment,null,"This branch is up to date with"," ",fe.a.createElement("strong",null,e.name));const r=1===n?"commit":"commits";return fe.a.createElement(fe.a.Fragment,null,"This will update ",fe.a.createElement("strong",null,e.name)," by applying its ",fe.a.createElement("strong",null,` ${n} ${r}`)," on top of ",fe.a.createElement("strong",null,t.name))}}class UO extends OO{constructor(){super(...arguments),this.conflictDialogOperationPrefix="rebasing",this.rebaseKind="Rebase",this.onBeginOperation=()=>{const{repository:e,dispatcher:t,state:n}=this.props,{operationDetail:r,targetBranch:i}=n;if("Rebase"!==r.kind)return void this.endFlowInvalidState();const{commits:o,sourceBranch:s}=r;if(null!==s&&null!==i)return t.startRebase(e,s,i,o,{continueWithForcePush:!0});this.endFlowInvalidState()},this.renderChooseBranch=()=>{const{repository:e,dispatcher:t,state:n}=this.props,{step:r}=n;if("ChooseBranch"!==r.kind)return this.endFlowInvalidState(),null;const{defaultBranch:i,currentBranch:o,allBranches:s,recentBranches:a,initialBranch:l}=r;return fe.a.createElement(HO,{key:"choose-branch",dispatcher:t,repository:e,allBranches:s,defaultBranch:i,recentBranches:a,currentBranch:o,initialBranch:l,operation:"Rebase",onDismissed:this.onFlowEnded})}}}class jO extends de.Component{render(){const{kind:e}=this.props.state.operationDetail;switch(e){case"Cherry-pick":return de.createElement(LO,Object.assign({},this.props));case"Rebase":return de.createElement(UO,Object.assign({},this.props));case"Merge":return de.createElement(FO,{repository:this.props.repository,dispatcher:this.props.dispatcher,state:this.props.state,conflictState:this.props.conflictState,emoji:this.props.emoji,workingDirectory:this.props.workingDirectory,askForConfirmationOnForcePush:this.props.askForConfirmationOnForcePush,openFileInExternalEditor:this.props.openFileInExternalEditor,resolvedExternalEditor:this.props.resolvedExternalEditor,openRepositoryInShell:this.props.openRepositoryInShell});case"Squash":return de.createElement(PO,{repository:this.props.repository,dispatcher:this.props.dispatcher,state:this.props.state,conflictState:this.props.conflictState,emoji:this.props.emoji,workingDirectory:this.props.workingDirectory,askForConfirmationOnForcePush:this.props.askForConfirmationOnForcePush,openFileInExternalEditor:this.props.openFileInExternalEditor,resolvedExternalEditor:this.props.resolvedExternalEditor,openRepositoryInShell:this.props.openRepositoryInShell});case"Reorder":return de.createElement(NO,{repository:this.props.repository,dispatcher:this.props.dispatcher,state:this.props.state,conflictState:this.props.conflictState,emoji:this.props.emoji,workingDirectory:this.props.workingDirectory,askForConfirmationOnForcePush:this.props.askForConfirmationOnForcePush,openFileInExternalEditor:this.props.openFileInExternalEditor,resolvedExternalEditor:this.props.resolvedExternalEditor,openRepositoryInShell:this.props.openRepositoryInShell});default:return Ze(0,`Unknown multi commit operation kind of ${e}.`)}}}class WO extends de.Component{constructor(e){super(e),this.onSubmit=async()=>{const{dispatcher:e,repository:t,commit:n,onDismissed:r}=this.props;this.setState({isLoading:!0});try{await e.undoCommit(t,n,!1)}finally{this.setState({isLoading:!1})}r()},this.state={isLoading:!1}}render(){return de.createElement(ev,{id:"warn-local-changes-before-undo",type:"warning",title:"Undo Commit",loading:this.state.isLoading,disabled:this.state.isLoading,onSubmit:this.onSubmit,onDismissed:this.props.onDismissed},de.createElement(Xy,null,de.createElement(Ng,null,this.getWarningText())),de.createElement(nv,null,de.createElement(rv,{destructive:!0,okButtonText:"Continue"})))}getWarningText(){return this.props.commit.isMergeCommit&&!this.props.isWorkingDirectoryClean?de.createElement(de.Fragment,null,"You have changes in progress. Undoing the merge commit might result in some of these changes being lost.",de.createElement("br",null),de.createElement("br",null),this.getMergeCommitUndoWarningText(),de.createElement("br",null),de.createElement("br",null),"Do you want to continue anyway?"):this.props.commit.isMergeCommit?de.createElement(de.Fragment,null,this.getMergeCommitUndoWarningText(),de.createElement("br",null),de.createElement("br",null),"Do you want to continue anyway?"):de.createElement(de.Fragment,null,"You have changes in progress. Undoing the commit might result in some of these changes being lost. Do you want to continue anyway?")}getMergeCommitUndoWarningText(){return"Undoing a merge commit will apply the changes from the merge into\n    your working directory, and committing again will create an entirely new\n    commit. This means you will lose the merge commit and, as a result, commits\n    from the merged branch could disappear from this branch."}}class zO extends de.Component{constructor(e){super(e),this.onSubmit=async()=>{const{dispatcher:e,repository:t,commit:n,onDismissed:r}=this.props;this.setState({isLoading:!0});try{await e.resetToCommit(t,n,!1)}finally{this.setState({isLoading:!1})}r()},this.state={isLoading:!1}}render(){return de.createElement(ev,{id:"warning-before-reset",type:"warning",title:"Reset to Commit",loading:this.state.isLoading,disabled:this.state.isLoading,onSubmit:this.onSubmit,onDismissed:this.props.onDismissed},de.createElement(Xy,null,de.createElement(Ng,null,"You have changes in progress. Resetting to a previous commit might result in some of these changes being lost. Do you want to continue anyway?")),de.createElement(nv,null,de.createElement(rv,{destructive:!0,okButtonText:"Continue"})))}}class GO extends de.Component{constructor(){super(...arguments),this.onSubmit=()=>{const{dispatcher:e,onDismissed:t}=this.props;t(),this.isEnterpriseAccount?e.showEnterpriseSignInDialog(this.props.account.endpoint):e.showDotComSignInDialog()}}render(){const e=this.isEnterpriseAccount?" Enterprise":"";return de.createElement(ev,{id:"invalidated-token",type:"warning",title:"Warning",onSubmit:this.onSubmit,onDismissed:this.props.onDismissed},de.createElement(Xy,null,de.createElement(Ng,null,"Your account token has been invalidated and you have been signed out from your GitHub",e," account. Do you want to sign in again?")),de.createElement(nv,null,de.createElement(rv,{okButtonText:"Yes",cancelButtonText:"No"})))}get isEnterpriseAccount(){return this.props.account.endpoint!==Nn()}}class qO extends de.Component{constructor(){super(...arguments),this.onSubmit=()=>{this.submit(!0)},this.onCancel=()=>{this.submit(!1)}}render(){return de.createElement(ev,{id:"add-ssh-host",type:"normal",title:"SSH Host",dismissable:!1,onSubmit:this.onSubmit,onDismissed:this.props.onDismissed},de.createElement(Xy,null,de.createElement(Ng,null,"The authenticity of host '",this.props.host," (",this.props.ip,")' can't be established. ",this.props.keyType," key fingerprint is"," ",this.props.fingerprint,".",de.createElement("br",null),"Are you sure you want to continue connecting?")),de.createElement(nv,null,de.createElement(rv,{okButtonText:"Yes",cancelButtonText:"No",onCancelButtonClick:this.onCancel})))}submit(e){const{onSubmit:t,onDismissed:n}=this.props;t(e),n()}}class VO extends de.Component{constructor(e){super(e),this.onRememberPassphraseChanged=e=>{this.setState({rememberPassphrase:e.currentTarget.checked})},this.onValueChanged=e=>{this.setState({passphrase:e})},this.onSubmit=()=>{this.submit(this.state.passphrase,this.state.rememberPassphrase)},this.onCancel=()=>{this.submit(void 0,!1)},this.state={passphrase:"",rememberPassphrase:!1}}render(){return de.createElement(ev,{id:"ssh-key-passphrase",type:"normal",title:"SSH Key Passphrase",dismissable:!1,onSubmit:this.onSubmit,onDismissed:this.props.onDismissed},de.createElement(Xy,null,de.createElement(Ng,null,de.createElement(Fg,{label:`Enter passphrase for key '${this.props.keyPath}':`,value:this.state.passphrase,type:"password",onValueChanged:this.onValueChanged})),de.createElement(Ng,null,de.createElement(Qg,{label:"Remember passphrase",value:this.state.rememberPassphrase?Xg.On:Xg.Off,onChange:this.onRememberPassphraseChanged}))),de.createElement(nv,null,de.createElement(rv,{onCancelButtonClick:this.onCancel,okButtonDisabled:0===this.state.passphrase.length})))}submit(e,t){const{onSubmit:n,onDismissed:r}=this.props;n(e,t),r()}}class $O extends de.Component{constructor(e){super(e),this.onAskForConfirmationOnForcePushChanged=e=>{const t=!e.currentTarget.checked;this.setState({askForConfirmationOnForcePush:t})},this.onForcePush=async()=>{this.props.dispatcher.setConfirmForcePushSetting(this.state.askForConfirmationOnForcePush),this.props.onDismissed(),await this.props.dispatcher.performForcePush(this.props.repository)},this.state={isLoading:!1,askForConfirmationOnForcePush:e.askForConfirmationOnForcePush}}render(){return de.createElement(ev,{title:"Are you sure you want to force push?",dismissable:!this.state.isLoading,onDismissed:this.props.onDismissed,onSubmit:this.onForcePush,type:"warning"},de.createElement(Xy,null,de.createElement("p",null,"A force push will rewrite history on"," ",de.createElement(av,null,this.props.upstreamBranch),". Any collaborators working on this branch will need to reset their own local branch to match the history of the remote."),de.createElement("div",null,de.createElement(Qg,{label:"Do not show this message again",value:this.state.askForConfirmationOnForcePush?Xg.Off:Xg.On,onChange:this.onAskForConfirmationOnForcePushChanged}))),de.createElement(nv,null,de.createElement(rv,{destructive:!0,okButtonText:"I'm sure"})))}}const KO=lt(__dirname,"static/paper-stack.svg"),YO=lt(__dirname,"static/empty-no-pull-requests.svg");class ZO extends de.Component{constructor(e){var t;super(e),this.checkRunsLoadCancelled=!1,this.onViewJobStep=e=>{const{repository:t,pullRequest:n,dispatcher:r}=this.props,i=this.selectedCheck;if(void 0===i)return;const o=Oc(i,e,t.gitHubRepository,n.pullRequestNumber);null!==o&&r.openInBrowser(o)},this.renderRerunButton=()=>{const{checks:e}=this.state;return de.createElement("div",{className:"ci-check-rerun"},de.createElement(qg,{onClick:this.rerunChecks,disabled:0===e.length},de.createElement(cf,{symbol:bm})," Re-run checks"))},this.rerunChecks=()=>{this.props.dispatcher.recordChecksFailedDialogSwitchToPullRequest();const e=Np(this.props.pullRequest.pullRequestNumber);this.props.dispatcher.showPopup({type:ai.CICheckRunRerun,checkRuns:this.state.checks,repository:this.props.repository.gitHubRepository,prRef:e})},this.onCheckRunClick=e=>{this.setState({selectedCheckID:e.id})},this.onViewSelectedCheckRunOnGitHub=()=>{const e=this.selectedCheck;void 0!==e&&this.onViewOnGitHub(e)},this.onViewOnGitHub=e=>{var t;const{repository:n,pullRequest:r,dispatcher:i}=this.props,o=null!==(t=e.htmlUrl)&&void 0!==t?t:`${n.gitHubRepository.htmlURL}/pull/${r.pullRequestNumber}`;null!==o&&i.openInBrowser(o)},this.onSubmit=async e=>{e.preventDefault();const{dispatcher:t,repository:n,pullRequest:r}=this.props;this.setState({switchingToPullRequest:!0}),await t.selectRepository(n),await t.checkoutPullRequest(n,r),this.setState({switchingToPullRequest:!1}),this.props.onDismissed()};const{checks:n}=this.props,r=null!==(t=n.find(Dc))&&void 0!==t?t:n[0];this.state={switchingToPullRequest:!1,selectedCheckID:r.id,checks:n,loadingActionWorkflows:!0,loadingActionLogs:!0}}get selectedCheck(){return this.state.checks.find(e=>e.id===this.state.selectedCheckID)}get loadingChecksInfo(){return this.state.loadingActionWorkflows||this.state.loadingActionLogs}render(){let e="Switch to Pull Request";this.props.shouldChangeRepository&&(e="Switch to Repository and Pull Request");const{pullRequest:t}=this.props,n=this.loadingChecksInfo,r=this.state.checks.filter(Dc),i=r.length>1?"checks":"check",o=de.createElement("div",{className:"ci-check-run-dialog-header"},de.createElement(cf,{symbol:hm}),de.createElement("div",{className:"title-container"},de.createElement("div",{className:"summary"},r.length," ",i," failed in your pull request"),de.createElement("span",{className:"pr-title"},de.createElement("span",{className:"pr-title"},t.title)," ",de.createElement("span",{className:"pr-number"},"#",t.pullRequestNumber)," ")),this.renderRerunButton());return de.createElement(ev,{id:"pull-request-checks-failed",type:"normal",title:o,dismissable:!1,onSubmit:this.props.onSubmit,onDismissed:this.props.onDismissed,loading:n||this.state.switchingToPullRequest},de.createElement(Xy,null,de.createElement(Ng,null,de.createElement("div",{className:"ci-check-run-dialog-container"},de.createElement("div",{className:"ci-check-run-content"},this.renderCheckRunJobs(),this.renderCheckRunSteps())))),de.createElement(nv,null,de.createElement(Ng,null,this.renderSummary(),de.createElement(rv,{onCancelButtonClick:this.props.onDismissed,cancelButtonText:"Dismiss",okButtonText:e,okButtonDisabled:this.state.switchingToPullRequest,onOkButtonClick:this.onSubmit}))))}renderSummary(){const e=this.state.checks.filter(Dc).length>1?"them":"it";return de.createElement("div",{className:"footer-question"},de.createElement("span",null,"Do you want to switch to that Pull Request now and start fixing"," ",e,"?"))}renderCheckRunJobs(){return de.createElement(CS,{checkRuns:this.state.checks,loadingActionLogs:this.state.loadingActionLogs,loadingActionWorkflows:this.state.loadingActionWorkflows,selectable:!0,onViewCheckDetails:this.onViewOnGitHub,onCheckRunClick:this.onCheckRunClick})}renderCheckRunSteps(){const e=this.selectedCheck;if(void 0===e)return null;let t=null;return t=this.loadingChecksInfo?this.renderCheckRunStepsLoading():void 0===e.actionJobSteps?this.renderEmptyLogOutput():de.createElement(bS,{steps:e.actionJobSteps,onViewJobStep:this.onViewJobStep}),de.createElement("div",{className:"ci-check-run-job-steps-container"},t)}renderCheckRunStepsLoading(){return de.createElement("div",{className:"loading-check-runs"},de.createElement("img",{src:YO,className:"blankslate-image"}),de.createElement("div",{className:"title"},"Stand By"),de.createElement("div",{className:"call-to-action"},"Check run steps incoming!"))}renderEmptyLogOutput(){return de.createElement("div",{className:"no-steps-to-display"},de.createElement("div",{className:"text"},".",de.createElement("div",null,de.createElement(Mg,{onClick:this.onViewSelectedCheckRunOnGitHub},"View check details"))),de.createElement("img",{src:KO,className:"blankslate-image"}))}componentDidMount(){this.loadCheckRunLogs()}componentWillUnmount(){this.checkRunsLoadCancelled=!0}async loadCheckRunLogs(){const{pullRequest:e,repository:t}=this.props,{gitHubRepository:n}=t,r=this.props.accounts.find(e=>e.endpoint===n.endpoint);if(void 0===r)return void this.setState({loadingActionWorkflows:!1,loadingActionLogs:!1});const i=Pn.fromAccount(r),o=await Ac(r,n.owner.login,n.name,e.head.ref,this.props.checks);if(this.checkRunsLoadCancelled)return;this.setState({checks:o,loadingActionWorkflows:!1});const s=await Rc(i,n.owner.login,n.name,o);this.checkRunsLoadCancelled||this.setState({checks:s,loadingActionLogs:!1})}}const XO=lt(__dirname,"static/empty-no-pull-requests.svg");class QO extends de.Component{constructor(e){super(e),this.onSubmit=async()=>{const{dispatcher:e,repository:t,prRef:n}=this.props;this.setState({loadingRerun:!0}),await e.rerequestCheckSuites(t,this.state.rerunnable),await e.manualRefreshSubscription(t,n,this.state.rerunnable),e.recordRerunChecks(),this.props.onDismissed()},this.determineRerunnability=async()=>{const e=new Set(this.props.checkRuns.map(e=>e.checkSuiteId)),t=new Array;for(const n of e)null!==n&&t.push(this.props.dispatcher.fetchCheckSuite(this.props.repository,n));const n=[];for(const e of await Promise.all(t)){if(null===e)continue;const t=ve()(e.created_at),r=ve()().diff(t,"months");e.rerequestable&&r<1&&e.status===_n.Completed&&n.push(e.id)}const r=this.props.checkRuns.filter(e=>null!==e.checkSuiteId&&n.includes(e.checkSuiteId)),i=this.props.checkRuns.filter(e=>null===e.checkSuiteId||!n.includes(e.checkSuiteId));this.setState({loadingCheckSuites:!1,rerunnable:r,nonRerunnable:i})},this.renderRerunnableJobsList=()=>this.state.loadingCheckSuites?de.createElement("div",{className:"loading-rerun-checks"},de.createElement("img",{src:XO,className:"blankslate-image"}),de.createElement("div",{className:"title"},"Please wait"),de.createElement("div",{className:"call-to-action"},"Determining which checks can be re-run.")):de.createElement("div",{className:"ci-check-run-list check-run-rerun-list"},this.state.rerunnable.length>0?de.createElement(CS,{checkRuns:this.state.rerunnable,loadingActionLogs:!1,loadingActionWorkflows:!1,notExpandable:!0}):null),this.renderRerunInfo=()=>{if(this.state.loadingCheckSuites)return null;const e="check"+(1!==this.state.nonRerunnable.length?"s":""),t=1!==this.state.nonRerunnable.length?"are":"is";return de.createElement(Ng,{className:"non-re-run-info warning-helper-text"},de.createElement(cf,{symbol:hf}),0===this.state.rerunnable.length?". ":`There ${t} ${this.state.nonRerunnable.length} ${e} that cannot be re-run. `,this.state.nonRerunnable.length>0?"A check run cannot be re-run if the check is more than one month old,\n          the check has not completed, or the check is not configured to be\n          re-run.":null)},this.state={loadingCheckSuites:!0,loadingRerun:!1,rerunnable:[],nonRerunnable:[]},this.determineRerunnability()}render(){return de.createElement(ev,{id:"rerun-check-runs",title:"Re-run Checks",onSubmit:this.onSubmit,onDismissed:this.props.onDismissed,loading:this.state.loadingCheckSuites||this.state.loadingRerun},de.createElement(Xy,null,this.renderRerunnableJobsList()),de.createElement(nv,null,this.renderRerunInfo(),de.createElement(rv,{okButtonText:"Re-run Checks",okButtonDisabled:0===this.state.rerunnable.length})))}}class JO extends de.Component{constructor(e){super(e),this.onConfirmDiscardChangesChanged=e=>{const t=!e.currentTarget.checked;this.setState({confirmDiscardChanges:t})},this.onSubmit=async()=>{const{dispatcher:e,retryAction:t}=this.props;this.setState({retrying:!0}),await e.performRetry(t),this.props.onConfirmDiscardChangesChanged(this.state.confirmDiscardChanges),this.props.onDismissed()},this.state={retrying:!1,confirmDiscardChanges:!0}}render(){const{retrying:e}=this.state;return de.createElement(ev,{title:"Error",id:"discard-changes-retry",loading:e,disabled:e,onDismissed:this.props.onDismissed,onSubmit:this.onSubmit,type:"error"},de.createElement(Xy,null,de.createElement("p",null,"Failed to discard changes to ","Trash","."),de.createElement("div",null,"Common reasons are:",de.createElement("ul",null,de.createElement("li",null,"The ","Trash"," is configured to delete items immediately."),de.createElement("li",null,"Restricted access to move the file(s)."))),de.createElement("p",null,"These changes will be unrecoverable from the ","Trash","."),this.renderConfirmDiscardChanges()),this.renderFooter())}renderConfirmDiscardChanges(){return de.createElement(Qg,{label:"Do not show this message again",value:this.state.confirmDiscardChanges?Xg.Off:Xg.On,onChange:this.onConfirmDiscardChangesChanged})}renderFooter(){return de.createElement(nv,null,de.createElement(rv,{okButtonText:"Permanently Discard Changes",okButtonTitle:"This will discard changes and they will be unrecoverable.",cancelButtonText:"Cancel",destructive:!0}))}}const eP={enter:250,exit:100},tP={enter:500,exit:400};class nP extends de.Component{constructor(e){super(e),this.loading=!0,this.lastKeyPressed=null,this.repositoryViewRef=de.createRef(),this.getOnPopupDismissedFn=Jn(e=>()=>this.onPopupDismissed(e)),this.showAddLocalRepo=()=>this.props.dispatcher.showPopup({type:ai.AddRepository}),this.showCreateRepository=()=>{this.props.dispatcher.showPopup({type:ai.CreateRepository})},this.showCloneRepo=e=>{let t=null;return void 0!==e&&(this.props.dispatcher.changeCloneRepositoriesTab(Vr.Generic),t=e),this.props.dispatcher.showPopup({type:ai.CloneRepository,initialURL:t})},this.showCreateTutorialRepositoryPopup=()=>{const e=this.getDotComAccount()||this.getEnterpriseAccount();null!==e&&this.props.dispatcher.showPopup({type:ai.CreateTutorialRepository,account:e})},this.onResumeTutorialRepository=()=>{const e=this.getSelectedTutorialRepository();e&&this.props.dispatcher.resumeTutorial(e)},this.onWindowKeyDown=e=>{if(!e.defaultPrevented&&!this.isShowingModal){if(It())if("Shift"===e.key&&e.altKey)this.props.dispatcher.setAccessKeyHighlightState(!1);else if("Alt"===e.key){if(e.shiftKey)return;this.state.currentFoldout&&this.state.currentFoldout.type===Ue.AppMenu&&this.state.appMenuState.length>1&&(this.props.dispatcher.setAppMenuState(e=>e.withReset()),this.props.dispatcher.closeFoldout(Ue.AppMenu)),this.props.dispatcher.setAccessKeyHighlightState(!0)}else if(!e.altKey||e.ctrlKey||e.metaKey)e.altKey||this.props.dispatcher.setAccessKeyHighlightState(!1);else if(this.state.appMenuState.length){const t=this.state.appMenuState[0].items,n=Ur(e.key,t);n&&Hr(n)&&("submenuItem"===n.type?(this.props.dispatcher.setAppMenuState(e=>e.withReset().withSelectedItem(n).withOpenedMenu(n,!0)),this.props.dispatcher.showFoldout({type:Ue.AppMenu,enableAccessKeyNavigation:!0,openedWithAccessKey:!0})):this.props.dispatcher.executeMenuItem(n),e.preventDefault())}this.lastKeyPressed=e.key}},this.onWindowKeyUp=e=>{e.defaultPrevented||It()&&"Alt"===e.key&&(this.props.dispatcher.setAccessKeyHighlightState(!1),"Alt"===this.lastKeyPressed&&(this.state.currentFoldout&&this.state.currentFoldout.type===Ue.AppMenu?(this.props.dispatcher.setAppMenuState(e=>e.withReset()),this.props.dispatcher.closeFoldout(Ue.AppMenu)):this.props.dispatcher.showFoldout({type:Ue.AppMenu,enableAccessKeyNavigation:!0,openedWithAccessKey:!1})))},this.removeRepository=e=>{e&&(e instanceof Yr||e.missing?this.props.dispatcher.removeRepository(e,!1):this.state.askForConfirmationOnRepositoryRemoval?this.props.dispatcher.showPopup({type:ai.RemoveRepository,repository:e}):this.props.dispatcher.removeRepository(e,!1))},this.onConfirmRepoRemoval=async(e,t)=>{await this.props.dispatcher.removeRepository(e,t)},this.openCurrentRepositoryInShell=()=>{const e=this.getRepository();e&&this.openInShell(e)},this.onMenuBarLostFocus=()=>{this.props.dispatcher.closeFoldout(Ue.AppMenu),this.props.dispatcher.setAppMenuState(e=>e.withReset())},this.onPopupDismissed=e=>this.props.dispatcher.closePopup(e),this.onContinueWithUntrustedCertificate=e=>{V(e,"Could not securely connect to the server, because its certificate is not trusted. Attackers might be trying to steal your information.\n\nTo connect unsafely, which may put your data at risk, you can Always trust the certificate and try again.")},this.onUpdateAvailableDismissed=()=>this.props.dispatcher.setUpdateBannerVisibility(!1),this.onExitTutorialToHomeScreen=()=>{const e=this.getSelectedTutorialRepository();return!!e&&(this.props.dispatcher.pauseTutorial(e),!0)},this.onCreateTutorialRepository=e=>{this.props.dispatcher.createTutorialRepository(e)},this.onUpdateExistingUpstreamRemote=e=>{this.props.dispatcher.updateExistingUpstreamRemote(e)},this.onIgnoreExistingUpstreamRemote=e=>{this.props.dispatcher.ignoreExistingUpstreamRemote(e)},this.updateExistingLFSFilters=()=>{this.props.dispatcher.installGlobalLFSFilters(!0)},this.initializeLFS=e=>{this.props.dispatcher.installLFSHooks(e)},this.onCloneRepositoriesTabSelected=e=>{this.props.dispatcher.changeCloneRepositoriesTab(e)},this.onRefreshRepositories=e=>{this.props.dispatcher.refreshApiRepositories(e)},this.onShowAdvancedPreferences=()=>{this.props.dispatcher.showPopup({type:ai.Preferences,initialSelectedTab:Xd.Advanced})},this.onBranchCreatedFromCommit=()=>{const e=this.repositoryViewRef.current;null!==e&&e.scrollCompareListToTop()},this.onOpenShellIgnoreWarning=e=>{this.props.dispatcher.openShell(e,!0)},this.onSaveCredentials=async(e,t,n,r)=>{await this.props.dispatcher.saveGenericGitCredentials(e,t,n),this.props.dispatcher.performRetry(r)},this.onCheckForUpdates=()=>this.checkForUpdates(!1),this.showAcknowledgements=()=>{this.props.dispatcher.showPopup({type:ai.Acknowledgements})},this.showTermsAndConditions=()=>{this.props.dispatcher.showPopup({type:ai.TermsAndConditions})},this.clearError=e=>this.props.dispatcher.clearError(e),this.onConfirmDiscardChangesChanged=e=>{this.props.dispatcher.setConfirmDiscardChangesSetting(e)},this.onConfirmDiscardChangesPermanentlyChanged=e=>{this.props.dispatcher.setConfirmDiscardChangesPermanentlySetting(e)},this.onRetryAction=e=>{this.props.dispatcher.performRetry(e)},this.showPopup=e=>{this.props.dispatcher.showPopup(e)},this.getDesktopAppContentsClassNames=()=>{const{currentDragElement:e}=this.state,t=null!==e&&e.type===_g.Commit;return al()({"commit-being-dragged":t,"squashing-enabled":t&&!0})},this.renderRepositoryList=()=>{const e=this.state.selectedState?this.state.selectedState.repository:null,t=this.state.selectedExternalEditor?this.state.selectedExternalEditor:void 0,n=this.state.selectedShell,r=this.state.repositoryFilterText;return de.createElement(Yg,{filterText:r,onFilterTextChanged:this.onRepositoryFilterTextChanged,selectedRepository:e,onSelectionChanged:this.onSelectionChanged,repositories:this.state.repositories,recentRepositories:this.state.recentRepositories,localRepositoryStateLookup:this.state.localRepositoryStateLookup,askForConfirmationOnRemoveRepository:this.state.askForConfirmationOnRepositoryRemoval,onRemoveRepository:this.removeRepository,onViewOnGitHub:this.viewOnGitHub,onOpenInShell:this.openInShell,onShowRepository:this.showRepository,onOpenInExternalEditor:this.openInExternalEditor,externalEditorLabel:t,shellLabel:n,dispatcher:this.props.dispatcher})},this.viewOnGitHub=e=>{if(!(e instanceof vi))return;const t=Si(e);t&&this.props.dispatcher.openInBrowser(t)},this.openInShell=e=>{e instanceof vi&&this.props.dispatcher.openShell(e.path)},this.openFileInExternalEditor=e=>{this.props.dispatcher.openInExternalEditor(e)},this.openInExternalEditor=e=>{e instanceof vi&&this.props.dispatcher.openInExternalEditor(e.path)},this.showRepository=e=>{e instanceof vi&&Je.showFolderContents(e.path)},this.onRepositoryDropdownStateChanged=e=>{"open"===e?this.props.dispatcher.showFoldout({type:Ue.Repository}):this.props.dispatcher.closeFoldout(Ue.Repository)},this.onExitTutorial=()=>{1===this.state.repositories.length&&Gs(this.state.currentOnboardingTutorialStep)?this.props.dispatcher.showPopup({type:ai.ConfirmExitTutorial}):this.onRepositoryDropdownStateChanged("open")},this.showCreateBranch=()=>{const e=this.state.selectedState;if(!e||e.type!==He.Repository)return;if(e.state.branchesState.tip.kind===si.Unknown)return;const t=e.repository;return this.props.dispatcher.showPopup({type:ai.CreateBranch,repository:t})},this.openPullRequest=()=>{const e=this.state.selectedState;if(null==e||e.type!==He.Repository)return;const t=e.state.branchesState.currentPullRequest,n=this.props.dispatcher;null==t?(n.createPullRequest(e.repository),n.recordCreatePullRequest()):n.showPullRequest(e.repository)},this.openCreatePullRequestInBrowser=(e,t)=>{this.props.dispatcher.openCreatePullRequestInBrowser(e,t)},this.onBranchDropdownStateChanged=e=>{"open"===e?this.props.dispatcher.showFoldout({type:Ue.Branch}):this.props.dispatcher.closeFoldout(Ue.Branch)},this.onBannerDismissed=()=>{this.props.dispatcher.clearBanner()},this.onRepositoryFilterTextChanged=e=>{this.props.dispatcher.setRepositoryFilterText(e)},this.onSelectionChanged=e=>{this.props.dispatcher.selectRepository(e),this.props.dispatcher.closeFoldout(Ue.Repository)},this.onViewCommitOnGitHub=async(e,t)=>{const n=this.getRepository();if(!n||n instanceof Yr||!n.gitHubRepository)return;const r=n.gitHubRepository.htmlURL;let i="";if(null!=t){i="#diff-"+be.createHash("sha256").update(t).digest("hex")}r&&this.props.dispatcher.openInBrowser(`${r}/commit/${e}${i}`)},this.onBranchDeleted=e=>{this.props.dispatcher.executeCompare(e,{kind:ze.History})},this.startCherryPickWithoutBranch=(e,t)=>{const n=this.props.repositoryStateManager.get(e),{tip:r}=n.branchesState;let i=null;if(r.kind!==si.Valid)throw new Error("Tip is not in a valid state, which is required to start the cherry-pick flow");i=r.branch,this.props.dispatcher.initializeMultiCommitOperation(e,{kind:"Cherry-pick",sourceBranch:i,branchCreated:!1,commits:t},null,t,r.branch.tip.sha);const o=vc(n);this.props.dispatcher.setMultiCommitOperationStep(e,o),this.props.dispatcher.recordCherryPickViaContextMenu(),this.showPopup({type:ai.MultiCommitOperation,repository:e})},this.openThankYouCard=(e,t=null)=>{const n=this.getDotComAccount();if(null===n)return;const{friendlyName:r}=n;this.props.dispatcher.showPopup({type:ai.ThankYou,userContributions:e,friendlyName:r,latestVersion:t})},this.onDragEnd=e=>{this.props.dispatcher.closeFoldout(Ue.Branch),void 0===e&&this.props.dispatcher.recordDragStartedAndCanceled()},e.dispatcher.loadInitialState().then(()=>{this.loading=!1,this.forceUpdate(),requestIdleCallback(()=>{const t=performance.now();_(t-e.startTime),requestIdleCallback(()=>{this.performDeferredLaunchActions()})},{timeout:100})}),this.state=e.appStore.getState(),e.appStore.onDidUpdate(e=>{this.setState(e)}),e.appStore.onDidError(t=>{e.dispatcher.postError(t)}),v("menu-event",(e,t)=>this.onMenuEvent(t)),Pt.onDidChange(e=>{e.status===Ot.UpdateReady&&this.props.dispatcher.setUpdateBannerVisibility(!0)}),Pt.onError(e=>{log.error("Error checking for updates",e),this.props.dispatcher.postError(e)}),v("launch-timing-stats",(e,t)=>{console.info(`App ready time: ${t.mainReadyTime}ms`),console.info(`Load time: ${t.loadTime}ms`),console.info(`Renderer ready time: ${t.rendererReadyTime}ms`),this.props.dispatcher.recordLaunchStats(t)}),v("certificate-error",(e,t,n,r)=>{this.props.dispatcher.showPopup({type:ai.UntrustedCertificate,certificate:t,url:r})}),Dg.onDragEnded(this.onDragEnd)}get isShowingModal(){return null!==this.state.currentPopup||this.state.errors.length>0}componentWillUnmount(){window.clearInterval(this.updateIntervalHandle)}async performDeferredLaunchActions(){this.props.appStore.loadEmoji(),this.props.dispatcher.reportStats(),setInterval(()=>this.props.dispatcher.reportStats(),144e5),this.props.dispatcher.installGlobalLFSFilters(!1),setInterval(()=>this.checkForUpdates(!0),144e5),this.checkForUpdates(!0),log.info(`launching: 2.9.11 (${nr()})`),log.info(`execPath: '${process.execPath}'`),this.state.askToMoveToApplicationsFolderSetting&&!1===await ae()&&this.showPopup({type:ai.MoveToApplicationsFolder}),this.checkIfThankYouIsInOrder()}onMenuEvent(e){if(!this.state.errors.length)switch(e){case"push":return this.push();case"force-push":return this.push({forceWithLease:!0});case"pull":return this.pull();case"show-changes":return this.showChanges();case"show-history":return this.showHistory();case"choose-repository":return this.chooseRepository();case"add-local-repository":return this.showAddLocalRepo();case"create-branch":return this.showCreateBranch();case"show-branches":return this.showBranches();case"remove-repository":return this.removeRepository(this.getRepository());case"create-repository":return this.showCreateRepository();case"rename-branch":return this.renameBranch();case"delete-branch":return this.deleteBranch();case"discard-all-changes":return this.discardAllChanges();case"stash-all-changes":return this.stashAllChanges();case"show-preferences":return this.props.dispatcher.showPopup({type:ai.Preferences});case"open-working-directory":return this.openCurrentRepositoryWorkingDirectory();case"update-branch":return this.props.dispatcher.recordMenuInitiatedUpdate(),this.updateBranch();case"compare-to-branch":return this.showHistory(!0);case"merge-branch":return this.props.dispatcher.recordMenuInitiatedMerge(),this.mergeBranch();case"squash-and-merge-branch":return this.props.dispatcher.recordMenuInitiatedMerge(!0),this.mergeBranch(!0);case"rebase-branch":return this.props.dispatcher.recordMenuInitiatedRebase(),this.showRebaseDialog();case"show-repository-settings":return this.showRepositorySettings();case"view-repository-on-github":return this.viewRepositoryOnGitHub();case"compare-on-github":return this.compareBranchOnDotcom();case"create-issue-in-repository-on-github":return this.openIssueCreationOnGitHub();case"open-in-shell":return this.openCurrentRepositoryInShell();case"clone-repository":return this.showCloneRepo();case"show-about":return this.showAbout();case"boomtown":return this.boomtown();case"go-to-commit-message":return this.goToCommitMessage();case"open-pull-request":return this.openPullRequest();case"install-cli":return this.props.dispatcher.installCLI();case"open-external-editor":return this.openCurrentRepositoryInExternalEditor();case"select-all":return this.selectAll();case"show-release-notes-popup":return this.showFakeReleaseNotesPopup();case"show-stashed-changes":return this.showStashedChanges();case"hide-stashed-changes":return this.hideStashedChanges();case"test-show-notification":return this.testShowNotification();case"test-prune-branches":return this.testPruneBranches();case"find-text":return this.findText();default:return Ze(0,"Unknown menu event name: "+e)}}showFakeReleaseNotesPopup(){0}testShowNotification(){}testPruneBranches(){}selectAll(){const e=new CustomEvent("select-all",{bubbles:!0,cancelable:!0});null!=document.activeElement&&document.activeElement.dispatchEvent(e)&&x()}findText(){const e=new CustomEvent("find-text",{bubbles:!0,cancelable:!0});null!=document.activeElement?document.activeElement.dispatchEvent(e):document.dispatchEvent(e)}boomtown(){setImmediate(()=>{throw new Error("Boomtown!")})}async goToCommitMessage(){await this.showChanges(),this.props.dispatcher.setCommitMessageFocus(!0)}checkForUpdates(e){Pt.checkForUpdates(e)}getDotComAccount(){return this.state.accounts.find(e=>e.endpoint===Nn())||null}getEnterpriseAccount(){return this.state.accounts.find(e=>e.endpoint!==Nn())||null}updateBranch(){const{selectedState:e}=this.state;if(null==e||e.type!==He.Repository)return;const{state:t,repository:n}=e,r=t.branchesState.defaultBranch;if(!r)return;this.props.dispatcher.initializeMergeOperation(n,!1,r);const{mergeStatus:i}=t.compareState;this.props.dispatcher.mergeBranch(n,r,i)}mergeBranch(e=!1){const t=this.state.selectedState;if(null==t||t.type!==He.Repository)return;const{repository:n}=t;this.props.dispatcher.startMergeBranchOperation(n,e)}compareBranchOnDotcom(){const e=this.getCurrentRepositoryGitHubURL();if(!e)return;const t=this.state.selectedState;if(null==t||t.type!==He.Repository)return;const n=t.state.branchesState.tip;if(n.kind!==si.Valid||!n.branch.upstreamWithoutRemote)return;const r=`${e}/compare/${n.branch.upstreamWithoutRemote}`;this.props.dispatcher.openInBrowser(r)}openCurrentRepositoryWorkingDirectory(){const e=this.state.selectedState;null!=e&&e.type===He.Repository&&this.showRepository(e.repository)}renameBranch(){const e=this.state.selectedState;if(null==e||e.type!==He.Repository)return;const t=e.state.branchesState.tip;t.kind===si.Valid&&this.props.dispatcher.showPopup({type:ai.RenameBranch,repository:e.repository,branch:t.branch})}deleteBranch(){const e=this.state.selectedState;if(null===e||e.type!==He.Repository)return;const t=e.state.branchesState.tip;if(t.kind===si.Valid){const n=e.state.branchesState.currentPullRequest;if(null!==n)this.props.dispatcher.showPopup({type:ai.DeletePullRequest,repository:e.repository,branch:t.branch,pullRequest:n});else{const n=null!==e.state.aheadBehind;this.props.dispatcher.showPopup({type:ai.DeleteBranch,repository:e.repository,branch:t.branch,existsOnRemote:n})}}}discardAllChanges(){const e=this.state.selectedState;if(null==e||e.type!==He.Repository)return;const{workingDirectory:t}=e.state.changesState;this.props.dispatcher.showPopup({type:ai.ConfirmDiscardChanges,repository:e.repository,files:t.files,showDiscardChangesSetting:!1,discardingAllChanges:!0})}stashAllChanges(){const e=this.getRepository();null!==e&&e instanceof vi&&this.props.dispatcher.createStashForCurrentBranch(e)}getSelectedTutorialRepository(){const{selectedState:e}=this.state,t=e&&e.type===He.Repository?e.repository:null;return t&&t.isTutorialRepository?t:null}showAbout(){this.props.dispatcher.showPopup({type:ai.About})}async showHistory(e=!1){const t=this.state.selectedState;null!=t&&t.type===He.Repository&&(await this.props.dispatcher.closeCurrentFoldout(),await this.props.dispatcher.initializeCompare(t.repository,{kind:ze.History}),await this.props.dispatcher.changeRepositorySection(t.repository,je.History),await this.props.dispatcher.updateCompareForm(t.repository,{filterText:"",showBranchList:e}))}showChanges(){const e=this.state.selectedState;if(null!=e&&e.type===He.Repository)return this.props.dispatcher.closeCurrentFoldout(),this.props.dispatcher.changeRepositorySection(e.repository,je.Changes)}chooseRepository(){return this.state.currentFoldout&&this.state.currentFoldout.type===Ue.Repository?this.props.dispatcher.closeFoldout(Ue.Repository):this.props.dispatcher.showFoldout({type:Ue.Repository})}showBranches(){const e=this.state.selectedState;if(null!=e&&e.type===He.Repository)return this.state.currentFoldout&&this.state.currentFoldout.type===Ue.Branch?this.props.dispatcher.closeFoldout(Ue.Branch):this.props.dispatcher.showFoldout({type:Ue.Branch})}push(e){const t=this.state.selectedState;null!=t&&t.type===He.Repository&&(e&&e.forceWithLease?this.props.dispatcher.confirmOrForcePush(t.repository):this.props.dispatcher.push(t.repository))}async pull(){const e=this.state.selectedState;null!=e&&e.type===He.Repository&&this.props.dispatcher.pull(e.repository)}showStashedChanges(){const e=this.state.selectedState;null!=e&&e.type===He.Repository&&this.props.dispatcher.selectStashedFile(e.repository)}hideStashedChanges(){const e=this.state.selectedState;null!=e&&e.type===He.Repository&&this.props.dispatcher.hideStashedChanges(e.repository)}componentDidMount(){document.ondragover=e=>{null!=e.dataTransfer&&(this.isShowingModal?e.dataTransfer.dropEffect="none":e.dataTransfer.dropEffect="copy"),e.preventDefault()},document.ondrop=e=>{e.preventDefault()},document.body.ondrop=e=>{if(!this.isShowingModal){if(null!=e.dataTransfer){const t=e.dataTransfer.files;this.handleDragAndDrop(t)}e.preventDefault()}},It()&&(window.addEventListener("keydown",this.onWindowKeyDown),window.addEventListener("keyup",this.onWindowKeyUp))}async handleDragAndDrop(e){var t;const n=[...e].map(e=>e.path),{dispatcher:r}=this.props;if(n.length>1){const e=await r.addRepositories(n);e.length>0&&(r.recordAddExistingRepository(),await r.selectRepository(e[0]))}else if(1===n.length){const e=n[0],i=null!==(t=await Zd(e))&&void 0!==t?t:e,{repositories:o}=this.state,s=$n(o,i);s?await r.selectRepository(s):await this.showPopup({type:ai.AddRepository,path:i})}}getRepository(){const e=this.state.selectedState;return null==e?null:e.repository}showRebaseDialog(){const e=this.getRepository();!e||e instanceof Yr||this.props.dispatcher.showRebaseDialog(e)}showRepositorySettings(){const e=this.getRepository();!e||e instanceof Yr||this.props.dispatcher.showPopup({type:ai.RepositorySettings,repository:e})}openIssueCreationOnGitHub(){const e=this.getRepository();e instanceof vi&&this.props.dispatcher.openIssueCreationPage(e)}viewRepositoryOnGitHub(){const e=this.getRepository();this.viewOnGitHub(e)}getCurrentRepositoryGitHubURL(){const e=this.getRepository();return!e||e instanceof Yr||!e.gitHubRepository?null:e.gitHubRepository.htmlURL}openCurrentRepositoryInExternalEditor(){const e=this.getRepository();e&&this.openInExternalEditor(e)}renderAppMenuBar(){return null}renderTitlebar(){const e="full-screen"===this.state.windowState;this.state.currentFoldout&&(this.state.currentFoldout.type,Ue.AppMenu);if(e)return null;const t=this.state.showWelcomeFlow,n=this.inNoRepositoriesViewState(),r=t||n?"light":"dark";return de.createElement(dm,{showAppIcon:!1,titleBarStyle:r,windowState:this.state.windowState,windowZoomFactor:this.state.windowZoomFactor},this.renderAppMenuBar())}currentPopupContent(){if(this.state.errors.length)return null;const e=this.state.currentPopup;if(!e)return null;const t=this.getOnPopupDismissedFn(e.type);switch(e.type){case ai.RenameBranch:const n=null!==this.state.selectedState&&this.state.selectedState.type===He.Repository?this.state.selectedState.state.changesState.stashEntry:null;return de.createElement(oS,{key:"rename-branch",dispatcher:this.props.dispatcher,repository:e.repository,branch:e.branch,stash:n,onDismissed:t});case ai.DeleteBranch:return de.createElement(sS,{key:"delete-branch",dispatcher:this.props.dispatcher,repository:e.repository,branch:e.branch,existsOnRemote:e.existsOnRemote,onDismissed:t,onDeleted:this.onBranchDeleted});case ai.DeleteRemoteBranch:return de.createElement(aS,{key:"delete-remote-branch",dispatcher:this.props.dispatcher,repository:e.repository,branch:e.branch,onDismissed:t,onDeleted:this.onBranchDeleted});case ai.ConfirmDiscardChanges:const r=void 0===e.showDiscardChangesSetting||e.showDiscardChangesSetting,i=void 0!==e.discardingAllChanges&&e.discardingAllChanges;return de.createElement(RS,{key:"discard-changes",repository:e.repository,dispatcher:this.props.dispatcher,files:e.files,confirmDiscardChanges:this.state.askForConfirmationOnDiscardChanges,showDiscardChangesSetting:r,discardingAllChanges:i,onDismissed:t,onConfirmDiscardChangesChanged:this.onConfirmDiscardChangesChanged});case ai.ConfirmDiscardSelection:return de.createElement(lO,{key:"discard-selection",repository:e.repository,dispatcher:this.props.dispatcher,file:e.file,diff:e.diff,selection:e.selection,onDismissed:t});case ai.Preferences:let o=this.getRepository();return o instanceof Yr&&(o=null),de.createElement(LR,{key:"preferences",initialSelectedTab:e.initialSelectedTab,dispatcher:this.props.dispatcher,dotComAccount:this.getDotComAccount(),confirmRepositoryRemoval:this.state.askForConfirmationOnRepositoryRemoval,confirmDiscardChanges:this.state.askForConfirmationOnDiscardChanges,confirmDiscardChangesPermanently:this.state.askForConfirmationOnDiscardChangesPermanently,confirmForcePush:this.state.askForConfirmationOnForcePush,uncommittedChangesStrategy:this.state.uncommittedChangesStrategy,selectedExternalEditor:this.state.selectedExternalEditor,useWindowsOpenSSH:this.state.useWindowsOpenSSH,notificationsEnabled:this.state.notificationsEnabled,optOutOfUsageTracking:this.state.optOutOfUsageTracking,enterpriseAccount:this.getEnterpriseAccount(),repository:o,onDismissed:t,selectedShell:this.state.selectedShell,selectedTheme:this.state.selectedTheme,customTheme:this.state.customTheme,repositoryIndicatorsEnabled:this.state.repositoryIndicatorsEnabled});case ai.RepositorySettings:{const n=e.repository,r=this.props.repositoryStateManager.get(n),i=co(this.state.accounts,n);return de.createElement(Sv,{key:"repository-settings-"+n.hash,initialSelectedTab:e.initialSelectedTab,remote:r.remote,dispatcher:this.props.dispatcher,repository:n,repositoryAccount:i,onDismissed:t})}case ai.SignIn:return de.createElement(bA,{key:"sign-in",signInState:this.state.signInState,dispatcher:this.props.dispatcher,onDismissed:t});case ai.AddRepository:return de.createElement(KR,{key:"add-existing-repository",onDismissed:t,dispatcher:this.props.dispatcher,path:e.path});case ai.CreateRepository:return de.createElement(oA,{key:"create-repository",onDismissed:t,dispatcher:this.props.dispatcher,initialPath:e.path});case ai.CloneRepository:return de.createElement(fA,{key:"clone-repository",dotComAccount:this.getDotComAccount(),enterpriseAccount:this.getEnterpriseAccount(),initialURL:e.initialURL,onDismissed:t,dispatcher:this.props.dispatcher,selectedTab:this.state.selectedCloneRepositoryTab,onTabSelected:this.onCloneRepositoriesTabSelected,apiRepositories:this.state.apiRepositories,onRefreshRepositories:this.onRefreshRepositories});case ai.CreateBranch:{const n=this.props.repositoryStateManager.get(e.repository).branchesState,r=e.repository;if(n.tip.kind===si.Unknown)return t(),null;let i=null,o=null;return bi(r)&&(i=Ei(r),o=jw(r,n.allBranches)),de.createElement(gA,{key:"create-branch",tip:n.tip,defaultBranch:n.defaultBranch,upstreamDefaultBranch:o,allBranches:n.allBranches,repository:r,targetCommit:e.targetCommit,upstreamGitHubRepository:i,onBranchCreatedFromCommit:this.onBranchCreatedFromCommit,onDismissed:t,dispatcher:this.props.dispatcher,initialName:e.initialName||""})}case ai.InstallGit:return de.createElement(wA,{key:"install-git",onDismissed:t,onOpenShell:this.onOpenShellIgnoreWarning,path:e.path});case ai.About:const s="2.9.11";return de.createElement(EA,{key:"about",onDismissed:t,applicationName:"GitHub Desktop",applicationVersion:s,applicationArchitecture:process.arch,onCheckForUpdates:this.onCheckForUpdates,onShowAcknowledgements:this.showAcknowledgements,onShowTermsAndConditions:this.showTermsAndConditions});case ai.PublishRepository:return de.createElement(_A,{key:"publish",dispatcher:this.props.dispatcher,repository:e.repository,accounts:this.state.accounts,onDismissed:t});case ai.UntrustedCertificate:return de.createElement(AA,{key:"untrusted-certificate",certificate:e.certificate,url:e.url,onDismissed:t,onContinue:this.onContinueWithUntrustedCertificate});case ai.Acknowledgements:return de.createElement(TA,{key:"acknowledgements",onDismissed:t,applicationVersion:"2.9.11"});case ai.RemoveRepository:return de.createElement(IA,{key:"confirm-remove-repository",repository:e.repository,onConfirmation:this.onConfirmRepoRemoval,onDismissed:t});case ai.TermsAndConditions:return de.createElement(FA,{key:"terms-and-conditions",onDismissed:t});case ai.PushBranchCommits:return de.createElement(Yw,{key:"push-branch-commits",dispatcher:this.props.dispatcher,repository:e.repository,branch:e.branch,unPushedCommits:e.unPushedCommits,onConfirm:this.openCreatePullRequestInBrowser,onDismissed:t});case ai.CLIInstalled:return de.createElement(NA,{key:"cli-installed",onDismissed:t});case ai.GenericGitAuthentication:return de.createElement(BA,{key:"generic-git-authentication",hostname:e.hostname,onDismiss:t,onSave:this.onSaveCredentials,retryAction:e.retryAction});case ai.ExternalEditorFailed:const a=e.openPreferences,l=e.suggestDefaultEditor;return de.createElement(CA,{key:"editor-error",message:e.message,onDismissed:t,showPreferencesDialog:this.onShowAdvancedPreferences,viewPreferences:a,suggestDefaultEditor:l});case ai.OpenShellFailed:return de.createElement(LA,{key:"shell-error",message:e.message,onDismissed:t,showPreferencesDialog:this.onShowAdvancedPreferences});case ai.InitializeLFS:return de.createElement(UA,{key:"initialize-lfs",repositories:e.repositories,onDismissed:t,onInitialize:this.initializeLFS});case ai.LFSAttributeMismatch:return de.createElement(jA,{key:"lsf-attribute-mismatch",onDismissed:t,onUpdateExistingFilters:this.updateExistingLFSFilters});case ai.UpstreamAlreadyExists:return de.createElement(WA,{key:"upstream-already-exists",repository:e.repository,existingRemote:e.existingRemote,onDismissed:t,onUpdate:this.onUpdateExistingUpstreamRemote,onIgnore:this.onIgnoreExistingUpstreamRemote});case ai.ReleaseNotes:return de.createElement(qA,{key:"release-notes",emoji:this.state.emoji,newRelease:e.newRelease,onDismissed:t});case ai.DeletePullRequest:return de.createElement(VA,{key:"delete-pull-request",dispatcher:this.props.dispatcher,repository:e.repository,branch:e.branch,onDismissed:t,pullRequest:e.pullRequest});case ai.OversizedFiles:return de.createElement(YA,{key:"oversized-files",oversizedFiles:e.oversizedFiles,onDismissed:t,dispatcher:this.props.dispatcher,context:e.context,repository:e.repository});case ai.CommitConflictsWarning:return de.createElement($A,{key:"commit-conflicts-warning",dispatcher:this.props.dispatcher,files:e.files,repository:e.repository,context:e.context,onDismissed:t});case ai.PushNeedsPull:return de.createElement(ZA,{key:"push-needs-pull",dispatcher:this.props.dispatcher,repository:e.repository,onDismissed:t});case ai.ConfirmForcePush:{const{askForConfirmationOnForcePush:n}=this.state;return de.createElement($O,{key:"confirm-force-push",dispatcher:this.props.dispatcher,repository:e.repository,upstreamBranch:e.upstreamBranch,askForConfirmationOnForcePush:n,onDismissed:t})}case ai.StashAndSwitchBranch:{const{repository:n,branchToCheckout:r}=e,{branchesState:i,changesState:o}=this.props.repositoryStateManager.get(n),{tip:s}=i;if(s.kind!==si.Valid)return null;const a=s.branch,l=null!==o.stashEntry;return de.createElement(QA,{key:"stash-and-switch-branch",dispatcher:this.props.dispatcher,repository:e.repository,currentBranch:a,branchToCheckout:r,hasAssociatedStash:l,onDismissed:t})}case ai.ConfirmOverwriteStash:{const{repository:n,branchToCheckout:r}=e;return de.createElement(JA,{key:"overwrite-stash",dispatcher:this.props.dispatcher,repository:n,branchToCheckout:r,onDismissed:t})}case ai.ConfirmDiscardStash:{const{repository:n,stash:r}=e;return de.createElement(eO,{key:"confirm-discard-stash-dialog",dispatcher:this.props.dispatcher,repository:n,stash:r,onDismissed:t})}case ai.CreateTutorialRepository:return de.createElement(tO,{key:"create-tutorial-repository-dialog",account:e.account,progress:e.progress,onDismissed:t,onCreateTutorialRepository:this.onCreateTutorialRepository});case ai.ConfirmExitTutorial:return de.createElement(eS,{key:"confirm-exit-tutorial",onDismissed:t,onContinue:this.onExitTutorialToHomeScreen});case ai.PushRejectedDueToMissingWorkflowScope:return de.createElement(nO,{onDismissed:t,rejectedPath:e.rejectedPath,dispatcher:this.props.dispatcher,repository:e.repository});case ai.SAMLReauthRequired:return de.createElement(rO,{onDismissed:t,organizationName:e.organizationName,endpoint:e.endpoint,retryAction:e.retryAction,dispatcher:this.props.dispatcher});case ai.CreateFork:return de.createElement(iO,{onDismissed:t,dispatcher:this.props.dispatcher,repository:e.repository,account:e.account});case ai.CreateTag:return de.createElement(oO,{key:"create-tag",repository:e.repository,onDismissed:t,dispatcher:this.props.dispatcher,targetCommitSha:e.targetCommitSha,initialName:e.initialName,localTags:e.localTags});case ai.DeleteTag:return de.createElement(sO,{key:"delete-tag",repository:e.repository,onDismissed:t,dispatcher:this.props.dispatcher,tagName:e.tagName});case ai.ChooseForkSettings:return de.createElement(aO,{repository:e.repository,onDismissed:t,dispatcher:this.props.dispatcher});case ai.LocalChangesOverwritten:const c=this.state.selectedState,u=null!==c&&c.type===He.Repository?c.state.changesState.stashEntry:null;return de.createElement(cO,{repository:e.repository,dispatcher:this.props.dispatcher,hasExistingStash:null!==u,retryAction:e.retryAction,onDismissed:t,files:e.files});case ai.MoveToApplicationsFolder:return de.createElement(hO,{dispatcher:this.props.dispatcher,onDismissed:t});case ai.ChangeRepositoryAlias:return de.createElement(pO,{dispatcher:this.props.dispatcher,repository:e.repository,onDismissed:t});case ai.ThankYou:return de.createElement(dO,{key:"thank-you",emoji:this.state.emoji,userContributions:e.userContributions,friendlyName:e.friendlyName,latestVersion:e.latestVersion,onDismissed:t});case ai.CommitMessage:const h=this.props.repositoryStateManager.get(e.repository),{tip:p}=h.branchesState,d=p.kind===si.Valid?p.branch.name:null,f=null===e.repository.gitHubRepository||yi(e.repository.gitHubRepository),m=cy(e.repository,this.props.dispatcher,this.state.emoji,this.props.issuesStore,this.props.gitHubUserStore,this.state.accounts);return de.createElement(gO,{key:"commit-message",autocompletionProviders:m,branch:d,coAuthors:e.coAuthors,commitAuthor:h.commitAuthor,commitMessage:e.commitMessage,commitSpellcheckEnabled:this.state.commitSpellcheckEnabled,dialogButtonText:e.dialogButtonText,dialogTitle:e.dialogTitle,dispatcher:this.props.dispatcher,prepopulateCommitSummary:e.prepopulateCommitSummary,repository:e.repository,showBranchProtected:h.changesState.currentBranchProtected,showCoAuthoredBy:e.showCoAuthoredBy,showNoWriteAccess:!f,onDismissed:t,onSubmitCommitMessage:e.onSubmitCommitMessage});case ai.MultiCommitOperation:{const{selectedState:t,emoji:n}=this.state;if(null===t||t.type!==He.Repository)return null;const{changesState:r,multiCommitOperationState:i}=t.state,{workingDirectory:o,conflictState:s}=r;return null===i?(log.warn("[App] invalid state encountered - multi commit flow should not be active when step is null"),null):de.createElement(jO,{key:"multi-commit-operation",repository:e.repository,dispatcher:this.props.dispatcher,state:i,conflictState:s,emoji:n,workingDirectory:o,askForConfirmationOnForcePush:this.state.askForConfirmationOnForcePush,openFileInExternalEditor:this.openFileInExternalEditor,resolvedExternalEditor:this.state.resolvedExternalEditor,openRepositoryInShell:this.openCurrentRepositoryInShell})}case ai.WarnLocalChangesBeforeUndo:{const{repository:n,commit:r,isWorkingDirectoryClean:i}=e;return de.createElement(WO,{key:"warn-local-changes-before-undo",dispatcher:this.props.dispatcher,repository:n,commit:r,isWorkingDirectoryClean:i,onDismissed:t})}case ai.WarningBeforeReset:{const{repository:n,commit:r}=e;return de.createElement(zO,{key:"warning-before-reset",dispatcher:this.props.dispatcher,repository:n,commit:r,onDismissed:t})}case ai.InvalidatedToken:return de.createElement(GO,{key:"invalidated-token",dispatcher:this.props.dispatcher,account:e.account,onDismissed:t});case ai.AddSSHHost:return de.createElement(qO,{key:"add-ssh-host",host:e.host,ip:e.ip,keyType:e.keyType,fingerprint:e.fingerprint,onSubmit:e.onSubmit,onDismissed:t});case ai.SSHKeyPassphrase:return de.createElement(VO,{key:"ssh-key-passphrase",keyPath:e.keyPath,onSubmit:e.onSubmit,onDismissed:t});case ai.PullRequestChecksFailed:return de.createElement(ZO,{key:"pull-request-checks-failed",dispatcher:this.props.dispatcher,shouldChangeRepository:e.needsSelectRepository,repository:e.repository,pullRequest:e.pullRequest,commitMessage:e.commitMessage,commitSha:e.commitSha,checks:e.checks,accounts:this.state.accounts,onSubmit:t,onDismissed:t});case ai.CICheckRunRerun:return de.createElement(QO,{key:"rerun-check-runs",checkRuns:e.checkRuns,dispatcher:this.props.dispatcher,repository:e.repository,prRef:e.prRef,onDismissed:t});case ai.WarnForcePush:{const{askForConfirmationOnForcePush:n}=this.state;return de.createElement(RO,{key:"warn-force-push",dispatcher:this.props.dispatcher,operation:e.operation,askForConfirmationOnForcePush:n,onBegin:this.getWarnForcePushDialogOnBegin(e.onBegin,t),onDismissed:t})}case ai.DiscardChangesRetry:return de.createElement(JO,{key:"discard-changes-retry",dispatcher:this.props.dispatcher,retryAction:e.retryAction,onDismissed:t,onConfirmDiscardChangesChanged:this.onConfirmDiscardChangesPermanentlyChanged});default:return Ze(0,"Unknown popup type: "+e)}}getWarnForcePushDialogOnBegin(e,t){return()=>{e(),t()}}renderPopup(){const e=this.currentPopupContent();return de.createElement(Oe,null,e&&de.createElement(qe,{classNames:"modal",timeout:eP},e))}renderDragElement(){return de.createElement("div",{id:"dragElement"},this.renderCurrentDragElement())}renderCurrentDragElement(){const{currentDragElement:e,emoji:t}=this.state;if(null===e)return null;const{gitHubRepository:n,commit:r,selectedCommits:i}=e;switch(e.type){case _g.Commit:return de.createElement(uO,{gitHubRepository:n,commit:r,selectedCommits:i,emoji:t});default:return Ze(e.type,"Unknown drag element type: "+e)}}renderZoomInfo(){return de.createElement(fm,{windowZoomFactor:this.state.windowZoomFactor})}renderFullScreenInfo(){return de.createElement(gm,{windowState:this.state.windowState})}renderAppError(){return de.createElement(UR,{errors:this.state.errors,onClearError:this.clearError,onShowPopup:this.showPopup,onRetryAction:this.onRetryAction})}renderApp(){return de.createElement("div",{id:"desktop-app-contents",className:this.getDesktopAppContentsClassNames()},this.renderToolbar(),this.renderBanner(),this.renderRepository(),this.renderPopup(),this.renderAppError(),this.renderDragElement())}renderRepositoryToolbarButton(){const e=this.state.selectedState,t=e?e.repository:null;let n,r;if(t){const e=t instanceof vi?t.alias:null;n=ym(t),r=null!=e?e:t.name}else this.state.repositories.length>0?(n=Qf,r="Select a Repository"):(n=Qf,r="No Repositories");const i=this.state.currentFoldout&&this.state.currentFoldout.type===Ue.Repository,o=i?"open":"closed",s=t&&!i?t.path:void 0,a=Do(this.state.sidebarWidth),l={position:"absolute",marginLeft:0,width:a,minWidth:a,height:"100%",top:0};return de.createElement(pS,{icon:n,title:r,description:"",tooltip:s,foldoutStyle:l,onDropdownStateChanged:this.onRepositoryDropdownStateChanged,dropdownContentRenderer:this.renderRepositoryList,dropdownState:o})}renderPushPullToolbarButton(){const e=this.state.selectedState;if(!e||e.type!==He.Repository)return null;const t=e.state,n=t.revertProgress;if(n)return de.createElement(TS,{progress:n});let r=t.remote?t.remote.name:null;const i=t.pushPullFetchProgress,{conflictState:o}=t.changesState,s=null!==o&&"rebase"===o.kind,{aheadBehind:a,branchesState:l}=t,{pullWithRebase:c,tip:u}=l;u.kind===si.Valid&&null!==u.branch.upstreamRemoteName&&(r=u.branch.upstreamRemoteName);const h=To(l,a);return de.createElement(yS,{dispatcher:this.props.dispatcher,repository:e.repository,aheadBehind:t.aheadBehind,numTagsToPush:null!==t.tagsToPush?t.tagsToPush.length:0,remoteName:r,lastFetched:t.lastFetched,networkActionInProgress:t.isPushPullFetchInProgress,progress:i,tipState:u.kind,pullWithRebase:c,rebaseInProgress:s,isForcePush:h,shouldNudge:this.state.currentOnboardingTutorialStep===Ns.PushBranch})}renderBranchToolbarButton(){const e=this.state.selectedState;if(null==e||e.type!==He.Repository)return null;const t=this.state.currentFoldout,n=null!==t&&t.type===Ue.Branch,r=e.repository,{branchesState:i}=e.state;return de.createElement(DS,{dispatcher:this.props.dispatcher,isOpen:n,onDropDownStateChanged:this.onBranchDropdownStateChanged,repository:r,repositoryState:e.state,selectedTab:this.state.selectedBranchesTab,pullRequests:i.openPullRequests,currentPullRequest:i.currentPullRequest,isLoadingPullRequests:i.isLoadingPullRequests,shouldNudge:this.state.currentOnboardingTutorialStep===Ns.CreateBranch,showCIStatusPopover:this.state.showCIStatusPopover,emoji:this.state.emoji})}renderBanner(){if(this.inNoRepositoriesViewState())return null;let e=null;return null!==this.state.currentBanner?e=function(e,t,n){switch(e.type){case Ps.SuccessfulMerge:return de.createElement(QS,{ourBranch:e.ourBranch,theirBranch:e.theirBranch,onDismissed:n,key:"successful-merge"});case Ps.MergeConflictsFound:return de.createElement(ZS,{dispatcher:t,ourBranch:e.ourBranch,popup:e.popup,onDismissed:n,key:"merge-conflicts"});case Ps.SuccessfulRebase:return de.createElement(eE,{targetBranch:e.targetBranch,baseBranch:e.baseBranch,onDismissed:n,key:"successful-rebase"});case Ps.RebaseConflictsFound:return de.createElement(JS,{dispatcher:t,targetBranch:e.targetBranch,onOpenDialog:e.onOpenDialog,onDismissed:n,key:"merge-conflicts"});case Ps.BranchAlreadyUpToDate:return de.createElement(tE,{ourBranch:e.ourBranch,theirBranch:e.theirBranch,onDismissed:n,key:"branch-already-up-to-date"});case Ps.SuccessfulCherryPick:return de.createElement(nE,{key:"successful-cherry-pick",targetBranchName:e.targetBranchName,countCherryPicked:e.count,onDismissed:n,onUndo:e.onUndo});case Ps.CherryPickConflictsFound:return de.createElement(rE,{targetBranchName:e.targetBranchName,onOpenConflictsDialog:e.onOpenConflictsDialog,onDismissed:n,key:"cherry-pick-conflicts"});case Ps.CherryPickUndone:return de.createElement(iE,{key:"cherry-pick-undone",targetBranchName:e.targetBranchName,countCherryPicked:e.countCherryPicked,onDismissed:n});case Ps.OpenThankYouCard:return de.createElement(oE,{key:"open-thank-you-card",emoji:e.emoji,onDismissed:n,onOpenCard:e.onOpenCard,onThrowCardAway:e.onThrowCardAway});case Ps.SuccessfulSquash:return de.createElement(sE,{key:"successful-squash",count:e.count,onDismissed:n,onUndo:e.onUndo});case Ps.SquashUndone:{const t=1===e.commitsCount?"commit":"commits";return de.createElement(XS,{timeout:5e3,onDismissed:n},"Squash of ",e.commitsCount," ",t," undone.")}case Ps.SuccessfulReorder:{const t=1===e.count?"commit":"commits";return de.createElement(XS,{timeout:15e3,onDismissed:n,onUndo:e.onUndo},de.createElement("span",null,"Successfully reordered ",e.count," ",t,"."))}case Ps.ReorderUndone:{const t=1===e.commitsCount?"commit":"commits";return de.createElement(XS,{timeout:5e3,onDismissed:n},"Reorder of ",e.commitsCount," ",t," undone.")}case Ps.ConflictsFound:return de.createElement(aE,{operationDescription:e.operationDescription,onOpenConflictsDialog:e.onOpenConflictsDialog,onDismissed:n,key:"conflicts-found"});default:return Ze(0,"Unknown popup type: "+e)}}(this.state.currentBanner,this.props.dispatcher,this.onBannerDismissed):this.state.isUpdateAvailableBannerVisible&&(e=this.renderUpdateBanner()),de.createElement(Oe,null,e&&de.createElement(qe,{classNames:"banner",timeout:tP},e))}renderUpdateBanner(){return de.createElement(YS,{dispatcher:this.props.dispatcher,newRelease:Pt.state.newRelease,onDismissed:this.onUpdateAvailableDismissed,key:"update-available"})}renderToolbar(){if(this.inNoRepositoriesViewState())return null;const e=Do(this.state.sidebarWidth);return de.createElement(cS,{id:"desktop-app-toolbar"},de.createElement("div",{className:"sidebar-section",style:{width:e}},this.renderRepositoryToolbarButton()),this.renderBranchToolbarButton(),this.renderPushPullToolbarButton())}renderRepository(){const e=this.state;if(this.inNoRepositoriesViewState())return de.createElement(PA,{dotComAccount:this.getDotComAccount(),enterpriseAccount:this.getEnterpriseAccount(),onCreate:this.showCreateRepository,onClone:this.showCloneRepo,onAdd:this.showAddLocalRepo,onCreateTutorialRepository:this.showCreateTutorialRepositoryPopup,onResumeTutorialRepository:this.onResumeTutorialRepository,tutorialPaused:this.isTutorialPaused(),apiRepositories:e.apiRepositories,onRefreshRepositories:this.onRefreshRepositories});const t=e.selectedState;if(!t)return de.createElement(rP,null);if(t.type===He.Repository){const n=e.selectedExternalEditor?e.selectedExternalEditor:void 0;return de.createElement(tS,{ref:this.repositoryViewRef,key:t.repository.hash,repository:t.repository,state:t.state,dispatcher:this.props.dispatcher,emoji:e.emoji,sidebarWidth:e.sidebarWidth,commitSummaryWidth:e.commitSummaryWidth,stashedFilesWidth:e.stashedFilesWidth,issuesStore:this.props.issuesStore,gitHubUserStore:this.props.gitHubUserStore,onViewCommitOnGitHub:this.onViewCommitOnGitHub,imageDiffType:e.imageDiffType,hideWhitespaceInChangesDiff:e.hideWhitespaceInChangesDiff,hideWhitespaceInHistoryDiff:e.hideWhitespaceInHistoryDiff,showSideBySideDiff:e.showSideBySideDiff,focusCommitMessage:e.focusCommitMessage,askForConfirmationOnDiscardChanges:e.askForConfirmationOnDiscardChanges,accounts:e.accounts,externalEditorLabel:n,resolvedExternalEditor:e.resolvedExternalEditor,onOpenInExternalEditor:this.openFileInExternalEditor,appMenu:e.appMenuState[0],currentTutorialStep:e.currentOnboardingTutorialStep,onExitTutorial:this.onExitTutorial,isShowingModal:this.isShowingModal,isShowingFoldout:null!==this.state.currentFoldout,aheadBehindStore:this.props.aheadBehindStore,commitSpellcheckEnabled:this.state.commitSpellcheckEnabled,onCherryPick:this.startCherryPickWithoutBranch,dragAndDropIntroTypesShown:this.state.dragAndDropIntroTypesShown})}return t.type===He.CloningRepository?de.createElement(lS,{repository:t.repository,progress:t.progress}):t.type===He.MissingRepository?de.createElement(qR,{repository:t.repository,dispatcher:this.props.dispatcher}):Ze(0,"Unknown state: "+t)}renderWelcomeFlow(){return de.createElement(VS,{dispatcher:this.props.dispatcher,optOut:this.state.optOutOfUsageTracking,accounts:this.state.accounts,signInState:this.state.signInState})}render(){if(this.loading)return null;const e=this.state.appIsFocused?"focused":"blurred",t=this.state.showWelcomeFlow?Dr.Light:this.state.currentTheme;return de.createElement("div",{id:"desktop-app-chrome",className:e},de.createElement(KA,{theme:t,customTheme:this.state.customTheme,useCustomTheme:this.state.selectedTheme===Dr.HighContrast}),this.renderTitlebar(),this.state.showWelcomeFlow?this.renderWelcomeFlow():this.renderApp(),this.renderZoomInfo(),this.renderFullScreenInfo())}inNoRepositoriesViewState(){return 0===this.state.repositories.length||this.isTutorialPaused()}isTutorialPaused(){return this.state.currentOnboardingTutorialStep===Ns.Paused}async checkIfThankYouIsInOrder(){const e=this.getDotComAccount();if(null===e)return;const{lastThankYou:t}=this.state,{login:n}=e;if(function(e,t,n){if(void 0===e)return!1;const{version:r,checkedUsers:i}=e;return i.includes(t)&&r===n}(t,n,"2.9.11"))return;const r=void 0!==t&&t.checkedUsers.includes(n),i=await mO(r,n);if(null===i)return void fO(this.props.dispatcher,t,n,"2.9.11");const o=r?"2.9.11":null,s={type:Ps.OpenThankYouCard,emoji:this.state.emoji,onOpenCard:()=>this.openThankYouCard(i,o),onThrowCardAway:()=>{fO(this.props.dispatcher,t,n,"2.9.11")}};this.props.dispatcher.setBanner(s)}}function rP(){return de.createElement("div",{className:"panel blankslate"},"No repository selected")}function iP(e){const{login:t,email:n,avatarURL:r,name:i}=e;return{login:t,email:n,avatarURL:r,name:i}}function oP(e){return Object.keys(localStorage).filter(e=>/^IssuesStore\/\d+\/lastFetch$/.test(e)).forEach(e=>localStorage.removeItem(e)),e.table("issues").clear()}function sP(e){const t=e.table("gitHubRepositories"),n=new Set;return t.toCollection().each(e=>{const r=`${e.ownerID}+${e.name}`;if(n.has(r)){const n=e.id;t.delete(n)}else n.add(r)})}async function aP(e){return e.table("gitHubRepositories").toCollection().filter(e=>void 0===e.parentID).modify({parentID:null}).then(e=>log.info("ensureNoUndefinedParentID: "+e))}const lP=new Set(["LOCAL_GIT_DIRECTORY"]);async function cP(){const e=function(){if(process.env.SHELL)return process.env.SHELL;return"/bin/bash"}(),t=new Promise(t=>{let n=null,r=null,i="",o=!1;const s=()=>{!o&&n&&(n.kill(),o=!0)};process.once("exit",s),setTimeout(()=>{s()},5e3),n=Xi.spawn(e,["-ilc","command env"],{detached:!0,stdio:["ignore","pipe",process.stderr]});const a=[];n.on("error",e=>{o=!0,r=e}),n.stdout&&n.stdout.on("data",e=>{a.push(e)}),n.on("close",(e,n)=>{o=!0,process.removeListener("exit",s),a.length&&(i=Buffer.concat(a).toString("utf8")),t({stdout:i,error:r})})}),{stdout:n,error:r}=await t;return r?null:n}function uP(e){for(const t in e)lP.has(t)||(process.env[t]=e[t])}const hP=new Set(["button","a","input","textarea","label"].map(e=>e.toUpperCase())),pP=new Set(["button","option","menuitem","tab","radio"]);function dP(e,t){if(t.has(e))return e;for(const n of t.keys())if(Nt(n,e))return n;return e}var fP=n(109),mP=n.n(fP),gP=n(65),yP=n.n(gP);function vP(e,t){const{endpoint:n,owner:r,name:i}=e;return function(e,t,n,r){return`${e}/repos/${t}/${n}/commits/${r}`}(n,r.login,i,t)}function bP(e){return Date.now()-e.fetchedAt.valueOf()>6e4}n(529);var wP=n(245),CP=n.n(wP);function SP(e,t,n){return`${e.path}:${t}:${n}`}function EP(e,t){return`${e}:${t}`}function kP(e){const[t,n]=e.p.split(".");return{userId:e.u,presenceKey:EP(e.u,t),connectionCount:Number(n),metadata:e.m||[]}}function xP(e){return e.startsWith("presence-")}class DP{constructor(){this.presenceItems=new Map}shouldUsePresenceItem(e){const t=this.presenceItems.get(e.presenceKey);return!t||t.connectionCount<=e.connectionCount}addPresenceItem(e){this.shouldUsePresenceItem(e)&&this.presenceItems.set(e.presenceKey,e)}removePresenceItem(e){this.shouldUsePresenceItem(e)&&this.presenceItems.delete(e.presenceKey)}replacePresenceItems(e){this.presenceItems.clear();for(const t of e)this.addPresenceItem(t)}getPresenceItems(){return Array.from(this.presenceItems.values())}}class _P{constructor(){this.presenceChannels=new Map}getPresenceChannel(e){const t=this.presenceChannels.get(e)||new DP;return this.presenceChannels.set(e,t),t}handleMessage(e,t){const n=this.getPresenceChannel(e);switch(t.e){case"pf":n.replacePresenceItems(t.d.map(kP));break;case"pa":n.addPresenceItem(kP(t.d));break;case"pr":n.removePresenceItem(kP(t.d))}return this.getChannelItems(e)}getChannelItems(e){return this.getPresenceChannel(e).getPresenceItems()}clearChannel(e){this.presenceChannels.delete(e)}}function TP(e){return Object.assign(Object.assign({},e),{isLocal:!0})}class RP{constructor(){this.subscriberMetadata=new Map}setMetadata(e,t){this.subscriberMetadata.set(e,t)}removeSubscribers(e){let t=!1;for(const n of e)t=this.subscriberMetadata.delete(n)||t;return t}getMetadata(e){if(!e){const e=[];let t;for(const n of this.subscriberMetadata.values())for(const r of n)if("_i"in r){const e=Boolean(r._i);t=void 0===t?e:e&&t}else e.push(r);return void 0!==t&&e.push({_i:t?1:0}),e}const t=[],{subscriber:n,markAllAsLocal:r}=e;for(const[e,i]of this.subscriberMetadata){const o=r||e===n?i.map(TP):i;t.push(...o)}return t}hasSubscribers(){return this.subscriberMetadata.size>0}}class AP{constructor(){this.metadataByChannel=new Map}setMetadata({subscriber:e,channelName:t,metadata:n}){let r=this.metadataByChannel.get(t);r||(r=new RP,this.metadataByChannel.set(t,r)),r.setMetadata(e,n)}removeSubscribers(e){const t=new Set;for(const[n,r]of this.metadataByChannel){r.removeSubscribers(e)&&t.add(n),r.hasSubscribers()||this.metadataByChannel.delete(n)}return t}getChannelMetadata(e,t){const n=this.metadataByChannel.get(e);return(null==n?void 0:n.getMetadata(t))||[]}}async function OP(e,t){let n;const r=new Promise((t,r)=>{n=self.setTimeout(()=>r(new Error("timeout")),e)});if(!t)return r;try{await Promise.race([r,IP(t)])}catch(e){throw self.clearTimeout(n),e}}async function PP(e,t){let n;const r=new Promise(t=>{n=self.setTimeout(t,e)});if(!t)return r;try{await Promise.race([r,IP(t)])}catch(e){throw self.clearTimeout(n),e}}function IP(e){return new Promise((t,n)=>{const r=new Error("aborted");r.name="AbortError",e.aborted?n(r):e.addEventListener("abort",()=>n(r))})}async function MP(e,t,n){const r=new WebSocket(e),i=function(e){return new Promise((t,n)=>{e.readyState===WebSocket.OPEN?t(e):(e.onerror=()=>{e.onerror=null,e.onopen=null,n(new Error("connect failed"))},e.onopen=()=>{e.onerror=null,e.onopen=null,t(e)})})}(r);try{return await Promise.race([i,OP(t,n)]),r}catch(e){throw async function(e){try{(await e).close()}catch(e){}}(i),e}}function FP(e,t){return async function(e,t,n=1/0,r){const i=r?IP(r):null;for(let s=0;s<t;s++)try{const t=i?Promise.race([e(),i]):e();return await t}catch(e){if("AbortError"===e.name)throw e;if(s===t-1)throw e;const i=1e3*Math.pow(2,s),a=(o=.1*i,Math.floor(Math.random()*Math.floor(o)));await PP(Math.min(n,i+a),r)}var o;throw new Error("retry failed")}(()=>MP(e,t.timeout,t.signal),t.attempts,t.maxDelay,t.signal)}class NP{constructor(e,t,n){this.socket=null,this.opening=null,this.url=e,this.delegate=t,this.policy=n}async open(){if(this.opening||this.socket)return;this.opening=new AbortController;const e=Object.assign(Object.assign({},this.policy),{signal:this.opening.signal});try{this.socket=await FP(this.url,e)}catch(e){return void this.delegate.socketDidFinish(this)}finally{this.opening=null}this.socket.onclose=e=>{this.socket=null,this.delegate.socketDidClose(this,e.code,e.reason);var t,n;(this.delegate.socketShouldRetry?!this.delegate.socketShouldRetry(this,e.code):BP(e.code))?this.delegate.socketDidFinish(this):setTimeout(()=>this.open(),(t=100,n=100+(this.delegate.reconnectWindow||50),Math.random()*(n-t)+t))},this.socket.onmessage=e=>{this.delegate.socketDidReceiveMessage(this,e.data)},this.delegate.socketDidOpen(this)}close(e,t){this.opening?(this.opening.abort(),this.opening=null):this.socket&&(this.socket.onclose=null,this.socket.close(e,t),this.socket=null,this.delegate.socketDidClose(this,e,t),this.delegate.socketDidFinish(this))}send(e){this.socket&&this.socket.send(e)}isOpen(){return!!this.socket}}function BP(e){return e===LP||e===HP}const LP=1008,HP=1011;class UP{constructor(e){if(this.map=new Map,e)for(const[t,n]of e)this.set(t,n)}get(e){const t=this.map.get(e);return t||new Set}set(e,t){let n=this.map.get(e);return n||(n=new Set,this.map.set(e,n)),n.add(t),this}has(e){return this.map.has(e)}delete(e,t){const n=this.map.get(e);if(!n)return!1;if(!t)return this.map.delete(e);const r=n.delete(t);return n.size||this.map.delete(e),r}drain(e){const t=[];for(const n of this.keys())this.delete(n,e)&&!this.has(n)&&t.push(n);return t}keys(){return this.map.keys()}values(){return this.map.values()}entries(){return this.map.entries()}[Symbol.iterator](){return this.entries()}clear(){this.map.clear()}get size(){return this.map.size}}class jP{constructor(){this.subscriptions=new UP,this.signatures=new Map}add(...e){const t=[];for(const{subscriber:n,topic:r}of e)this.subscriptions.has(r.name)||(t.push(r),this.signatures.set(r.name,r)),this.subscriptions.set(r.name,n);return t}delete(...e){const t=[];for(const{subscriber:n,topic:r}of e){this.subscriptions.delete(r.name,n)&&!this.subscriptions.has(r.name)&&(t.push(r),this.signatures.delete(r.name))}return t}drain(...e){const t=[];for(const n of e)for(const e of this.subscriptions.drain(n)){const n=this.signatures.get(e);this.signatures.delete(e),t.push(n)}return t}topics(){return this.signatures.values()}topic(e){return this.signatures.get(e)||null}subscribers(e){return this.subscriptions.get(e).values()}}function*WP(e,t){for(let n=0;n<e.length;n+=t)yield e.slice(n,n+t)}function zP(e){return new Promise((t,n)=>{const r=new Error("aborted");r.name="AbortError",e.aborted?n(r):e.addEventListener("abort",()=>n(r))})}async function GP(e,t){let n;const r=new Promise(t=>{n=self.setTimeout(t,e)});if(!t)return r;try{await Promise.race([r,zP(t)])}catch(e){throw self.clearTimeout(n),e}}var qP;!function(e){e.Deploy="Alive Redeploy",e.Reconnect="Alive Reconnect"}(qP||(qP={}));class VP{constructor(e,t,n,r){this.url=e,this.getUrl=t,this.inSharedWorker=n,this.notify=r,this.subscriptions=new jP,this.state="online",this.retrying=null,this.connectionCount=0,this.presence=new _P,this.presenceMetadata=new AP,this.intentionallyDisconnected=!1,this.lastCameOnline=0,this.userId=function(e){const t=e.match(/\/u\/(\d+)\/ws/);return t?+t[1]:0}(e),this.presenceId=`${Math.round(Math.random()*(Math.pow(2,31)-1))}_${Math.round(Date.now()/1e3)}`,this.presenceKey=EP(this.userId,this.presenceId),this.socket=this.connect()}subscribe(e){const t=this.subscriptions.add(...e);this.sendSubscribe(t);for(const t of e){const e=t.topic.name;xP(e)&&this.notifyCachedPresence(t.subscriber,e)}}unsubscribe(e){const t=this.subscriptions.delete(...e);this.sendUnsubscribe(t)}unsubscribeAll(...e){const t=this.subscriptions.drain(...e);this.sendUnsubscribe(t);const n=this.presenceMetadata.removeSubscribers(e);this.sendPresenceMetadataUpdate(n)}requestPresence(e,t){for(const n of t)this.notifyCachedPresence(e,n)}notifyCachedPresence(e,t){const n=this.presence.getChannelItems(t);0!==n.length&&this.notifyPresenceChannel(t,n)}updatePresenceMetadata(e){const t=new Set;for(const n of e)this.presenceMetadata.setMetadata(n),t.add(n.channelName);this.sendPresenceMetadataUpdate(t)}sendPresenceMetadataUpdate(e){if(!e.size)return;const t=[];for(const n of e){const e=this.subscriptions.topic(n);e&&t.push(e)}this.sendSubscribe(t)}online(){var e;this.lastCameOnline=Date.now(),this.state="online",null===(e=this.retrying)||void 0===e||e.abort(),this.socket.open()}offline(){var e;this.state="offline",null===(e=this.retrying)||void 0===e||e.abort(),this.socket.close()}shutdown(){this.inSharedWorker&&self.close()}get reconnectWindow(){const e=Date.now()-this.lastCameOnline<6e4;return 0===this.connectionCount||this.intentionallyDisconnected||e?0:1e4}socketDidOpen(){this.intentionallyDisconnected=!1,this.connectionCount++,this.socket.url=this.getUrlWithPresenceId(),this.sendSubscribe(this.subscriptions.topics())}socketDidClose(e,t,n){if(void 0!==this.redeployEarlyReconnectTimeout&&clearTimeout(this.redeployEarlyReconnectTimeout),"Alive Reconnect"===n)this.intentionallyDisconnected=!0;else if("Alive Redeploy"===n){this.intentionallyDisconnected=!0;const e=60*(3+22*Math.random())*1e3;this.redeployEarlyReconnectTimeout=setTimeout(()=>{this.intentionallyDisconnected=!0,this.socket.close(1e3,"Alive Redeploy Early Client Reconnect")},e)}}socketDidFinish(){"offline"!==this.state&&this.reconnect()}socketDidReceiveMessage(e,t){const n=JSON.parse(t);switch(n.e){case"ack":this.handleAck(n);break;case"msg":this.handleMessage(n)}}handleAck(e){for(const t of this.subscriptions.topics())t.offset=e.off}handleMessage(e){const t=e.ch,n=this.subscriptions.topic(t);if(n)if(n.offset=e.off,"e"in e.data){const n=this.presence.handleMessage(t,e.data);this.notifyPresenceChannel(t,n)}else e.data.wait||(e.data.wait=0),this.notify(this.subscriptions.subscribers(t),{channel:t,type:"message",data:e.data})}notifyPresenceChannel(e,t){var n,r;const i=new Map;for(const e of t){const{userId:t,metadata:n,presenceKey:r}=e,o=i.get(t)||{userId:t,isOwnUser:t===this.userId,metadata:[]};if(r!==this.presenceKey){for(const e of n)"_i"in e?!1!==o.isIdle&&(o.isIdle=Boolean(e._i)):o.metadata.push(e);i.set(t,o)}}for(const t of this.subscriptions.subscribers(e)){const o=this.userId,s=Array.from(i.values()).filter(e=>e.userId!==o),a=null!==(r=null===(n=i.get(this.userId))||void 0===n?void 0:n.metadata)&&void 0!==r?r:[],l=this.presenceMetadata.getChannelMetadata(e,{subscriber:t,markAllAsLocal:!this.inSharedWorker});this.notify([t],{channel:e,type:"presence",data:[{userId:o,isOwnUser:!0,metadata:[...a,...l]},...s]})}}async reconnect(){if(!this.retrying)try{this.retrying=new AbortController;const e=await async function(e,t,n=1/0,r){const i=r?zP(r):null;for(let s=0;s<t;s++)try{const t=i?Promise.race([e(),i]):e();return await t}catch(e){if("AbortError"===e.name)throw e;if(s===t-1)throw e;const i=1e3*Math.pow(2,s),a=(o=.1*i,Math.floor(Math.random()*Math.floor(o)));await GP(Math.min(n,i+a),r)}var o;throw new Error("retry failed")}(this.getUrl,1/0,6e4,this.retrying.signal);e?(this.url=e,this.socket=this.connect()):this.shutdown()}catch(e){if("AbortError"!==e.name)throw e}finally{this.retrying=null}}getUrlWithPresenceId(){const e=new URL(this.url,self.location.origin);return e.searchParams.set("shared",this.inSharedWorker.toString()),e.searchParams.set("p",`${this.presenceId}.${this.connectionCount}`),e.toString()}connect(){const e=new NP(this.getUrlWithPresenceId(),this,{timeout:4e3,attempts:7});return e.open(),e}sendSubscribe(e){const t=Array.from(e);for(const e of WP(t,25)){const t={};for(const n of e)xP(n.name)?t[n.signed]=JSON.stringify(this.presenceMetadata.getChannelMetadata(n.name)):t[n.signed]=n.offset;this.socket.send(JSON.stringify({subscribe:t}))}}sendUnsubscribe(e){const t=Array.from(e,e=>e.signed);for(const e of WP(t,25))this.socket.send(JSON.stringify({unsubscribe:e}));for(const t of e)xP(t.name)&&this.presence.clearChannel(t.name)}}function $P(e,t){return t.find(t=>Nt(t,e))}(function(e){return("browser"!==e.type||!rr())&&!e.env.PWD})(process)&&async function(e){const t=await cP();if(!t)return;const n={};for(const e of t.split(Ft.EOL))if(e.includes("=")){const t=e.split("=");if(2===t.length)n[t[0]]=t[1];else{const e=t.shift(),r=t.join("=");e&&(n[e]=r)}}e(n)}(uP),function(){l.a.install({environment:"node",handleUncaughtExceptions:!1,retrieveSourceMap:u});const e=Error;p=e.prepareStackTrace,e.prepareStackTrace=d}(),process.env.LOCAL_GIT_DIRECTORY=r.resolve(__dirname,"git"),delete process.env.GIT_EXEC_PATH,CP()(ye);const KP=performance.now();n(530),n(537);let YP=null;const ZP=(e,t={},n)=>{var r;e=f(e),console.error("Uncaught exception",e);{const i=Object.assign({osVersion:nr(),guid:xr()},t);try{YP&&(null!==YP.currentBanner&&(i.currentBanner=YP.currentBanner.type),null!==YP.currentPopup&&(i.currentPopup=""+YP.currentPopup.type),null!==YP.selectedState&&(i.selectedState=""+YP.selectedState.type,YP.selectedState.type===He.Repository&&(i.selectedRepositorySection=""+YP.selectedState.state.selectedSection)),null!==YP.currentFoldout&&(i.currentFoldout=""+YP.currentFoldout.type),YP.showWelcomeFlow&&(i.inWelcomeFlow="true"),1!==YP.windowZoomFactor&&(i.windowZoomFactor=""+YP.windowZoomFactor),YP.errors.length>0&&(i.activeAppErrors=""+YP.errors.length),i.repositoryCount=""+YP.repositories.length,i.windowState=null!==(r=YP.windowState)&&void 0!==r?r:"Unknown",i.accounts=""+YP.accounts.length,i.automaticallySwitchTheme=""+(YP.selectedTheme===Dr.System&&Or()))}catch(e){}!function(e,t,n){ie(ne(e),t,n)}(e,i,null!=n&&n)}};process.once("uncaughtException",e=>{ZP(e),function(e){re(ne(e))}(e)}),process.on("send-non-fatal-exception",(e,t)=>{ZP(e,t,!0)}),window.addEventListener("unhandledrejection",e=>{Tt()&&e.reason instanceof Error&&Yp("unhandledRejection",e.reason)});const XP=new class extends Mr{constructor(e){super(),this.database=e,this.queryCache=null,this.pruneQueryCacheTimeoutId=null}async getByLogin(e,t){const n=Pn.fromAccount(e),r=await n.fetchUser(t).catch(e=>null);if(!r||"User"!==r.type)return null;const i=null!==r.email&&r.email.length>0?r.email:Ia(r.id,t,e.endpoint);return{avatarURL:r.avatar_url,email:i,name:r.name||r.login,login:r.login}}async updateMentionables(e,t){var n;const r=Pn.fromAccount(t),i=await this.database.getMentionableCacheEntry(e.dbID);if(void 0!==i&&Date.now()-i.lastUpdated<6e5)return;const o=await r.fetchMentionables(e.owner.login,e.name,null==i?void 0:i.eTag);if(null===o)return void await this.database.touchMentionableCacheEntry(e.dbID,null==i?void 0:i.eTag);const{endpoint:s}=t,a=o.users.map(e=>{const{name:t,login:n,avatar_url:r}=e;return{name:t,login:n,email:e.email||Pa(n,s),avatarURL:r}});await this.database.updateMentionablesForRepository(e.dbID,a,o.etag),(null===(n=this.queryCache)||void 0===n?void 0:n.repository.dbID)===e.dbID&&(this.queryCache=null,this.clearCachePruneTimeout())}async getMentionableUsers(e){return this.database.getAllMentionablesForRepository(e.dbID)}async getMentionableUsersMatching(e,t,n=25){var r;const i=(null===(r=this.queryCache)||void 0===r?void 0:r.repository.dbID)===e.dbID?this.queryCache.users:await this.getMentionableUsers(e);this.setQueryCache(e,i);const o=[],s=t.toLowerCase();for(const e of i){const t=`${e.login} ${e.name}`.trim().toLowerCase().indexOf(s);t>=0&&o.push({user:e,ix:t})}return o.sort((e,t)=>Wn(e.ix,t.ix)||Wn(e.user.login,t.user.login)).slice(0,n).map(e=>e.user)}setQueryCache(e,t){this.clearCachePruneTimeout(),this.queryCache={repository:e,users:t},this.pruneQueryCacheTimeoutId=window.setTimeout(()=>{this.pruneQueryCacheTimeoutId=null,this.queryCache=null},6e4)}clearCachePruneTimeout(){null!==this.pruneQueryCacheTimeoutId&&(clearTimeout(this.pruneQueryCacheTimeoutId),this.pruneQueryCacheTimeoutId=null)}}(new class extends Mp{constructor(e,t){super(e,t),this.conditionalVersion(1,{users:"++id, &[endpoint+email]"}),this.conditionalVersion(2,{users:"++id, [endpoint+email], [endpoint+login]",mentionables:"++id, repositoryID, &[userID+repositoryID]"}),this.conditionalVersion(3,{mentionables:null,users:null}),this.conditionalVersion(4,{mentionables:"&[gitHubRepositoryID+login], gitHubRepositoryID"}),this.conditionalVersion(5,{mentionableCache:"gitHubRepositoryID"})}updateMentionablesForRepository(e,t,n){return this.transaction("rw",this.mentionables,this.mentionableCache,async()=>{await this.mentionables.where("gitHubRepositoryID").equals(e).delete(),await this.touchMentionableCacheEntry(e,n),await this.mentionables.bulkAdd(t.map(t=>Object.assign(Object.assign({},t),{gitHubRepositoryID:e})))})}async getAllMentionablesForRepository(e){return(await this.mentionables.where("gitHubRepositoryID").equals(e).toArray()).map(iP)}getMentionableCacheEntry(e){return this.mentionableCache.get(e)}touchMentionableCacheEntry(e,t){const n={gitHubRepositoryID:e,lastUpdated:Date.now(),eTag:t};return this.mentionableCache.put(n)}}("GitHubUserDatabase")),QP=new class extends Mr{constructor(){super(...arguments),this._repositories=new Array,this.stateByID=new Map}async clone(e,t,n){const r=new Yr(t,e);this._repositories.push(r);const i="Cloning into "+t;this.stateByID.set(r.id,{kind:"clone",title:i,value:0}),this.emitUpdate();let o=!0;try{await async function(e,t,n,r){var i;const o=await yd(null,n.account),s=await ka(n.account,e),a=null!==(i=n.defaultBranch)&&void 0!==i?i:await xs(),l=[...o,"-c","init.defaultBranch="+a,"clone","--recursive"];let c={env:s};if(r){l.push("--progress");const e="Cloning into "+t,n="clone";c=await ya(Object.assign(Object.assign({},c),{trackLFSProgress:!0}),new ta,t=>{const i="progress"===t.kind?t.details.text:t.text,o=t.percent;r({kind:n,title:e,description:i,value:o})}),r({kind:n,title:e,value:0})}n.branch&&l.push("-b",n.branch);l.push("--",e,t),await pd(l,__dirname,"clone",c)}(e,t,n,e=>{this.stateByID.set(r.id,e),this.emitUpdate()})}catch(i){o=!1;const s={type:tt.Clone,name:r.name,url:e,path:t,options:n};i=new rt(i,{retryAction:s,repository:r}),this.emitError(i)}return this.remove(r),o}get repositories(){return Array.from(this._repositories)}getRepositoryState(e){return this.stateByID.get(e.id)||null}remove(e){this.stateByID.delete(e.id);const t=this._repositories.findIndex(t=>t.id===e.id);t>-1&&this._repositories.splice(t,1),this.emitUpdate()}},JP=new class{constructor(e){this.queryCache=null,this.pruneQueryCacheTimeoutId=null,this.db=e}async getLatestUpdatedAt(e){const t=this.db,n=await t.issues.where("[gitHubRepositoryID+updated_at]").between([e.dbID],[e.dbID+1],!0,!1).last();if(!n||!n.updated_at)return null;const r=new Date(n.updated_at);return isNaN(r.getTime())?null:r}async refreshIssues(e,t){const n=Pn.fromAccount(t),r=await this.getLatestUpdatedAt(e),i=r?"all":"open",o=await n.fetchIssues(e.owner.login,e.name,i,r);this.storeIssues(o,e)}async storeIssues(e,t){var n;const r=e.filter(e=>"closed"===e.state),i=e.filter(e=>"open"===e.state).map(e=>({gitHubRepositoryID:t.dbID,number:e.number,title:e.title,updated_at:e.updated_at})),o=this.db;function s(e,t){return o.issues.where("[gitHubRepositoryID+number]").equals([e,t]).limit(1).first()}await this.db.transaction("rw",this.db.issues,async()=>{for(const e of r){const n=await s(t.dbID,e.number);n&&await this.db.issues.delete(n.id)}for(const e of i){const n=await s(t.dbID,e.number);n?await o.issues.update(n.id,e):await o.issues.add(e)}}),(null===(n=this.queryCache)||void 0===n?void 0:n.repository.dbID)===t.dbID&&(this.queryCache=null,this.clearCachePruneTimeout())}async getAllIssueHitsFor(e){return(await this.db.getIssuesForRepository(e.dbID)).map(e=>({number:e.number,title:e.title}))}async getIssuesMatching(e,t,n=25){var r,i;const o=(null===(r=this.queryCache)||void 0===r?void 0:r.repository.dbID)===e.dbID?await Promise.resolve(null===(i=this.queryCache)||void 0===i?void 0:i.issues):await this.getAllIssueHitsFor(e);if(this.setQueryCache(e,o),!t.length)return o.slice().sort((e,t)=>zn(e.number,t.number)).slice(0,n);const s=[],a=t.toLowerCase();for(const e of o){const t=`${e.number} ${e.title}`.trim().toLowerCase().indexOf(a);t>=0&&s.push({hit:{number:e.number,title:e.title},ix:t})}return s.sort((e,t)=>Wn(e.ix,t.ix)||Wn(e.hit.title,t.hit.title)).slice(0,n).map(e=>e.hit)}setQueryCache(e,t){this.clearCachePruneTimeout(),this.queryCache={repository:e,issues:t},this.pruneQueryCacheTimeoutId=window.setTimeout(()=>{this.pruneQueryCacheTimeoutId=null,this.queryCache=null},6e4)}clearCachePruneTimeout(){null!==this.pruneQueryCacheTimeoutId&&(clearTimeout(this.pruneQueryCacheTimeoutId),this.pruneQueryCacheTimeoutId=null)}}(new class extends Mp{constructor(e,t){super(e,t),this.conditionalVersion(1,{issues:"++id, &[gitHubRepositoryID+number], gitHubRepositoryID, number"}),this.conditionalVersion(2,{issues:"++id, &[gitHubRepositoryID+number], gitHubRepositoryID, number, [gitHubRepositoryID+updated_at]"},oP)}getIssuesForRepository(e){return this.issues.where("gitHubRepositoryID").equals(e).toArray()}}("IssuesDatabase")),eI=new class{constructor(e,t){this.uiActivityMonitorSubscription=null,this.onUiActivity=async()=>(this.disableUiActivityMonitoring(),this.updateDailyMeasures(e=>({active:!0}))),this.db=e,this.uiActivityMonitor=t;const n=$p();this.optOut=n||!1,vt("has-sent-stats-opt-in-ping",!1)||this.sendOptInStatusPing(this.optOut,n),this.enableUiActivityMonitoring(),window.addEventListener("unhandledrejection",async()=>{try{this.recordUnhandledRejection()}catch(e){log.error("Failed recording unhandled rejection",e)}})}shouldReportDailyStats(){const e=wt("last-daily-stats-report",0);return Date.now()-e>864e5}async reportStats(e,t){if(this.optOut)return;if(!Er())return;if(!this.shouldReportDailyStats())return;const n=Date.now(),r=await this.getDailyStats(e,t);try{const e=await this.post(r);if(!e.ok)throw new Error(`Unexpected status: ${e.statusText} (${e.status})`);log.info("Stats reported."),await this.clearDailyStats(),Ct("last-daily-stats-report",n)}catch(e){log.error("Error reporting stats:",e)}}async recordLaunchStats(e){await this.db.launches.add(e)}async clearDailyStats(){await this.db.launches.clear(),await this.db.dailyMeasures.clear(),localStorage.removeItem("repositories-committed-in-without-write-access"),this.enableUiActivityMonitoring()}enableUiActivityMonitoring(){null===this.uiActivityMonitorSubscription&&(this.uiActivityMonitorSubscription=this.uiActivityMonitor.onActivity(this.onUiActivity))}disableUiActivityMonitoring(){null!==this.uiActivityMonitorSubscription&&(this.uiActivityMonitorSubscription.dispose(),this.uiActivityMonitorSubscription=null)}async getDailyStats(e,t){const n=await this.getAverageLaunchStats(),r=await this.getDailyMeasures(),i=this.determineUserType(e),o=this.categorizedRepositoryCounts(t),s=this.getOnboardingStats(),a=localStorage.getItem("shell")||"none",l=localStorage.getItem("externalEditor")||"none",c=St("repositories-committed-in-without-write-access").length,u=Fa()?"split":"unified",h=await ae();return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({eventType:"usage",version:"2.9.11",osVersion:nr(),platform:"darwin",architecture:await K(),theme:Rr(),selectedTerminalEmulator:a,selectedTextEditor:l,notificationsEnabled:jc()},n),r),i),s),{guid:xr()}),o),{repositoriesCommittedInWithoutWriteAccess:c,diffMode:u,launchedFromApplicationsFolder:h})}getOnboardingStats(){if(null===qp("welcome-wizard-initiated-at"))return{};return{timeToWelcomeWizardTerminated:Vp("welcome-wizard-terminated-at"),timeToFirstAddedRepository:Vp("first-repository-added-at"),timeToFirstClonedRepository:Vp("first-repository-cloned-at"),timeToFirstCreatedRepository:Vp("first-repository-created-at"),timeToFirstCommit:Vp("first-commit-created-at"),timeToFirstGitHubPush:Vp("first-push-to-github-at"),timeToFirstNonDefaultBranchCheckout:Vp("first-non-default-branch-checkout-at"),welcomeWizardSignInMethod:function(){const e=localStorage.getItem("welcome-wizard-sign-in-method");try{switch(e){case tu.Basic:case tu.Web:return e;case null:return;default:return Ze(0,"Unknown sign in method: "+e)}}catch(e){return void log.error("Could not parse welcome wizard sign in method",e)}}()}}categorizedRepositoryCounts(e){return{repositoryCount:e.length,gitHubRepositoryCount:e.filter(e=>e.gitHubRepository).length}}determineUserType(e){return{dotComAccount:!!e.find(e=>e.endpoint===Nn()),enterpriseAccount:!!e.find(e=>e.endpoint!==Nn())}}async getAverageLaunchStats(){const e=await this.db.launches.toArray();if(!e||!e.length)return{mainReadyTime:-1,loadTime:-1,rendererReadyTime:-1};const t=e.reduce((e,t)=>({mainReadyTime:e.mainReadyTime+t.mainReadyTime,loadTime:e.loadTime+t.loadTime,rendererReadyTime:e.rendererReadyTime+t.rendererReadyTime}),{mainReadyTime:0,loadTime:0,rendererReadyTime:0});return{mainReadyTime:t.mainReadyTime/e.length,loadTime:t.loadTime/e.length,rendererReadyTime:t.rendererReadyTime/e.length}}async getDailyMeasures(){const e=await this.db.dailyMeasures.limit(1).first();return Object.assign(Object.assign(Object.assign({},zp),e),{id:void 0})}async updateDailyMeasures(e){const t=zp;await this.db.transaction("rw",this.db.dailyMeasures,async()=>{const n=await this.db.dailyMeasures.limit(1).first(),r=Object.assign(Object.assign({},t),n),i=Cr(r,e(r));return this.db.dailyMeasures.put(i)})}async recordCommit(){await this.updateDailyMeasures(e=>({commits:e.commits+1})),Gp("first-commit-created-at")}recordPartialCommit(){return this.updateDailyMeasures(e=>({partialCommits:e.partialCommits+1}))}recordCoAuthoredCommit(){return this.updateDailyMeasures(e=>({coAuthoredCommits:e.coAuthoredCommits+1}))}recordCommitUndone(e){return e?this.updateDailyMeasures(e=>({commitsUndoneWithoutChanges:e.commitsUndoneWithoutChanges+1})):this.updateDailyMeasures(e=>({commitsUndoneWithChanges:e.commitsUndoneWithChanges+1}))}recordAmendCommitStarted(){return this.updateDailyMeasures(e=>({amendCommitStartedCount:e.amendCommitStartedCount+1}))}recordAmendCommitSuccessful(e){return e?this.updateDailyMeasures(e=>({amendCommitSuccessfulWithFileChangesCount:e.amendCommitSuccessfulWithFileChangesCount+1})):this.updateDailyMeasures(e=>({amendCommitSuccessfulWithoutFileChangesCount:e.amendCommitSuccessfulWithoutFileChangesCount+1}))}recordResetToCommitCount(){return this.updateDailyMeasures(e=>({resetToCommitCount:e.resetToCommitCount+1}))}recordOpenShell(){return this.updateDailyMeasures(e=>({openShellCount:e.openShellCount+1}))}recordBranchComparison(){return this.updateDailyMeasures(e=>({branchComparisons:e.branchComparisons+1}))}recordDefaultBranchComparison(){return this.updateDailyMeasures(e=>({defaultBranchComparisons:e.defaultBranchComparisons+1}))}recordCompareInitiatedMerge(){return this.updateDailyMeasures(e=>({mergesInitiatedFromComparison:e.mergesInitiatedFromComparison+1}))}recordMenuInitiatedUpdate(){return this.updateDailyMeasures(e=>({updateFromDefaultBranchMenuCount:e.updateFromDefaultBranchMenuCount+1}))}recordMergeConflictFromPull(){return this.updateDailyMeasures(e=>({mergeConflictFromPullCount:e.mergeConflictFromPullCount+1}))}recordMergeConflictFromExplicitMerge(){return this.updateDailyMeasures(e=>({mergeConflictFromExplicitMergeCount:e.mergeConflictFromExplicitMergeCount+1}))}recordMenuInitiatedMerge(e=!1){return e?this.updateDailyMeasures(e=>({squashMergeIntoCurrentBranchMenuCount:e.squashMergeIntoCurrentBranchMenuCount+1})):this.updateDailyMeasures(e=>({mergeIntoCurrentBranchMenuCount:e.mergeIntoCurrentBranchMenuCount+1}))}recordMenuInitiatedRebase(){return this.updateDailyMeasures(e=>({rebaseCurrentBranchMenuCount:e.rebaseCurrentBranchMenuCount+1}))}recordPRBranchCheckout(){return this.updateDailyMeasures(e=>({prBranchCheckouts:e.prBranchCheckouts+1}))}recordRepoClicked(e){return e?this.updateDailyMeasures(e=>({repoWithIndicatorClicked:e.repoWithIndicatorClicked+1})):this.updateDailyMeasures(e=>({repoWithoutIndicatorClicked:e.repoWithoutIndicatorClicked+1}))}recordUnattributedCommit(){return this.updateDailyMeasures(e=>({unattributedCommits:e.unattributedCommits+1}))}recordCommitToEnterprise(){return this.updateDailyMeasures(e=>({enterpriseCommits:e.enterpriseCommits+1}))}recordCommitToDotcom(){return this.updateDailyMeasures(e=>({dotcomCommits:e.dotcomCommits+1}))}recordCommitToProtectedBranch(){return this.updateDailyMeasures(e=>({commitsToProtectedBranch:e.commitsToProtectedBranch+1}))}recordCommitToRepositoryWithBranchProtections(){return this.updateDailyMeasures(e=>({commitsToRepositoryWithBranchProtections:e.commitsToRepositoryWithBranchProtections+1}))}async setOptOut(e,t){const n=this.optOut!==e;this.optOut=e;const r=vt("stats-opt-out");bt("stats-opt-out",e),(n||t)&&await this.sendOptInStatusPing(e,r)}getOptOut(){return this.optOut}async recordPush(e,t){null===e?await this.recordPushToGenericRemote(t):e.endpoint===Nn()?await this.recordPushToGitHub(t):await this.recordPushToGitHubEnterprise(t)}async recordPushToGitHub(e){e&&e.forceWithLease&&await this.updateDailyMeasures(e=>({dotcomForcePushCount:e.dotcomForcePushCount+1})),await this.updateDailyMeasures(e=>({dotcomPushCount:e.dotcomPushCount+1})),Gp("first-push-to-github-at")}async recordPushToGitHubEnterprise(e){e&&e.forceWithLease&&await this.updateDailyMeasures(e=>({enterpriseForcePushCount:e.enterpriseForcePushCount+1})),await this.updateDailyMeasures(e=>({enterprisePushCount:e.enterprisePushCount+1})),Gp("first-push-to-github-at")}async recordPushToGenericRemote(e){e&&e.forceWithLease&&await this.updateDailyMeasures(e=>({externalForcePushCount:e.externalForcePushCount+1})),await this.updateDailyMeasures(e=>({externalPushCount:e.externalPushCount+1}))}recordUserProceededWhileLoading(){return this.updateDailyMeasures(e=>({mergedWithLoadingHintCount:e.mergedWithLoadingHintCount+1}))}recordMergeHintSuccessAndUserProceeded(){return this.updateDailyMeasures(e=>({mergedWithCleanMergeHintCount:e.mergedWithCleanMergeHintCount+1}))}recordUserProceededAfterConflictWarning(){return this.updateDailyMeasures(e=>({mergedWithConflictWarningHintCount:e.mergedWithConflictWarningHintCount+1}))}recordMergeConflictsDialogDismissal(){return this.updateDailyMeasures(e=>({mergeConflictsDialogDismissalCount:e.mergeConflictsDialogDismissalCount+1}))}recordAnyConflictsLeftOnMergeConflictsDialogDismissal(){return this.updateDailyMeasures(e=>({anyConflictsLeftOnMergeConflictsDialogDismissalCount:e.anyConflictsLeftOnMergeConflictsDialogDismissalCount+1}))}recordMergeConflictsDialogReopened(){return this.updateDailyMeasures(e=>({mergeConflictsDialogReopenedCount:e.mergeConflictsDialogReopenedCount+1}))}recordGuidedConflictedMergeCompletion(){return this.updateDailyMeasures(e=>({guidedConflictedMergeCompletionCount:e.guidedConflictedMergeCompletionCount+1}))}recordUnguidedConflictedMergeCompletion(){return this.updateDailyMeasures(e=>({unguidedConflictedMergeCompletionCount:e.unguidedConflictedMergeCompletionCount+1}))}recordCreatePullRequest(){return this.updateDailyMeasures(e=>({createPullRequestCount:e.createPullRequestCount+1}))}recordRebaseConflictsDialogDismissal(){return this.updateDailyMeasures(e=>({rebaseConflictsDialogDismissalCount:e.rebaseConflictsDialogDismissalCount+1}))}recordRebaseConflictsDialogReopened(){return this.updateDailyMeasures(e=>({rebaseConflictsDialogReopenedCount:e.rebaseConflictsDialogReopenedCount+1}))}recordRebaseAbortedAfterConflicts(){return this.updateDailyMeasures(e=>({rebaseAbortedAfterConflictsCount:e.rebaseAbortedAfterConflictsCount+1}))}recordPullWithRebaseEnabled(){return this.updateDailyMeasures(e=>({pullWithRebaseCount:e.pullWithRebaseCount+1}))}recordRebaseSuccessWithoutConflicts(){return this.updateDailyMeasures(e=>({rebaseSuccessWithoutConflictsCount:e.rebaseSuccessWithoutConflictsCount+1}))}recordRebaseSuccessAfterConflicts(){return this.updateDailyMeasures(e=>({rebaseSuccessAfterConflictsCount:e.rebaseSuccessAfterConflictsCount+1}))}recordPullWithDefaultSetting(){return this.updateDailyMeasures(e=>({pullWithDefaultSettingCount:e.pullWithDefaultSettingCount+1}))}recordWelcomeWizardInitiated(){Ct("welcome-wizard-initiated-at",Date.now()),localStorage.removeItem("welcome-wizard-terminated-at")}recordWelcomeWizardTerminated(){Ct("welcome-wizard-terminated-at",Date.now())}recordAddExistingRepository(){Gp("first-repository-added-at")}recordCloneRepository(){Gp("first-repository-cloned-at")}recordCreateRepository(){Gp("first-repository-created-at")}recordNonDefaultBranchCheckout(){Gp("first-non-default-branch-checkout-at")}recordWelcomeWizardSignInMethod(e){localStorage.setItem("welcome-wizard-sign-in-method",e)}recordMergeSuccessAfterConflicts(){return this.updateDailyMeasures(e=>({mergeSuccessAfterConflictsCount:e.mergeSuccessAfterConflictsCount+1}))}recordMergeAbortedAfterConflicts(){return this.updateDailyMeasures(e=>({mergeAbortedAfterConflictsCount:e.mergeAbortedAfterConflictsCount+1}))}recordStashViewedAfterCheckout(){return this.updateDailyMeasures(e=>({stashViewedAfterCheckoutCount:e.stashViewedAfterCheckoutCount+1}))}recordStashNotViewedAfterCheckout(){return this.updateDailyMeasures(e=>({stashNotViewedAfterCheckoutCount:e.stashNotViewedAfterCheckoutCount+1}))}recordChangesTakenToNewBranch(){return this.updateDailyMeasures(e=>({changesTakenToNewBranchCount:e.changesTakenToNewBranchCount+1}))}recordStashCreatedOnCurrentBranch(){return this.updateDailyMeasures(e=>({stashCreatedOnCurrentBranchCount:e.stashCreatedOnCurrentBranchCount+1}))}recordStashDiscard(){return this.updateDailyMeasures(e=>({stashDiscardCount:e.stashDiscardCount+1}))}recordStashView(){return this.updateDailyMeasures(e=>({stashViewCount:e.stashViewCount+1}))}recordStashRestore(){return this.updateDailyMeasures(e=>({stashRestoreCount:e.stashRestoreCount+1}))}recordNoActionTakenOnStash(){return this.updateDailyMeasures(e=>({noActionTakenOnStashCount:e.noActionTakenOnStashCount+1}))}addStashEntriesCreatedOutsideDesktop(e){return this.updateDailyMeasures(t=>({stashEntriesCreatedOutsideDesktop:t.stashEntriesCreatedOutsideDesktop+e}))}recordErrorWhenSwitchingBranchesWithUncommmittedChanges(){return this.updateDailyMeasures(e=>({errorWhenSwitchingBranchesWithUncommmittedChanges:e.errorWhenSwitchingBranchesWithUncommmittedChanges+1}))}recordSuggestedStepOpenInExternalEditor(){return this.updateDailyMeasures(e=>({suggestedStepOpenInExternalEditor:e.suggestedStepOpenInExternalEditor+1}))}recordSuggestedStepOpenWorkingDirectory(){return this.updateDailyMeasures(e=>({suggestedStepOpenWorkingDirectory:e.suggestedStepOpenWorkingDirectory+1}))}recordSuggestedStepViewOnGitHub(){return this.updateDailyMeasures(e=>({suggestedStepViewOnGitHub:e.suggestedStepViewOnGitHub+1}))}recordSuggestedStepPublishRepository(){return this.updateDailyMeasures(e=>({suggestedStepPublishRepository:e.suggestedStepPublishRepository+1}))}recordSuggestedStepPublishBranch(){return this.updateDailyMeasures(e=>({suggestedStepPublishBranch:e.suggestedStepPublishBranch+1}))}recordSuggestedStepCreatePullRequest(){return this.updateDailyMeasures(e=>({suggestedStepCreatePullRequest:e.suggestedStepCreatePullRequest+1}))}recordSuggestedStepViewStash(){return this.updateDailyMeasures(e=>({suggestedStepViewStash:e.suggestedStepViewStash+1}))}recordTutorialStarted(){return this.updateDailyMeasures(()=>({tutorialStarted:!0}))}recordTutorialRepoCreated(){return this.updateDailyMeasures(()=>({tutorialRepoCreated:!0}))}recordTutorialEditorInstalled(){return this.updateDailyMeasures(()=>({tutorialEditorInstalled:!0}))}recordTutorialBranchCreated(){return this.updateDailyMeasures(()=>({tutorialEditorInstalled:!0,tutorialBranchCreated:!0}))}recordTutorialFileEdited(){return this.updateDailyMeasures(()=>({tutorialEditorInstalled:!0,tutorialBranchCreated:!0,tutorialFileEdited:!0}))}recordTutorialCommitCreated(){return this.updateDailyMeasures(()=>({tutorialEditorInstalled:!0,tutorialBranchCreated:!0,tutorialFileEdited:!0,tutorialCommitCreated:!0}))}recordTutorialBranchPushed(){return this.updateDailyMeasures(()=>({tutorialEditorInstalled:!0,tutorialBranchCreated:!0,tutorialFileEdited:!0,tutorialCommitCreated:!0,tutorialBranchPushed:!0}))}recordTutorialPrCreated(){return this.updateDailyMeasures(()=>({tutorialEditorInstalled:!0,tutorialBranchCreated:!0,tutorialFileEdited:!0,tutorialCommitCreated:!0,tutorialBranchPushed:!0,tutorialPrCreated:!0}))}recordTutorialCompleted(){return this.updateDailyMeasures(()=>({tutorialCompleted:!0}))}recordHighestTutorialStepCompleted(e){return this.updateDailyMeasures(t=>({highestTutorialStepCompleted:Math.max(e,t.highestTutorialStepCompleted)}))}recordCommitToRepositoryWithoutWriteAccess(){return this.updateDailyMeasures(e=>({commitsToRepositoryWithoutWriteAccess:e.commitsToRepositoryWithoutWriteAccess+1}))}recordRepositoryCommitedInWithoutWriteAccess(e){const t=St("repositories-committed-in-without-write-access");t.includes(e)||Et("repositories-committed-in-without-write-access",[...t,e])}recordForkCreated(){return this.updateDailyMeasures(e=>({forksCreated:e.forksCreated+1}))}recordIssueCreationWebpageOpened(){return this.updateDailyMeasures(e=>({issueCreationWebpageOpenedCount:e.issueCreationWebpageOpenedCount+1}))}recordTagCreatedInDesktop(){return this.updateDailyMeasures(e=>({tagsCreatedInDesktop:e.tagsCreatedInDesktop+1}))}recordTagCreated(e){return this.updateDailyMeasures(t=>({tagsCreated:t.tagsCreated+e}))}recordTagDeleted(){return this.updateDailyMeasures(e=>({tagsDeleted:e.tagsDeleted+1}))}recordDiffOptionsViewed(){return this.updateDailyMeasures(e=>({diffOptionsViewedCount:e.diffOptionsViewedCount+1}))}recordRepositoryViewChanged(){return this.updateDailyMeasures(e=>({repositoryViewChangeCount:e.repositoryViewChangeCount+1}))}recordDiffModeChanged(){return this.updateDailyMeasures(e=>({diffModeChangeCount:e.diffModeChangeCount+1}))}recordUnhandledRejection(){return this.updateDailyMeasures(e=>({unhandledRejectionCount:e.unhandledRejectionCount+1}))}recordCherryPickSuccessful(){return this.updateDailyMeasures(e=>({cherryPickSuccessfulCount:e.cherryPickSuccessfulCount+1}))}recordCherryPickViaDragAndDrop(){return this.updateDailyMeasures(e=>({cherryPickViaDragAndDropCount:e.cherryPickViaDragAndDropCount+1}))}recordCherryPickViaContextMenu(){return this.updateDailyMeasures(e=>({cherryPickViaContextMenuCount:e.cherryPickViaContextMenuCount+1}))}recordDragStartedAndCanceled(){return this.updateDailyMeasures(e=>({dragStartedAndCanceledCount:e.dragStartedAndCanceledCount+1}))}recordCherryPickConflictsEncountered(){return this.updateDailyMeasures(e=>({cherryPickConflictsEncounteredCount:e.cherryPickConflictsEncounteredCount+1}))}recordCherryPickSuccessfulWithConflicts(){return this.updateDailyMeasures(e=>({cherryPickSuccessfulWithConflictsCount:e.cherryPickSuccessfulWithConflictsCount+1}))}recordCherryPickMultipleCommits(){return this.updateDailyMeasures(e=>({cherryPickMultipleCommitsCount:e.cherryPickMultipleCommitsCount+1}))}recordCherryPickUndone(){return this.updateDailyMeasures(e=>({cherryPickUndoneCount:e.cherryPickUndoneCount+1}))}recordCherryPickBranchCreatedCount(){return this.updateDailyMeasures(e=>({cherryPickBranchCreatedCount:e.cherryPickBranchCreatedCount+1}))}recordReorderSuccessful(){return this.updateDailyMeasures(e=>({reorderSuccessfulCount:e.reorderSuccessfulCount+1}))}recordReorderStarted(){return this.updateDailyMeasures(e=>({reorderStartedCount:e.reorderStartedCount+1}))}recordReorderConflictsEncountered(){return this.updateDailyMeasures(e=>({reorderConflictsEncounteredCount:e.reorderConflictsEncounteredCount+1}))}recordReorderSuccessfulWithConflicts(){return this.updateDailyMeasures(e=>({reorderSuccessfulWithConflictsCount:e.reorderSuccessfulWithConflictsCount+1}))}recordReorderMultipleCommits(){return this.updateDailyMeasures(e=>({reorderMultipleCommitsCount:e.reorderMultipleCommitsCount+1}))}recordReorderUndone(){return this.updateDailyMeasures(e=>({reorderUndoneCount:e.reorderUndoneCount+1}))}recordSquashConflictsEncountered(){return this.updateDailyMeasures(e=>({squashConflictsEncounteredCount:e.squashConflictsEncounteredCount+1}))}recordSquashMultipleCommitsInvoked(){return this.updateDailyMeasures(e=>({squashMultipleCommitsInvokedCount:e.squashMultipleCommitsInvokedCount+1}))}recordSquashSuccessful(){return this.updateDailyMeasures(e=>({squashSuccessfulCount:e.squashSuccessfulCount+1}))}recordSquashSuccessfulWithConflicts(){return this.updateDailyMeasures(e=>({squashSuccessfulWithConflictsCount:e.squashSuccessfulWithConflictsCount+1}))}recordSquashViaContextMenuInvoked(){return this.updateDailyMeasures(e=>({squashViaContextMenuInvokedCount:e.squashViaContextMenuInvokedCount+1}))}recordSquashViaDragAndDropInvokedCount(){return this.updateDailyMeasures(e=>({squashViaDragAndDropInvokedCount:e.squashViaDragAndDropInvokedCount+1}))}recordSquashUndone(){return this.updateDailyMeasures(e=>({squashUndoneCount:e.squashUndoneCount+1}))}async recordOperationConflictsEncounteredCount(e){switch(e){case"Squash":return this.recordSquashConflictsEncountered();case"Reorder":return this.recordReorderConflictsEncountered();case"Rebase":return;case"Cherry-pick":case"Merge":return void log.error("[recordOperationConflictsEncounteredCount] - Operation not supported: "+e);default:return Ze(0,`Unknown operation kind of ${e}.`)}}async recordOperationSuccessful(e){switch(e){case"Squash":return this.recordSquashSuccessful();case"Reorder":return this.recordReorderSuccessful();case"Cherry-pick":return this.recordCherryPickSuccessful();case"Rebase":return;case"Merge":return void log.error("[recordOperationSuccessful] - Operation not supported: "+e);default:return Ze(0,`Unknown operation kind of ${e}.`)}}async recordOperationSuccessfulWithConflicts(e){switch(e){case"Squash":return this.recordSquashSuccessfulWithConflicts();case"Reorder":return this.recordReorderSuccessfulWithConflicts();case"Rebase":return this.recordRebaseSuccessAfterConflicts();case"Cherry-pick":case"Merge":return void log.error("[recordOperationSuccessfulWithConflicts] - Operation not supported: "+e);default:return Ze(0,`Unknown operation kind of ${e}.`)}}async recordOperationUndone(e){switch(e){case"Squash":return this.recordSquashUndone();case"Reorder":return this.recordReorderUndone();case"Cherry-pick":return this.recordCherryPickUndone();case"Rebase":case"Merge":return void log.error("[recordOperationUndone] - Operation not supported: "+e);default:return Ze(0,`Unknown operation kind of ${e}.`)}}recordSquashMergeSuccessfulWithConflicts(){return this.updateDailyMeasures(e=>({squashMergeSuccessfulWithConflictsCount:e.squashMergeSuccessfulWithConflictsCount+1}))}recordSquashMergeSuccessful(){return this.updateDailyMeasures(e=>({squashMergeSuccessfulCount:e.squashMergeSuccessfulCount+1}))}recordSquashMergeInvokedCount(){return this.updateDailyMeasures(e=>({squashMergeInvokedCount:e.squashMergeInvokedCount+1}))}recordCheckRunsPopoverOpened(){return this.updateDailyMeasures(e=>({opensCheckRunsPopover:e.opensCheckRunsPopover+1}))}recordCheckViewedOnline(){return this.updateDailyMeasures(e=>({viewsCheckOnline:e.viewsCheckOnline+1}))}recordCheckJobStepViewedOnline(){return this.updateDailyMeasures(e=>({viewsCheckJobStepOnline:e.viewsCheckJobStepOnline+1}))}recordRerunChecks(){return this.updateDailyMeasures(e=>({rerunsChecks:e.rerunsChecks+1}))}recordChecksFailedNotificationShown(){return this.updateDailyMeasures(e=>({checksFailedNotificationCount:e.checksFailedNotificationCount+1}))}recordChecksFailedNotificationClicked(){return this.updateDailyMeasures(e=>({checksFailedNotificationClicked:e.checksFailedNotificationClicked+1}))}recordChecksFailedDialogOpen(){return this.updateDailyMeasures(e=>({checksFailedDialogOpenCount:e.checksFailedDialogOpenCount+1}))}recordChecksFailedDialogSwitchToPullRequest(){return this.updateDailyMeasures(e=>({checksFailedDialogSwitchToPullRequestCount:e.checksFailedDialogSwitchToPullRequestCount+1}))}recordChecksFailedDialogRerunChecks(){return this.updateDailyMeasures(e=>({checksFailedDialogRerunChecksCount:e.checksFailedDialogRerunChecksCount+1}))}post(e){const t={method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)};return fetch("https://central.github.com/api/usage/desktop",t)}async sendOptInStatusPing(e,t){const n=!e,r=void 0===t?null:!t,i=n?"in":"out";try{const e=await this.post({eventType:"ping",optIn:n,previousOptInValue:r});if(!e.ok)throw new Error(`Unexpected status: ${e.statusText} (${e.status})`);bt("has-sent-stats-opt-in-ping",!0),log.info(`Opt ${i} reported.`)}catch(e){log.error(`Error reporting opt ${i}:`,e)}}}(new class extends Ip{constructor(e){super(e),this.version(1).stores({launches:"++"}),this.version(2).stores({dailyMeasures:"++id"})}}("StatsDatabase"),new class{constructor(){this.emitter=new nt.Emitter,this.subscriberCount=0,this.onMouseDown=e=>{null!==e.target&&e.target instanceof HTMLElement&&function(e){for(;null!==e;){if(hP.has(e.nodeName))return!0;const t=e.getAttribute("role");if(null!==t&&pP.has(t))return!0;e=e instanceof HTMLElement?e.parentElement:null}return!1}(e.target)&&this.emit("pointer")},this.onKeyDown=e=>{this.emit("keyboard")},this.onMenuEvent=()=>this.emit("menu")}onActivity(e){const t=this.emitter.on("activity",e);return 0===this.subscriberCount&&this.startTracking(),this.subscriberCount++,new nt.Disposable(()=>{this.subscriberCount--,0===this.subscriberCount&&this.stopTracking(),t.dispose()})}emit(e){this.emitter.emit("activity",e)}startTracking(){document.addEventListener("mousedown",this.onMouseDown),document.addEventListener("keydown",this.onKeyDown),v("menu-event",this.onMenuEvent)}stopTracking(){document.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("keydown",this.onKeyDown),b("menu-event",this.onMenuEvent)}}),tI=new class extends Fr{constructor(){super(...arguments),this.state=null,this.endpointSupportBasicAuth=new Map}emitAuthenticate(e,t){const n={account:e,method:t};this.emitter.emit("did-authenticate",n)}onDidAuthenticate(e){return this.emitter.on("did-authenticate",({account:t,method:n})=>{e(t,n)})}getState(){return this.state}setState(e){this.state=e,this.emitUpdate(this.getState())}async endpointSupportsBasicAuth(e){if(e===Nn())return!1;const t=this.endpointSupportBasicAuth.get(e),n=void 0===t?null:{verifiable_password_authentication:t},r=await async function(e,t,n){let r=null;const i=new Promise(e=>{r=window.setTimeout(()=>e(n),t)});return Promise.race([e,i]).finally(()=>{null!==r&&window.clearTimeout(r)})}(async function(e){const t=e+"/meta";try{const t=await zt(e,null,"GET","meta",void 0,{"Content-Type":"application/json"});Ln(e,t);const n=await qt(t);return n&&void 0!==n.verifiable_password_authentication?n:null}catch(e){return log.error(`fetchMetadata: unable to load metadata from '${t}' as a fallback`,e),null}}(e),2e3,n);if(null!==r){const t=!0===r.verifiable_password_authentication;return this.endpointSupportBasicAuth.set(e,t),t}throw new Error("Unable to authenticate with the GitHub Enterprise instance. Verify that the URL is correct, that your GitHub Enterprise instance is running version 3.0.0 or later, that you have an internet connection and try again.")}getForgotPasswordURL(e){return Fn(e)+"/password_reset"}reset(){this.setState(null)}beginDotComSignIn(){const e=Nn();this.setState({kind:eu.Authentication,endpoint:e,supportsBasicAuth:!1,error:null,loading:!1,forgotPasswordUrl:this.getForgotPasswordURL(e)}),this.endpointSupportsBasicAuth(e).then(t=>{null!==this.state&&this.state.kind===eu.Authentication&&this.state.endpoint===e&&this.setState(Object.assign(Object.assign({},this.state),{supportsBasicAuth:t}))}).catch(e=>log.error("Failed resolving whether GitHub.com supports password authentication",e))}async authenticateWithBasicAuth(e,t){const n=this.state;if(!n||n.kind!==eu.Authentication){return Ye(`Sign in step '${n?n.kind:"null"}' not compatible with authentication`)}const r=n.endpoint;let i;this.setState(Object.assign(Object.assign({},n),{loading:!0}));try{i=await In(r,e,t,null)}catch(e){return void this.emitError(e)}if(this.state&&this.state.kind===eu.Authentication)if(i.kind===Rn.Authorized){const e=i.token,t=await Mn(r,e);if(!this.state||this.state.kind!==eu.Authentication)return;this.emitAuthenticate(t,tu.Basic),this.setState({kind:eu.Success})}else if(i.kind===Rn.TwoFactorAuthenticationRequired)this.setState({kind:eu.TwoFactorAuthentication,endpoint:r,username:e,password:t,type:i.type,error:null,loading:!1});else if(i.kind===Rn.Error)this.emitError(new Error(`The server responded with an error while attempting to authenticate (${i.response.status})\n\n${i.response.statusText}`)),this.setState(Object.assign(Object.assign({},n),{loading:!1}));else if(i.kind===Rn.Failed)e.includes("@")?this.setState(Object.assign(Object.assign({},n),{loading:!1,error:new Error("Incorrect email or password.")})):this.setState(Object.assign(Object.assign({},n),{loading:!1,error:new Error("Incorrect username or password.")}));else if(i.kind===Rn.UserRequiresVerification)this.setState(Object.assign(Object.assign({},n),{loading:!1,error:new Error(Qc(e))}));else if(i.kind===Rn.PersonalAccessTokenBlocked)this.setState(Object.assign(Object.assign({},n),{loading:!1,error:new Error("A personal access token cannot be used to login to GitHub Desktop.")}));else if(i.kind===Rn.EnterpriseTooOld)this.setState(Object.assign(Object.assign({},n),{loading:!1,error:new Error(Jc)}));else{if(i.kind!==Rn.WebFlowRequired)return Ze(0,"Unsupported response: "+i);this.setState(Object.assign(Object.assign({},n),{loading:!1,supportsBasicAuth:!1,kind:eu.Authentication}))}}async authenticateWithBrowser(){const e=this.state;if(!e||e.kind!==eu.Authentication){return Ye(`Sign in step '${e?e.kind:"null"}' not compatible with browser authentication`)}let t;this.setState(Object.assign(Object.assign({},e),{loading:!0}));try{log.info("[SignInStore] initializing OAuth flow"),t=await Kc(e.endpoint),log.info("[SignInStore] account resolved")}catch(t){return log.info("[SignInStore] error with OAuth flow",t),void this.setState(Object.assign(Object.assign({},e),{error:t,loading:!1}))}this.state&&this.state.kind===eu.Authentication&&(this.emitAuthenticate(t,tu.Web),this.setState({kind:eu.Success}))}beginEnterpriseSignIn(){this.setState({kind:eu.EndpointEntry,error:null,loading:!1})}async setEndpoint(e){const t=this.state;if(!t||t.kind!==eu.EndpointEntry){return Ye(`Sign in step '${t?t.kind:"null"}' not compatible with endpoint entry`)}let n;this.setState(Object.assign(Object.assign({},t),{loading:!0}));try{n=function(e){const t=e.trim();if(0===t.length){const e=new Error("Unknown address");throw e.name="invalid-url",e}let n=Mt.parse(t);if(n.host||(e="https://"+t,n=Mt.parse(e)),!n.protocol){const e=new Error("Invalid URL");throw e.name="invalid-url",e}if(!Xc.has(n.protocol)){const e=new Error("Invalid protocol");throw e.name="invalid-protocol",e}return e}(e)}catch(e){let n=e;return"invalid-url"===e.name?n=new Error("The GitHub Enterprise instance address doesn't appear to be a valid URL. We're expecting something like https://github.example.com."):"invalid-protocol"===e.name&&(n=new Error("Unsupported protocol. Only http or https is supported when authenticating with GitHub Enterprise instances.")),void this.setState(Object.assign(Object.assign({},t),{loading:!1,error:n}))}const r=function(e){const t=Mt.parse(e);return`${t.protocol}//${t.hostname}/api/v3`}(n);try{const e=await this.endpointSupportsBasicAuth(r);if(!this.state||this.state.kind!==eu.EndpointEntry)return;this.setState({kind:eu.Authentication,endpoint:r,supportsBasicAuth:e,error:null,loading:!1,forgotPasswordUrl:this.getForgotPasswordURL(r)})}catch(e){let n=e;"ENOTFOUND"===e.code&&(n=new Error("The server could not be found. Please verify that the URL is correct and that you have a stable internet connection.")),this.setState(Object.assign(Object.assign({},t),{loading:!1,error:n}))}}async setTwoFactorOTP(e){const t=this.state;if(!t||t.kind!==eu.TwoFactorAuthentication){Ye(`Sign in step '${t?t.kind:"null"}' not compatible with two factor authentication`)}let n;this.setState(Object.assign(Object.assign({},t),{loading:!0}));try{n=await In(t.endpoint,t.username,t.password,e)}catch(e){return void this.emitError(e)}if(this.state&&this.state.kind===eu.TwoFactorAuthentication)if(n.kind===Rn.Authorized){const e=n.token,r=await Mn(t.endpoint,e);if(!this.state||this.state.kind!==eu.TwoFactorAuthentication)return;this.emitAuthenticate(r,tu.Basic),this.setState({kind:eu.Success})}else switch(n.kind){case Rn.Failed:case Rn.TwoFactorAuthenticationRequired:this.setState(Object.assign(Object.assign({},t),{loading:!1,error:new Error("Two-factor authentication failed.")}));break;case Rn.Error:this.emitError(new Error(`The server responded with an error (${n.response.status})\n\n${n.response.statusText}`));break;case Rn.UserRequiresVerification:this.emitError(new Error(Qc(t.username)));break;case Rn.PersonalAccessTokenBlocked:this.emitError(new Error("A personal access token cannot be used to login to GitHub Desktop."));break;case Rn.EnterpriseTooOld:this.emitError(new Error(Jc));break;case Rn.WebFlowRequired:this.setState(Object.assign(Object.assign({},t),{forgotPasswordUrl:this.getForgotPasswordURL(t.endpoint),loading:!1,supportsBasicAuth:!1,kind:eu.Authentication,error:null}));break;default:Ze(0,"Unknown response: "+n)}}},nI=new class extends Fr{constructor(e,t){super(),this.accounts=[],this.dataStore=e,this.secureStore=t,this.loadingPromise=this.loadFromStore()}async getAll(){return await this.loadingPromise,this.accounts.slice()}async addAccount(e){await this.loadingPromise;try{const t=Pr(e);await this.secureStore.setItem(t,e.login,e.token)}catch(t){return log.error(`Error adding account '${e.login}'`,t),!function(e){const t=e;return t.message&&t.message.startsWith("The user name or passphrase you entered is not correct")}(t)?this.emitError(t):this.emitError(new Error("GitHub Desktop was unable to store the account token in the keychain. Please check you have unlocked access to the 'login' keychain.")),null}const t=this.accounts.reduce((e,t)=>e.set(t.endpoint,t),new Map);return t.set(e.endpoint,e),this.accounts=[...t.values()],this.save(),e}async refresh(){this.accounts=await Promise.all(this.accounts.map(e=>this.tryUpdateAccount(e))),this.save(),this.emitUpdate(this.accounts)}async tryUpdateAccount(e){try{return await async function(e){if(!e.token)return Ye("Cannot update an account which doesn't have a token: "+e.login);return Mn(e.endpoint,e.token)}(e)}catch(t){return log.warn(`Error refreshing account '${e.login}'`,t),e}}async removeAccount(e){await this.loadingPromise;try{await this.secureStore.deleteItem(Pr(e),e.login)}catch(t){return log.error(`Error removing account '${e.login}'`,t),void this.emitError(t)}this.accounts=this.accounts.filter(t=>!(t.endpoint===e.endpoint&&t.id===e.id)),this.save()}async loadFromStore(){const e=this.dataStore.getItem("users");if(!e||!e.length)return;const t=JSON.parse(e),n=[];for(const e of t){const t=new Bt(e.login,e.endpoint,"",e.emails,e.avatarURL,e.id,e.name),r=Pr(t);try{const i=await this.secureStore.getItem(r,e.login);n.push(t.withToken(i||""))}catch(e){log.error(`Error getting token for '${r}'. Skipping.`,e),this.emitError(e)}}this.accounts=n,this.emitUpdate(this.accounts)}save(){const e=this.accounts.map(e=>e.withToken(""));this.dataStore.setItem("users",JSON.stringify(e)),this.emitUpdate(this.accounts)}}(localStorage,oo),rI=new class extends Fr{constructor(e){super(),this.db=e,this.lastStashCheckCache=new Map,this.branchProtectionSettingsFoundCache=new Map,this.protectionEnabledForBranchCache=new Map,this.emitQueued=!1}async upsertGitHubRepositoryLight(e,t){return this.db.transaction("rw",this.db.gitHubRepositories,this.db.owners,()=>this._upsertGitHubRepository(e,t,!0))}async upsertGitHubRepository(e,t){return this.db.transaction("rw",this.db.gitHubRepositories,this.db.owners,()=>this._upsertGitHubRepository(e,t,!1))}async toGitHubRepository(e,t,n){if(Qe(e.id,"Need db id to create GitHubRepository"),void 0===n&&null!==e.parentID){const t=await this.db.gitHubRepositories.get(e.parentID);Qe(t,`Missing parent '${e.id}'`),n=await this.toGitHubRepository(t)}if(void 0===t){const n=await this.db.owners.get(e.ownerID);Qe(n,`Missing owner '${e.ownerID}'`),t=new Gc(n.login,n.endpoint,n.id)}return new gi(e.name,t,e.id,e.private,e.htmlURL,e.defaultBranch,e.cloneURL,e.issuesEnabled,e.isArchived,e.permissions,n)}async toRepository(e){return Qe(e.id,"can't convert to Repository without id"),new vi(e.path,e.id,null!==e.gitHubRepositoryID?await this.findGitHubRepositoryByID(e.gitHubRepositoryID):await Promise.resolve(null),e.missing,e.alias,e.workflowPreferences,e.isTutorialRepository)}async findGitHubRepositoryByID(e){const t=await this.db.gitHubRepositories.get(e);return void 0!==t?this.toGitHubRepository(t):Promise.resolve(null)}getAll(){return this.db.transaction("r",this.db.repositories,this.db.gitHubRepositories,this.db.owners,async()=>{const e=new Array;for(const t of await this.db.repositories.toArray())Qe(t.id,"no id after loading from db"),e.push(await this.toRepository(t));return e})}async addTutorialRepository(e,t,n){await this.db.transaction("rw",this.db.repositories,this.db.gitHubRepositories,this.db.owners,async()=>{const r=await this.upsertGitHubRepository(t,n),i=await this.db.repositories.get({path:e});return await this.db.repositories.put(Object.assign(Object.assign({},void 0!==(null==i?void 0:i.id)&&{id:i.id}),{path:e,alias:null,gitHubRepositoryID:r.dbID,missing:!1,lastStashCheckDate:null,isTutorialRepository:!0}))}),this.emitUpdatedRepositories()}async addRepository(e){const t=await this.db.transaction("rw",this.db.repositories,this.db.gitHubRepositories,this.db.owners,async()=>{const t=await this.db.repositories.get({path:e});if(void 0!==t)return await this.toRepository(t);const n={path:e,gitHubRepositoryID:null,missing:!1,lastStashCheckDate:null,alias:null},r=await this.db.repositories.add(n);return this.toRepository(Object.assign({id:r},n))});return this.emitUpdatedRepositories(),t}async removeRepository(e){await this.db.repositories.delete(e.id),Ss(e),this.emitUpdatedRepositories()}async updateRepositoryMissing(e,t){return await this.db.repositories.update(e.id,{missing:t}),this.emitUpdatedRepositories(),new vi(e.path,e.id,e.gitHubRepository,t,e.alias,e.workflowPreferences,e.isTutorialRepository)}async updateRepositoryAlias(e,t){await this.db.repositories.update(e.id,{alias:t}),this.emitUpdatedRepositories()}async updateRepositoryWorkflowPreferences(e,t){await this.db.repositories.update(e.id,{workflowPreferences:t}),this.emitUpdatedRepositories()}async updateRepositoryPath(e,t){return await this.db.repositories.update(e.id,{missing:!1,path:t}),this.emitUpdatedRepositories(),new vi(t,e.id,e.gitHubRepository,!1,e.alias,e.workflowPreferences,e.isTutorialRepository)}async updateLastStashCheckDate(e,t=Date.now()){await this.db.repositories.update(e.id,{lastStashCheckDate:t}),this.lastStashCheckCache.set(e.id,t)}async getLastStashCheckDate(e){var t;let n=this.lastStashCheckCache.get(e.id)||null;if(null!==n)return n;const r=await this.db.repositories.get(e.id);return void 0===r?Ye("'getLastStashCheckDate' - unable to find repository with ID: "+e.id):(n=null!==(t=r.lastStashCheckDate)&&void 0!==t?t:null,null!==n&&this.lastStashCheckCache.set(e.id,n),n)}async putOwner(e,t){t=t.toLowerCase();const n=await this.db.owners.where("[endpoint+login]").equals([e,t]).first();if(n)return new Gc(t,e,n.id);const r=await this.db.owners.add({login:t,endpoint:e});return new Gc(t,e,r)}async upsertGitHubRepositoryFromMatch(e){return await this.db.transaction("rw",this.db.gitHubRepositories,this.db.owners,async()=>{const{account:t}=e,n=await this.putOwner(t.endpoint,e.owner),r=await this.db.gitHubRepositories.where("[ownerID+name]").equals([n.id,e.name]).first();if(r)return this.toGitHubRepository(r,n);const i={cloneURL:null,defaultBranch:null,htmlURL:null,lastPruneDate:null,name:e.name,ownerID:n.id,parentID:null,private:null},o=await this.db.gitHubRepositories.put(i);return this.toGitHubRepository(Object.assign(Object.assign({},i),{id:o}),n,null)})}async setGitHubRepository(e,t){if(bi(e)&&e.gitHubRepository.hash===t.hash)return e;await this.db.transaction("rw",this.db.repositories,()=>this.db.repositories.update(e.id,{gitHubRepositoryID:t.dbID})),this.emitUpdatedRepositories();const n=new vi(e.path,e.id,t,e.missing,e.alias,e.workflowPreferences,e.isTutorialRepository);return function(e){if(!bi(e))Ye("Repository must be GitHub repository")}(n),n}async _upsertGitHubRepository(e,t,n=!1){var r,i,o,s,a;const l="parent"in t&&void 0!==t.parent?await this._upsertGitHubRepository(e,t.parent,!0):await Promise.resolve(null),c=t.owner.login.toLowerCase(),u=await this.putOwner(e,c),h=await this.db.gitHubRepositories.where("[ownerID+name]").equals([u.id,t.name]).first(),p=null!==(i=null!==(r=function(e){const t="permissions"in e?e.permissions:void 0;return void 0===t?null:t.admin?"admin":t.push?"write":t.pull?"read":null}(t))&&void 0!==r?r:null==h?void 0:h.permissions)&&void 0!==i?i:void 0,d=n?null!==(o=null==h?void 0:h.parentID)&&void 0!==o?o:null:null!==(s=null==l?void 0:l.dbID)&&void 0!==s?s:null,f=Object.assign(Object.assign({},void 0!==(null==h?void 0:h.id)&&{id:h.id}),{ownerID:u.id,name:t.name,private:t.private,htmlURL:t.html_url,defaultBranch:t.default_branch,cloneURL:t.clone_url,parentID:d,lastPruneDate:null!==(a=null==h?void 0:h.lastPruneDate)&&void 0!==a?a:null,issuesEnabled:t.has_issues,isArchived:t.archived,permissions:p});if(void 0!==h&&Us(h,f))return this.toGitHubRepository(h,u,l);const m=await this.db.gitHubRepositories.put(f);return this.emitUpdatedRepositories(),this.toGitHubRepository(Object.assign(Object.assign({},f),{id:m}),u,l)}async updateBranchProtections(e,t){const n=e.dbID;await this.db.transaction("rw",this.db.protectedBranches,async()=>{const e=Vc(n);for(const t of this.protectionEnabledForBranchCache.keys())t.startsWith(e)&&this.protectionEnabledForBranchCache.delete(t);const r=t.map(e=>({repoId:n,name:e.name}));for(const e of r){const t=qc(n,e.name);this.protectionEnabledForBranchCache.set(t,!0)}await this.db.protectedBranches.where("repoId").equals(n).delete();const i=r.length>0;this.branchProtectionSettingsFoundCache.set(n,i),r.length>0&&await this.db.protectedBranches.bulkAdd(r)})}async updateLastPruneDate(e,t){await this.db.gitHubRepositories.update(e.gitHubRepository.dbID,{lastPruneDate:t})}async getLastPruneDate(e){const t=e.gitHubRepository.dbID,n=await this.db.gitHubRepositories.get(t);return void 0===n?Ye("getLastPruneDate: No such GitHub repository: "+t):n.lastPruneDate}async loadAndCacheBranchProtection(e){const t=await this.db.protectedBranches.where("repoId").equals(e).toArray(),n=t.length>0;this.branchProtectionSettingsFoundCache.set(e,n);for(const n of t){const t=qc(e,n.name);this.protectionEnabledForBranchCache.set(t,!0)}return n}async hasBranchProtectionsConfigured(e){const t=this.branchProtectionSettingsFoundCache.get(e.dbID);return void 0===t?this.loadAndCacheBranchProtection(e.dbID):t}emitUpdatedRepositories(){this.emitQueued||(setImmediate(()=>{this.getAll().then(e=>this.emitUpdate(e)).catch(e=>log.error("Failed emitting update",e)).finally(()=>this.emitQueued=!1)}),this.emitQueued=!0)}}(new class extends Mp{constructor(e,t){super(e,t),this.conditionalVersion(1,{repositories:"++id, &path",gitHubRepositories:"++id, name",owners:"++id, login"}),this.conditionalVersion(2,{owners:"++id, &[endpoint+login]"}),this.conditionalVersion(3,{},sP),this.conditionalVersion(4,{gitHubRepositories:"++id, name, &[ownerID+name]"}),this.conditionalVersion(5,{gitHubRepositories:"++id, name, &[ownerID+name], cloneURL"}),this.conditionalVersion(6,{protectedBranches:"[repoId+name], repoId"}),this.conditionalVersion(7,{gitHubRepositories:"++id, &[ownerID+name]"}),this.conditionalVersion(8,{},aP)}}("Database")),iI=new class{constructor(e,t){this.db=e,this.repositoryStore=t,this.emitter=new nt.Emitter,this.currentRefreshOperations=new Map,this.lastRefreshForRepository=new Map}emitPullRequestsChanged(e,t){this.emitter.emit("onPullRequestsChanged",{repository:e,pullRequests:t})}onPullRequestsChanged(e){return this.emitter.on("onPullRequestsChanged",t=>{const{repository:n,pullRequests:r}=t;e(n,r)})}refreshPullRequests(e,t){const n=this.currentRefreshOperations.get(e.dbID);if(void 0!==n)return n;this.lastRefreshForRepository.set(e.dbID,Date.now());const r=this.fetchAndStorePullRequests(e,t).catch(t=>{log.error(`Error refreshing pull requests for '${e.fullName}'`,t)}).then(()=>{this.currentRefreshOperations.delete(e.dbID)});return this.currentRefreshOperations.set(e.dbID,r),r}async fetchAndStorePullRequests(e,t){const n=Pn.fromAccount(t),r=await this.db.getLastUpdated(e);return r?this.fetchAndStoreUpdatedPullRequests(n,e,r):this.fetchAndStoreOpenPullRequests(n,e)}async fetchAndStoreOpenPullRequests(e,t){const{name:n,owner:r}=Hp(t),i=await e.fetchAllOpenPullRequests(r,n);await this.storePullRequestsAndEmitUpdate(i,t)}async fetchAndStoreUpdatedPullRequests(e,t,n){const{name:r,owner:i}=Hp(t),o=await e.fetchUpdatedPullRequests(i,r,n).catch(e=>e instanceof Dn||e instanceof jt?Promise.resolve(null):Promise.reject(e));if(null!==o)return await this.storePullRequestsAndEmitUpdate(o,t);await this.db.deleteAllPullRequestsInRepository(t),await this.fetchAndStoreOpenPullRequests(e,t)}getLastRefreshed(e){return e.dbID?this.lastRefreshForRepository.get(e.dbID):void 0}async getAll(e){var t;const n=await this.db.getAllPullRequestsInRepository(e),r=new Array,i=this.repositoryStore,o=ru()(i.findGitHubRepositoryByID.bind(i));for(const e of n){const n=await o(e.head.repoId),i=await o(e.base.repoId);if(null===n)return Ye("head repository can't be null");if(null===i)return Ye("base repository can't be null");r.push(new Lp(new Date(e.createdAt),e.title,e.number,new Bp(e.head.ref,e.head.sha,n),new Bp(e.base.ref,e.base.sha,i),e.author,null!==(t=e.draft)&&void 0!==t&&t,e.body))}return r.reverse()}async storePullRequestsAndEmitUpdate(e,t){await this.storePullRequests(e,t)&&this.emitPullRequestsChanged(t,await this.getAll(t))}async storePullRequests(e,t){var n;if(0===e.length)return!1;let r=e[0].updated_at;const i=new Array,o=new Array,{endpoint:s}=t,a=this.repositoryStore,l=ru()(a.upsertGitHubRepositoryLight.bind(a),{cacheKey:(e,t)=>t.clone_url});for(const a of e){if(a.updated_at>r&&(r=a.updated_at),null===a.base.repo)return Ye("PR cannot have a null base repo");const e=await l(s,a.base.repo);if("closed"===a.state){i.push(Fp(e,a.number));continue}if(null==a.head.repo){log.debug(`Unable to store pull request #${a.number} for repository ${t.fullName} as it has no head repository associated with it`),i.push(Fp(e,a.number));continue}const c=await l(s,a.head.repo);o.push({number:a.number,title:a.title,createdAt:a.created_at,updatedAt:a.updated_at,head:{ref:a.head.ref,sha:a.head.sha,repoId:c.dbID},base:{ref:a.base.ref,sha:a.base.sha,repoId:e.dbID},body:a.body,author:a.user.login,draft:null!==(n=a.draft)&&void 0!==n&&n})}if(0===i.length&&1===o.length){const e=o[0],n=await this.db.getPullRequest(t,e.number);if(void 0!==n&&Hs(e,n))return!1}return await this.db.transaction("rw",this.db.pullRequests,this.db.pullRequestsLastUpdated,async()=>{await this.db.deletePullRequests(i),await this.db.putPullRequests(o),await this.db.setLastUpdated(t,new Date(r))}),!0}}(new class extends Mp{constructor(e,t){super(e,t),this.conditionalVersion(1,{pullRequests:"id++, base.repoId"}),this.conditionalVersion(2,{pullRequestStatus:"id++, &[sha+pullRequestId]"}),this.conditionalVersion(3,{pullRequestStatus:"id++, &[sha+pullRequestId], pullRequestId"}),this.conditionalVersion(4,{}),this.conditionalVersion(5,{pullRequestStatus:null}),this.conditionalVersion(6,{pullRequests:null}),this.conditionalVersion(7,{pullRequests:"[base.repoId+number]",pullRequestsLastUpdated:"repoId"}),this.conditionalVersion(8,{},async e=>{e.table("pullRequests").clear(),e.table("pullRequestsLastUpdated").clear()}),this.conditionalVersion(9,{},async e=>{e.table("pullRequests").clear(),e.table("pullRequestsLastUpdated").clear()})}async deleteAllPullRequestsInRepository(e){await this.transaction("rw",this.pullRequests,this.pullRequestsLastUpdated,async()=>{await this.clearLastUpdated(e),await this.pullRequests.where("[base.repoId+number]").between([e.dbID],[e.dbID+1]).delete()})}async deletePullRequests(e){await this.pullRequests.bulkDelete(e)}async putPullRequests(e){await this.pullRequests.bulkPut(e)}getAllPullRequestsInRepository(e){return this.pullRequests.where("[base.repoId+number]").between([e.dbID],[e.dbID+1]).toArray()}getPullRequest(e,t){return this.pullRequests.get([e.dbID,t])}async getLastUpdated(e){const t=await this.pullRequestsLastUpdated.get(e.dbID);return t?new Date(t.lastUpdated):null}async clearLastUpdated(e){await this.pullRequestsLastUpdated.delete(e.dbID)}async setLastUpdated(e,t){await this.pullRequestsLastUpdated.put({repoId:e.dbID,lastUpdated:t.getTime()})}}("PullRequestDatabase"),rI),oI=new class{constructor(e,t){this.pullRequestStore=e,this.repositoriesStore=t,this.currentPullRequestUpdater=null,this.prCache=new Map,this.emitter=new nt.Emitter,this.repositoriesStore.onDidUpdate(e=>{this.repositories=Promise.resolve(e.filter(bi))}),this.repositories=this.repositoriesStore.getAll().then(e=>e.filter(bi)).catch(e=>(log.error("PullRequestCoordinator: Error loading repositories"),[]))}onPullRequestsChanged(e){return this.pullRequestStore.onPullRequestsChanged(async(t,n)=>{this.prCache.set(t.dbID,n);const r=jp(t,await this.repositories);for(const t of r)e(t,n)})}onIsLoadingPullRequests(e){return this.emitter.on("onIsLoadingPullRequest",t=>{const{repository:n,isLoadingPullRequests:r}=t;e(n,r)})}async refreshPullRequests(e,t){const n=Ei(e),r=jp(n,await this.repositories);for(const e of r)this.emitIsLoadingPullRequests(e,!0);await this.pullRequestStore.refreshPullRequests(n,t);for(const e of r)this.emitIsLoadingPullRequests(e,!1)}getLastRefreshed(e){const t=Ei(e);return this.pullRequestStore.getLastRefreshed(t)}async getAllPullRequests(e){return this.getPullRequestsFor(Ei(e))}startPullRequestUpdater(e,t){null!==this.currentPullRequestUpdater&&this.stopPullRequestUpdater(),this.currentPullRequestUpdater=new Up(e,t,this),this.currentPullRequestUpdater.start()}stopPullRequestUpdater(){null!==this.currentPullRequestUpdater&&(this.currentPullRequestUpdater.stop(),this.currentPullRequestUpdater=null)}emitIsLoadingPullRequests(e,t){this.emitter.emit("onIsLoadingPullRequest",{repository:e,isLoadingPullRequests:t})}async getPullRequestsFor(e){return this.prCache.has(e.dbID)||this.prCache.set(e.dbID,await this.pullRequestStore.getAll(e)),this.prCache.get(e.dbID)||[]}}(iI,rI),sI=new class{constructor(){this.repositoryState=new Map}get(e){const t=this.repositoryState.get(e.hash);if(null!=t)return t;const n={commitSelection:{shas:[],file:null,changesetData:{files:[],linesAdded:0,linesDeleted:0},diff:null},changesState:{workingDirectory:Oi.fromFiles(new Array),selection:{kind:We.WorkingDirectory,selectedFileIDs:[],diff:null},commitMessage:Yo,coAuthors:[],showCoAuthoredBy:!1,conflictState:null,stashEntry:null,currentBranchProtected:!1},selectedSection:je.Changes,branchesState:{tip:{kind:si.Unknown},defaultBranch:null,allBranches:new Array,recentBranches:new Array,openPullRequests:new Array,currentPullRequest:null,isLoadingPullRequests:!1,forcePushBranches:new Map},compareState:{formState:{kind:ze.History},tip:null,mergeStatus:null,showBranchList:!1,filterText:"",commitSHAs:[],branches:new Array,recentBranches:new Array,defaultBranch:null},commitAuthor:null,commitLookup:new Map,localCommitSHAs:[],localTags:null,tagsToPush:null,aheadBehind:null,remote:null,isPushPullFetchInProgress:!1,isCommitting:!1,commitToAmend:null,lastFetched:null,checkoutProgress:null,pushPullFetchProgress:null,revertProgress:null,multiCommitOperationUndoState:null,multiCommitOperationState:null};return this.repositoryState.set(e.hash,n),n}update(e,t){const n=this.get(e),r=Cr(n,t(n)),i=n.branchesState.tip,o=r.branchesState.tip,s=null!==r.commitToAmend&&o.kind===si.Valid&&i.kind===si.Valid&&i.branch.tip.sha===o.branch.tip.sha&&o.branch.tip.sha===r.commitToAmend.sha&&null===r.changesState.conflictState;this.repositoryState.set(e.hash,Object.assign(Object.assign({},r),{commitToAmend:s?r.commitToAmend:null}))}updateCompareState(e,t){this.update(e,e=>{const n=e.compareState;return{compareState:Cr(n,t(n))}})}updateChangesState(e,t){this.update(e,e=>{const n=e.changesState;return{changesState:Cr(n,t(n))}})}updateCommitSelection(e,t){this.update(e,e=>{const{commitSelection:n}=e;return{commitSelection:Cr(n,t(n))}})}updateBranchesState(e,t){this.update(e,e=>{const n=e.branchesState;return{branchesState:Cr(n,t(n))}})}updateMultiCommitOperationUndoState(e,t){this.update(e,e=>{const{multiCommitOperationUndoState:n}=e,r=t(n);return{multiCommitOperationUndoState:null===r?null:Cr(n,r)}})}updateMultiCommitOperationState(e,t){this.update(e,e=>{const{multiCommitOperationState:n}=e,r=t(n);if(null===n){const e="Cannot update a null state, trying to update object with keys: "+Object.keys(r).join(", ");return Yp("multiCommitOperation",new Error(e)),{multiCommitOperationState:null}}return{multiCommitOperationState:Cr(n,r)}})}initializeMultiCommitOperationState(e,t){this.update(e,()=>({multiCommitOperationState:t}))}clearMultiCommitOperationState(e){this.update(e,()=>({multiCommitOperationState:null}))}},aI=new class extends Mr{constructor(e){super(),this.accountState=new Map,this.onAccountsChanged=e=>{const t=new Map;for(const n of e)for(const[e,r]of this.accountState.entries())if(Nt(e,n)){t.set(n,r);break}this.accountState=t,this.emitUpdate()},e.onDidUpdate(this.onAccountsChanged)}updateAccount(e,t){const n=new Map(this.accountState),r=dP(e,n),i=n.get(r),o=Cr(void 0===i?{loading:!1,repositories:[]}:i,t);n.set(r,o),this.accountState=n,this.emitUpdate()}async loadRepositories(e){const t=dP(e,this.accountState),n=this.accountState.get(t);if(void 0!==n&&n.loading)return;this.updateAccount(t,{loading:!0});const r=Pn.fromAccount(t),i=await r.fetchRepositories();null===i?this.updateAccount(e,{loading:!1}):this.updateAccount(e,{loading:!1,repositories:i})}getState(){return this.accountState}}(nI),lI=new class{constructor(e){this.accounts=[],this.backgroundRefreshHandle=null,this.refreshQueued=!1,this.subscriptions=new Map,this.cache=new yP.a({maxSize:250}),this.queue=new Set,this.limit=mP()(6),this.onAccountsUpdated=e=>{this.accounts=e},e.getAll().then(this.onAccountsUpdated),e.onDidUpdate(this.onAccountsUpdated)}startBackgroundRefresh(){null===this.backgroundRefreshHandle&&(this.backgroundRefreshHandle=window.setInterval(()=>this.queueRefresh(),18e4),this.queueRefresh())}stopBackgroundRefresh(){null!==this.backgroundRefreshHandle&&(window.clearInterval(this.backgroundRefreshHandle),this.backgroundRefreshHandle=null)}queueRefresh(){this.refreshQueued||(this.refreshQueued=!0,setImmediate(()=>{this.refreshQueued=!1,this.refreshEligibleSubscriptions()}))}refreshEligibleSubscriptions(){for(const e of this.subscriptions.keys()){if(this.queue.has(e))continue;const t=this.cache.get(e);t&&!bP(t)||(this.limit(()=>this.refreshSubscription(e)).catch(e=>log.error("Failed refreshing commit status",e)).then(()=>this.queue.delete(e)),this.queue.add(e))}}async manualRefreshSubscription(e,t,n){var r;const i=vP(e,t),o=this.subscriptions.get(i);if(void 0===o)return;const s=null===(r=this.cache.get(i))||void 0===r?void 0:r.check;if(null==s)return;const a=function(e,t){var n;const r=[];for(const i of e){void 0!==t.find(e=>i.id===e.id)?r.push(Object.assign(Object.assign({},i),{status:_n.InProgress,conclusion:null,actionJobSteps:null===(n=i.actionJobSteps)||void 0===n?void 0:n.map(e=>Object.assign(Object.assign({},e),{status:_n.InProgress,conclusion:null}))})):r.push(i)}return kc(r)}(s.checks,n);this.cache.set(i,{check:a,fetchedAt:new Date}),o.callbacks.forEach(e=>e(a))}async refreshSubscription(e){var t;const n=this.subscriptions.get(e);if(void 0===n)return;const{endpoint:r,owner:i,name:o,ref:s}=n,a=this.accounts.find(e=>e.endpoint===r);if(void 0===a)return;const l=Pn.fromAccount(a),[c,u]=await Promise.all([l.fetchCombinedRefStatus(i,o,s),l.fetchRefCheckRuns(i,o,s)]),h=new Array;if(null===c&&null===u){const n=this.cache.get(e),r=null!==(t=null==n?void 0:n.check)&&void 0!==t?t:null;return void this.cache.set(e,{check:r,fetchedAt:new Date})}if(null!==c&&h.push(...c.statuses.map(bc)),null!==u){const e=Tc(u.check_runs);h.push(...e.map(Ec))}let p=null;void 0!==n.branchName&&(p=await this.getAndMapActionWorkflowRunsToCheckRuns(h,e,n.branchName));const d=kc(null!=p?p:h);this.cache.set(e,{check:d,fetchedAt:new Date}),n.callbacks.forEach(e=>e(d))}async getAndMapActionWorkflowRunsToCheckRuns(e,t,n){const r=this.cache.get(t);if(void 0!==r&&null!==r.check&&r.check.checks.some(e=>void 0!==e.actionsWorkflow)&&0===NC.a.xor(r.check.checks.map(e=>e.id),e.map(e=>e.id)).length){const t=new Array;for(const n of e){const e=r.check.checks.find(e=>e.id===n.id);if(void 0===e){t.push(n);continue}const{actionsWorkflow:i,actionJobSteps:o}=e;t.push(Object.assign(Object.assign({},n),{actionsWorkflow:i,actionJobSteps:o}))}return t}const i=await this.getCheckRunActionsWorkflowRuns(t,n,e);return await this.mapActionWorkflowRunsJobsToCheckRuns(t,i)}tryGetStatus(e,t,n){var r,i,o;const s=vP(e,t);return void 0!==n&&(null===(r=this.subscriptions.get(s))||void 0===r?void 0:r.branchName)!==n?null:null!==(o=null===(i=this.cache.get(s))||void 0===i?void 0:i.check)&&void 0!==o?o:null}getOrCreateSubscription(e,t,n){const r=vP(e,t);let i=this.subscriptions.get(r);if(void 0!==i){if(i.branchName===n)return i;const e=Object.assign(Object.assign({},i),{branchName:n});this.subscriptions.set(r,e);const t=this.cache.get(r);return void 0!==t&&this.cache.set(r,Object.assign(Object.assign({},t),{fetchedAt:ve()(new Date).subtract(61,"minutes").toDate()})),e}return i={endpoint:e.endpoint,owner:e.owner.login,name:e.name,ref:t,callbacks:new Set,branchName:n},this.subscriptions.set(r,i),i}subscribe(e,t,n,r){const i=vP(e,t),o=this.getOrCreateSubscription(e,t,r);return o.callbacks.add(n),this.queueRefresh(),new nt.Disposable(()=>{o.callbacks.delete(n),0===o.callbacks.size&&this.subscriptions.delete(i)})}async getCheckRunActionsWorkflowRuns(e,t,n){const r=this.subscriptions.get(e);if(void 0===r)return n;const{endpoint:i,owner:o,name:s}=r,a=this.accounts.find(e=>e.endpoint===i);return void 0===a?n:Ac(a,o,s,t,n)}async mapActionWorkflowRunsJobsToCheckRuns(e,t){const n=this.subscriptions.get(e);if(void 0===n)return t;const{endpoint:r,owner:i,name:o}=n,s=this.accounts.find(e=>e.endpoint===r);if(void 0===s)return t;return Rc(Pn.fromAccount(s),i,o,t)}async rerequestCheckSuite(e,t){const{owner:n,name:r}=e,i=Bn(this.accounts,e.endpoint);if(null===i)return!1;return Pn.fromAccount(i).rerequestCheckSuite(n.login,r,t)}async fetchCheckSuite(e,t){const{owner:n,name:r}=e,i=Bn(this.accounts,e.endpoint);if(null===i)return null;return Pn.fromAccount(i).fetchCheckSuite(n.login,r,t)}}(nI),cI=new class{constructor(){this.cache=new yP.a({maxSize:2500}),this.workers=new Map,this.limit=mP()(1)}tryGetAheadBehind(e,t,n){var r;return null!==(r=this.cache.get(SP(e,t,n)))&&void 0!==r?r:void 0}getAheadBehind(e,t,n,r){const i=SP(e,t,n),o=this.cache.get(i),s=new nt.Disposable(()=>{});return null===o?s:void 0!==o?(r(o),s):(this.limit(async()=>{const o=this.cache.get(i);if(s.disposed||null===o)return;if(void 0!==o)return void r(o);let a=this.workers.get(i);void 0===a&&(a=Wl(e,jl(t,n)).catch(e=>(log.error("Failed calculating ahead/behind status",e),null)).then(e=>(this.cache.set(i,e),e)).finally(()=>this.workers.delete(i)),this.workers.set(i,a));const l=await a;null===l||s.disposed||r(l)}).catch(e=>log.error("Failed calculating ahead/behind status",e)),s)}},uI=new class{constructor(e){this.accountsStore=e,this.ALIVE_EVENT_RECEIVED_EVENT="alive-event-received",this.sessionPerEndpoint=new Map,this.emitter=new nt.Emitter,this.subscriptions=[],this.enabled=!1,this.accountSubscriptionPromise=null,this.subscribeToAccounts=async e=>{this.enabled&&(await this.accountSubscriptionPromise,this.accountSubscriptionPromise=this._subscribeToAccounts(e))},this.subscribeToAccount=async e=>{if(!vn(e.endpoint))return;const t=await this.createSessionForAccount(e),n=Pn.fromAccount(e),r=await n.getAliveDesktopChannel();if(null===t||null===r)return;const i={subscriber:this,topic:{name:r.channel_name,signed:r.signed_channel,offset:""}};t.session.subscribe([i]),this.subscriptions.push({account:e,subscription:i}),log.info(`Subscribed '${e.login}' to Alive channel`)},this.notify=(e,t)=>{if("message"!==t.type)return;const n=t.data;"pr-checks-failed"===n.type&&this.emitter.emit(this.ALIVE_EVENT_RECEIVED_EVENT,n)},this.accountsStore.onDidUpdate(this.subscribeToAccounts)}setEnabled(e){this.enabled!==e&&(this.enabled=e,e?this.subscribeToAllAccounts():this.unsubscribeFromAllAccounts())}onAliveEventReceived(e){this.emitter.on(this.ALIVE_EVENT_RECEIVED_EVENT,e)}async subscribeToAllAccounts(){const e=await this.accountsStore.getAll();this.subscribeToAccounts(e)}async unsubscribeFromAllAccounts(){await this.accountSubscriptionPromise;const e=this.subscriptions.map(e=>e.account);for(const t of e)this.unsubscribeFromAccount(t)}async _subscribeToAccounts(e){const t=this.subscriptions.map(e=>e.account);for(const n of t)$P(n,e)||this.unsubscribeFromAccount(n);for(const n of e)$P(n,t)||await this.subscribeToAccount(n)}sessionForAccount(e){return this.sessionPerEndpoint.get(e.endpoint)}async createSessionForAccount(e){const t=this.sessionForAccount(e);if(void 0!==t)return t;const n=Pn.fromAccount(e);let r=null;try{r=await n.getAliveWebSocketURL()}catch(t){return log.error(`Could not get Alive web socket URL for '${e.login}'`,t),null}if(null===r)return null;const i={session:new VP(r,()=>n.getAliveWebSocketURL(),!1,this.notify),webSocketUrl:r};return this.sessionPerEndpoint.set(e.endpoint,i),i}unsubscribeFromAccount(e){const t=this.sessionForAccount(e);if(void 0===t)return;const n=this.subscriptions.find(t=>Nt(t.account,e));void 0!==n&&(t.session.unsubscribe([n.subscription]),this.subscriptions=this.subscriptions.filter(t=>!Nt(t.account,e)),this.sessionPerEndpoint.delete(e.endpoint),t.session.offline(),log.info(`Unubscribed '${e.login}' from Alive channel`))}}(nI),hI=new class{constructor(e,t,n,r){this.accountsStore=e,this.aliveStore=t,this.pullRequestCoordinator=n,this.statsStore=r,this.repository=null,this.onChecksFailedCallback=null,this.cachedCommits=new Map,this.skipCommitShas=new Set,this.onAliveEventReceived=async e=>{switch(e.type){case"pr-checks-failed":return this.handleChecksFailedEvent(e)}},this.aliveStore.setEnabled(jc()),this.aliveStore.onAliveEventReceived(this.onAliveEventReceived)}setNotificationsEnabled(e){vt("high-signal-notifications-enabled",!0)!==e&&(bt("high-signal-notifications-enabled",e),this.aliveStore.setEnabled(e))}async handleChecksFailedEvent(e){var t;const n=this.repository;if(null===n)return;const r=(await this.pullRequestCoordinator.getAllPullRequests(n)).find(t=>t.pullRequestNumber===e.pull_request_number);if(void 0===r)return;const i=await this.getAccountForRepository(n.gitHubRepository);if(null===i)return;const o=e.commit_sha;if(this.skipCommitShas.has(o))return;const s=null!==(t=this.cachedCommits.get(o))&&void 0!==t?t:await ls(n,o);if(null===s)return void this.skipCommitShas.add(o);if(this.cachedCommits.set(o,s),!i.emails.map(e=>e.email).includes(s.author.email))return void this.skipCommitShas.add(o);const a=await this.getChecksForRef(n,r.head.ref);null!==a&&this.postChecksFailedNotification(r,a,o,s.summary)}selectRepository(e){this.repository=bi(e)?e:null}async getAccountForRepository(e){var t;const{endpoint:n}=e;return null!==(t=(await this.accountsStore.getAll()).find(e=>e.endpoint===n))&&void 0!==t?t:null}async getAPIForRepository(e){const t=await this.getAccountForRepository(e);return null===t?null:Pn.fromAccount(t)}postChecksFailedNotification(e,t,n,r){if(null===this.repository)return;const i=this.repository,o=t.filter(e=>e.conclusion===Tn.Failure).length;if(0===o)return;const s=1===o?"check was":"checks were",a=n.slice(0,9);Uc("Pull Request checks failed",`${e.title} #${e.pullRequestNumber} (${a})\n${o} ${s} not successful.`,()=>{var o;this.statsStore.recordChecksFailedNotificationClicked(),null===(o=this.onChecksFailedCallback)||void 0===o||o.call(this,i,e,r,n,t)}),this.statsStore.recordChecksFailedNotificationShown()}async getChecksForRef(e,t){const{gitHubRepository:n}=e,{owner:r,name:i}=n,o=await this.getAPIForRepository(n);if(null===o)return null;const[s,a]=await Promise.all([o.fetchCombinedRefStatus(r.login,i,t),o.fetchRefCheckRuns(r.login,i,t)]),l=new Array;if(null===s||null===a)return null;if(null!==s&&l.push(...s.statuses.map(bc)),null!==a){const e=Tc(a.check_runs);l.push(...e.map(Ec))}const c=kc(l);return null===c||0===c.checks.length?null:c.checks}onChecksFailedNotification(e){this.onChecksFailedCallback=e}}(nI,uI,oI,eI),pI=new class extends Fr{constructor(e,t,n,r,i,o,s,a,l,c,u){var h;super(),this.gitHubUserStore=e,this.cloningRepositoriesStore=t,this.issuesStore=n,this.statsStore=r,this.signInStore=i,this.accountsStore=o,this.repositoriesStore=s,this.pullRequestCoordinator=a,this.repositoryStateCache=l,this.apiRepositoriesStore=c,this.notificationsStore=u,this.accounts=new Array,this.repositories=new Array,this.recentRepositories=new Array,this.selectedRepository=null,this.currentBackgroundFetcher=null,this.currentBranchPruner=null,this.showWelcomeFlow=!1,this.focusCommitMessage=!1,this.currentPopup=null,this.currentFoldout=null,this.currentBanner=null,this.errors=new Array,this.emitQueued=!1,this.localRepositoryStateLookup=new Map,this.emoji=new Map,this.appMenu=null,this.highlightAccessKeys=!1,this.appIsFocused=!1,this.sidebarWidth=zc(250),this.commitSummaryWidth=zc(250),this.stashedFilesWidth=zc(250),this.windowState=null,this.windowZoomFactor=1,this.isUpdateAvailableBannerVisible=!1,this.askToMoveToApplicationsFolderSetting=!0,this.askForConfirmationOnRepositoryRemoval=!0,this.confirmDiscardChanges=!0,this.confirmDiscardChangesPermanently=!0,this.askForConfirmationOnForcePush=!0,this.imageDiffType=Wc,this.hideWhitespaceInChangesDiff=!1,this.hideWhitespaceInHistoryDiff=!1,this.commitSpellcheckEnabled=!0,this.showSideBySideDiff=!1,this.uncommittedChangesStrategy=Fs,this.selectedExternalEditor=null,this.resolvedExternalEditor=null,this.selectedShell=No,this.repositoryFilterText="",this.currentMergeTreePromise=null,this.resolveOpenInDesktop=null,this.selectedCloneRepositoryTab=Vr.DotCom,this.selectedBranchesTab=qr.Branches,this.selectedTheme=Dr.System,this.currentTheme=Dr.Light,this.useWindowsOpenSSH=!1,this.hasUserViewedStash=!1,this.currentOnboardingTutorialStep=Ns.NotApplicable,this.dragAndDropIntroTypesShown=new Set,this.currentDragElement=null,this.showCIStatusPopover=!1,this.initializeWindowState=async()=>{const e=await F();void 0!==e&&(this.windowState=e)},this.initializeZoomFactor=async()=>{const e=await N();void 0!==e&&this.onWindowZoomFactorChanged(e)},this.onTokenInvalidated=e=>{const t=Bn(this.accounts,e);null!==t&&null===this.currentPopup&&(this._removeAccount(t),this._showPopup({type:ai.InvalidatedToken,account:t}))},this.refreshIndicatorForRepository=async e=>{var t;const n=this.localRepositoryStateLookup;if(e.missing)return void n.delete(e.id);if(!await Object(w.pathExists)(e.path))return void n.delete(e.id);const r=this.gitStoreCache.get(e),i=await r.loadStatus();if(null===i)return void n.delete(e.id);this.updateSidebarIndicator(e,i),this.emitUpdate();const o=await async function(e,t,n){const r=co(e,n);if(null==r)return null;await t.loadRemotes();const{currentRemote:i}=t,o=Pn.fromAccount(r);if(null!==i){const t=Vn(e,i.url);if(null!==t){const{owner:e,name:n}=t,r=await o.fetchRepository(e,n);if(null!==r)return new Date(r.pushed_at)}}if(null!==n.gitHubRepository){const{owner:e,name:t}=n.gitHubRepository,r=await o.fetchRepository(e.login,t);if(null!==r)return new Date(r.pushed_at)}return null}(this.accounts,r,e);if(await this.shouldBackgroundFetch(e,o)){const r=await this.fetchForRepositoryIndicator(e),i=n.get(e.id);n.set(e.id,{aheadBehind:r,changedFilesCount:null!==(t=null==i?void 0:i.changedFilesCount)&&void 0!==t?t:0}),this.emitUpdate()}},this.getRepositoriesForIndicatorRefresh=()=>this.repositories.filter(e=>e!==this.selectedRepository),this.getResolvedExternalEditor=()=>this.resolvedExternalEditor,this._addBranchToForcePushList=(e,t,n)=>{if(t.branch.tip.sha===n)return;const r=this.repositoryStateCache.get(e),{forcePushBranches:i}=r.branchesState,o=new Map(i);o.set(t.branch.nameWithoutRemote,t.branch.tip.sha),this.repositoryStateCache.updateBranchesState(e,()=>({forcePushBranches:o}))},this.onChecksFailedNotification=async(e,t,n,r,i)=>{var o;const s=null!==(o=this.selectedRepository)&&void 0!==o?o:await this._selectRepository(e),a={type:ai.PullRequestChecksFailed,pullRequest:t,repository:e,needsSelectRepository:!0,commitMessage:n,commitSha:r,checks:i};if(null===s||s.hash!==e.hash)return this.statsStore.recordChecksFailedDialogOpen(),this._showPopup(a);const l=this.repositoryStateCache.get(e),{branchesState:c}=l,{tip:u}=c,h=u.kind===si.Valid?u.branch:null;if(null===h||h.name!==t.head.ref)return this.statsStore.recordChecksFailedDialogOpen(),this._showPopup(Object.assign(Object.assign({},a),{needsSelectRepository:!1}));this._setShowCIStatusPopover(!0)},this.showWelcomeFlow=!Er(),this.gitStoreCache=new _s(Je,this.statsStore,(e,t)=>this.onGitStoreUpdated(e,t),e=>this.emitError(e)),window.addEventListener("resize",()=>{this.updateResizableConstraints(),this.emitUpdate()}),this.initializeWindowState(),this.initializeZoomFactor(),this.wireupIpcEventHandlers(),this.wireupStoreEventHandlers(),J(),this.tutorialAssessor=new Vs(this.getResolvedExternalEditor),void 0===vt("enable-repository-indicators")&&bt("enable-repository-indicators",!0),this.repositoryIndicatorsEnabled=null===(h=vt("enable-repository-indicators"))||void 0===h||h,this.repositoryIndicatorUpdater=new Ra(this.getRepositoriesForIndicatorRefresh,this.refreshIndicatorForRepository),window.setTimeout(()=>{this.repositoryIndicatorsEnabled&&this.repositoryIndicatorUpdater.start()},12e4),Pn.onTokenInvalidated(this.onTokenInvalidated),this.notificationsStore.onChecksFailedNotification(this.onChecksFailedNotification)}async updateCurrentTutorialStep(e){const t=await this.tutorialAssessor.getCurrentStep(e.isTutorialRepository,this.repositoryStateCache.get(e));t!==this.currentOnboardingTutorialStep&&(this.currentOnboardingTutorialStep=t,log.info(" "+t),this.recordTutorialStepCompleted(t),this.emitUpdate())}recordTutorialStepCompleted(e){if(Gs(e))switch(this.statsStore.recordHighestTutorialStepCompleted(qs.indexOf(e)),e){case Ns.PickEditor:break;case Ns.CreateBranch:this.statsStore.recordTutorialEditorInstalled();break;case Ns.EditFile:this.statsStore.recordTutorialBranchCreated();break;case Ns.MakeCommit:this.statsStore.recordTutorialFileEdited();break;case Ns.PushBranch:this.statsStore.recordTutorialCommitCreated();break;case Ns.OpenPullRequest:this.statsStore.recordTutorialBranchPushed();break;case Ns.AllDone:this.statsStore.recordTutorialPrCreated(),this.statsStore.recordTutorialCompleted();break;default:Ze(0,"Unaccounted for step type")}}async _resumeTutorial(e){this.tutorialAssessor.resumeTutorial(),await this.updateCurrentTutorialStep(e)}async _pauseTutorial(e){this.tutorialAssessor.pauseTutorial(),await this.updateCurrentTutorialStep(e)}async _skipPickEditorTutorialStep(e){this.tutorialAssessor.skipPickEditor(),await this.updateCurrentTutorialStep(e)}async _markPullRequestTutorialStepAsComplete(e){this.tutorialAssessor.markPullRequestTutorialStepAsComplete(),await this.updateCurrentTutorialStep(e)}wireupIpcEventHandlers(){v("window-state-changed",(e,t)=>{this.windowState=t,this.emitUpdate()}),v("zoom-factor-changed",(e,t)=>{this.onWindowZoomFactorChanged(t)}),v("app-menu",(e,t)=>this.setAppMenu(t))}wireupStoreEventHandlers(){this.gitHubUserStore.onDidUpdate(()=>{this.emitUpdate()}),this.cloningRepositoriesStore.onDidUpdate(()=>{this.emitUpdate()}),this.cloningRepositoriesStore.onDidError(e=>this.emitError(e)),this.signInStore.onDidAuthenticate((e,t)=>{this._addAccount(e),this.showWelcomeFlow&&this.statsStore.recordWelcomeWizardSignInMethod(t)}),this.signInStore.onDidUpdate(()=>this.emitUpdate()),this.signInStore.onDidError(e=>this.emitError(e)),this.accountsStore.onDidUpdate(e=>{this.accounts=e;const t=e.map(({endpoint:e,token:t})=>({endpoint:e,token:t}));oe(t),this.emitUpdate()}),this.accountsStore.onDidError(e=>this.emitError(e)),this.repositoriesStore.onDidUpdate(e=>{this.repositories=e,this.updateRepositorySelectionAfterRepositoriesChanged(),this.emitUpdate()}),this.pullRequestCoordinator.onPullRequestsChanged((e,t)=>this.onPullRequestChanged(e,t)),this.pullRequestCoordinator.onIsLoadingPullRequests((e,t)=>{this.repositoryStateCache.updateBranchesState(e,()=>({isLoadingPullRequests:t})),this.emitUpdate()}),this.apiRepositoriesStore.onDidUpdate(()=>this.emitUpdate()),this.apiRepositoriesStore.onDidError(e=>this.emitError(e))}async loadEmoji(){Ko(await Ut()).then(e=>{this.emoji=e,this.emitUpdate()}).catch(e=>{log.warn("Unexpected issue when trying to read emoji into memory",e)})}emitUpdate(){"hidden"!==this.windowState?this.emitQueued||(this.emitQueued=!0,window.requestAnimationFrame(()=>{this.emitUpdateNow()})):this.emitUpdateNow()}emitUpdateNow(){this.emitQueued=!1;const e=this.getState();super.emitUpdate(e),function(e,t){const n=xo(e);if(t)for(const[e,r]of n.entries()){const i=t.getItemById(e);i&&So(r,i)&&n.delete(e)}if(0===n.size)return;const r=new Array;n.forEach((e,t)=>r.push({id:t,state:e})),D(r)}(e,this.appMenu)}onWindowZoomFactorChanged(e){const t=this.windowZoomFactor;this.windowZoomFactor=e,e!==t&&(this.updateResizableConstraints(),this.emitUpdate())}getSelectedState(){const e=this.selectedRepository;if(!e)return null;if(e instanceof Yr){const t=this.cloningRepositoriesStore.getRepositoryState(e);return t?{type:He.CloningRepository,repository:e,progress:t}:null}return e.missing?{type:He.MissingRepository,repository:e}:{type:He.Repository,repository:e,state:this.repositoryStateCache.get(e)}}getState(){const e=[...this.repositories,...this.cloningRepositoriesStore.repositories];return{accounts:this.accounts,repositories:e,recentRepositories:this.recentRepositories,localRepositoryStateLookup:this.localRepositoryStateLookup,windowState:this.windowState,windowZoomFactor:this.windowZoomFactor,appIsFocused:this.appIsFocused,selectedState:this.getSelectedState(),signInState:this.signInStore.getState(),currentPopup:this.currentPopup,currentFoldout:this.currentFoldout,errors:this.errors,showWelcomeFlow:this.showWelcomeFlow,focusCommitMessage:this.focusCommitMessage,emoji:this.emoji,sidebarWidth:this.sidebarWidth,commitSummaryWidth:this.commitSummaryWidth,stashedFilesWidth:this.stashedFilesWidth,appMenuState:this.appMenu?this.appMenu.openMenus:[],highlightAccessKeys:this.highlightAccessKeys,isUpdateAvailableBannerVisible:this.isUpdateAvailableBannerVisible,currentBanner:this.currentBanner,askToMoveToApplicationsFolderSetting:this.askToMoveToApplicationsFolderSetting,askForConfirmationOnRepositoryRemoval:this.askForConfirmationOnRepositoryRemoval,askForConfirmationOnDiscardChanges:this.confirmDiscardChanges,askForConfirmationOnDiscardChangesPermanently:this.confirmDiscardChangesPermanently,askForConfirmationOnForcePush:this.askForConfirmationOnForcePush,uncommittedChangesStrategy:this.uncommittedChangesStrategy,selectedExternalEditor:this.selectedExternalEditor,imageDiffType:this.imageDiffType,hideWhitespaceInChangesDiff:this.hideWhitespaceInChangesDiff,hideWhitespaceInHistoryDiff:this.hideWhitespaceInHistoryDiff,showSideBySideDiff:this.showSideBySideDiff,selectedShell:this.selectedShell,repositoryFilterText:this.repositoryFilterText,resolvedExternalEditor:this.resolvedExternalEditor,selectedCloneRepositoryTab:this.selectedCloneRepositoryTab,selectedBranchesTab:this.selectedBranchesTab,selectedTheme:this.selectedTheme,customTheme:this.customTheme,currentTheme:this.currentTheme,apiRepositories:this.apiRepositoriesStore.getState(),useWindowsOpenSSH:this.useWindowsOpenSSH,optOutOfUsageTracking:this.statsStore.getOptOut(),currentOnboardingTutorialStep:this.currentOnboardingTutorialStep,repositoryIndicatorsEnabled:this.repositoryIndicatorsEnabled,commitSpellcheckEnabled:this.commitSpellcheckEnabled,dragAndDropIntroTypesShown:this.dragAndDropIntroTypesShown,currentDragElement:this.currentDragElement,lastThankYou:this.lastThankYou,showCIStatusPopover:this.showCIStatusPopover,notificationsEnabled:jc()}}onGitStoreUpdated(e,t){const n=this.repositoryStateCache.get(e);this.repositoryStateCache.updateBranchesState(e,r=>{let{currentPullRequest:i}=r;const{tip:o,currentRemote:s}=t;if(!function(e,t){if(e===t)return!0;const n=e.kind;switch(e.kind){case si.Unknown:return e.kind===t.kind;case si.Unborn:return e.kind===t.kind&&e.ref===t.ref;case si.Detached:return e.kind===t.kind&&e.currentSha===t.currentSha;case si.Valid:return e.kind===t.kind&&function(e,t){return e.type===t.type&&e.tip.sha===t.tip.sha&&e.upstreamRemoteName===t.upstreamRemoteName&&e.upstream===t.upstream}(e.branch,t.branch);default:return Ze(0,"Unknown tip state "+n)}}(r.tip,o)||(a=n.remote)!==(l=s)&&(null===a||null===l||a.name!==l.name||a.url!==l.url))if(o.kind!==si.Valid||null===s)i=null;else{const{branch:t}=o;if(!i||!Ks(t,i,s)){i=$s(t,r.openPullRequests,s)}o.kind===si.Valid&&r.tip.kind===si.Valid&&o.branch.name!==r.tip.branch.name&&this.refreshBranchProtectionState(e)}var a,l;return{tip:t.tip,defaultBranch:t.defaultBranch,allBranches:t.allBranches,recentBranches:t.recentBranches,pullWithRebase:t.pullWithRebase,currentPullRequest:i}});let r=!1,i=!1;this.repositoryStateCache.updateChangesState(e,e=>{const n=t.currentBranchStashEntry;return e.selection.kind===We.Stash&&null!==e.stashEntry&&(null===n?r=!0:e.stashEntry.stashSha!==n.stashSha&&(i=!0)),{commitMessage:t.commitMessage,showCoAuthoredBy:t.showCoAuthoredBy,coAuthors:t.coAuthors,stashEntry:n}}),this.repositoryStateCache.update(e,()=>({commitLookup:t.commitLookup,localCommitSHAs:t.localCommitSHAs,localTags:t.localTags,aheadBehind:t.aheadBehind,tagsToPush:t.tagsToPush,remote:t.currentRemote,lastFetched:t.lastFetched})),r?this._selectWorkingDirectoryFiles(e):i?this._selectStashedFile(e):this.emitUpdate()}clearBranchProtectionState(e){this.repositoryStateCache.updateChangesState(e,()=>({currentBranchProtected:!1})),this.emitUpdate()}async refreshBranchProtectionState(e){const{tip:t,currentRemote:n}=this.gitStoreCache.get(e);if(t.kind!==si.Valid||null===e.gitHubRepository)return;const r=e.gitHubRepository,i=zs(t,n,r);if(null!==i){const t=Bn(this.accounts,r.endpoint);if(null===t)return;if(!yi(r))return this.repositoryStateCache.updateChangesState(e,()=>({currentBranchProtected:!1})),void this.emitUpdate();const n=r.name,o=r.owner.login,s=Pn.fromAccount(t),a=!function(e){const{allow_actor:t,required_status_checks:n,required_approving_review_count:r}=e,i=Array.isArray(n)?n.length:0;return!1!==t&&(0===i&&0===r)}(await s.fetchPushControl(o,n,i));this.repositoryStateCache.updateChangesState(e,()=>({currentBranchProtected:a})),this.emitUpdate()}}clearSelectedCommit(e){this.repositoryStateCache.updateCommitSelection(e,()=>({shas:[],file:null,changesetData:{files:[],linesAdded:0,linesDeleted:0},diff:null}))}async _changeCommitSelection(e,t){const{commitSelection:n}=this.repositoryStateCache.get(e);n.shas.length===t.length&&n.shas.every((e,n)=>e===t[n])||(this.repositoryStateCache.updateCommitSelection(e,()=>({shas:t,file:null,changesetData:{files:[],linesAdded:0,linesDeleted:0},diff:null})),this.emitUpdate())}updateOrSelectFirstCommit(e,t){const n=this.repositoryStateCache.get(e);let r=1===n.commitSelection.shas.length?n.commitSelection.shas[0]:null;if(null!=r){t.findIndex(e=>e===r)<0&&(r=null,this.clearSelectedCommit(e))}0===n.commitSelection.shas.length&&t.length>0&&(this._changeCommitSelection(e,[t[0]]),this._loadChangedFilesForCurrentSelection(e))}async _initializeCompare(e,t){const n=this.repositoryStateCache.get(e),{branchesState:r,compareState:i}=n,{tip:o}=r,s=o.kind===si.Valid?o.branch:null,a=r.allBranches.filter(e=>e.name!==(null==s?void 0:s.name)&&!e.isDesktopForkRemoteBranch),l=s?r.recentBranches.filter(e=>e.name!==s.name):r.recentBranches,c=r.defaultBranch,u=null!=s&&null!=c&&s.name!==c.name?c:null;this.repositoryStateCache.updateCompareState(e,()=>({branches:a,recentBranches:l,defaultBranch:u}));const h=i.formState,p=null!=t?t:function(e){if(e.kind===ze.History)return{kind:ze.History};const{comparisonMode:t,comparisonBranch:n}=e;return{kind:ze.Compare,comparisonMode:t,branch:n}}(h);this._executeCompare(e,p)}async _executeCompare(e,t){const n=this.gitStoreCache.get(e),r=t.kind;if(t.kind===ze.History){const{tip:t}=n;let r=null;t.kind===si.Valid?r=t.branch.tip.sha:t.kind===si.Detached&&(r=t.currentSha);const{compareState:i}=this.repositoryStateCache.get(e),{formState:o,commitSHAs:s}=i,a=i.tip;if(null!==r&&null!==a&&r===a&&o.kind===ze.History&&s.length>0)return;const l=await n.loadCommitBatch("HEAD",0);if(null===l)return;const c={kind:ze.History};return this.repositoryStateCache.updateCompareState(e,()=>({tip:r,formState:c,commitSHAs:l,filterText:"",showBranchList:!1})),this.updateOrSelectFirstCommit(e,l),this.emitUpdate()}return t.kind===ze.Compare?this.updateCompareToBranch(e,t):Ze(0,"Unknown action: "+r)}async updateCompareToBranch(e,t){const n=this.gitStoreCache.get(e),r=t.branch,i=await n.getCompareCommits(r,t.comparisonMode);this.statsStore.recordBranchComparison();const{branchesState:o}=this.repositoryStateCache.get(e);if(null!==o.defaultBranch&&r.name===o.defaultBranch.name&&this.statsStore.recordDefaultBranchComparison(),null==i)return;const{ahead:s,behind:a}=i,l={ahead:s,behind:a},c=i.commits.map(e=>e.sha),u={kind:ze.Compare,comparisonBranch:r,comparisonMode:t.comparisonMode,aheadBehind:l};this.repositoryStateCache.updateCompareState(e,e=>({formState:u,filterText:r.name,commitSHAs:c}));const h=n.tip,p={kind:Is.Loading};if(this.repositoryStateCache.updateCompareState(e,()=>({mergeStatus:p})),this.emitUpdate(),this.updateOrSelectFirstCommit(e,c),null!=this.currentMergeTreePromise)return this.currentMergeTreePromise;if(h.kind===si.Valid&&l.behind>0){const n=jo(()=>nl(e,h.branch,t.branch),500).catch(e=>(log.warn(`Error occurred while trying to merge ${h.branch.name} (${h.branch.tip.sha}) and ${t.branch.name} (${t.branch.tip.sha})`,e),null)).then(t=>{this.repositoryStateCache.updateCompareState(e,()=>({mergeStatus:t})),this.emitUpdate()}),r=()=>{this.currentMergeTreePromise=null};return n.then(r,r),this.currentMergeTreePromise=n,this.currentMergeTreePromise}return this.repositoryStateCache.updateCompareState(e,()=>({mergeStatus:null})),this.emitUpdate()}_updateCompareForm(e,t){this.repositoryStateCache.updateCompareState(e,e=>Cr(e,t)),this.emitUpdate()}async _loadNextCommitBatch(e){const t=this.gitStoreCache.get(e),n=this.repositoryStateCache.get(e),{formState:r}=n.compareState;if(r.kind===ze.History){const r=n.compareState.commitSHAs,i=await t.loadCommitBatch("HEAD",r.length);if(null==i)return;this.repositoryStateCache.updateCompareState(e,()=>({commitSHAs:r.concat(i)})),this.emitUpdate()}}async _loadChangedFilesForCurrentSelection(e){const t=this.repositoryStateCache.get(e),{commitSelection:n}=t,r=n.shas;if(1!==r.length)return;const i=this.gitStoreCache.get(e),o=await i.performFailableOperation(()=>ss(e,r[0]));if(!o)return;if(n.shas.length!==r.length||n.shas[0]!==r[0])return;const s=null===n.file&&o.files.length?o.files[0]:n.file;this.repositoryStateCache.updateCommitSelection(e,()=>({file:s,changesetData:o,diff:null})),this.emitUpdate(),null!==s&&this._changeFileSelection(e,s)}async _setRepositoryFilterText(e){this.repositoryFilterText=e,this.emitUpdate()}async _changeFileSelection(e,t){this.repositoryStateCache.updateCommitSelection(e,()=>({file:t,diff:null})),this.emitUpdate();const n=this.repositoryStateCache.get(e).commitSelection.shas;if(0===n.length)return void 0;if(n.length>1)return;const r=await _l(e,t,n[0],this.hideWhitespaceInHistoryDiff),i=this.repositoryStateCache.get(e),{shas:o}=i.commitSelection;o.length===n.length&&o[0]===n[0]&&i.commitSelection.file&&i.commitSelection.file.id===t.id&&(this.repositoryStateCache.updateCommitSelection(e,()=>({diff:r})),this.emitUpdate())}async _selectRepository(e){const t=this.selectedRepository;if(!(this.currentOnboardingTutorialStep!==Ns.NotApplicable)||e instanceof vi&&e.isTutorialRepository||(this.currentOnboardingTutorialStep=Ns.NotApplicable),this.selectedRepository=e,this.emitUpdate(),this.stopBackgroundFetching(),this.stopPullRequestUpdater(),this._clearBanner(),this.stopBackgroundPruner(),null==e)return Promise.resolve(null);if(!(e instanceof vi))return Promise.resolve(null);Ct("last-selected-repository-id",e.id);const n=t?t.id:null;this.updateRecentRepositories(n,e.id);const r=await this.recoverMissingRepository(e);return r.missing?(this.gitStoreCache.remove(e),Promise.resolve(null)):(this.updateBranchProtectionsFromAPI(e),this.notificationsStore.selectRepository(e),this._selectRepositoryRefreshTasks(r,t))}updateRecentRepositories(e,t){if(e===t)return;const n=St("recently-selected-repositories").filter(n=>n!==t&&n!==e);null!==e&&n.unshift(e);const r=n.slice(0,3);Et("recently-selected-repositories",r),this.recentRepositories=r,this.emitUpdate()}async _selectRepositoryRefreshTasks(e,t){if(this._refreshRepository(e),bi(e)){const t=Ei(e);this._refreshIssues(t),this.refreshMentionables(t),this.pullRequestCoordinator.getAllPullRequests(e).then(t=>{this.onPullRequestChanged(e,t)})}return this.selectedRepository!==e?null:(this.stopBackgroundFetching(),this.stopPullRequestUpdater(),this.stopBackgroundPruner(),this.startBackgroundFetching(e,!t),this.startPullRequestUpdater(e),this.startBackgroundPruner(e),this.addUpstreamRemoteIfNeeded(e),this.repositoryWithRefreshedGitHubRepository(e))}stopBackgroundPruner(){const e=this.currentBranchPruner;null!==e&&(e.stop(),this.currentBranchPruner=null)}startBackgroundPruner(e){null!==this.currentBranchPruner&&Ye("A branch pruner is already active and cannot start updating on "+e.name);const t=new Os(e,this.gitStoreCache,this.repositoriesStore,this.repositoryStateCache,e=>this._refreshRepository(e));this.currentBranchPruner=t,this.currentBranchPruner.start()}async _refreshIssues(e){const t=Bn(this.accounts,e.endpoint);if(t)try{await this.issuesStore.refreshIssues(e,t)}catch(t){log.warn("Unable to fetch issues for "+e.fullName,t)}}stopBackgroundFetching(){const e=this.currentBackgroundFetcher;e&&(e.stop(),this.currentBackgroundFetcher=null)}refreshMentionables(e){const t=Bn(this.accounts,e.endpoint);t&&this.gitHubUserStore.updateMentionables(e,t)}startPullRequestUpdater(e){if(this.appIsFocused&&bi(e)){const t=co(this.accounts,e);if(null!==t)return this.pullRequestCoordinator.startPullRequestUpdater(e,t)}this.pullRequestCoordinator.stopPullRequestUpdater()}stopPullRequestUpdater(){this.pullRequestCoordinator.stopPullRequestUpdater()}async fetchPullRequest(e,t){const n=function(e){const t=Mt.parse(e);return"github.com"===t.hostname?Nn():`${t.protocol}//${t.hostname}/api`}(e),r=Bn(this.accounts,n);if(r){const n=Pn.fromAccount(r),i=Un(e);if(i&&i.owner&&i.name)return await n.fetchPullRequest(i.owner,i.name,t)}return null}async shouldBackgroundFetch(e,t){const n=this.gitStoreCache.get(e),r=await n.updateLastFetched();if(null===r)return!0;const i=(new Date).getTime()-r.getTime(),o=Ci(e);if(i<18e5){const e=Math.floor(i/1e3);return log.debug(`Skipping background fetch as '${o}' was fetched ${e}s ago`),!1}return null===t||(r<t||(log.debug(`Skipping background fetch since nothing has been pushed to '${o}' since the last fetch at ${r}`),!1))}startBackgroundFetching(e,t){this.currentBackgroundFetcher&&Ye(`We should only have on background fetcher active at once, but we're trying to start background fetching on ${e.name} while another background fetcher is still active!`);const n=co(this.accounts,e);if(!n)return;if(!e.gitHubRepository)return;const r=new zo(e,n,e=>this.performFetch(e,n,ti.BackgroundTask),e=>this.shouldBackgroundFetch(e,null));r.start(t),this.currentBackgroundFetcher=r}async loadInitialState(){var e,t;const[n,r]=await Promise.all([this.accountsStore.getAll(),this.repositoriesStore.getAll()]);log.info(`[AppStore] loading ${r.length} repositories from store`),n.forEach(e=>{log.info(`[AppStore] found account: ${e.login} (${e.name})`)}),this.accounts=n,this.repositories=r,this.updateRepositorySelectionAfterRepositoriesChanged(),this.sidebarWidth=zc(wt("sidebar-width",250)),this.commitSummaryWidth=zc(wt("commit-summary-width",250)),this.stashedFilesWidth=zc(wt("stashed-files-width",250)),this.updateResizableConstraints(),this.askToMoveToApplicationsFolderSetting=vt("askToMoveToApplicationsFolder",!0),this.askForConfirmationOnRepositoryRemoval=vt("confirmRepoRemoval",!0),this.confirmDiscardChanges=vt("confirmDiscardChanges",!0),this.confirmDiscardChangesPermanently=vt("confirmDiscardChangesPermanentlyKey",!0),this.askForConfirmationOnForcePush=vt("confirmForcePush",!0),this.uncommittedChangesStrategy=null!==(e=function(e,t){const n=localStorage.getItem(e);return null===n?void 0:yt(t,n)}("uncommittedChangesStrategyKind",Ms))&&void 0!==e?e:Fs,this.updateSelectedExternalEditor(await this.lookupSelectedExternalEditor()).catch(e=>log.error("Failed resolving current editor at startup",e));const i=localStorage.getItem("shell");this.selectedShell=i?Lo(i):No,this.updateMenuLabelsForSelectedRepository();const o=localStorage.getItem("image-diff-type");this.imageDiffType=null===o?Wc:parseInt(o),this.hideWhitespaceInChangesDiff=vt("hide-whitespace-in-changes-diff",!1),this.hideWhitespaceInHistoryDiff=vt("hide-whitespace-in-diff",!1),this.commitSpellcheckEnabled=vt("commit-spellcheck-enabled",!0),this.showSideBySideDiff=Fa(),this.selectedTheme=Rr(),this.customTheme=xt("custom-theme-key"),Ar(this.selectedTheme),this.currentTheme=this.selectedTheme!==Dr.HighContrast?await Tr():this.selectedTheme,Pi.onThemeChanged(e=>{this.currentTheme=e,this.emitUpdate()});const s=vt("has-shown-cherry-pick-intro",!1),a=null!==(t=xt("drag-and-drop-intro-types-shown"))&&void 0!==t?t:[];s&&a.push(oc.CherryPick),this.dragAndDropIntroTypesShown=new Set(a),this.lastThankYou=xt("version-and-users-of-last-thank-you"),this.emitUpdateNow(),this.accountsStore.refresh()}updateResizableConstraints(){let e=window.innerWidth;const t=e-460;this.sidebarWidth=zc(this.sidebarWidth,220,t),e-=Do(this.sidebarWidth);const n=e-150;this.commitSummaryWidth=zc(this.commitSummaryWidth,100,n),this.stashedFilesWidth=zc(this.stashedFilesWidth,100,n)}updateSelectedExternalEditor(e){return this.selectedExternalEditor=e,this._resolveCurrentEditor()}async lookupSelectedExternalEditor(){const e=(await Yi()).map(e=>e.editor),t=localStorage.getItem("externalEditor");if(t&&e.includes(t))return t;if(e.length){const t=e[0];return localStorage.setItem("externalEditor",t),t}return null}updateMenuLabelsForSelectedRepository(){const{selectedState:e}=this.getState();null!==e&&e.type===He.Repository?this.updateMenuItemLabels(e.state):this.updateMenuItemLabels(null)}updateMenuItemLabels(e){const{selectedShell:t,selectedExternalEditor:n,askForConfirmationOnRepositoryRemoval:r,askForConfirmationOnForcePush:i}=this,o={selectedShell:t,selectedExternalEditor:n,askForConfirmationOnRepositoryRemoval:r,askForConfirmationOnForcePush:i};if(null===e)return void te(o);const{changesState:s,branchesState:a,aheadBehind:l}=e,{defaultBranch:c,currentPullRequest:u}=a,h=null===c||null===c.upstreamWithoutRemote?void 0:c.upstreamWithoutRemote,p=To(a,l),d=s.selection.kind===We.Stash,f=null!==s.stashEntry;te(Object.assign(Object.assign({},o),{defaultBranchName:h,isForcePushForCurrentRepository:p,isStashedChangesVisible:d,hasCurrentPullRequest:null!==u,askForConfirmationWhenStashingAllChanges:f}))}updateRepositorySelectionAfterRepositoriesChanged(){const e=this.selectedRepository;let t=this.selectedRepository;if(e){t=this.repositories.find(t=>t.constructor===e.constructor&&t.id===e.id)||null}if(null===t&&this.repositories.length>0){const e=wt("last-selected-repository-id",0);e>0&&(t=this.repositories.find(t=>t.id===e)||null),t||(t=this.repositories[0])}(e&&t&&e.hash!==t.hash||e&&!t||!e&&t)&&(this._selectRepository(t),this.emitUpdate())}async _loadStatus(e,t=!1){const n=this.gitStoreCache.get(e),r=await n.loadStatus();return null===r?null:(this.repositoryStateCache.updateChangesState(e,e=>function(e,t,n){const r=new Map;e.workingDirectory.files.forEach(e=>r.set(e.id,e));const i=t.workingDirectory.files.map(e=>{const t=r.get(e.id);return t?n&&t.selection.getSelectionType()===Qr.Partial?e.withIncludeAll(!1):e.withSelection(t.selection):e}).sort((e,t)=>qn(e.path,t.path)),o=new Set(i.map(e=>e.id)),s=Oi.fromFiles(i),a=e.selection.kind;if(e.selection.kind===We.WorkingDirectory){let t=e.selection.selectedFileIDs.filter(e=>o.has(e));0===t.length&&i.length>0&&(t=[i[0].id]);const n=1===t.length&&1===e.selection.selectedFileIDs.length&&e.selection.selectedFileIDs[0]===t[0]?e.selection.diff:null;return{workingDirectory:s,selection:{kind:We.WorkingDirectory,selectedFileIDs:t,diff:n}}}return e.selection.kind===We.Stash?{workingDirectory:s,selection:e.selection}:Ze(e.selection,"Unknown selection kind "+a)}(e,r,t)),this.repositoryStateCache.updateChangesState(e,e=>({conflictState:Ts(e,r,this.statsStore)})),this.updateMultiCommitOperationConflictsIfFound(e),await this.initializeMultiCommitOperationIfConflictsFound(e,r),this.selectedRepository===e&&this._triggerConflictsFlow(e,r),this.emitUpdate(),this.updateChangesWorkingDirectoryDiff(e),r)}async initializeMultiCommitOperationIfConflictsFound(e,t){const n=this.repositoryStateCache.get(e),{changesState:{conflictState:r},multiCommitOperationState:i,branchesState:o}=n;if(null===r)return void this.clearConflictsFlowVisuals(n);if(null!==i)return;let s,a=null,l=[],c="",u=void 0;if(o.tip.kind===si.Valid&&(a=o.tip.branch,c=a.tip.sha),Ve(r))s={kind:"Merge",isSquash:t.squashMsgFound,sourceBranch:null},c=null!==a?a.tip.sha:null;else if($e(r)){const t=await $l(e),n=await Vl(e);if(null===t||null===n)return;c=n.originalBranchTip,l=t.commits,u=t.progress,s={kind:"Rebase",sourceBranch:null,commits:l,currentTip:n.baseBranchTip};const r=await ls(e,n.originalBranchTip);null!==r&&(a=new $r(n.targetBranch,null,r,zr.Local,"refs/heads/"+n.targetBranch))}else if(Ke(r)){const t=await cc(e);if(null===t)return;c=null,l=t.commits,u=t.progress,s={kind:"Cherry-pick",sourceBranch:null,branchCreated:!1,commits:l},this.repositoryStateCache.updateMultiCommitOperationUndoState(e,()=>({undoSha:t.targetBranchUndoSha,branchName:""}))}else Ze(0,"Unsupported conflict kind");this._initializeMultiCommitOperation(e,s,a,l,c,!1),void 0!==u&&this.repositoryStateCache.updateMultiCommitOperationState(e,()=>({progress:u}))}updateMultiCommitOperationConflictsIfFound(e){const t=this.repositoryStateCache.get(e),{changesState:n,multiCommitOperationState:r}=this.repositoryStateCache.get(e),{conflictState:i}=n;if(null===i||null===r)return void this.clearConflictsFlowVisuals(t);const{step:o,operationDetail:s}=r;if("ShowConflicts"!==o.kind)return;const{manualResolutions:a}=i;if(this.repositoryStateCache.updateMultiCommitOperationState(e,()=>({step:Object.assign(Object.assign({},o),{manualResolutions:a})})),$e(i)){const{currentTip:t}=i;this.repositoryStateCache.updateMultiCommitOperationState(e,()=>({operationDetail:Object.assign(Object.assign({},s),{currentTip:t})}))}}async _triggerConflictsFlow(e,t){const n=this.repositoryStateCache.get(e),{changesState:{conflictState:r},multiCommitOperationState:i}=n;if(null===r)return void this.clearConflictsFlowVisuals(n);if(null===i)return;if(null!==this.currentBanner&&this.currentBanner.type===Ps.ConflictsFound||function(e,t){return null!==e&&e.type===ai.MultiCommitOperation&&null!==t&&yc.includes(t.step.kind)}(this.currentPopup,i))return;const{manualResolutions:o}=r;let s,a;Ve(r)?(a=await this.getMergeConflictsTheirBranch(e,t.squashMsgFound,i),s=r.currentBranch):$e(r)?(a=r.targetBranch,s=r.baseBranch):Ke(r)?(null!==i&&"Cherry-pick"===i.operationDetail.kind&&null!==i.operationDetail.sourceBranch&&(a=i.operationDetail.sourceBranch.name),s=r.targetBranchName):Ze(0,"Unsupported conflict kind"),this._setMultiCommitOperationStep(e,{kind:"ShowConflicts",conflictState:{kind:"multiCommitOperation",manualResolutions:o,ourBranch:s,theirBranch:a}}),this._showPopup({type:ai.MultiCommitOperation,repository:e})}async getMergeConflictsTheirBranch(e,t,n){let r;if(null!==n&&"Merge"===n.operationDetail.kind&&null!==n.operationDetail.sourceBranch&&(r=n.operationDetail.sourceBranch.name),void 0===r&&!t){const t=await async function(e,t){const n=["branch","--points-at="+t,"--format=%(refname:short)"],{stdout:r,exitCode:i}=await pd(n,e.path,"branchPointedAt",{successExitCodes:new Set([0,1,129])});if(1===i||129===i)return null;return r.split("\n").slice(0,-1)}(e,"MERGE_HEAD");if(null===t)return;r=1===t.length?t[0]:void 0}return r}clearConflictsFlowVisuals(e){const{multiCommitOperationState:t}=e;(function(e,t){if(null===e||null===t)return!1;if(e.type!==ai.MultiCommitOperation)return!1;if("ChooseBranch"===t.step.kind||"WarnForcePush"===t.step.kind||"ShowProgress"===t.step.kind)return!0;return!1})(this.currentPopup,t)||(this._closePopup(ai.MultiCommitOperation),this._clearBanner(Ps.ConflictsFound),this._clearBanner(Ps.MergeConflictsFound))}async _changeRepositorySection(e,t){return this.repositoryStateCache.update(e,e=>(e.selectedSection!==t&&this.statsStore.recordRepositoryViewChanged(),{selectedSection:t})),this.emitUpdate(),t===je.History?this.refreshHistorySection(e):t===je.Changes?this.refreshChangesSection(e,{includingStatus:!0,clearPartialState:!1}):void 0}async _selectWorkingDirectoryFiles(e,t){this.repositoryStateCache.updateChangesState(e,e=>function(e,t){let n;if(void 0===t){if(e.selection.kind===We.WorkingDirectory)return{selection:e.selection};n=e.workingDirectory.files.length>0?[e.workingDirectory.files[0].id]:new Array}else n=t.map(e=>e.id);return{selection:{kind:We.WorkingDirectory,selectedFileIDs:n,diff:null}}}(e,t)),this.updateMenuLabelsForSelectedRepository(),this.emitUpdate(),this.updateChangesWorkingDirectoryDiff(e)}async updateChangesWorkingDirectoryDiff(e){const t=this.repositoryStateCache.get(e).changesState;if(t.selection.kind!==We.WorkingDirectory)return;const n=t.selection,r=n.selectedFileIDs;if(1!==r.length)return void(null!==n.diff&&(this.repositoryStateCache.updateChangesState(e,()=>({selection:Object.assign(Object.assign({},n),{diff:null})})),this.emitUpdate()));const i=r[0],o=t.workingDirectory.findFileWithID(i);if(null===o)return;const s=await Tl(e,o,this.hideWhitespaceInChangesDiff),a=this.repositoryStateCache.get(e).changesState;if(a.selection.kind!==We.WorkingDirectory||!js(a.selection.selectedFileIDs,r))return;const l=a.selection.selectedFileIDs[0];if(l!==i)return;const c=a.workingDirectory.findFileWithID(l);if(null===c)return;const u=new Set;s.kind!==Zr.Text&&s.kind!==Zr.LargeText||s.hunks.forEach(e=>{e.lines.forEach((t,n)=>{t.isIncludeableLine()&&u.add(e.unifiedDiffStart+n)})});const h=c.selection.withSelectableLines(u),p=c.withSelection(h),d=a.workingDirectory.files.map(e=>e.id===p.id?p:e),f=Oi.fromFiles(d),m=Object.assign(Object.assign({},a.selection),{diff:s});this.repositoryStateCache.updateChangesState(e,()=>({selection:m,workingDirectory:f})),this.emitUpdate()}_hideStashedChanges(e){const{changesState:t}=this.repositoryStateCache.get(e);t.selection.kind===We.Stash&&(this.repositoryStateCache.updateChangesState(e,e=>{const t=e.workingDirectory.files.filter(e=>e.selection.getSelectionType()!==Qr.None).map(e=>e.id);return{selection:{kind:We.WorkingDirectory,diff:null,selectedFileIDs:t}}}),this.emitUpdate(),this.updateMenuLabelsForSelectedRepository())}async _selectStashedFile(e,t){this.repositoryStateCache.update(e,()=>({selectedSection:je.Changes})),this.repositoryStateCache.updateChangesState(e,e=>{let n=null;const{stashEntry:r,selection:i}=e,o=i.kind===We.Stash?i.selectedStashedFile:null,s=null!==r&&r.files.kind===es.Loaded?r.files.files:[];return void 0===t?n=null!==o?s.find(e=>e.id===o.id)||s[0]||null:s[0]||null:null!==t&&(n=s.find(e=>e.id===t.id)||null),{selection:{kind:We.Stash,selectedStashedFile:n,selectedStashedFileDiff:null}}}),this.updateMenuLabelsForSelectedRepository(),this.emitUpdate(),this.updateChangesStashDiff(e),this.hasUserViewedStash||(this.statsStore.recordStashViewedAfterCheckout(),this.hasUserViewedStash=!0)}async updateChangesStashDiff(e){const t=this.repositoryStateCache.get(e).changesState,n=t.selection;if(n.kind!==We.Stash)return;const r=t.stashEntry;if(null===r)return;let i=n.selectedStashedFile;if(null===i&&r.files.kind===es.Loaded&&r.files.files.length>0&&(i=r.files.files[0]),null===i)return this.repositoryStateCache.updateChangesState(e,()=>({selection:{kind:We.Stash,selectedStashedFile:null,selectedStashedFileDiff:null}})),void this.emitUpdate();const o=await _l(e,i,i.commitish),s=this.repositoryStateCache.get(e).changesState;s.selection.kind===We.Stash&&s.selection.selectedStashedFile===n.selectedStashedFile&&(this.repositoryStateCache.updateChangesState(e,()=>({selection:{kind:We.Stash,selectedStashedFile:i,selectedStashedFileDiff:o}})),this.emitUpdate())}async _commitIncludedChanges(e,t){const n=this.repositoryStateCache.get(e),r=n.changesState.workingDirectory.files.filter(e=>e.selection.getSelectionType()!==Qr.None),i=this.gitStoreCache.get(e);return this.withIsCommitting(e,async()=>{const o=await i.performFailableOperation(async()=>{const n=await ro(e,t);return Md(e,n,r,t.amend)});return void 0!==o&&(await this._recordCommitStats(i,e,n,t,r,!0===t.amend),this.repositoryStateCache.update(e,()=>({commitToAmend:null})),await this.refreshChangesSection(e,{includingStatus:!0,clearPartialState:!0}),this._refreshRepositoryAfterCommit(e,o,n.commitToAmend)),void 0!==o})}async _refreshRepositoryAfterCommit(e,t,n){await this._refreshRepository(e);const r=null==n?void 0:n.sha;if(void 0!==r&&t!==r){const t=this.repositoryStateCache.get(e).branchesState.tip;t.kind===si.Valid&&this._addBranchToForcePushList(e,t,r)}}async _recordCommitStats(e,t,n,r,i,o){this.statsStore.recordCommit();i.some(e=>e.selection.getSelectionType()===Qr.Partial)&&this.statsStore.recordPartialCommit(),o&&this.statsStore.recordAmendCommitSuccessful(i.length>0);const{trailers:s}=r;void 0!==s&&s.some(Qi)&&this.statsStore.recordCoAuthoredCommit();const a=co(this.accounts,t);if(null!==t.gitHubRepository){if(null!==a){a.endpoint===Nn()?this.statsStore.recordCommitToDotcom():this.statsStore.recordCommitToEnterprise();const{commitAuthor:e}=n;null!==e&&(Ma(a,e.email)||this.statsStore.recordUnattributedCommit())}await this.repositoriesStore.hasBranchProtectionsConfigured(t.gitHubRepository)&&this.statsStore.recordCommitToRepositoryWithBranchProtections();if(null!==zs(e.tip,e.currentRemote,t.gitHubRepository)){const{changesState:e}=this.repositoryStateCache.get(t);e.currentBranchProtected&&this.statsStore.recordCommitToProtectedBranch()}null===t.gitHubRepository||yi(t.gitHubRepository)||(this.statsStore.recordCommitToRepositoryWithoutWriteAccess(),this.statsStore.recordRepositoryCommitedInWithoutWriteAccess(t.gitHubRepository.dbID))}}_changeFileIncluded(e,t,n){const r=n?t.selection.withSelectAll():t.selection.withSelectNone();return this.updateWorkingDirectoryFileSelection(e,t,r),Promise.resolve()}_changeFileLineSelection(e,t,n){return this.updateWorkingDirectoryFileSelection(e,t,n),Promise.resolve()}updateWorkingDirectoryFileSelection(e,t,n){this.repositoryStateCache.updateChangesState(e,e=>{const r=e.workingDirectory.files.map(e=>e.id===t.id?e.withSelection(n):e);return{workingDirectory:Oi.fromFiles(r)}}),this.emitUpdate()}_changeIncludeAllFiles(e,t){return this.repositoryStateCache.updateChangesState(e,e=>({workingDirectory:e.workingDirectory.withIncludeAllFiles(t)})),this.emitUpdate(),Promise.resolve()}async _refreshOrRecoverRepository(e){if(!e.missing)return this._refreshRepository(e);{const t=await this.recoverMissingRepository(e);if(!t.missing)return this._refreshRepository(t)}}async recoverMissingRepository(e){if(!e.missing)return e;return await Object(w.pathExists)(e.path)&&await Ud(e.path)&&null!==await this._loadStatus(e)?await this._updateRepositoryMissing(e,!1):e}async _refreshRepository(e){if(e.missing)return;if(!await Object(w.pathExists)(e.path))return void this._updateRepositoryMissing(e,!0);const t=this.repositoryStateCache.get(e),n=this.gitStoreCache.get(e),r=await this._loadStatus(e);if(this.updateSidebarIndicator(e,r),null===r)return void await this._updateRepositoryMissing(e,!0);await n.loadBranches();const i=t.selectedSection;let o;if(i===je.History)o=this.refreshHistorySection(e);else{if(i!==je.Changes)return Ze(0,"Unknown section: "+i);o=this.refreshChangesSection(e,{includingStatus:!1,clearPartialState:!1})}await Promise.all([n.loadRemotes(),n.updateLastFetched(),n.loadStashEntries(),this._refreshAuthor(e),o]),await n.refreshTags(),this.updateStashEntryCountMetric(e,n.desktopStashEntryCount,n.stashEntryCount),this.updateCurrentPullRequest(e);const s=this.repositoryStateCache.get(e);this.updateMenuItemLabels(s),this._initializeCompare(e),this.updateCurrentTutorialStep(e)}async updateStashEntryCountMetric(e,t,n){const r=await this.repositoriesStore.getLastStashCheckDate(e),i=ve()().subtract(24,"hours");if(null==r||i.isAfter(r)){await this.repositoriesStore.updateLastStashCheckDate(e);const r=n-t;this.statsStore.addStashEntriesCreatedOutsideDesktop(r)}}async updateSidebarIndicator(e,t){const n=this.localRepositoryStateLookup;e.missing?n.delete(e.id):null!==t?n.set(e.id,{aheadBehind:t.branchAheadBehind||null,changedFilesCount:t.workingDirectory.files.length}):n.delete(e.id)}fetchForRepositoryIndicator(e){return this.withAuthenticatingUser(e,async(e,t)=>{const n=this.gitStoreCache.get(e);return await this.withPushPullFetch(e,()=>n.fetch(t,!0,t=>this.updatePushPullFetchProgress(e,t))),this.updatePushPullFetchProgress(e,null),n.aheadBehind})}_setRepositoryIndicatorsEnabled(e){this.repositoryIndicatorsEnabled!==e&&(bt("enable-repository-indicators",e),this.repositoryIndicatorsEnabled=e,e?this.repositoryIndicatorUpdater.start():this.repositoryIndicatorUpdater.stop(),this.emitUpdate())}_setCommitSpellcheckEnabled(e){this.commitSpellcheckEnabled!==e&&(bt("commit-spellcheck-enabled",e),this.commitSpellcheckEnabled=e,this.emitUpdate())}_setUseWindowsOpenSSH(e){bt("useWindowsOpenSSH",e),this.useWindowsOpenSSH=e,this.emitUpdate()}_setNotificationsEnabled(e){this.notificationsStore.setNotificationsEnabled(e),this.emitUpdate()}async refreshChangesSection(e,t){t.includingStatus&&await this._loadStatus(e,t.clearPartialState);const n=this.gitStoreCache.get(e),r=this.repositoryStateCache.get(e);if(r.branchesState.tip.kind===si.Valid){const e=r.branchesState.tip.branch;await n.loadLocalCommits(e)}else r.branchesState.tip.kind===si.Unborn&&await n.loadLocalCommits(null)}async refreshHistorySection(e){const t=this.gitStoreCache.get(e),n=this.repositoryStateCache.get(e),r=n.branchesState.tip;return r.kind===si.Valid&&await t.loadLocalCommits(r.branch),this.updateOrSelectFirstCommit(e,n.compareState.commitSHAs)}async _refreshAuthor(e){const t=this.gitStoreCache.get(e),n=await t.performFailableOperation(()=>jd(e))||null;this.repositoryStateCache.update(e,()=>({commitAuthor:n})),this.emitUpdate()}async _showPopup(e){this._closePopup(),this._closeFoldout(Ue.AppMenu),this.currentPopup=e,this.emitUpdate()}_closePopup(e){const t=this.currentPopup;null!=t&&(void 0!==e&&t.type!==e||(t.type===ai.CloneRepository&&this._completeOpenInDesktop(()=>Promise.resolve(null)),this.currentPopup=null,this.emitUpdate()))}async _showFoldout(e){this.currentFoldout=e,this.emitUpdate(),e.type===Ue.Repository&&this.repositoryIndicatorsEnabled&&this.repositoryIndicatorUpdater.start()}async _closeCurrentFoldout(){null!=this.currentFoldout&&(this.currentFoldout=null,this.emitUpdate())}async _closeFoldout(e){null!=this.currentFoldout&&(void 0!==e&&this.currentFoldout.type!==e||(this.currentFoldout=null,this.emitUpdate()))}async _createBranch(e,t,n,r=!1,i=!0){const o=this.gitStoreCache.get(e),s=await o.createBranch(t,n,r);return void 0!==s&&i&&await this._checkoutBranch(e,s),s}async _createTag(e,t,n){const r=this.gitStoreCache.get(e);await r.createTag(t,n)}async _deleteTag(e,t){const n=this.gitStoreCache.get(e);await n.deleteTag(t)}updateCheckoutProgress(e,t){this.repositoryStateCache.update(e,()=>({checkoutProgress:t})),this.selectedRepository instanceof vi&&this.selectedRepository.id===e.id&&this.emitUpdate()}async _checkoutBranch(e,t,n){const r=this.repositoryStateCache.get(e),{changesState:i,branchesState:o}=r,{currentBranchProtected:s,stashEntry:a}=i,{tip:l}=o,c=i.workingDirectory.files.length>0;if(l.kind===si.Valid&&l.branch.name===t.name)return e;let u=null!=n?n:this.uncommittedChangesStrategy;if(void 0===n&&u===Ms.StashOnCurrentBranch&&c&&null!==a){const n=ai.ConfirmOverwriteStash;return this._showPopup({type:n,repository:e,branchToCheckout:t}),e}if((l.kind!==si.Valid||s)&&(u=Ms.MoveToNewBranch),u===Ms.AskForConfirmation&&c){const n=ai.StashAndSwitchBranch;return this._showPopup({type:n,branchToCheckout:t,repository:e}),e}return this.withAuthenticatingUser(e,(e,n)=>this.checkoutImplementation(e,t,n,u).then(()=>this.onSuccessfulCheckout(e,t)).catch(n=>this.emitError(new it(n,e,t))).then(()=>this.refreshAfterCheckout(e,t)).finally(()=>this.updateCheckoutProgress(e,null)))}checkoutImplementation(e,t,n,r){return r===Ms.StashOnCurrentBranch?this.checkoutAndLeaveChanges(e,t,n):r===Ms.MoveToNewBranch?this.checkoutAndBringChanges(e,t,n):this.checkoutIgnoringChanges(e,t,n)}async checkoutIgnoringChanges(e,t,n){await Ll(e,n,t,t=>{this.updateCheckoutProgress(e,t)})}async checkoutAndLeaveChanges(e,t,n){const r=this.repositoryStateCache.get(e),{workingDirectory:i}=r.changesState,{tip:o}=r.branchesState;return o.kind===si.Valid&&i.files.length>0&&(await this.createStashAndDropPreviousEntry(e,o.branch),this.statsStore.recordStashCreatedOnCurrentBranch()),this.checkoutIgnoringChanges(e,t,n)}async checkoutAndBringChanges(e,t,n){try{await this.checkoutIgnoringChanges(e,t,n)}catch(r){if(!function e(t){if(t instanceof rt)return e(t.underlyingError);return t instanceof hd&&t.result.gitError===sr.GitError.LocalChangesOverwritten}(r))throw r;const i=await this.createStashEntry(e,t)?await fs(e,t):null;if(null===i)throw r;await this.checkoutIgnoringChanges(e,t,n),await ys(e,i.stashSha),this.statsStore.recordChangesTakenToNewBranch()}}async onSuccessfulCheckout(e,t){const n=this.repositoryStateCache.get(e),{stashEntry:r}=n.changesState,{defaultBranch:i}=n.branchesState;this.clearBranchProtectionState(e),await this._selectWorkingDirectoryFiles(e),this._initializeCompare(e,{kind:ze.History}),null!==i&&t.name!==i.name&&this.statsStore.recordNonDefaultBranchCheckout(),null===r||this.hasUserViewedStash||this.statsStore.recordStashNotViewedAfterCheckout(),this.hasUserViewedStash=!1}async refreshAfterCheckout(e,t){return this.updateCheckoutProgress(e,{kind:"checkout",title:"Refreshing Repository",value:1,targetBranch:t.name}),await this._refreshRepository(e),e}async _createStashForCurrentBranch(e,t){const n=this.repositoryStateCache.get(e),r=n.branchesState.tip,i=r.kind===si.Valid?r.branch:null,o=null!==n.changesState.stashEntry;return null!==i&&(t&&o?(this._showPopup({type:ai.ConfirmOverwriteStash,branchToCheckout:null,repository:e}),!1):!!await this.createStashAndDropPreviousEntry(e,i)&&(this.statsStore.recordStashCreatedOnCurrentBranch(),await this._refreshRepository(e),!0))}async repositoryWithRefreshedGitHubRepository(e){var t;const n=this.repositoriesStore,r=await this.matchGitHubRepository(e);if(!r)return e;const{account:i,owner:o,name:s}=r,{endpoint:a}=i,l=Pn.fromAccount(i),c=await l.fetchRepository(o,s);if(null===c){if(a!==(null===(t=e.gitHubRepository)||void 0===t?void 0:t.endpoint)){const t=await n.upsertGitHubRepositoryFromMatch(r);return n.setGitHubRepository(e,t)}return e}if(e.gitHubRepository){const t=this.gitStoreCache.get(e);await async function(e,t,n){if(null===e.defaultRemote)return;const r=e.defaultRemote.url,i=n.clone_url,o=Yn(i,e.defaultRemote),s=Mt.parse(r),a=Mt.parse(i),l=null!==s.protocol&&null!==a.protocol&&s.protocol===a.protocol,c=e.defaultRemote&&Yn(t.cloneURL,e.defaultRemote);l&&c&&!o&&await e.setRemoteURL(e.defaultRemote.name,i)}(t,e.gitHubRepository,c)}const u=await n.upsertGitHubRepository(a,c),h=await n.setGitHubRepository(e,u);return await this.refreshBranchProtectionState(h),h}async updateBranchProtectionsFromAPI(e){if(null===e.gitHubRepository)return;const{owner:t,name:n}=e.gitHubRepository,r=Bn(this.accounts,e.gitHubRepository.endpoint);if(null===r)return;const i=Pn.fromAccount(r),o=await i.fetchProtectedBranches(t.login,n);await this.repositoriesStore.updateBranchProtections(e.gitHubRepository,o)}async matchGitHubRepository(e){const t=this.gitStoreCache.get(e);t.defaultRemote||await t.loadRemotes();const n=t.defaultRemote;return null!==n?Vn(this.accounts,n.url):null}_pushError(e){const t=Array.from(this.errors);return t.push(e),this.errors=t,this.emitUpdate(),Promise.resolve()}_clearError(e){return this.errors=this.errors.filter(t=>t!==e),this.emitUpdate(),Promise.resolve()}async _changeRepositoryAlias(e,t){return this.repositoriesStore.updateRepositoryAlias(e,t)}async _renameBranch(e,t,n){const r=this.gitStoreCache.get(e);return await r.performFailableOperation(()=>async function(e,t,n){await pd(["branch","-m",t.nameWithoutRemote,n],e.path,"renameBranch")}(e,t,n)),this._refreshRepository(e)}async _deleteBranch(e,t,n,r){return this.withAuthenticatingUser(e,async(i,o)=>{const s=this.gitStoreCache.get(i);if(t.type===zr.Remote){const{remoteName:e,tip:n,nameWithoutRemote:r}=t;if(null===e)throw new Error(`Could not determine remote name from: ${t.ref}.`);return await s.performFailableOperation(()=>Od(i,o,e,r)),log.info(`Deleted branch ${t.upstreamWithoutRemote} (was ${n.sha})`),this._refreshRepository(i)}const a=null!=r?r:this.getBranchToCheckoutAfterDelete(t,i);return null!==a&&await s.performFailableOperation(()=>Ll(i,o,a)),await s.performFailableOperation(()=>this.deleteLocalBranchAndUpstreamBranch(e,t,o,n)),this._refreshRepository(i)})}async deleteLocalBranchAndUpstreamBranch(e,t,n,r){await Ad(e,t.name),!0===r&&null!==t.upstreamRemoteName&&null!==t.upstreamWithoutRemote&&await Od(e,n,t.upstreamRemoteName,t.upstreamWithoutRemote)}getBranchToCheckoutAfterDelete(e,t){var n;const{branchesState:r}=this.repositoryStateCache.get(t),i=r.tip,o=i.kind===si.Valid?i.branch:null;if(null!==o&&e.name!==o.name)return null;const s=null!==(n=r.defaultBranch)&&void 0!==n?n:r.recentBranches.find(t=>t.name!==e.name);if(void 0===s)throw new Error("It's not possible to delete the only existing branch in a repository.");return s}updatePushPullFetchProgress(e,t){this.repositoryStateCache.update(e,()=>({pushPullFetchProgress:t})),this.selectedRepository===e&&this.emitUpdate()}async _push(e,t){return this.withAuthenticatingUser(e,(e,n)=>this.performPush(e,n,t))}async performPush(e,t,n){const r=this.repositoryStateCache.get(e),{remote:i}=r;if(null!==i)return this.withPushPullFetch(e,async()=>{const{tip:o}=r.branchesState;if(o.kind===si.Unborn)throw new Error("The current branch is unborn.");if(o.kind===si.Detached)throw new Error("The current repository is in a detached HEAD state.");if(o.kind===si.Valid){const{branch:r}=o,s=r.upstreamRemoteName||i.name,a=" "+s;this.updatePushPullFetchProgress(e,{kind:"push",title:a,value:0,remote:s,branch:r.name});let l=2.5,c=1;const u=.1,h=1/(l+c)*(1-u);l*=h,c*=h;const p={type:tt.Push,repository:e},d={name:s,url:i.url};d.name!==i.name&&Yp("remoteNameMismatch",new Error("The current remote name differs from the branch remote"));const f=this.gitStoreCache.get(e);await f.performFailableOperation(async()=>{await async function(e,t,n,r,i,o,s={forceWithLease:!1},a){const l=[...await yd(e,t),"push",n.name,i?`${r}:${i}`:r];null!==o&&l.push(...o);i?!0===s.forceWithLease&&l.push("--force-with-lease"):l.push("--set-upstream");const c=new Set(wa);c.add(sr.GitError.ProtectedBranchForcePush);let u={env:await ka(t,n.url),expectedErrors:c};if(a){l.push("--progress");const e=" "+n.name,t="push";u=await ya(Object.assign(Object.assign({},u),{trackLFSProgress:!0}),new ra,i=>{const o="progress"===i.kind?i.details.text:i.text,s=i.percent;a({kind:t,title:e,description:o,value:s,remote:n.name,branch:r})}),a({kind:"push",title:e,value:0,remote:n.name,branch:r})}const h=await pd(l,e.path,"push",u);if(h.gitErrorDescription)throw new hd(h,l)}(e,t,d,r.name,r.upstreamWithoutRemote,f.tagsToPush,n,t=>{this.updatePushPullFetchProgress(e,Object.assign(Object.assign({},t),{title:a,value:l*t.value}))}),f.clearTagsToPush(),await f.fetchRemotes(t,[d],!1,t=>{this.updatePushPullFetchProgress(e,Object.assign(Object.assign({},t),{value:l+t.value*c}))});const i=l+c;this.updatePushPullFetchProgress(e,{kind:"generic",title:"Refreshing Repository",description:"Fast-forwarding branches",value:i}),await this.fastForwardBranches(e),this.updatePushPullFetchProgress(e,{kind:"generic",title:"Refreshing Repository",value:i+.5*u}),await this.refreshBranchProtectionState(e),await this._refreshRepository(e)},{retryAction:p}),this.updatePushPullFetchProgress(e,null),this.updateMenuLabelsForSelectedRepository(),this.statsStore.recordPush(co(this.accounts,e),n)}});this._showPopup({type:ai.PublishRepository,repository:e})}async withIsCommitting(e,t){if(this.repositoryStateCache.get(e).isCommitting)return!1;this.repositoryStateCache.update(e,()=>({isCommitting:!0})),this.emitUpdate();try{return await t()}finally{this.repositoryStateCache.update(e,()=>({isCommitting:!1})),this.emitUpdate()}}async withPushPullFetch(e,t){if(!this.repositoryStateCache.get(e).isPushPullFetchInProgress){this.repositoryStateCache.update(e,()=>({isPushPullFetchInProgress:!0})),this.emitUpdate();try{await t()}finally{this.repositoryStateCache.update(e,()=>({isPushPullFetchInProgress:!1})),this.emitUpdate()}}}async _pull(e){return this.withAuthenticatingUser(e,(e,t)=>this.performPull(e,t))}async performPull(e,t){return this.withPushPullFetch(e,async()=>{const n=this.gitStoreCache.get(e),r=n.currentRemote;if(!r)throw new Error("The repository has no remotes.");const i=this.repositoryStateCache.get(e).branchesState.tip;if(i.kind===si.Unborn)throw new Error("The current branch is unborn.");if(i.kind===si.Detached)throw new Error("The current repository is in a detached HEAD state.");if(i.kind===si.Valid){let o=null,s=void 0;null!==i.branch.upstream&&(o=await tl(e,i.branch.name,i.branch.upstream),s={kind:"pull",theirBranch:i.branch.upstream,currentBranch:i.branch.name});const a="Pulling "+r.name,l="pull";this.updatePushPullFetchProgress(e,{kind:l,title:a,value:0,remote:r.name});try{let i=2,a=1;const l=.1,c=1/(i+a)*(1-l);i*=c,a*=c;const u={type:tt.Pull,repository:e};n.pullWithRebase?this.statsStore.recordPullWithRebaseEnabled():this.statsStore.recordPullWithDefaultSetting(),await n.performFailableOperation(()=>async function(e,t,n,r){let i={env:await ka(t,n.url),expectedErrors:wa};if(r){const e="Pulling "+n.name,t="pull";i=await ya(Object.assign(Object.assign({},i),{trackLFSProgress:!0}),new aa,i=>{if("context"===i.kind&&!i.text.startsWith("remote: Counting objects"))return;const o="progress"===i.kind?i.details.text:i.text,s=i.percent;r({kind:t,title:e,description:o,value:s,remote:n.name})}),r({kind:t,title:e,value:0,remote:n.name})}const o=await async function(e,t,n,r){const i=[...await yd(e,n),"-c","rebase.backend=merge","pull"];Rt()&&i.push("--recurse-submodules");null!=r&&i.push("--progress");return i.push(t),i}(e,n.name,t,r),s=await pd(o,e.path,"pull",i);if(s.gitErrorDescription)throw new hd(s,o)}(e,t,r,t=>{this.updatePushPullFetchProgress(e,Object.assign(Object.assign({},t),{value:t.value*i}))}),{gitContext:s,retryAction:u});const h=i+a,p="Refreshing Repository";this.updatePushPullFetchProgress(e,{kind:"generic",title:p,description:"Fast-forwarding branches",value:h}),await this.fastForwardBranches(e),this.updatePushPullFetchProgress(e,{kind:"generic",title:p,value:h+.5*l}),o&&await n.reconcileHistory(o),await this.refreshBranchProtectionState(e),await this._refreshRepository(e)}finally{this.updatePushPullFetchProgress(e,null)}}})}async fastForwardBranches(e){try{const t=await async function(e){const{formatArgs:t,parse:n}=rs({fullName:"%(refname)",sha:"%(objectname)",upstream:"%(upstream)",symref:"%(symref)",head:"%(HEAD)"}),r=await pd(["for-each-ref",...t,"refs/heads","refs/remotes"],e.path,"getBranchesDifferingFromUpstream",{expectedErrors:new Set([sr.GitError.NotAGitRepository])});if(r.gitError===sr.GitError.NotAGitRepository)return[];const i=[],o=new Map;for(const e of n(r.stdout))if(!(e.symref.length>0||"*"===e.head))if(e.fullName.startsWith("refs/heads")){if(0===e.upstream.length)continue;i.push({ref:e.fullName,sha:e.sha,upstream:e.upstream})}else o.set(e.fullName,e.sha);const s=new Array;for(const e of i){const t=o.get(e.upstream);void 0!==t&&t!==e.sha&&s.push({ref:e.ref,sha:e.sha,upstreamRef:e.upstream,upstreamSha:t})}return s}(e);await async function(e,t){if(0===t.length)return;const n=t.map(e=>`${e.upstreamRef}:${e.ref}`),r={successExitCodes:new Set([0,1]),env:{GIT_REFLOG_ACTION:"pull"},stdin:n.join("\n")};await pd(["fetch",".","--show-forced-updates","--no-write-fetch-head","--stdin"],e.path,"fastForwardBranches",r)}(e,t)}catch(e){log.error("Branch fast-forwarding failed",e)}}async _publishRepository(e,t,n,r,i,o){const s=Pn.fromAccount(i),a=await s.createRepository(o,t,n,r),l=this.gitStoreCache.get(e);return await l.performFailableOperation(()=>_d(e,"origin",a.clone_url)),await l.loadRemotes(),l.tip.kind===si.Valid&&await this.performPush(e,i),this.repositoryWithRefreshedGitHubRepository(e)}getAccountForRemoteURL(e){var t;const n=null===(t=Vn(this.accounts,e))||void 0===t?void 0:t.account;if(void 0!==n){const t=n.token.length>0?"has token":"empty token";return log.info(`[AppStore.getAccountForRemoteURL] account found for remote: ${e} - ${n.login} (${t})`),n}const r=so(e),i=lo(r);return null!=i?(log.info(`[AppStore.getAccountForRemoteURL] found generic credentials for '${r}' and '${i}'`),{login:i,endpoint:r}):(log.info(`[AppStore.getAccountForRemoteURL] no generic credentials found for '${e}'`),null)}_clone(e,t,n){const r=this.getAccountForRemoteURL(e),i=this.cloningRepositoriesStore.clone(e,t,Object.assign(Object.assign({},n),{account:r})),o=this.cloningRepositoriesStore.repositories.find(n=>n.url===e&&n.path===t);return i.then(e=>{e&&this.statsStore.recordCloneRepository()}),{promise:i,repository:o}}_removeCloningRepository(e){this.cloningRepositoriesStore.remove(e)}async _discardChanges(e,t,n=!0){const r=this.gitStoreCache.get(e),{askForConfirmationOnDiscardChangesPermanently:i}=this.getState();try{await r.discardChanges(t,n,i)}catch(e){return e instanceof ot||log.error("Failed discarding changes",e),void this.emitError(e)}return this._refreshRepository(e)}async _discardChangesFromSelection(e,t,n,r){const i=this.gitStoreCache.get(e);return await i.discardChangesFromSelection(t,n,r),this._refreshRepository(e)}_setRepositoryCommitToAmend(e,t){this.repositoryStateCache.update(e,()=>({commitToAmend:t})),this.emitUpdate()}async _undoCommit(e,t,n){const r=this.gitStoreCache.get(e),i=this.repositoryStateCache.get(e),{changesState:o}=i,s=0===o.workingDirectory.files.length;return!n||s&&!t.isMergeCommit?(await this._changeRepositorySection(e,je.Changes),await r.undoCommit(t),this.statsStore.recordCommitUndone(s),this._refreshRepository(e)):this._showPopup({type:ai.WarnLocalChangesBeforeUndo,repository:e,commit:t,isWorkingDirectoryClean:s})}async _resetToCommit(e,t,n){const r=this.gitStoreCache.get(e),i=this.repositoryStateCache.get(e),{changesState:o}=i,s=0===o.workingDirectory.files.length;return n&&!s?this._showPopup({type:ai.WarningBeforeReset,repository:e,commit:t}):(await this._changeRepositorySection(e,je.Changes),await r.performFailableOperation(()=>Id(e,2,t.sha)),this._refreshRepository(e))}async _fetchRefspec(e,t){return this.withAuthenticatingUser(e,async(e,n)=>{const r=this.gitStoreCache.get(e);return await r.fetchRefspec(n,t),this._refreshRepository(e)})}_fetch(e,t){return this.withAuthenticatingUser(e,(e,n)=>this.performFetch(e,n,t))}_fetchRemote(e,t,n){return this.withAuthenticatingUser(e,(e,r)=>this.performFetch(e,r,n,[t]))}async performFetch(e,t,n,r){await this.withPushPullFetch(e,async()=>{const i=this.gitStoreCache.get(e);try{const o=.9,s=.1,a=n===ti.BackgroundTask,l=t=>{this.updatePushPullFetchProgress(e,Object.assign(Object.assign({},t),{value:t.value*o}))};void 0===r?await i.fetch(t,a,l):await i.fetchRemotes(t,r,a,l);const c="Refreshing Repository";this.updatePushPullFetchProgress(e,{kind:"generic",title:c,description:"Fast-forwarding branches",value:o}),await this.fastForwardBranches(e),this.updatePushPullFetchProgress(e,{kind:"generic",title:c,value:o+.5*s}),await this.refreshBranchProtectionState(e),await this._refreshRepository(e)}finally{this.updatePushPullFetchProgress(e,null),n===ti.UserInitiatedTask&&null!=e.gitHubRepository&&this._refreshIssues(e.gitHubRepository)}})}_endWelcomeFlow(){return this.showWelcomeFlow=!1,this.emitUpdate(),bt("has-shown-welcome-flow",!0),this.statsStore.recordWelcomeWizardTerminated(),Promise.resolve()}_setCommitMessageFocus(e){this.focusCommitMessage!==e&&(this.focusCommitMessage=e,this.emitUpdate())}_setSidebarWidth(e){return this.sidebarWidth=Object.assign(Object.assign({},this.sidebarWidth),{value:e}),Ct("sidebar-width",e),this.updateResizableConstraints(),this.emitUpdate(),Promise.resolve()}_resetSidebarWidth(){return this.sidebarWidth=Object.assign(Object.assign({},this.sidebarWidth),{value:250}),localStorage.removeItem("sidebar-width"),this.updateResizableConstraints(),this.emitUpdate(),Promise.resolve()}_setCommitSummaryWidth(e){return this.commitSummaryWidth=Object.assign(Object.assign({},this.commitSummaryWidth),{value:e}),Ct("commit-summary-width",e),this.updateResizableConstraints(),this.emitUpdate(),Promise.resolve()}_resetCommitSummaryWidth(){return this.commitSummaryWidth=Object.assign(Object.assign({},this.commitSummaryWidth),{value:250}),localStorage.removeItem("commit-summary-width"),this.updateResizableConstraints(),this.emitUpdate(),Promise.resolve()}_setCommitMessage(e,t){return this.gitStoreCache.get(e).setCommitMessage(t)}setAppMenu(e){return this.appMenu?this.appMenu=this.appMenu.withMenu(e):this.appMenu=jr.fromMenu(e),this.emitUpdate(),Promise.resolve()}_setAppMenuState(e){return this.appMenu&&(this.appMenu=e(this.appMenu),this.emitUpdate()),Promise.resolve()}_setAccessKeyHighlightState(e){return this.highlightAccessKeys!==e&&(this.highlightAccessKeys=e,this.emitUpdate()),Promise.resolve()}async _mergeBranch(e,t,n,r=!1){const{multiCommitOperationState:i}=this.repositoryStateCache.get(e);if(null===i||"Merge"!==i.operationDetail.kind)return void log.error("[mergeBranch] - Not in merge operation state");this.repositoryStateCache.updateMultiCommitOperationState(e,()=>({operationDetail:Object.assign(Object.assign({},i.operationDetail),{sourceBranch:t})}));const o=this.gitStoreCache.get(e);r&&this.statsStore.recordSquashMergeInvokedCount(),null!==n&&(n.kind===Is.Clean?this.statsStore.recordMergeHintSuccessAndUserProceeded():n.kind===Is.Conflicts?this.statsStore.recordUserProceededAfterConflictWarning():n.kind===Is.Loading&&this.statsStore.recordUserProceededWhileLoading());const s=await o.merge(t,r),{tip:a}=o;return s===Ja.Success&&a.kind===si.Valid?(this._setBanner({type:Ps.SuccessfulMerge,ourBranch:a.branch.name,theirBranch:t.name}),r&&this.statsStore.recordSquashMergeSuccessful(),this._endMultiCommitOperation(e)):s===Ja.AlreadyUpToDate&&a.kind===si.Valid&&(this._setBanner({type:Ps.BranchAlreadyUpToDate,ourBranch:a.branch.name,theirBranch:t.name}),this._endMultiCommitOperation(e)),this._refreshRepository(e)}_setConflictsResolved(e){const{multiCommitOperationState:t}=this.repositoryStateCache.get(e);null!==t&&this.repositoryStateCache.updateMultiCommitOperationState(e,()=>({userHasResolvedConflicts:!0}))}async _rebase(e,t,n){const r=this.getMultiCommitOperationProgressCallBack(e),i=this.gitStoreCache.get(e);return await i.performFailableOperation(()=>async function(e,t,n,r){const i={expectedErrors:new Set([sr.GitError.RebaseConflicts])};let o=i;if(void 0!==r){const s=await zl(e,t.tip.sha,n.tip.sha);if(null===s)return log.warn("Unable to rebase these branches because one or both of the refs do not exist in the repository"),Bl.Error;o=Zl(i,{commits:s,progressCallback:r})}return Xl(await pd(["-c","rebase.backend=merge","rebase",t.name,n.name],e.path,"rebase",o))}(e,t,n,r),{retryAction:{type:tt.Rebase,repository:e,baseBranch:t,targetBranch:n}})||Bl.Error}async _abortRebase(e){const t=this.gitStoreCache.get(e);return await t.performFailableOperation(()=>async function(e){await pd(["rebase","--abort"],e.path,"abortRebase")}(e))}async _continueRebase(e,t,n){const r=this.getMultiCommitOperationProgressCallBack(e),i=this.gitStoreCache.get(e);return await i.performFailableOperation(()=>Ql(e,t.files,n,r))||Bl.Error}async _abortMerge(e){const t=this.gitStoreCache.get(e);return await t.performFailableOperation(()=>async function(e){await pd(["merge","--abort"],e.path,"abortMerge")}(e))}async _abortSquashMerge(e){const t=this.gitStoreCache.get(e),{branchesState:n,changesState:{workingDirectory:r}}=this.repositoryStateCache.get(e);if(void 0===await this._finishConflictedMerge(e,r,new Map))return void log.error("[_abortSquashMerge] - Could not abort squash merge - commiting squash msg failed");const{tip:i}=n;i.kind===si.Valid?await t.performFailableOperation(()=>Id(e,0,i.branch.tip.sha)):log.error("[_abortSquashMerge] - Could not abort squash merge - tip was invalid")}async _finishConflictedMerge(e,t,n){const r=t.files.filter(e=>e.status.kind===ii.Conflicted),i=this.gitStoreCache.get(e);return await i.performFailableOperation(()=>async function(e,t,n=new Map){for(const[r,i]of n){const n=t.find(e=>e.path===r);void 0!==n?await Hl(e,n,i):log.error(`couldn't find file ${r} even though there's a manual resolution for it`)}const r=t.filter(e=>!n.has(e.path));await hs(e,r);return vd(await pd(["commit","--no-edit","--cleanup=strip"],e.path,"createMergeCommit"))}(e,r,n))}async _setRemoteURL(e,t,n){const r=this.gitStoreCache.get(e);await r.setRemoteURL(t,n)}async _openShell(e){this.statsStore.recordOpenShell();try{const t=await async function(e){const t=await Ho(),n=t.find(t=>t.shell===e);return n||t.find(e=>e.shell===No)}(this.selectedShell);await Uo(t,e,e=>this._pushError(e))}catch(e){this.emitError(e)}}_openInBrowser(e){return Je.openExternal(e)}async _openInExternalEditor(e){const{selectedExternalEditor:t}=this.getState();try{const n=await Zi(t);if(null===n)return void this.emitError(new Ii(`No suitable editors installed for GitHub Desktop to launch. Install ${Mi} for your platform and restart GitHub Desktop to try again.`,{suggestDefaultEditor:!0}));await async function(e,t){const n=t.path;if(!await Object(w.pathExists)(n)){const e="Preferences";throw new Ii(`Could not find executable for '${t.editor}' at path '${t.path}'.  Please open ${e} and select an available editor.`,{openPreferences:!0})}const r={detached:!0};t.usesShell?Object(Xi.spawn)(`"${n}"`,[`"${e}"`],Object.assign(Object.assign({},r),{shell:!0})):Object(Xi.spawn)("open",["-a",n,e],r)}(e,n)}catch(e){this.emitError(e)}}async _saveGitIgnore(e,t){return await Kd(e,t),this._refreshRepository(e)}async setStatsOptOut(e,t){await this.statsStore.setOptOut(e,t),this.emitUpdate()}_setAskToMoveToApplicationsFolderSetting(e){return this.askToMoveToApplicationsFolderSetting=e,bt("askToMoveToApplicationsFolder",e),this.emitUpdate(),Promise.resolve()}_setConfirmRepositoryRemovalSetting(e){return this.askForConfirmationOnRepositoryRemoval=e,bt("confirmRepoRemoval",e),this.updateMenuLabelsForSelectedRepository(),this.emitUpdate(),Promise.resolve()}_setConfirmDiscardChangesSetting(e){return this.confirmDiscardChanges=e,bt("confirmDiscardChanges",e),this.emitUpdate(),Promise.resolve()}_setConfirmDiscardChangesPermanentlySetting(e){return this.confirmDiscardChangesPermanently=e,bt("confirmDiscardChangesPermanentlyKey",e),this.emitUpdate(),Promise.resolve()}_setConfirmForcePushSetting(e){return this.askForConfirmationOnForcePush=e,bt("confirmForcePush",e),this.updateMenuLabelsForSelectedRepository(),this.emitUpdate(),Promise.resolve()}_setUncommittedChangesStrategySetting(e){return this.uncommittedChangesStrategy=e,localStorage.setItem("uncommittedChangesStrategyKind",e),this.emitUpdate(),Promise.resolve()}_setExternalEditor(e){const t=this.updateSelectedExternalEditor(e);return localStorage.setItem("externalEditor",e),this.emitUpdate(),this.updateMenuLabelsForSelectedRepository(),t}_setShell(e){return this.selectedShell=e,localStorage.setItem("shell",e),this.emitUpdate(),this.updateMenuLabelsForSelectedRepository(),Promise.resolve()}_changeImageDiffType(e){return this.imageDiffType=e,localStorage.setItem("image-diff-type",JSON.stringify(this.imageDiffType)),this.emitUpdate(),Promise.resolve()}_setHideWhitespaceInChangesDiff(e,t){return bt("hide-whitespace-in-changes-diff",e),this.hideWhitespaceInChangesDiff=e,this.refreshChangesSection(t,{includingStatus:!0,clearPartialState:!0})}_setHideWhitespaceInHistoryDiff(e,t,n){return bt("hide-whitespace-in-diff",e),this.hideWhitespaceInHistoryDiff=e,null===n?this.updateChangesWorkingDirectoryDiff(t):this._changeFileSelection(t,n)}_setShowSideBySideDiff(e){e!==this.showSideBySideDiff&&(!function(e){bt("show-side-by-side-diff",e)}(e),this.showSideBySideDiff=e,this.statsStore.recordDiffModeChanged(),this.emitUpdate())}_setUpdateBannerVisibility(e){this.isUpdateAvailableBannerVisible=e,this.emitUpdate()}_setBanner(e){this.currentBanner=e,this.emitUpdate()}_clearBanner(e){const{currentBanner:t}=this;null!==t&&(void 0!==e&&t.type!==e||(this.currentBanner=null,this.emitUpdate()))}_reportStats(){return this.statsStore.reportStats(this.accounts,this.repositories)}_recordLaunchStats(e){return this.statsStore.recordLaunchStats(e)}async _appendIgnoreRule(e,t){return await async function(e,t){const n=await $d(e)||"",r=await Yd(n,e),i=t instanceof Array?t.join("\n"):t,o=await Yd(`${r}${i}`,e);await Kd(e,o)}(e,t),this._refreshRepository(e)}_resetSignInState(){return this.signInStore.reset(),Promise.resolve()}_beginDotComSignIn(){return this.signInStore.beginDotComSignIn(),Promise.resolve()}_beginEnterpriseSignIn(){return this.signInStore.beginEnterpriseSignIn(),Promise.resolve()}_setSignInEndpoint(e){return this.signInStore.setEndpoint(e)}_setSignInCredentials(e,t){return this.signInStore.authenticateWithBasicAuth(e,t)}_requestBrowserAuthentication(){return this.signInStore.authenticateWithBrowser()}_setSignInOTP(e){return this.signInStore.setTwoFactorOTP(e)}async _setAppFocusState(e){this.appIsFocused!==e&&(this.appIsFocused=e,this.emitUpdate()),this.appIsFocused?(this.repositoryIndicatorUpdater.resume(),this.selectedRepository instanceof vi&&(this.startPullRequestUpdater(this.selectedRepository),this.currentOnboardingTutorialStep===Ns.PickEditor&&await this._resolveCurrentEditor())):(this.repositoryIndicatorUpdater.pause(),this.stopPullRequestUpdater())}_startOpenInDesktop(e){const t=new Promise(e=>this.resolveOpenInDesktop=e);return e(),t}async _completeOpenInDesktop(e){const t=this.resolveOpenInDesktop;this.resolveOpenInDesktop=null;const n=await e();return t&&t(n),n}_updateRepositoryPath(e,t){return this.repositoriesStore.updateRepositoryPath(e,t)}_removeAccount(e){return log.info(`[AppStore] removing account ${e.login} (${e.name}) from store`),this.accountsStore.removeAccount(e)}async _addAccount(e){log.info(`[AppStore] adding account ${e.login} (${e.name}) to store`);const t=await this.accountsStore.addAccount(e);this.showWelcomeFlow&&null!==t&&this.apiRepositoriesStore.loadRepositories(t)}_updateRepositoryMissing(e,t){return this.repositoriesStore.updateRepositoryMissing(e,t)}async _updateRepositoryWorkflowPreferences(e,t){await this.repositoriesStore.updateRepositoryWorkflowPreferences(e,t)}async _addTutorialRepository(e,t,n){const r=await Zd(e);if(r)log.info(`[AppStore] adding tutorial repository at ${r} to store`),await this.repositoriesStore.addTutorialRepository(r,t,n),this.tutorialAssessor.onNewTutorialRepository();else{const t=new Error(e+" isn't a git repository.");this.emitError(t)}}async _addRepositories(e){const t=new Array,n=new Array,r=new Array;for(const i of e){const e=await Zd(i);if(e){log.info(`[AppStore] adding repository at ${e} to store`);const r=$n(this.repositories,e);if(void 0!==r){t.push(r);continue}const i=await this.repositoriesStore.addRepository(e),o=this.gitStoreCache.get(i);await o.loadRemotes();const[s,a]=await Promise.all([this.repositoryWithRefreshedGitHubRepository(i),this.isUsingLFS(i)]);t.push(s),a&&n.push(s)}else r.push(i)}return r.length>0&&this.emitError(new Error(this.getInvalidRepoPathsMessage(r))),n.length>0&&this._showPopup({type:ai.InitializeLFS,repositories:n}),t}async _removeRepository(e,t){try{if(t)try{await Je.moveItemToTrash(e.path)}catch(e){return log.error("Failed moving repository to trash",e),void this.emitError(new Error("Failed to move the repository directory to Trash.\n\nA common reason for this is that the directory or one of its files is open in another program."))}e instanceof Yr?this._removeCloningRepository(e):await this.repositoriesStore.removeRepository(e)}catch(e){return void this.emitError(e)}0===(await this.repositoriesStore.getAll()).length?this._closeFoldout(Ue.Repository):this._showFoldout({type:Ue.Repository})}async _cloneAgain(e,t){const{promise:n,repository:r}=this._clone(e,t);await this._selectRepository(r);if(!await n)return;const i=this.repositories.find(e=>e.path===t);if(i){const e=await this._updateRepositoryMissing(i,!1);await this._selectRepository(e)}}getInvalidRepoPathsMessage(e){return 1===e.length?e+" isn't a Git repository.":`The following paths aren't Git repositories:\n\n${e.slice(0,3).map(e=>"- "+e).join("\n")}${e.length>3?`\n\n(and ${e.length-3} more)`:""}`}async withAuthenticatingUser(e,t){let n=e,r=co(this.accounts,n);if(r||(n=await this.repositoryWithRefreshedGitHubRepository(e),r=co(this.accounts,n)),!r){const t=this.gitStoreCache.get(e).currentRemote;if(t){const e=so(t.url),n=lo(e);null!=n&&(r={login:n,endpoint:e})}}if(r instanceof Bt){const t=r.token.length>0?"has token":"empty token";log.info(`[AppStore.withAuthenticatingUser] account found for repository: ${e.name} - ${r.login} (${t})`)}return t(n,r)}updateRevertProgress(e,t){this.repositoryStateCache.update(e,()=>({revertProgress:t})),this.selectedRepository===e&&this.emitUpdate()}async _revertCommit(e,t){return this.withAuthenticatingUser(e,async(n,r)=>{const i=this.gitStoreCache.get(n);await i.revertCommit(n,t,r,e=>{this.updateRevertProgress(n,e)}),this.updateRevertProgress(n,null),await this._refreshRepository(e)})}async promptForGenericGitAuthentication(e,t){let n;if(e instanceof vi){const t=this.gitStoreCache.get(e).currentRemote;if(!t)return;n=t.url}else n=e.url;const r=so(n);return this._showPopup({type:ai.GenericGitAuthentication,hostname:r,retryAction:t})}async _installGlobalLFSFilters(e){try{await async function(e){const t=["lfs","install","--skip-repo"];e&&t.push("--force"),await pd(t,__dirname,"installGlobalLFSFilter")}(e)}catch(e){this.emitError(e)}}async isUsingLFS(e){try{return await async function(e){return(await pd(["lfs","track"],e.path,"isUsingLFS",{env:{GIT_LFS_TRACK_NO_INSTALL_HOOKS:"1"}})).stdout.length>0}(e)}catch(e){return!1}}async _installLFSHooks(e){for(const t of e)try{await uo(t,!0)}catch(e){this.emitError(e)}}_changeCloneRepositoriesTab(e){return this.selectedCloneRepositoryTab=e,this.emitUpdate(),Promise.resolve()}_refreshApiRepositories(e){return this.apiRepositoriesStore.loadRepositories(e)}_changeBranchesTab(e){return this.selectedBranchesTab=e,this.emitUpdate(),Promise.resolve()}async _showGitHubExplore(e){const{gitHubRepository:t}=e;if(!t||null===t.htmlURL)return;const n=new URL(t.htmlURL);n.pathname="/explore",await this._openInBrowser(n.toString())}async _createPullRequest(e){if(!e.gitHubRepository)return;const t=this.repositoryStateCache.get(e),n=t.branchesState.tip;if(n.kind!==si.Valid)return;const r=n.branch,i=t.aheadBehind;null==i?this._showPopup({type:ai.PushBranchCommits,repository:e,branch:r}):i.ahead>0?this._showPopup({type:ai.PushBranchCommits,repository:e,branch:r,unPushedCommits:i.ahead}):await this._openCreatePullRequestInBrowser(e,r)}async _showPullRequest(e){if(null===e.gitHubRepository)return;const t=this.repositoryStateCache.get(e).branchesState.currentPullRequest;return null!==t?this._showPullRequestByPR(t):void 0}async _showPullRequestByPR(e){const{htmlURL:t}=e.base.gitHubRepository;if(null===t)return;const n=`${t}/pull/${e.pullRequestNumber}`;await this._openInBrowser(n)}async _refreshPullRequests(e){if(bi(e)){const t=co(this.accounts,e);null!==t&&await this.pullRequestCoordinator.refreshPullRequests(e,t)}}async onPullRequestChanged(e,t){this.repositoryStateCache.updateBranchesState(e,()=>({openPullRequests:t})),this.updateCurrentPullRequest(e),this.gitStoreCache.get(e).pruneForkedRemotes(t);const n=this.getSelectedState();n&&n.type===He.Repository&&n.repository.id===e.id&&this.updateMenuLabelsForSelectedRepository(),this.emitUpdate()}updateCurrentPullRequest(e){e.gitHubRepository&&(this.repositoryStateCache.updateBranchesState(e,t=>{let n=null;const{remote:r}=this.repositoryStateCache.get(e);return t.tip.kind===si.Valid&&r&&(n=$s(t.tip.branch,t.openPullRequests,r)),{currentPullRequest:n}}),this.emitUpdate())}async _openCreatePullRequestInBrowser(e,t){const n=e.gitHubRepository;if(!n)return;const r=Object(Nr.escape)(t.nameWithoutRemote),i=`${n.htmlURL}/pull/new/${r}`;await this._openInBrowser(i),this.currentOnboardingTutorialStep===Ns.OpenPullRequest&&this._markPullRequestTutorialStepAsComplete(e)}async _updateExistingUpstreamRemote(e){const t=this.gitStoreCache.get(e);return await t.updateExistingUpstreamRemote(),this._refreshRepository(e)}getIgnoreExistingUpstreamRemoteKey(e){return`repository/${e.id}/ignoreExistingUpstreamRemote`}_ignoreExistingUpstreamRemote(e){return bt(this.getIgnoreExistingUpstreamRemoteKey(e),!0),Promise.resolve()}getIgnoreExistingUpstreamRemote(e){const t=this.getIgnoreExistingUpstreamRemoteKey(e);return Promise.resolve(vt(t,!1))}async addUpstreamRemoteIfNeeded(e){const t=this.gitStoreCache.get(e);if(!await this.getIgnoreExistingUpstreamRemote(e))return t.addUpstreamRemoteIfNeeded()}async _checkoutPullRequest(e,t,n,r,i){const o=await this._findPullRequestBranch(e,t,n,r,i);void 0!==o&&(await this._checkoutBranch(e,o),this.statsStore.recordPRBranchCheckout())}async _findPullRequestBranch(e,t,n,r,i){var o,s;const a=this.gitStoreCache.get(e);let l=(await Dd(e)).find(e=>Yn(r,e));if(void 0===l)try{const t="github-desktop-"+n;l=await _d(e,t,r)}catch(e){return void this.emitError(new Error("Couldn't find PR branch, adding remote failed: "+e.message))}const c=`${l.name}/${i}`;let u=a.allBranches.find(e=>e.type===zr.Local&&e.upstream===c);if(void 0!==u)return u;const h=e=>a.allBranches.find(t=>t.type===zr.Remote&&t.name===e);if(u=h(c),void 0===u)try{await this._fetchRemote(e,l,ti.UserInitiatedTask),u=h(c)}catch(e){log.error("Failed fetching remote "+(null==l?void 0:l.name),e)}if(void 0===u)return void this.emitError(new Error(`Couldn't find branch '${i}' in remote '${l.name}'. A common reason for this is that the PR author has deleted their branch or their forked repository.`));return l.name!==(null===(o=a.defaultRemote)||void 0===o?void 0:o.name)&&l.name!==(null===(s=a.upstreamRemote)||void 0===s?void 0:s.name)?await this._createBranch(e,"pr/"+t,c,!1):u}_setShowCoAuthoredBy(e,t){return this.gitStoreCache.get(e).setShowCoAuthoredBy(t),Promise.resolve()}_setCoAuthors(e,t){return this.gitStoreCache.get(e).setCoAuthors(t),Promise.resolve()}_setSelectedTheme(e){return Ar(e),this.selectedTheme=e,e===Dr.HighContrast&&(this.currentTheme=e),this.emitUpdate(),Promise.resolve()}_setCustomTheme(e){return Dt("custom-theme-key",e),this.customTheme=e,this.emitUpdate(),Promise.resolve()}async _resolveCurrentEditor(){const e=await Zi(this.selectedExternalEditor),t=null!=e?e.editor:null;this.resolvedExternalEditor!==t&&(this.resolvedExternalEditor=t,this.currentOnboardingTutorialStep===Ns.PickEditor&&this.selectedRepository instanceof vi&&this.updateCurrentTutorialStep(this.selectedRepository),this.emitUpdate())}_updateManualConflictResolution(e,t,n){this.repositoryStateCache.updateChangesState(e,e=>{const{conflictState:r}=e;if(null===r)return{conflictState:r};const i=new Map(r.manualResolutions);return null!==n?i.set(t,n):i.delete(t),{conflictState:Object.assign(Object.assign({},r),{manualResolutions:i})}}),this.updateMultiCommitOperationStateAfterManualResolution(e),this.emitUpdate()}updateMultiCommitOperationStateAfterManualResolution(e){const t=this.repositoryStateCache.get(e),{changesState:n,multiCommitOperationState:r}=t;if(null===n.conflictState||null===r||"ShowConflicts"!==r.step.kind)return;const{step:i}=r,{manualResolutions:o}=n.conflictState,s=Object.assign(Object.assign({},i.conflictState),{manualResolutions:o});this.repositoryStateCache.updateMultiCommitOperationState(e,()=>({step:Object.assign(Object.assign({},i),{conflictState:s})}))}async createStashAndDropPreviousEntry(e,t){const n=await fs(e,t),r=this.gitStoreCache.get(e),i=await r.performFailableOperation(()=>this.createStashEntry(e,t));if(!0===i&&null!==n){const{stashSha:t,branchName:i}=n;await r.performFailableOperation(async()=>{await gs(e,t),log.info(`Dropped stash '${t}' associated with ${i}`)})}return!0===i}async createStashEntry(e,t){const{changesState:n}=this.repositoryStateCache.get(e),{workingDirectory:r}=n;return async function(e,t,n){const r=n.map(e=>e.withIncludeAll(!0));await hs(e,r);const i=["stash","push","-m",function(e){return`!!GitHub_Desktop<${e}>`}("string"==typeof t?t:t.name)],o=await pd(i,e.path,"createStashEntry",{successExitCodes:new Set([0,1])});if(1===o.exitCode){const e=/^error: /m.exec(o.stderr);if(null!==e&&e.length>0)throw new hd(o,i);log.info(`[createDesktopStashEntry] a stash was created successfully but exit code ${o.exitCode} reported. stderr: ${o.stderr}`)}return"\n"!==o.stdout}(e,t,r.files.filter(e=>e.status.kind===ii.Untracked))}async _popStashEntry(e,t){const n=this.gitStoreCache.get(e);await n.performFailableOperation(()=>ys(e,t.stashSha)),log.info("[AppStore. _popStashEntry] popped stash with commit id "+t.stashSha),this.statsStore.recordStashRestore(),await this._refreshRepository(e)}async _dropStashEntry(e,t){const n=this.gitStoreCache.get(e);await n.performFailableOperation(()=>gs(e,t.stashSha)),log.info("[AppStore. _dropStashEntry] dropped stash with commit id "+t.stashSha),this.statsStore.recordStashDiscard(),await n.loadStashEntries()}_setStashedFilesWidth(e){return this.stashedFilesWidth=Object.assign(Object.assign({},this.stashedFilesWidth),{value:e}),Ct("stashed-files-width",e),this.updateResizableConstraints(),this.emitUpdate(),Promise.resolve()}_resetStashedFilesWidth(){return this.stashedFilesWidth=Object.assign(Object.assign({},this.stashedFilesWidth),{value:250}),localStorage.removeItem("stashed-files-width"),this.updateResizableConstraints(),this.emitUpdate(),Promise.resolve()}async _testPruneBranches(){null!==this.currentBranchPruner&&await this.currentBranchPruner.testPrune()}async _showCreateForkDialog(e){const t=co(this.accounts,e);null!==t&&await this._showPopup({type:ai.CreateFork,repository:e,account:t})}async _convertRepositoryToFork(e,t){var n,r;const i=this.gitStoreCache.get(e),o=null===(n=i.defaultRemote)||void 0===n?void 0:n.name,s=null===(r=i.defaultRemote)||void 0===r?void 0:r.url,{endpoint:a}=e.gitHubRepository;return void 0!==o&&void 0!==s&&await i.setRemoteURL(o,t.clone_url)?(await i.ensureUpstreamRemoteURL(s),this.repositoriesStore.setGitHubRepository(e,await this.repositoriesStore.upsertGitHubRepository(a,t))):e}async _createTutorialRepository(e){try{await this.statsStore.recordTutorialStarted();const t="desktop-tutorial",n=r.resolve(await Da(),t),i=await xa(e,t,n,(e,t,n)=>{null!==this.currentPopup&&this.currentPopup.type===ai.CreateTutorialRepository&&(this.currentPopup=Object.assign(Object.assign({},this.currentPopup),{progress:{kind:"generic",title:e,value:t,description:n}}),this.emitUpdate())});await this._addTutorialRepository(n,e.endpoint,i),await this.statsStore.recordTutorialRepoCreated()}catch(e){Yp("tutorialRepoCreation",e),e instanceof hd?this.emitError(e):this.emitError(new Error("Failed creating the tutorial repository.\n\n"+e.message))}finally{this._closePopup(ai.CreateTutorialRepository)}}_initializeCherryPickProgress(e,t){if(0===t.length)throw new Error("Unable to initialize cherry-pick progress. No commits provided.");this.repositoryStateCache.updateMultiCommitOperationState(e,()=>({progress:{kind:"multiCommitOperation",value:0,position:1,totalCommitCount:t.length,currentCommitSummary:t[t.length-1].summary}})),this.emitUpdate()}getMultiCommitOperationProgressCallBack(e){return t=>{this.repositoryStateCache.updateMultiCommitOperationState(e,()=>({progress:t})),this.emitUpdate()}}async _cherryPick(e,t){if(0===t.length)return log.error("[_cherryPick] - Unable to cherry-pick. No commits provided."),ic.UnableToStart;await this._refreshRepository(e);const n=this.getMultiCommitOperationProgressCallBack(e),r=this.gitStoreCache.get(e);return await r.performFailableOperation(()=>async function(e,t,n){if(0===t.length)return ic.UnableToStart;let r={expectedErrors:new Set([sr.GitError.MergeConflicts,sr.GitError.ConflictModifyDeletedInBranch])};return void 0!==n&&(r=await ac(r,t,n)),lc(await pd(["cherry-pick",...t.map(e=>e.sha),"--keep-redundant-commits","-m 1"],e.path,"cherry-pick",r))}(e,t,n))||ic.Error}_checkForUncommittedChanges(e,t){const{changesState:n}=this.repositoryStateCache.get(e);return n.workingDirectory.files.length>0&&(this._showPopup({type:ai.LocalChangesOverwritten,repository:e,retryAction:t,files:n.workingDirectory.files.map(e=>e.path)}),!0)}async _checkoutBranchReturnName(e,t){const n=this.gitStoreCache.get(e);if(!0!==await this.withAuthenticatingUser(e,(r,i)=>n.performFailableOperation(()=>Ll(e,i,t))))return;const r=await n.loadStatus();return null==r?void 0:r.currentBranch}async _abortCherryPick(e,t){const n=this.gitStoreCache.get(e);await n.performFailableOperation(()=>uc(e)),await this.checkoutBranchIfNotNull(e,t)}_setCherryPickBranchCreated(e,t){const{multiCommitOperationState:n}=this.repositoryStateCache.get(e);null!==n&&"Cherry-pick"===n.operationDetail.kind?this.repositoryStateCache.updateMultiCommitOperationState(e,()=>({operationDetail:Object.assign(Object.assign({},n.operationDetail),{branchCreated:t})})):log.error("[setCherryPickBranchCreated] - Not in cherry-pick operation state")}async _continueCherryPick(e,t,n){const r=this.getMultiCommitOperationProgressCallBack(e),i=this.gitStoreCache.get(e);return await i.performFailableOperation(()=>async function(e,t,n=new Map,r){const i=t.filter(e=>e.status.kind!==ii.Untracked);for(const[r,i]of n){const n=t.find(e=>e.path===r);void 0!==n?await Hl(e,n,i):log.error(`[continueCherryPick] couldn't find file ${r} even though there's a manual resolution for it`)}const o=i.filter(e=>!n.has(e.path));await hs(e,o);const s=await nc(e);if(null==s)return log.warn("[continueCherryPick] unable to get status after staging changes,\n        skipping any other steps"),ic.UnableToStart;if(await!hc(e))return ic.UnableToStart;let a={expectedErrors:new Set([sr.GitError.MergeConflicts,sr.GitError.ConflictModifyDeletedInBranch,sr.GitError.UnresolvedConflicts]),env:{GIT_EDITOR:":"}};if(void 0!==r){const t=await cc(e);if(null===t)return log.warn("[continueCherryPick] unable to get cherry-pick status, skipping other steps"),ic.UnableToStart;a=ac(a,t.commits,r,t.cherryPickedCount)}if(0===s.workingDirectory.files.filter(e=>e.status.kind!==ii.Untracked).length){log.warn("[cherryPick] no tracked changes to commit, continuing cherry-pick but skipping this commit");return lc(await pd(["commit","--allow-empty"],e.path,"continueCherryPickSkipCurrentCommit",a))}return lc(await pd(["cherry-pick","--continue","--keep-redundant-commits"],e.path,"continueCherryPick",a))}(e,t,n,r))||ic.Error}async _setCherryPickProgressFromState(e){const t=await cc(e);null!==t&&this.repositoryStateCache.updateMultiCommitOperationState(e,()=>({progress:t.progress}))}_markDragAndDropIntroAsSeen(e){if(this.dragAndDropIntroTypesShown.has(e))return;const t=[...this.dragAndDropIntroTypesShown,e];this.dragAndDropIntroTypesShown=new Set(t),Dt("drag-and-drop-intro-types-shown",t),this.emitUpdate()}async _clearCherryPickingHead(e,t){if(!hc(e))return;const n=this.gitStoreCache.get(e);return await n.performFailableOperation(()=>uc(e)),await this.checkoutBranchIfNotNull(e,t),this._refreshRepository(e)}async checkoutBranchIfNotNull(e,t){if(null===t)return;const n=this.gitStoreCache.get(e);await this.withAuthenticatingUser(e,async(r,i)=>{await n.performFailableOperation(()=>Ll(e,i,t))})}async _setDragElement(e){this.currentDragElement=e,this.emitUpdate()}async _getBranchAheadBehind(e,t){return async function(e,t){if(t.type===zr.Remote)return null;const n=t.upstream;return n?Wl(e,jl(t.name,n)):null}(e,t)}_setLastThankYou(e){const t=void 0!==this.lastThankYou&&this.lastThankYou.version===e.version,n=void 0!==this.lastThankYou&&this.lastThankYou.checkedUsers.length===e.checkedUsers.length;t&&n||(Dt("version-and-users-of-last-thank-you",e),this.lastThankYou=e,this.emitUpdate())}async _reorderCommits(e,t,n,r){if(0===t.length)return log.error("[_reorder] - Unable to reorder. No commits provided."),Bl.Error;const i=this.getMultiCommitOperationProgressCallBack(e),o=this.gitStoreCache.get(e);return await o.performFailableOperation(()=>async function(e,t,n,r,i){let o,s;try{if(0===t.length)throw new Error("[reorder] No commits provided to reorder.");const a=new Set(t.map(e=>e.sha)),l=await os(e,null===r?void 0:Ul(r,"HEAD"));if(0===l.length)throw new Error("[reorder] Could not find commits in log for last retained commit ref.");o=await ha("reorderTodo");let c=!1;const u=[],h=[];for(let e=l.length-1;e>=0;e--){const t=l[e];if(a.has(t.sha))c?await w.appendFile(o,`pick ${t.sha} ${t.summary}\n`):u.push(t);else if(null===n||t.sha!==n.sha)c?h.push(t):await w.appendFile(o,`pick ${t.sha} ${t.summary}\n`);else{c=!0,h.push(t);for(let e=0;e<u.length;e++)await w.appendFile(o,`pick ${u[e].sha} ${u[e].summary}\n`)}}if(h.length>0)for(let e=0;e<h.length;e++)await w.appendFile(o,`pick ${h[e].sha} ${h[e].summary}\n`);if(null===n)for(let e=0;e<u.length;e++)await w.appendFile(o,`pick ${u[e].sha} ${u[e].summary}\n`);else if(!c)throw new Error("[reorder] The base commit onto was not in the log. Continuing would result in dropping the commits in the toMove array.");s=await Jl(e,o,r,"Reorder",void 0,i,l)}catch(e){return log.error(e),Bl.Error}finally{void 0!==o&&w.remove(o)}return s}(e,t,n,r,i))||Bl.Error}async _squash(e,t,n,r,i){if(0===t.length)return log.error("[_squash] - Unable to squash. No commits provided."),Bl.Error;const o=this.getMultiCommitOperationProgressCallBack(e),s=await ro(e,i),a=this.gitStoreCache.get(e);return await a.performFailableOperation(()=>async function(e,t,n,r,i,o){let s,a,l;try{if(0===t.length)throw new Error("[squash] No commits provided to squash.");const c=new Set(t.map(e=>e.sha));if(c.has(n.sha))throw new Error("[squash] The commits to squash cannot contain the commit to squash onto.");const u=await os(e,null===r?void 0:Ul(r,"HEAD"));if(0===u.length)throw new Error("[squash] Could not find commits in log for last retained commit ref.");a=await ha("squashTodo");let h=!1;const p=[],d=[];for(let e=u.length-1;e>=0;e--){const t=u[e];if(c.has(t.sha))h?await w.appendFile(a,`squash ${t.sha} ${t.summary}\n`):p.push(t);else if(t.sha!==n.sha)h?d.push(t):await w.appendFile(a,`pick ${t.sha} ${t.summary}\n`);else{h=!0,p.push(t);for(let e=0;e<p.length;e++){const t=0===e?"pick":"squash";await w.appendFile(a,`${t} ${p[e].sha} ${p[e].summary}\n`)}}}if(d.length>0)for(let e=0;e<d.length;e++)await w.appendFile(a,`pick ${d[e].sha} ${d[e].summary}\n`);if(!h)throw new Error("[squash] The commit to squash onto was not in the log. Continuing would result in dropping the commits in the toSquash array.");""!==i.trim()&&(s=await ha("squashCommitMessage"),await w.writeFile(s,i));const f=void 0!==s?`cat "${s}" >`:void 0;l=await Jl(e,a,r,"Squash",f,o,[...t,n])}catch(e){return log.error(e),Bl.Error}finally{void 0!==a&&w.remove(a),void 0!==s&&w.remove(s)}return l}(e,t,n,r,s,o))||Bl.Error}async _undoMultiCommitOperation(e,t,n){const{branchesState:r,multiCommitOperationUndoState:i,changesState:{workingDirectory:o}}=this.repositoryStateCache.get(t),{operationDetail:s}=e,{kind:a}=s;if(null===i)return log.error(`[_undoMultiCommitOperation] - Could not undo ${a}. There is no undo info available.`),!1;const{undoSha:l,branchName:c}=i;if(o.files.length>0)return log.error(`[_undoMultiCommitOperation] - Could not undo ${a}. This would delete the local changes that exist on the branch.`),!1;const{tip:u}=r;if(u.kind!==si.Valid||u.branch.name!==c)return log.error(`[_undoMultiCommitOperation] - Could not undo ${a}.  User no longer on branch the ${a} occurred on.`),!1;if(null===l)return log.error("[_undoMultiCommitOperation] - Could not determine undo sha"),!1;if("Cherry-pick"===s.kind&&s.branchCreated)return this._deleteBranch(t,u.branch,!1,s.sourceBranch),!0;const h=this.gitStoreCache.get(t);if(!0!==await h.performFailableOperation(()=>Id(t,0,l)))return!1;let p;switch(a){case"Squash":p={type:Ps.SquashUndone,commitsCount:n};break;case"Reorder":p={type:Ps.ReorderUndone,commitsCount:n};break;case"Cherry-pick":const e="Cherry-pick"===s.kind?s.sourceBranch:null;await this.checkoutBranchIfNotNull(t,e),p={type:Ps.CherryPickUndone,targetBranchName:c,countCherryPicked:n};break;case"Rebase":case"Merge":throw new Error("Unexpected multi commit operation kind to undo "+a);default:Ze(0,"Unsupported multi operation kind to undo "+a)}this._setBanner(p),await this._loadStatus(t);const d=this.repositoryStateCache.get(t);return d.branchesState.tip.kind===si.Valid&&"Cherry-pick"!==a&&this._addBranchToForcePushList(t,d.branchesState.tip,u.branch.tip.sha),await this._refreshRepository(t),!0}_setMultiCommitOperationUndoState(e,t){this.repositoryStateCache.updateMultiCommitOperationUndoState(e,()=>({undoSha:pc(t),branchName:t.branch.name}))}async _handleConflictsDetectedOnError(e,t,n){const{multiCommitOperationState:r}=this.repositoryStateCache.get(e);if(null===r){const r=this.gitStoreCache.get(e),i=r.allBranches.find(e=>e.name===t);if(void 0===i)return;const o=r.allBranches.find(e=>e.name===n);this._initializeMultiCommitOperation(e,{kind:"Merge",isSquash:!1,sourceBranch:null!=o?o:null},i,[],i.tip.sha)}return this._setMultiCommitOperationStep(e,{kind:"ShowConflicts",conflictState:{kind:"multiCommitOperation",manualResolutions:new Map,ourBranch:t,theirBranch:n}}),this._showPopup({type:ai.MultiCommitOperation,repository:e})}async _setMultiCommitOperationStep(e,t){this.repositoryStateCache.updateMultiCommitOperationState(e,()=>({step:t})),this.emitUpdate()}_setMultiCommitOperationTargetBranch(e,t){this.repositoryStateCache.updateMultiCommitOperationState(e,()=>({targetBranch:t}))}_endMultiCommitOperation(e){this.repositoryStateCache.clearMultiCommitOperationState(e),this.emitUpdate()}_initializeMultiCommitOperation(e,t,n,r,i,o=!0){this.repositoryStateCache.initializeMultiCommitOperationState(e,{step:{kind:"ShowProgress"},operationDetail:t,progress:{kind:"multiCommitOperation",currentCommitSummary:r.length>0?r[0].summary:"",position:1,totalCommitCount:r.length,value:0},userHasResolvedConflicts:!1,originalBranchTip:i,targetBranch:n}),o&&this.emitUpdate()}_setShowCIStatusPopover(e){this.showCIStatusPopover!==e&&(this.showCIStatusPopover=e,this.emitUpdate())}_toggleCIStatusPopover(){this.showCIStatusPopover=!this.showCIStatusPopover,this.emitUpdate()}}(XP,QP,JP,eI,tI,nI,rI,oI,sI,aI,hI);pI.onDidUpdate(e=>{YP=e});const dI=new class{constructor(e,t,n,r){this.appStore=e,this.repositoryStateManager=t,this.statsStore=n,this.commitStatusStore=r,this.errorHandlers=new Array,this.addBranchToForcePushList=(e,t,n)=>{this.appStore._addBranchToForcePushList(e,t,n)},this.dropCurrentBranchFromForcePushList=e=>{const t=this.repositoryStateManager.get(e),{forcePushBranches:n,tip:r}=t.branchesState;if(r.kind!==si.Valid)return;const i=new Map(n);i.delete(r.branch.nameWithoutRemote),this.repositoryStateManager.updateBranchesState(e,()=>({forcePushBranches:i}))},this.setStashedFilesWidth=e=>this.appStore._setStashedFilesWidth(e),this.resetStashedFilesWidth=()=>this.appStore._resetStashedFilesWidth(),this.onConflictsFoundBanner=(e,t,n)=>{this.setBanner({type:Ps.ConflictsFound,operationDescription:t,onOpenConflictsDialog:async()=>{const{changesState:t,multiCommitOperationState:r}=this.repositoryStateManager.get(e),{conflictState:i}=t;if(null==i)return void log.error("[onConflictsFoundBanner] App is in invalid state to so conflicts dialog.");null!==r&&"Cherry-pick"===r.operationDetail.kind&&await this.setCherryPickProgressFromState(e);const{manualResolutions:o}=i;this.setMultiCommitOperationStep(e,{kind:"ShowConflicts",conflictState:Object.assign(Object.assign({},n),{manualResolutions:o})}),this.showPopup({type:ai.MultiCommitOperation,repository:e})}})}}loadInitialState(){return this.appStore.loadInitialState()}addRepositories(e){return this.appStore._addRepositories(e)}addTutorialRepository(e,t,n){return this.appStore._addTutorialRepository(e,t,n)}resumeTutorial(e){return this.appStore._resumeTutorial(e)}pauseTutorial(e){return this.appStore._pauseTutorial(e)}async removeRepository(e,t){return this.appStore._removeRepository(e,t)}async updateRepositoryMissing(e,t){return this.appStore._updateRepositoryMissing(e,t)}loadNextCommitBatch(e){return this.appStore._loadNextCommitBatch(e)}loadChangedFilesForCurrentSelection(e){return this.appStore._loadChangedFilesForCurrentSelection(e)}changeCommitSelection(e,t){return this.appStore._changeCommitSelection(e,t)}changeFileSelection(e,t){return this.appStore._changeFileSelection(e,t)}setRepositoryFilterText(e){return this.appStore._setRepositoryFilterText(e)}selectRepository(e){return this.appStore._selectRepository(e)}changeRepositorySection(e,t){return this.appStore._changeRepositorySection(e,t)}selectWorkingDirectoryFiles(e,t){return this.appStore._selectWorkingDirectoryFiles(e,t)}selectStashedFile(e,t){return this.appStore._selectStashedFile(e,t)}async commitIncludedChanges(e,t){return this.appStore._commitIncludedChanges(e,t)}changeFileIncluded(e,t,n){return this.appStore._changeFileIncluded(e,t,n)}changeFileLineSelection(e,t,n){return this.appStore._changeFileLineSelection(e,t,n)}changeIncludeAllFiles(e,t){return this.appStore._changeIncludeAllFiles(e,t)}refreshRepository(e){return this.appStore._refreshOrRecoverRepository(e)}async refreshAuthor(e){return this.appStore._refreshAuthor(e)}showPopup(e){return this.appStore._showPopup(e)}closePopup(e){return this.appStore._closePopup(e)}showFoldout(e){return this.appStore._showFoldout(e)}closeCurrentFoldout(){return this.appStore._closeCurrentFoldout()}closeFoldout(e){return this.appStore._closeFoldout(e)}async warnAboutRemoteCommits(e,t,n){if(null===t.upstream)return!1;if(0===(await Nd(e,"refs/remotes/"+t.upstream)).length)return!1;if(null===n)return!0;const r=await zl(e,n,t.upstream);return null!==r&&r.length>0}async showRebaseDialog(e,t){const n=this.repositoryStateManager.get(e),r=vc(n,t),{tip:i}=n.branchesState;let o=null;if(i.kind!==si.Valid)throw new Error("Tip is not in a valid state, which is required to start the rebase flow");o=i.branch,this.initializeMultiCommitOperation(e,{kind:"Rebase",sourceBranch:null,commits:[],currentTip:i.branch.tip.sha},o,[],o.tip.sha),this.setMultiCommitOperationStep(e,r),this.showPopup({type:ai.MultiCommitOperation,repository:e})}async startRebase(e,t,n,r,i){const{askForConfirmationOnForcePush:o}=this.appStore.getState(),s=void 0!==i&&i.continueWithForcePush,{branchesState:a}=this.repositoryStateManager.get(e),l=pc(a.tip);if(this.appStore._initializeMultiCommitOperation(e,{kind:"Rebase",commits:r,currentTip:t.tip.sha,sourceBranch:t},n,r,l),o&&!s){if(await this.warnAboutRemoteCommits(e,t,n.tip.sha))return void this.setMultiCommitOperationStep(e,{kind:"WarnForcePush",targetBranch:n,baseBranch:t,commits:r})}await this.rebase(e,t,n)}async launchRebaseOperation(e,t){await this.appStore._loadStatus(e);const n=this.repositoryStateManager.get(e),{conflictState:r}=n.changesState;if(null===r||!$e(r))return;const i=Object.assign(Object.assign({},r),{targetBranch:t});this.repositoryStateManager.updateChangesState(e,()=>({conflictState:i}));const o=await $l(e);if(null===o)return;const{progress:s,commits:a}=o;this.initializeMultiCommitOperation(e,{kind:"Rebase",sourceBranch:null,commits:a,currentTip:""},null,a,t),this.repositoryStateManager.updateMultiCommitOperationState(e,()=>({progress:s}));const{manualResolutions:l}=r;this.setMultiCommitOperationStep(e,{kind:"ShowConflicts",conflictState:{kind:"multiCommitOperation",manualResolutions:l,ourBranch:t,theirBranch:void 0}}),this.showPopup({type:ai.MultiCommitOperation,repository:e})}createBranch(e,t,n,r=!1){return this.appStore._createBranch(e,t,n,r)}createTag(e,t,n){return this.appStore._createTag(e,t,n)}deleteTag(e,t){return this.appStore._deleteTag(e,t)}showCreateTagDialog(e,t,n,r){return this.showPopup({type:ai.CreateTag,repository:e,targetCommitSha:t,initialName:r,localTags:n})}showDeleteTagDialog(e,t){return this.showPopup({type:ai.DeleteTag,repository:e,tagName:t})}checkoutBranch(e,t,n){return this.appStore._checkoutBranch(e,t,n)}push(e){return this.appStore._push(e)}pushWithOptions(e,t){return void 0!==t&&t.forceWithLease&&this.dropCurrentBranchFromForcePushList(e),this.appStore._push(e,t)}pull(e){return this.appStore._pull(e)}fetchRefspec(e,t){return this.appStore._fetchRefspec(e,t)}fetch(e,t){return this.appStore._fetch(e,t)}publishRepository(e,t,n,r,i,o){return this.appStore._publishRepository(e,t,n,r,i,o)}async postError(e){let t=e;for(let e=this.errorHandlers.length-1;e>=0;e--){const n=this.errorHandlers[e];if(t=await n(t,this),!t)break}t&&Ye(`Unhandled error ${t}. This shouldn't happen! All errors should be handled, even if it's just by the default handler.`)}presentError(e){return this.appStore._pushError(e)}clearError(e){return this.appStore._clearError(e)}cloneAgain(e,t){return this.appStore._cloneAgain(e,t)}async clone(e,t,n){return this.appStore._completeOpenInDesktop(async()=>{const{promise:r,repository:i}=this.appStore._clone(e,t,n);await this.selectRepository(i);if(!await r)return null;const o=await this.addRepositories([t]);if(o.length<1)return null;const s=o[0];return await this.selectRepository(s),wi(s)&&this.showPopup({type:ai.ChooseForkSettings,repository:s}),s})}changeRepositoryAlias(e,t){return this.appStore._changeRepositoryAlias(e,t)}renameBranch(e,t,n){return this.appStore._renameBranch(e,t,n)}deleteLocalBranch(e,t,n){return this.appStore._deleteBranch(e,t,n)}deleteRemoteBranch(e,t){return this.appStore._deleteBranch(e,t)}discardChanges(e,t,n=!0){return this.appStore._discardChanges(e,t,n)}discardChangesFromSelection(e,t,n,r){return this.appStore._discardChangesFromSelection(e,t,n,r)}async startAmendingRepository(e,t,n,r=!1){const i=this.repositoryStateManager.get(e),{tip:o}=i.branchesState,{askForConfirmationOnForcePush:s}=this.appStore.getState();if(s&&!r&&!n&&o.kind===si.Valid)return this.showPopup({type:ai.WarnForcePush,operation:"Amend",onBegin:()=>{this.startAmendingRepository(e,t,n,!0)}});await this.changeRepositorySection(e,je.Changes),this.appStore._setRepositoryCommitToAmend(e,t),this.statsStore.recordAmendCommitStarted()}async stopAmendingRepository(e){this.appStore._setRepositoryCommitToAmend(e,null)}undoCommit(e,t,n=!0){return this.appStore._undoCommit(e,t,n)}resetToCommit(e,t,n=!0){return this.statsStore.recordResetToCommitCount(),this.appStore._resetToCommit(e,t,n)}revertCommit(e,t){return this.appStore._revertCommit(e,t)}setSidebarWidth(e){return this.appStore._setSidebarWidth(e)}setUpdateBannerVisibility(e){return this.appStore._setUpdateBannerVisibility(e)}setBanner(e){return this.appStore._setBanner(e)}clearBanner(e){return this.appStore._clearBanner(e)}resetSidebarWidth(){return this.appStore._resetSidebarWidth()}setCommitSummaryWidth(e){return this.appStore._setCommitSummaryWidth(e)}resetCommitSummaryWidth(){return this.appStore._resetCommitSummaryWidth()}refreshIssues(e){return this.appStore._refreshIssues(e)}endWelcomeFlow(){return this.appStore._endWelcomeFlow()}setCommitMessageFocus(e){this.appStore._setCommitMessageFocus(e)}setCommitMessage(e,t){return this.appStore._setCommitMessage(e,t)}removeAccount(e){return this.appStore._removeAccount(e)}setAppMenuState(e){return this.appStore._setAppMenuState(e)}executeMenuItem(e){return(e=>{T(e.id)})(e),Promise.resolve()}setAccessKeyHighlightState(e){return this.appStore._setAccessKeyHighlightState(e)}mergeBranch(e,t,n,r=!1){return this.appStore._mergeBranch(e,t,n,r)}setConflictsResolved(e){return this.appStore._setConflictsResolved(e)}async rebase(e,t,n){const{branchesState:r,multiCommitOperationState:i}=this.repositoryStateManager.get(e);if(null==i||"Rebase"!==i.operationDetail.kind)return;const{commits:o}=i.operationDetail,s=pc(r.tip);log.info(`[rebase] starting rebase for ${n.name} at ${s}`),log.info("[rebase] to restore the previous state if this completed rebase is unsatisfactory:"),log.info("[rebase] - git checkout "+n.name),log.info(`[rebase] - git reset ${s} --hard`);const a=await this.appStore._rebase(e,t,n);await this.appStore._loadStatus(e);const l=this.repositoryStateManager.get(e),{tip:c}=l.branchesState,u=pc(c);if(log.info(`[rebase] completed rebase - got ${a} and on tip ${u} - kind ${c.kind}`),a===Bl.ConflictsEncountered){const{conflictState:r}=l.changesState;return null===r?void log.warn("[rebase] conflict state after rebase is null - unable to continue"):$e(r)?this.startMultiCommitOperationConflictFlow("Rebase",e,t.name,n.name):void log.warn("[rebase] conflict state after rebase is not rebase conflicts - unable to continue")}if(a===Bl.CompletedWithoutError){if(c.kind!==si.Valid)return void log.warn(`[rebase] tip after completing rebase is ${c.kind} but this should be a valid tip if the rebase completed without error`);this.statsStore.recordRebaseSuccessWithoutConflicts(),await this.completeMultiCommitOperation(e,o.length)}else a===Bl.Error&&this.endMultiCommitOperation(e)}async abortRebase(e){await this.appStore._abortRebase(e),await this.appStore._loadStatus(e),await this.refreshRepository(e)}async continueRebase(e,t,n,r){const i=this.repositoryStateManager.get(t),{manualResolutions:o}=r,s=pc(i.branchesState.tip);log.info("[continueRebase] continuing rebase for "+s);const a=await this.appStore._continueRebase(t,n,o);a===Bl.CompletedWithoutError&&this.statsStore.recordOperationSuccessfulWithConflicts(e),await this.appStore._loadStatus(t);const l=this.repositoryStateManager.get(t),{tip:c}=l.branchesState,u=pc(c);return log.info(`[continueRebase] completed rebase - got ${a} and on tip ${u} - kind ${c.kind}`),a}async abortMerge(e){await this.appStore._abortMerge(e),await this.appStore._loadStatus(e)}async abortSquashMerge(e){return await this.appStore._abortSquashMerge(e),this.appStore._refreshRepository(e)}async finishConflictedMerge(e,t,n,r){const i=this.repositoryStateManager.get(e),{conflictState:o}=i.changesState;if(null===o)return void log.error("Conflict state missing during finishConflictedMerge. No merge will be committed.");void 0!==await this.appStore._finishConflictedMerge(e,t,o.manualResolutions)&&(this.setBanner(n),r&&(this.statsStore.recordSquashMergeSuccessful(),this.statsStore.recordSquashMergeSuccessfulWithConflicts()))}recordLaunchStats(e){return this.appStore._recordLaunchStats(e)}reportStats(){return this.appStore._reportStats()}setRemoteURL(e,t,n){return this.appStore._setRemoteURL(e,t,n)}openInBrowser(e){return this.appStore._openInBrowser(e)}appendIgnoreRule(e,t){return this.appStore._appendIgnoreRule(e,t)}async openShell(e,t=!1){await async function(){return Promise.resolve(!0)}()||t?this.appStore._openShell(e):this.appStore._showPopup({type:ai.InstallGit,path:e})}async openInExternalEditor(e){return this.appStore._openInExternalEditor(e)}saveGitIgnore(e,t){return this.appStore._saveGitIgnore(e,t)}setStatsOptOut(e,t){return this.appStore.setStatsOptOut(e,t)}moveToApplicationsFolder(){return Q()}resetSignInState(){return this.appStore._resetSignInState()}beginDotComSignIn(){return this.appStore._beginDotComSignIn()}beginEnterpriseSignIn(){return this.appStore._beginEnterpriseSignIn()}setSignInEndpoint(e){return this.appStore._setSignInEndpoint(e)}setSignInCredentials(e,t){return this.appStore._setSignInCredentials(e,t)}requestBrowserAuthentication(){return this.appStore._requestBrowserAuthentication()}async requestBrowserAuthenticationToDotcom(){return await this.beginDotComSignIn(),this.requestBrowserAuthentication()}setSignInOTP(e){return this.appStore._setSignInOTP(e)}async showDotComSignInDialog(){await this.appStore._beginDotComSignIn(),await this.appStore._showPopup({type:ai.SignIn})}async showEnterpriseSignInDialog(e){await this.appStore._beginEnterpriseSignIn(),void 0!==e&&await this.appStore._setSignInEndpoint(e),await this.appStore._showPopup({type:ai.SignIn})}async showCreateForkDialog(e){await this.appStore._showCreateForkDialog(e)}registerErrorHandler(e){return this.errorHandlers.push(e),new nt.Disposable(()=>{const t=this.errorHandlers.indexOf(e);t>=0&&this.errorHandlers.splice(t,1)})}async relocateRepository(e){const t=await ce({properties:["openDirectory"]});null!==t&&await this.updateRepositoryPath(e,t)}async updateRepositoryWorkflowPreferences(e,t){await this.appStore._updateRepositoryWorkflowPreferences(e,t)}async updateRepositoryPath(e,t){await this.appStore._updateRepositoryPath(e,t)}async setAppFocusState(e){await this.appStore._setAppFocusState(e),e?this.commitStatusStore.startBackgroundRefresh():this.commitStatusStore.stopBackgroundRefresh()}async initializeAppFocusState(){const e=await R();this.setAppFocusState(e)}getRepositoryFromPullRequest(e){var t,n;const r=this.appStore.getState().repositories,i=null===(t=e.head.repo)||void 0===t?void 0:t.clone_url,o=null===(n=e.base.repo)||void 0===n?void 0:n.clone_url;if(void 0===i||void 0===o)return null;for(const e of r)if(this.doesRepositoryMatchUrl(e,i))return e;for(const e of r)if(this.doesRepositoryMatchUrl(e,o))return e;return null}doesRepositoryMatchUrl(e,t){var n,r;if(e instanceof vi&&bi(e)){const i=e.gitHubRepository.htmlURL,o=null!==(r=null===(n=e.gitHubRepository.parent)||void 0===n?void 0:n.htmlURL)&&void 0!==r?r:null;if(null!==i&&Zn(i,t))return!0;if(null!==o&&Zn(o,t))return!0}return!1}async openRepositoryFromUrl(e){const{url:t,pr:n,branch:r,filepath:i}=e;let o;if(o=null!==n?await this.openPullRequestFromUrl(t,n):null!==r?await this.openBranchNameFromUrl(t,r):await this.openOrCloneRepository(t),null!==o&&null!==i){const e=await function(e,...t){return ct(e,t)}(o.path,i);null!==e?Je.showItemInFolder(e):log.error("Prevented attempt to open path outside of the repository root: "+i)}}async openBranchNameFromUrl(e,t){const n=await this.openOrCloneRepository(e);return null===n?null:(await this.appStore._refreshRepository(n),await this.appStore._fetch(n,ti.UserInitiatedTask),await this.checkoutLocalBranch(n,t),n)}async openPullRequestFromUrl(e,t){const n=await this.appStore.fetchPullRequest(e,t);if(null===n)return null;let r=this.getRepositoryFromPullRequest(n);return null!==r?await this.selectRepository(r):r=await this.openOrCloneRepository(e),null===r?(log.warn("Open Repository from URL failed, did not find or clone repository: "+e),null):bi(r)?(await this.appStore._refreshRepository(r),null===n.head.repo?null:(await this.appStore._checkoutPullRequest(r,n.number,n.head.repo.owner.login,n.head.repo.clone_url,n.head.ref),r)):(log.warn("Received a non-GitHub repository when opening repository from URL: "+e),null)}async dispatchURLAction(e){switch(e.name){case"oauth":try{log.info("[Dispatcher] requesting authenticated user");const n=await Yc(e.code,e.state);n?(t=n,$c||Ye("`askUserToOAuth` must be called before resolving an auth request."),$c.resolve(t),$c=null):null===n&&Zc(new Error("Unable to fetch authenticated user."))}catch(e){Zc(e)}await R()||(log.info("refocusing the main window after the OAuth flow is completed"),window.focus());break;case"open-repository-from-url":this.openRepositoryFromUrl(e);break;case"open-repository-from-path":const n=await Zd(e.path)||e.path,{repositories:r}=this.appStore.getState(),i=$n(r,n);i?(await this.selectRepository(i),this.statsStore.recordAddExistingRepository()):await this.showPopup({type:ai.AddRepository,path:n});break;default:const o=e;log.warn(`Unknown URL action: ${o.name} - payload: ${JSON.stringify(o)}`)}var t}setAskToMoveToApplicationsFolderSetting(e){return this.appStore._setAskToMoveToApplicationsFolderSetting(e)}setConfirmRepoRemovalSetting(e){return this.appStore._setConfirmRepositoryRemovalSetting(e)}setConfirmDiscardChangesSetting(e){return this.appStore._setConfirmDiscardChangesSetting(e)}setConfirmDiscardChangesPermanentlySetting(e){return this.appStore._setConfirmDiscardChangesPermanentlySetting(e)}setUncommittedChangesStrategySetting(e){return this.appStore._setUncommittedChangesStrategySetting(e)}setExternalEditor(e){return this.appStore._setExternalEditor(e)}setShell(e){return this.appStore._setShell(e)}async checkoutLocalBranch(e,t){let n=!0;const r=this.repositoryStateManager.get(e),i=r.branchesState.allBranches,{tip:o}=r.branchesState;o.kind===si.Valid&&(n=o.branch.nameWithoutRemote!==t);const s=i.find(e=>e.nameWithoutRemote===t);n&&void 0!==s&&await this.checkoutBranch(e,s)}async openOrCloneRepository(e){const t=this.appStore.getState().repositories.find(t=>this.doesRepositoryMatchUrl(t,e));return t?await this.selectRepository(t):this.appStore._startOpenInDesktop(()=>{this.changeCloneRepositoriesTab(Vr.Generic),this.showPopup({type:ai.CloneRepository,initialURL:e})})}async installCLI(){try{await Hw(),this.showPopup({type:ai.CLIInstalled})}catch(e){log.error("Error installing CLI",e),this.postError(e)}}promptForGenericGitAuthentication(e,t){return this.appStore.promptForGenericGitAuthentication(e,t)}async saveGenericGitCredentials(e,t,n){log.info(`storing generic credentials for '${e}' and '${t}'`),function(e,t){const n=ao(e);localStorage.setItem(n,t)}(e,t);try{await function(e,t,n){const r=Ir(e);return oo.setItem(r,t,n)}(e,t,n)}catch(n){log.error(`Error saving generic git credentials: ${t}@${e}`,n),this.postError(n)}}async performRetry(e){switch(e.type){case tt.Push:return this.push(e.repository);case tt.Pull:return this.pull(e.repository);case tt.Fetch:return this.fetch(e.repository,ti.UserInitiatedTask);case tt.Clone:await this.clone(e.url,e.path,e.options);break;case tt.Checkout:await this.checkoutBranch(e.repository,e.branch);break;case tt.Merge:return this.mergeBranch(e.repository,e.theirBranch,null);case tt.Rebase:return this.rebase(e.repository,e.baseBranch,e.targetBranch);case tt.CherryPick:return this.cherryPick(e.repository,e.targetBranch,e.commits,e.sourceBranch);case tt.CreateBranchForCherryPick:return this.startCherryPickWithBranchName(e.repository,e.targetBranchName,e.startPoint,e.noTrackOption,e.commits,e.sourceBranch);case tt.Squash:return this.squash(e.repository,e.toSquash,e.squashOnto,e.lastRetainedCommitRef,e.commitContext);case tt.Reorder:return this.reorderCommits(e.repository,e.commitsToReorder,e.beforeCommit,e.lastRetainedCommitRef);case tt.DiscardChanges:return this.discardChanges(e.repository,e.files,!1);default:return Ze(0,"Unknown retry action: "+e)}}changeImageDiffType(e){return this.appStore._changeImageDiffType(e)}onHideWhitespaceInChangesDiffChanged(e,t){return this.appStore._setHideWhitespaceInChangesDiff(e,t)}onHideWhitespaceInHistoryDiffChanged(e,t,n=null){return this.appStore._setHideWhitespaceInHistoryDiff(e,t,n)}onShowSideBySideDiffChanged(e){return this.appStore._setShowSideBySideDiff(e)}installGlobalLFSFilters(e){return this.appStore._installGlobalLFSFilters(e)}installLFSHooks(e){return this.appStore._installLFSHooks(e)}changeCloneRepositoriesTab(e){return this.appStore._changeCloneRepositoriesTab(e)}refreshApiRepositories(e){return this.appStore._refreshApiRepositories(e)}changeBranchesTab(e){return this.appStore._changeBranchesTab(e)}showGitHubExplore(e){return this.appStore._showGitHubExplore(e)}createPullRequest(e){return this.appStore._createPullRequest(e)}showPullRequest(e){return this.appStore._showPullRequest(e)}async showPullRequestByPR(e){return this.appStore._showPullRequestByPR(e)}openCreatePullRequestInBrowser(e,t){return this.appStore._openCreatePullRequestInBrowser(e,t)}updateExistingUpstreamRemote(e){return this.appStore._updateExistingUpstreamRemote(e)}ignoreExistingUpstreamRemote(e){return this.appStore._ignoreExistingUpstreamRemote(e)}async checkoutPullRequest(e,t){if(null!==t.head.gitHubRepository.cloneURL)return this.appStore._checkoutPullRequest(e,t.pullRequestNumber,t.head.gitHubRepository.owner.login,t.head.gitHubRepository.cloneURL,t.head.ref)}setShowCoAuthoredBy(e,t){return this.appStore._setShowCoAuthoredBy(e,t)}setCoAuthors(e,t){return this.appStore._setCoAuthors(e,t)}initializeCompare(e,t){return this.appStore._initializeCompare(e,t)}executeCompare(e,t){return this.appStore._executeCompare(e,t)}updateCompareForm(e,t){return this.appStore._updateCompareForm(e,t)}updateManualConflictResolution(e,t,n){return this.appStore._updateManualConflictResolution(e,t,n)}async confirmOrForcePush(e){const{askForConfirmationOnForcePush:t}=this.appStore.getState(),{branchesState:n}=this.repositoryStateManager.get(e),{tip:r}=n;if(r.kind!==si.Valid)return void log.warn("Could not find a branch to perform force push");const{upstream:i}=r.branch;null!==i?t?this.showPopup({type:ai.ConfirmForcePush,repository:e,upstreamBranch:i}):await this.performForcePush(e):log.warn("Could not find an upstream branch which will be pushed")}async performForcePush(e){await this.pushWithOptions(e,{forceWithLease:!0}),await this.appStore._loadStatus(e)}setConfirmForcePushSetting(e){return this.appStore._setConfirmForcePushSetting(e)}async convertRepositoryToFork(e,t){return this.appStore._convertRepositoryToFork(e,t)}mergeConflictDetectedFromPull(){return this.statsStore.recordMergeConflictFromPull()}mergeConflictDetectedFromExplicitMerge(){return this.statsStore.recordMergeConflictFromExplicitMerge()}recordMenuInitiatedMerge(e=!0){return this.statsStore.recordMenuInitiatedMerge(e)}recordMenuInitiatedRebase(){return this.statsStore.recordMenuInitiatedRebase()}recordMenuInitiatedUpdate(){return this.statsStore.recordMenuInitiatedUpdate()}recordCompareInitiatedMerge(){return this.statsStore.recordCompareInitiatedMerge()}setSelectedTheme(e){return this.appStore._setSelectedTheme(e)}setCustomTheme(e){return this.appStore._setCustomTheme(e)}recordRepoClicked(e){return this.statsStore.recordRepoClicked(e)}recordCreatePullRequest(){return this.statsStore.recordCreatePullRequest()}recordWelcomeWizardInitiated(){return this.statsStore.recordWelcomeWizardInitiated()}recordCreateRepository(){this.statsStore.recordCreateRepository()}recordAddExistingRepository(){this.statsStore.recordAddExistingRepository()}recordMergeConflictsDialogDismissal(){this.statsStore.recordMergeConflictsDialogDismissal()}recordMergeConflictsDialogReopened(){this.statsStore.recordMergeConflictsDialogReopened()}recordAnyConflictsLeftOnMergeConflictsDialogDismissal(){this.statsStore.recordAnyConflictsLeftOnMergeConflictsDialogDismissal()}recordGuidedConflictedMergeCompletion(){this.statsStore.recordGuidedConflictedMergeCompletion()}recordUnguidedConflictedMergeCompletion(){this.statsStore.recordUnguidedConflictedMergeCompletion()}recordRebaseConflictsDialogDismissal(){this.statsStore.recordRebaseConflictsDialogDismissal()}recordRebaseConflictsDialogReopened(){this.statsStore.recordRebaseConflictsDialogReopened()}recordErrorWhenSwitchingBranchesWithUncommmittedChanges(){return this.statsStore.recordErrorWhenSwitchingBranchesWithUncommmittedChanges()}refreshPullRequests(e){return this.appStore._refreshPullRequests(e)}tryGetCommitStatus(e,t,n){return this.commitStatusStore.tryGetStatus(e,t,n)}subscribeToCommitStatus(e,t,n,r){return this.commitStatusStore.subscribe(e,t,n,r)}manualRefreshSubscription(e,t,n){return this.commitStatusStore.manualRefreshSubscription(e,t,n)}async rerequestCheckSuites(e,t){const n=new Set([...t.map(e=>e.checkSuiteId)]),r=new Array;for(const t of n)null!==t&&r.push(this.commitStatusStore.rerequestCheckSuite(e,t));return Promise.all(r)}async fetchCheckSuite(e,t){return this.commitStatusStore.fetchCheckSuite(e,t)}createStashForCurrentBranch(e,t=!0){return this.appStore._createStashForCurrentBranch(e,t)}dropStash(e,t){return this.appStore._dropStashEntry(e,t)}popStash(e,t){return this.appStore._popStashEntry(e,t)}hideStashedChanges(e){return this.appStore._hideStashedChanges(e)}recordSuggestedStepOpenInExternalEditor(){return this.statsStore.recordSuggestedStepOpenInExternalEditor()}recordSuggestedStepOpenWorkingDirectory(){return this.statsStore.recordSuggestedStepOpenWorkingDirectory()}recordSuggestedStepViewOnGitHub(){return this.statsStore.recordSuggestedStepViewOnGitHub()}recordSuggestedStepPublishRepository(){return this.statsStore.recordSuggestedStepPublishRepository()}recordSuggestedStepPublishBranch(){return this.statsStore.recordSuggestedStepPublishBranch()}recordSuggestedStepCreatePullRequest(){return this.statsStore.recordSuggestedStepCreatePullRequest()}recordSuggestedStepViewStash(){return this.statsStore.recordSuggestedStepViewStash()}recordNoActionTakenOnStash(){return this.statsStore.recordNoActionTakenOnStash()}recordStashView(){return this.statsStore.recordStashView()}skipPickEditorTutorialStep(e){return this.appStore._skipPickEditorTutorialStep(e)}markPullRequestTutorialStepAsComplete(e){return this.appStore._markPullRequestTutorialStepAsComplete(e)}recordForkCreated(){return this.statsStore.recordForkCreated()}createTutorialRepository(e){return this.appStore._createTutorialRepository(e)}async openIssueCreationPage(e){const t=Si(e);return null!==t&&(this.statsStore.recordIssueCreationWebpageOpened(),this.appStore._openInBrowser(t+"/issues/new/choose"))}setRepositoryIndicatorsEnabled(e){this.appStore._setRepositoryIndicatorsEnabled(e)}setCommitSpellcheckEnabled(e){this.appStore._setCommitSpellcheckEnabled(e)}setUseWindowsOpenSSH(e){this.appStore._setUseWindowsOpenSSH(e)}setNotificationsEnabled(e){this.appStore._setNotificationsEnabled(e)}recordDiffOptionsViewed(){return this.statsStore.recordDiffOptionsViewed()}logHowToRevertCherryPick(e,t){log.info(`[cherryPick] starting cherry-pick for ${e} at ${t}`),log.info("[cherryPick] to restore the previous state if this completed cherry-pick is unsatisfactory:"),log.info("[cherryPick] - git checkout "+e),log.info(`[cherryPick] - git reset ${t} --hard`)}initializeMultiCommitOperationStateCherryPick(e,t,n,r){var i;null===this.repositoryStateManager.get(e).multiCommitOperationState&&this.initializeMultiCommitOperation(e,{kind:"Cherry-pick",sourceBranch:r,branchCreated:!1,commits:n},t,n,null!==(i=null==r?void 0:r.tip.sha)&&void 0!==i?i:null)}async cherryPick(e,t,n,r){this.initializeMultiCommitOperationStateCherryPick(e,t,n,r),this.appStore._initializeCherryPickProgress(e,n),this.switchMultiCommitOperationToShowProgress(e),this.markDragAndDropIntroAsSeen(oc.CherryPick);const i={type:tt.CherryPick,repository:e,targetBranch:t,commits:n,sourceBranch:r};if(this.appStore._checkForUncommittedChanges(e,i))return void this.endMultiCommitOperation(e);const{tip:o}=t;this.repositoryStateManager.updateMultiCommitOperationUndoState(e,()=>({undoSha:o.sha,branchName:t.name})),n.length>1&&this.statsStore.recordCherryPickMultipleCommits();const s=await this.appStore._checkoutBranchReturnName(e,t);if(void 0===s)return log.error("[cherryPick] - Failed to check out the target branch."),void this.endMultiCommitOperation(e);const a=await this.appStore._cherryPick(e,n);a!==ic.UnableToStart&&this.logHowToRevertCherryPick(s,o.sha),this.processCherryPickResult(e,a,s,n,r)}async startCherryPickWithBranchName(e,t,n,r=!1,i,o){const s={type:tt.CreateBranchForCherryPick,repository:e,targetBranchName:t,startPoint:n,noTrackOption:r,commits:i,sourceBranch:o};if(this.appStore._checkForUncommittedChanges(e,s))return void this.endMultiCommitOperation(e);const a=await this.appStore._createBranch(e,t,n,r,!1);return void 0===a?(log.error("[startCherryPickWithBranchName] - Unable to create branch for cherry-pick operation"),void this.endMultiCommitOperation(e)):(this.initializeMultiCommitOperationStateCherryPick(e,a,i,o),this.appStore._setMultiCommitOperationTargetBranch(e,a),this.appStore._setCherryPickBranchCreated(e,!0),this.statsStore.recordCherryPickBranchCreatedCount(),this.cherryPick(e,a,i,o))}async startCherryPickWithBranch(e,t){const{branchesState:n}=this.repositoryStateManager.get(e),{dragData:r}=Dg;if(null==r||r.type!==_g.Commit)return log.error("[cherryPick] Invalid Cherry-picking State: Could not determine selected commits."),void this.endMultiCommitOperation(e);const{tip:i}=n;if(i.kind!==si.Valid)throw this.endMultiCommitOperation(e),new Error("Tip is not in a valid state, which is required to start the cherry-pick flow.");const o=i.branch,{commits:s}=r;this.initializeMultiCommitOperation(e,{kind:"Cherry-pick",sourceBranch:o,branchCreated:!1,commits:s},t,s,i.branch.tip.sha),this.showPopup({type:ai.MultiCommitOperation,repository:e}),this.statsStore.recordCherryPickViaDragAndDrop(),this.setCherryPickBranchCreated(e,!1),this.cherryPick(e,t,s,o)}async startCherryPickWithPullRequest(e,t){const{pullRequestNumber:n,head:r}=t,{ref:i,gitHubRepository:o}=r,{cloneURL:s,owner:{login:a}}=o;let l;return null!==s&&(l=await this.appStore._findPullRequestBranch(e,n,a,s,i)),void 0===l?(log.error("[cherryPick] Could not determine target branch for cherry-pick operation - aborting cherry-pick."),void this.endMultiCommitOperation(e)):this.startCherryPickWithBranch(e,l)}async continueCherryPick(e,t,n,r,i){await this.switchMultiCommitOperationToShowProgress(e);const o=await this.appStore._continueCherryPick(e,t,n.manualResolutions);o===ic.CompletedWithoutError&&this.statsStore.recordCherryPickSuccessfulWithConflicts(),this.processCherryPickResult(e,o,n.targetBranchName,r,i)}startConflictCherryPickFlow(e){const{changesState:t,multiCommitOperationState:n}=this.repositoryStateManager.get(e),{conflictState:r}=t;if(null===r||!Ke(r)||null==n||"Cherry-pick"!==n.operationDetail.kind)return log.error("[cherryPick] - conflict state was null or not in a cherry-pick conflict state - unable to continue"),void this.endMultiCommitOperation(e);const{sourceBranch:i}=n.operationDetail;this.setMultiCommitOperationStep(e,{kind:"ShowConflicts",conflictState:{kind:"multiCommitOperation",manualResolutions:r.manualResolutions,ourBranch:r.targetBranchName,theirBranch:null!==i?i.name:void 0}}),this.statsStore.recordCherryPickConflictsEncountered()}async abortCherryPick(e,t){await this.appStore._abortCherryPick(e,t),await this.appStore._loadStatus(e),this.endMultiCommitOperation(e),await this.refreshRepository(e)}async switchMultiCommitOperationToShowProgress(e){this.setMultiCommitOperationStep(e,{kind:"ShowProgress"}),await Wo(500)}async processCherryPickResult(e,t,n,r,i){switch(await this.appStore._loadStatus(e),t){case ic.CompletedWithoutError:await this.changeCommitSelection(e,[r[0].sha]),await this.completeMultiCommitOperation(e,r.length);break;case ic.ConflictsEncountered:this.startConflictCherryPickFlow(e);break;case ic.UnableToStart:this.endMultiCommitOperation(e);break;default:this.appStore._clearCherryPickingHead(e,i),this.endMultiCommitOperation(e),this.appStore._closePopup()}}setCherryPickProgressFromState(e){return this.appStore._setCherryPickProgressFromState(e)}markDragAndDropIntroAsSeen(e){this.appStore._markDragAndDropIntroAsSeen(e)}recordCherryPickViaContextMenu(){this.statsStore.recordCherryPickViaContextMenu()}recordDragStartedAndCanceled(){this.statsStore.recordDragStartedAndCanceled()}setDragElement(e){this.appStore._setDragElement(e)}clearDragElement(){this.appStore._setDragElement(null)}async setCherryPickCreateBranchFlowStep(e,t,n,r){const{branchesState:i}=this.repositoryStateManager.get(e),{defaultBranch:o,allBranches:s,tip:a}=i;if(a.kind!==si.Valid)return this.appStore._clearCherryPickingHead(e,null),this.endMultiCommitOperation(e),void log.error("Tip is in unknown state. Cherry-pick aborted.");const l=bi(e),c=l?Ei(e):null,u=l?jw(e,s):null;this.initializeMultiCommitOperation(e,{kind:"Cherry-pick",sourceBranch:r,branchCreated:!0,commits:n},null,n,a.branch.tip.sha);const h={kind:"CreateBranch",allBranches:s,defaultBranch:o,upstreamDefaultBranch:u,upstreamGhRepo:c,tip:a,targetBranchName:t};return this.appStore._setMultiCommitOperationStep(e,h)}setMultiCommitOperationTargetBranch(e,t){this.repositoryStateManager.updateMultiCommitOperationState(e,()=>({targetBranch:t}))}setCherryPickBranchCreated(e,t){this.appStore._setCherryPickBranchCreated(e,t)}async getBranchAheadBehind(e,t){return this.appStore._getBranchAheadBehind(e,t)}setLastThankYou(e){this.appStore._setLastThankYou(e)}async reorderCommits(e,t,n,r,i=!1){const o={type:tt.Reorder,repository:e,commitsToReorder:t,beforeCommit:n,lastRetainedCommitRef:r};if(this.appStore._checkForUncommittedChanges(e,o))return;this.markDragAndDropIntroAsSeen(oc.Reorder);const s=this.repositoryStateManager.get(e),{tip:a}=s.branchesState;if(a.kind!==si.Valid)return void log.info("[reorder] - invalid tip state - could not perform reorder.");this.statsStore.recordReorderStarted(),t.length>1&&this.statsStore.recordReorderMultipleCommits(),this.appStore._initializeMultiCommitOperation(e,{kind:"Reorder",lastRetainedCommitRef:r,beforeCommit:n,commits:t,currentTip:a.branch.tip.sha},a.branch,t,a.branch.tip.sha),this.showPopup({type:ai.MultiCommitOperation,repository:e}),this.appStore._setMultiCommitOperationUndoState(e,a);const{askForConfirmationOnForcePush:l}=this.appStore.getState();if(l&&!i){if(await this.warnAboutRemoteCommits(e,a.branch,r))return void this.setMultiCommitOperationStep(e,{kind:"WarnForcePush",targetBranch:a.branch,baseBranch:a.branch,commits:t})}const c=await this.appStore._reorderCommits(e,t,n,r);return this.logHowToRevertMultiCommitOperation("Reorder",a),this.processMultiCommitOperationRebaseResult("Reorder",e,c,t.length,a.branch.name,"Reorder".toLowerCase()+" commit")}async squash(e,t,n,r,i,o=!1){const s={type:tt.Squash,repository:e,toSquash:t,squashOnto:n,lastRetainedCommitRef:r,commitContext:i};if(this.appStore._checkForUncommittedChanges(e,s))return;this.markDragAndDropIntroAsSeen(oc.Squash);const a=this.repositoryStateManager.get(e),{tip:l}=a.branchesState;if(l.kind!==si.Valid)return void log.info("[squash] - invalid tip state - could not perform squash.");t.length>1&&this.statsStore.recordSquashMultipleCommitsInvoked(),this.initializeMultiCommitOperation(e,{kind:"Squash",lastRetainedCommitRef:r,commitContext:i,targetCommit:n,commits:t,currentTip:l.branch.tip.sha},l.branch,t,l.branch.tip.sha),this.showPopup({type:ai.MultiCommitOperation,repository:e}),this.appStore._setMultiCommitOperationUndoState(e,l);const{askForConfirmationOnForcePush:c}=this.appStore.getState();if(c&&!o){if(await this.warnAboutRemoteCommits(e,l.branch,r))return void this.setMultiCommitOperationStep(e,{kind:"WarnForcePush",targetBranch:l.branch,baseBranch:l.branch,commits:t})}const u=await this.appStore._squash(e,t,n,r,i);return this.logHowToRevertMultiCommitOperation("Squash",l),this.processMultiCommitOperationRebaseResult("Squash",e,u,t.length+1,l.branch.name,"Squash".toLowerCase()+" commit")}initializeMultiCommitOperation(e,t,n,r,i){this.appStore._initializeMultiCommitOperation(e,t,n,r,i)}logHowToRevertMultiCommitOperation(e,t){const n=e.toLocaleLowerCase(),r=pc(t);log.info(`[${n}] starting rebase for ${t.branch.name} at ${r}`),log.info(`[${n}] to restore the previous state if this completed rebase is unsatisfactory:`),log.info(`[${n}] - git checkout ${t.branch.name}`),log.info(`[${n}] - git reset ${r} --hard`)}async processMultiCommitOperationRebaseResult(e,t,n,r,i,o){const s=await this.appStore._loadStatus(t);switch(n){case Bl.CompletedWithoutError:null!==s&&void 0!==s.currentTip&&await this.changeCommitSelection(t,[s.currentTip]),await this.completeMultiCommitOperation(t,r);break;case Bl.ConflictsEncountered:await this.refreshRepository(t),this.startMultiCommitOperationConflictFlow(e,t,i,o);break;default:this.appStore._closePopup()}}startMultiCommitOperationConflictFlow(e,t,n,r){const{changesState:{conflictState:i}}=this.repositoryStateManager.get(t);if(null===i)return log.error("[startMultiCommitOperationConflictFlow] - conflict state was null - unable to continue"),void this.endMultiCommitOperation(t);const{manualResolutions:o}=i;this.setMultiCommitOperationStep(t,{kind:"ShowConflicts",conflictState:{kind:"multiCommitOperation",manualResolutions:o,ourBranch:n,theirBranch:r}}),this.statsStore.recordOperationConflictsEncounteredCount(e),this.showPopup({type:ai.MultiCommitOperation,repository:t})}async completeMultiCommitOperation(e,t){this.closePopup();const{branchesState:{tip:n},multiCommitOperationState:r}=this.repositoryStateManager.get(e);if(null===r)return void log.error("[completeMultiCommitOperation] - No multi commit operation to complete.");const{operationDetail:i,originalBranchTip:o}=r,{kind:s}=i,a=this.getMultiCommitOperationSuccessBanner(e,t,r);this.setBanner(a),n.kind===si.Valid&&null!==o&&"Cherry-pick"!==s&&this.addBranchToForcePushList(e,n,o),this.statsStore.recordOperationSuccessful(s),this.endMultiCommitOperation(e),await this.refreshRepository(e)}getMultiCommitOperationSuccessBanner(e,t,n){const{operationDetail:r,targetBranch:i}=n,{kind:o}=r,s={count:t,onUndo:()=>{this.undoMultiCommitOperation(n,e,t)}};let a;switch(o){case"Squash":a=Object.assign(Object.assign({},s),{type:Ps.SuccessfulSquash});break;case"Reorder":a=Object.assign(Object.assign({},s),{type:Ps.SuccessfulReorder});break;case"Cherry-pick":a=Object.assign(Object.assign({},s),{type:Ps.SuccessfulCherryPick,targetBranchName:null!==i?i.name:""});break;case"Rebase":const e="Rebase"===r.kind?r.sourceBranch:null;a={type:Ps.SuccessfulRebase,targetBranch:null!==i?i.name:"",baseBranch:null!==e?e.name:void 0};break;case"Merge":throw new Error("Unexpected multi commit operation kind "+o);default:Ze(0,"Unsupported multi operation kind "+o)}return a}async undoMultiCommitOperation(e,t,n){const r=await this.appStore._undoMultiCommitOperation(e,t,n);return r&&this.statsStore.recordOperationUndone(e.operationDetail.kind),r}handleConflictsDetectedOnError(e,t,n){return this.appStore._handleConflictsDetectedOnError(e,t,n)}setMultiCommitOperationStep(e,t){return this.appStore._setMultiCommitOperationStep(e,t)}endMultiCommitOperation(e){this.appStore._endMultiCommitOperation(e)}startMergeBranchOperation(e,t=!1,n){const{branchesState:r}=this.repositoryStateManager.get(e),{defaultBranch:i,allBranches:o,recentBranches:s,tip:a}=r;let l=null;if(a.kind!==si.Valid)throw new Error("Tip is not in a valid state, which is required to start the merge operation");l=a.branch,this.initializeMergeOperation(e,t,null),this.setMultiCommitOperationStep(e,{kind:"ChooseBranch",defaultBranch:i,currentBranch:l,allBranches:o,recentBranches:s,initialBranch:null!==n?n:void 0}),this.showPopup({type:ai.MultiCommitOperation,repository:e})}recordSquashInvoked(e){e?this.statsStore.recordSquashViaContextMenuInvoked():this.statsStore.recordSquashViaDragAndDropInvokedCount()}initializeMergeOperation(e,t,n){const{branchesState:{tip:r}}=this.repositoryStateManager.get(e);let i=null;if(r.kind!==si.Valid)throw new Error("Tip is not in a valid state, which is required to initialize the merge operation");i=r.branch,this.initializeMultiCommitOperation(e,{kind:"Merge",isSquash:t,sourceBranch:n},i,[],i.tip.sha)}setShowCIStatusPopover(e){this.appStore._setShowCIStatusPopover(e),e&&this.statsStore.recordCheckRunsPopoverOpened()}_toggleCIStatusPopover(){this.appStore._toggleCIStatusPopover()}recordCheckViewedOnline(){this.statsStore.recordCheckViewedOnline()}recordCheckJobStepViewedOnline(){this.statsStore.recordCheckJobStepViewedOnline()}recordRerunChecks(){this.statsStore.recordRerunChecks()}recordChecksFailedDialogSwitchToPullRequest(){this.statsStore.recordChecksFailedDialogSwitchToPullRequest()}recordChecksFailedDialogRerunChecks(){this.statsStore.recordChecksFailedDialogRerunChecks()}}(pI,sI,eI,lI);dI.registerErrorHandler(qw),dI.registerErrorHandler((async function(e,t){return e instanceof Xo?(t.showPopup({type:ai.UpstreamAlreadyExists,repository:e.repository,existingRemote:e.existingRemote}),null):e})),dI.registerErrorHandler((async function(e,t){const n=function(e){return e instanceof Ii?e:null}(e);if(!n)return e;const{suggestDefaultEditor:r,openPreferences:i}=n.metadata;return await t.showPopup({type:ai.ExternalEditorFailed,message:n.message,suggestDefaultEditor:r,openPreferences:i}),null})),dI.registerErrorHandler((async function(e,t){return e instanceof Fo?(await t.showPopup({type:ai.OpenShellFailed,message:e.message}),null):e})),dI.registerErrorHandler((async function(e,t){const n=zw(e);if(!n)return e;const r=Gw(n.underlyingError);if(!r)return e;const i=r.result.gitError;if(!i)return e;if(i!==sr.GitError.MergeConflicts)return e;const{repository:o,gitContext:s}=n.metadata;if(null==o)return e;if(!(o instanceof vi))return e;if(null==s)return e;if("merge"!==s.kind&&"pull"!==s.kind)return e;switch(s.kind){case"pull":t.mergeConflictDetectedFromPull();break;case"merge":t.mergeConflictDetectedFromExplicitMerge()}const{currentBranch:a,theirBranch:l}=s;return t.handleConflictsDetectedOnError(o,a,l),null})),dI.registerErrorHandler((async function(e,t){const n=Gw(e);if(!n)return e;const r=n.result.gitError;return r?r!==sr.GitError.LFSAttributeDoesNotMatch?e:(t.showPopup({type:ai.LFSAttributeMismatch}),null):e})),dI.registerErrorHandler((async function(e,t){const n=zw(e);if(!n)return e;const r=Gw(n.underlyingError);if(!r||null===r.result.gitError)return e;if(!dd(r.result.gitError))return e;const{repository:i,retryAction:o}=n.metadata;return i instanceof vi&&bi(i)?void 0===o||o.type!==tt.Push||yi(i.gitHubRepository)?e:(t.showCreateForkDialog(i),null):e})),dI.registerErrorHandler((async function(e,t){const n=zw(e);if(!n)return e;const r=Gw(n.underlyingError);if(!r)return e;const i=r.result.gitError;if(!i)return e;if(!wa.has(i))return e;const o=n.metadata.repository;if(!o)return e;if(o instanceof vi&&o.gitHubRepository)return e;const s=n.metadata.retryAction;return s?(await t.promptForGenericGitAuthentication(o,s),null):(log.error("No retry action provided for a git authentication error.",n),e)})),dI.registerErrorHandler((async function(e,t){const n=zw(e);if(!n)return e;const r=Gw(n.underlyingError);if(!r)return e;const i=r.result.gitError;if(!i)return e;if(i!==sr.GitError.PushNotFastForward)return e;const o=n.metadata.repository;return o&&o instanceof vi?(t.showPopup({type:ai.PushNeedsPull,repository:o}),null):e})),dI.registerErrorHandler((async function(e,t){const n=zw(e);if(!n)return e;const r=Gw(n.underlyingError);if(!r||null===r.result.gitError)return e;if(!dd(r.result.gitError))return e;const{repository:i}=n.metadata;if(!(i instanceof vi))return e;if(null===i.gitHubRepository)return e;const o=r.result.stderr.split(/\r?\n/).filter(e=>e.startsWith("remote: ")).map(e=>e.substr("remote: ".length)).join("\n"),s=$w.exec(o);if(!s)return e;const a=s[1],l=i.gitHubRepository.endpoint;return t.showPopup({type:ai.SAMLReauthRequired,organizationName:a,endpoint:l,retryAction:n.metadata.retryAction}),null})),dI.registerErrorHandler((async function(e,t){const n=zw(e);return n&&n.metadata.backgroundTask?null:e})),dI.registerErrorHandler((async function(e,t){const n=zw(e);if(!n)return e;const r=n.metadata.repository;if(!(r&&r instanceof vi))return e;if(r.missing)return null;const i=Ww(n.underlyingError),o=Gw(n.underlyingError);return o&&o.result.gitError===sr.GitError.NotAGitRepository||i&&i.code===sr.RepositoryDoesNotExistErrorCode?(await t.updateRepositoryMissing(r,!0),null):e})),dI.registerErrorHandler((async function(e,t){var n;const r=zw(e);if(null===r)return e;const i=Gw(r.underlyingError);if(null===i)return e;const o=i.result.gitError;if(o!==sr.GitError.LocalChangesOverwritten&&o!==sr.GitError.MergeWithLocalChanges&&o!==sr.GitError.RebaseWithLocalChanges)return e;const{repository:s,retryAction:a}=r.metadata;if(!(s instanceof vi))return e;if(void 0===a)return e;"checkout"===(null===(n=r.metadata.gitContext)||void 0===n?void 0:n.kind)&&t.recordErrorWhenSwitchingBranchesWithUncommmittedChanges();const l=function(e){const t=new Array,n=e.split("\n");let r=!1;for(const e of n)if(r){if(!e.startsWith("\t"))break;t.push(e.trimLeft())}else e.startsWith("error:")&&e.includes("files would be overwritten")&&e.endsWith(":")&&(r=!0);return t}(i.result.stderr);return t.showPopup({type:ai.LocalChangesOverwritten,repository:s,retryAction:a,files:l}),null})),dI.registerErrorHandler((async function(e,t){const n=zw(e);if(!n)return e;const r=Gw(n.underlyingError);if(!r)return e;const i=r.result.gitError;if(!i)return e;if(i!==sr.GitError.RebaseConflicts)return e;const{repository:o,gitContext:s}=n.metadata;if(null==o)return e;if(!(o instanceof vi))return e;if(null==s)return e;if("merge"!==s.kind&&"pull"!==s.kind)return e;const{currentBranch:a}=s;return t.launchRebaseOperation(o,a),null})),dI.registerErrorHandler((async function(e,t){const n=zw(e);if(!n)return e;if(!Gw(n.underlyingError))return e;const{repository:r}=n.metadata;if(!(r instanceof vi))return e;if(!bi(r))return e;const i=Vw.exec(e.message);return i?(t.showPopup({type:ai.PushRejectedDueToMissingWorkflowScope,rejectedPath:i[1],repository:r}),null):e})),dI.registerErrorHandler((async function(e,t){if(!(e instanceof ot))return e;const{retryAction:n}=e.metadata;return void 0===n?e:(t.showPopup({type:ai.DiscardChangesRetry,retryAction:n}),null)})),document.body.classList.add("platform-darwin"),dI.initializeAppFocusState(),Jp.setDispatcher(dI),v("focus",()=>{const{selectedState:e}=pI.getState();e&&e.type!==He.CloningRepository&&dI.refreshRepository(e.repository),dI.setAppFocusState(!0)}),v("blur",()=>{dI.setAccessKeyHighlightState(!1),dI.setAppFocusState(!1)}),v("url-action",(e,t)=>dI.dispatchURLAction(t)),me.render(de.createElement(nP,{dispatcher:dI,appStore:pI,repositoryStateManager:sI,issuesStore:JP,gitHubUserStore:XP,aheadBehindStore:cI,startTime:KP}),document.getElementById("desktop-app-container"))},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"v1",(function(){return m})),n.d(t,"v3",(function(){return x})),n.d(t,"v4",(function(){return D})),n.d(t,"v5",(function(){return R})),n.d(t,"NIL",(function(){return A})),n.d(t,"version",(function(){return O})),n.d(t,"validate",(function(){return a})),n.d(t,"stringify",(function(){return p})),n.d(t,"parse",(function(){return g}));var i=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var a=function(e){return"string"==typeof e&&s.test(e)},l=[],c=0;c<256;++c)l.push((c+256).toString(16).substr(1));var u,h,p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!a(n))throw TypeError("Stringified UUID is invalid");return n},d=0,f=0;var m=function(e,t,n){var r=t&&n||0,i=t||new Array(16),s=(e=e||{}).node||u,a=void 0!==e.clockseq?e.clockseq:h;if(null==s||null==a){var l=e.random||(e.rng||o)();null==s&&(s=u=[1|l[0],l[1],l[2],l[3],l[4],l[5]]),null==a&&(a=h=16383&(l[6]<<8|l[7]))}var c=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:f+1,g=c-d+(m-f)/1e4;if(g<0&&void 0===e.clockseq&&(a=a+1&16383),(g<0||c>d)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=c,f=m,h=a;var y=(1e4*(268435455&(c+=122192928e5))+m)%4294967296;i[r++]=y>>>24&255,i[r++]=y>>>16&255,i[r++]=y>>>8&255,i[r++]=255&y;var v=c/4294967296*1e4&268435455;i[r++]=v>>>8&255,i[r++]=255&v,i[r++]=v>>>24&15|16,i[r++]=v>>>16&255,i[r++]=a>>>8|128,i[r++]=255&a;for(var b=0;b<6;++b)i[r+b]=s[b];return t||p(i)};var g=function(e){if(!a(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};var y=function(e,t,n){function r(e,r,i,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=g(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+e.length);if(s.set(r),s.set(e,r.length),(s=n(s))[6]=15&s[6]|t,s[8]=63&s[8]|128,i){o=o||0;for(var a=0;a<16;++a)i[o+a]=s[a];return i}return p(s)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r};function v(e){return 14+(e+64>>>9<<4)+1}function b(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function w(e,t,n,r,i,o){return b((s=b(b(t,e),b(r,o)))<<(a=i)|s>>>32-a,n);var s,a}function C(e,t,n,r,i,o,s){return w(t&n|~t&r,e,t,i,o,s)}function S(e,t,n,r,i,o,s){return w(t&r|n&~r,e,t,i,o,s)}function E(e,t,n,r,i,o,s){return w(t^n^r,e,t,i,o,s)}function k(e,t,n,r,i,o,s){return w(n^(t|~r),e,t,i,o,s)}var x=y("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r=0;r<n;r+=8){var i=e[r>>5]>>>r%32&255,o=parseInt("0123456789abcdef".charAt(i>>>4&15)+"0123456789abcdef".charAt(15&i),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[v(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=n,l=r,c=i,u=o;n=C(n,r,i,o,e[s],7,-680876936),o=C(o,n,r,i,e[s+1],12,-389564586),i=C(i,o,n,r,e[s+2],17,606105819),r=C(r,i,o,n,e[s+3],22,-1044525330),n=C(n,r,i,o,e[s+4],7,-176418897),o=C(o,n,r,i,e[s+5],12,1200080426),i=C(i,o,n,r,e[s+6],17,-1473231341),r=C(r,i,o,n,e[s+7],22,-45705983),n=C(n,r,i,o,e[s+8],7,1770035416),o=C(o,n,r,i,e[s+9],12,-1958414417),i=C(i,o,n,r,e[s+10],17,-42063),r=C(r,i,o,n,e[s+11],22,-1990404162),n=C(n,r,i,o,e[s+12],7,1804603682),o=C(o,n,r,i,e[s+13],12,-40341101),i=C(i,o,n,r,e[s+14],17,-1502002290),r=C(r,i,o,n,e[s+15],22,1236535329),n=S(n,r,i,o,e[s+1],5,-165796510),o=S(o,n,r,i,e[s+6],9,-1069501632),i=S(i,o,n,r,e[s+11],14,643717713),r=S(r,i,o,n,e[s],20,-373897302),n=S(n,r,i,o,e[s+5],5,-701558691),o=S(o,n,r,i,e[s+10],9,38016083),i=S(i,o,n,r,e[s+15],14,-660478335),r=S(r,i,o,n,e[s+4],20,-405537848),n=S(n,r,i,o,e[s+9],5,568446438),o=S(o,n,r,i,e[s+14],9,-1019803690),i=S(i,o,n,r,e[s+3],14,-187363961),r=S(r,i,o,n,e[s+8],20,1163531501),n=S(n,r,i,o,e[s+13],5,-1444681467),o=S(o,n,r,i,e[s+2],9,-51403784),i=S(i,o,n,r,e[s+7],14,1735328473),r=S(r,i,o,n,e[s+12],20,-1926607734),n=E(n,r,i,o,e[s+5],4,-378558),o=E(o,n,r,i,e[s+8],11,-2022574463),i=E(i,o,n,r,e[s+11],16,1839030562),r=E(r,i,o,n,e[s+14],23,-35309556),n=E(n,r,i,o,e[s+1],4,-1530992060),o=E(o,n,r,i,e[s+4],11,1272893353),i=E(i,o,n,r,e[s+7],16,-155497632),r=E(r,i,o,n,e[s+10],23,-1094730640),n=E(n,r,i,o,e[s+13],4,681279174),o=E(o,n,r,i,e[s],11,-358537222),i=E(i,o,n,r,e[s+3],16,-722521979),r=E(r,i,o,n,e[s+6],23,76029189),n=E(n,r,i,o,e[s+9],4,-640364487),o=E(o,n,r,i,e[s+12],11,-421815835),i=E(i,o,n,r,e[s+15],16,530742520),r=E(r,i,o,n,e[s+2],23,-995338651),n=k(n,r,i,o,e[s],6,-198630844),o=k(o,n,r,i,e[s+7],10,1126891415),i=k(i,o,n,r,e[s+14],15,-1416354905),r=k(r,i,o,n,e[s+5],21,-57434055),n=k(n,r,i,o,e[s+12],6,1700485571),o=k(o,n,r,i,e[s+3],10,-1894986606),i=k(i,o,n,r,e[s+10],15,-1051523),r=k(r,i,o,n,e[s+1],21,-2054922799),n=k(n,r,i,o,e[s+8],6,1873313359),o=k(o,n,r,i,e[s+15],10,-30611744),i=k(i,o,n,r,e[s+6],15,-1560198380),r=k(r,i,o,n,e[s+13],21,1309151649),n=k(n,r,i,o,e[s+4],6,-145523070),o=k(o,n,r,i,e[s+11],10,-1120210379),i=k(i,o,n,r,e[s+2],15,718787259),r=k(r,i,o,n,e[s+9],21,-343485551),n=b(n,a),r=b(r,l),i=b(i,c),o=b(o,u)}return[n,r,i,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(v(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))}));var D=function(e,t,n){var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return p(r)};function _(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function T(e,t){return e<<t|e>>>32-t}var R=y("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s),l=0;l<s;++l){for(var c=new Uint32Array(16),u=0;u<16;++u)c[u]=e[64*l+4*u]<<24|e[64*l+4*u+1]<<16|e[64*l+4*u+2]<<8|e[64*l+4*u+3];a[l]=c}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(var h=0;h<s;++h){for(var p=new Uint32Array(80),d=0;d<16;++d)p[d]=a[h][d];for(var f=16;f<80;++f)p[f]=T(p[f-3]^p[f-8]^p[f-14]^p[f-16],1);for(var m=n[0],g=n[1],y=n[2],v=n[3],b=n[4],w=0;w<80;++w){var C=Math.floor(w/20),S=T(m,5)+_(C,g,y,v)+b+t[C]+p[w]>>>0;b=v,v=y,y=T(g,30)>>>0,g=m,m=S}n[0]=n[0]+m>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+y>>>0,n[3]=n[3]+v>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),A="00000000-0000-0000-0000-000000000000";var O=function(e){if(!a(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},function(e,t,n){"use strict";n.r(t),n.d(t,"createFocusTrap",(function(){return y}));
/*!
* tabbable 5.1.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/
let r=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary"],i=r.join(","),o="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;function s(e,t,n){let r=Array.prototype.slice.apply(e.querySelectorAll(i));return t&&o.call(e,i)&&r.unshift(e),r=r.filter(n),r}function a(e){return!(!l(e)||function(e){return function(e){return d(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;let t=function(e,t){for(let n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}((e.form||e.ownerDocument).querySelectorAll('input[type="radio"][name="'+e.name+'"]'),e.form);return!t||t===e}(e)}(e)||h(e)<0)}function l(e){return!(e.disabled||function(e){return d(e)&&"hidden"===e.type}(e)||function(e){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}
/*!
* focus-trap 6.1.0
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/(e))}let c=r.concat("iframe").join(",");function u(e){if(!e)throw new Error("No node provided");return!1!==o.call(e,c)&&l(e)}function h(e){let t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?function(e){return"true"===e.contentEditable}(e)?0:"AUDIO"!==e.nodeName&&"VIDEO"!==e.nodeName||null!==e.getAttribute("tabindex")?e.tabIndex:0:t}function p(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex}function d(e){return"INPUT"===e.tagName}var f,m,g=(m=[],{activateTrap:function(e){if(m.length>0){var t=m[m.length-1];t!==e&&t.pause()}var n=m.indexOf(e);-1===n||m.splice(n,1),m.push(e)},deactivateTrap:function(e){var t=m.indexOf(e);-1!==t&&m.splice(t,1),m.length>0&&m[m.length-1].unpause()}});function y(e,t){var n=document,r="string"==typeof e?n.querySelector(e):e,i={returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,...t},o={firstTabbableNode:null,lastTabbableNode:null,nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1},l={activate:function(e){if(o.active)return;k(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=n.activeElement;var t=e&&e.onActivate?e.onActivate:i.onActivate;t&&t();return d(),l},deactivate:c,pause:function(){if(o.paused||!o.active)return;o.paused=!0,m()},unpause:function(){if(!o.paused||!o.active)return;o.paused=!1,k(),d()}};return l;function c(e){if(o.active){clearTimeout(f),m(),o.active=!1,o.paused=!1,g.deactivateTrap(l);var t=e&&void 0!==e.onDeactivate?e.onDeactivate:i.onDeactivate;return t&&t(),(e&&void 0!==e.returnFocus?e.returnFocus:i.returnFocusOnDeactivate)&&v((function(){var e;x((e=o.nodeFocusedBeforeActivation,y("setReturnFocus")||e))})),l}}function d(){if(o.active)return g.activateTrap(l),f=i.delayInitialFocus?v((function(){x(b())})):x(b()),n.addEventListener("focusin",C,!0),n.addEventListener("mousedown",w,{capture:!0,passive:!1}),n.addEventListener("touchstart",w,{capture:!0,passive:!1}),n.addEventListener("click",E,{capture:!0,passive:!1}),n.addEventListener("keydown",S,{capture:!0,passive:!1}),l}function m(){if(o.active)return n.removeEventListener("focusin",C,!0),n.removeEventListener("mousedown",w,!0),n.removeEventListener("touchstart",w,!0),n.removeEventListener("click",E,!0),n.removeEventListener("keydown",S,!0),l}function y(e){var t=i[e],r=t;if(!t)return null;if("string"==typeof t&&!(r=n.querySelector(t)))throw new Error("`"+e+"` refers to no known node");if("function"==typeof t&&!(r=t()))throw new Error("`"+e+"` did not return a node");return r}function b(){var e;if(!(e=null!==y("initialFocus")?y("initialFocus"):r.contains(n.activeElement)?n.activeElement:o.firstTabbableNode||y("fallbackFocus")))throw new Error("Your focus-trap needs to have at least one focusable element");return e}function w(e){r.contains(e.target)||(i.clickOutsideDeactivates?c({returnFocus:!u(e.target)}):i.allowOutsideClick&&("boolean"==typeof i.allowOutsideClick?i.allowOutsideClick:i.allowOutsideClick(e))||e.preventDefault())}function C(e){r.contains(e.target)||e.target instanceof Document||(e.stopImmediatePropagation(),x(o.mostRecentlyFocusedNode||b()))}function S(e){if(!1!==i.escapeDeactivates&&function(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}(e))return e.preventDefault(),void c();(function(e){return"Tab"===e.key||9===e.keyCode})(e)&&function(e){if(k(),e.shiftKey&&e.target===o.firstTabbableNode)return e.preventDefault(),void x(o.lastTabbableNode);if(!e.shiftKey&&e.target===o.lastTabbableNode)e.preventDefault(),x(o.firstTabbableNode)}(e)}function E(e){i.clickOutsideDeactivates||r.contains(e.target)||i.allowOutsideClick&&("boolean"==typeof i.allowOutsideClick?i.allowOutsideClick:i.allowOutsideClick(e))||(e.preventDefault(),e.stopImmediatePropagation())}function k(){var e=function(e,t){let n=[],r=[];return s(e,(t=t||{}).includeContainer,a).forEach((function(e,t){let i=h(e);0===i?n.push(e):r.push({documentOrder:t,tabIndex:i,node:e})})),r.sort(p).map(e=>e.node).concat(n)}(r);o.firstTabbableNode=e[0]||b(),o.lastTabbableNode=e[e.length-1]||b()}function x(e){e!==n.activeElement&&(e&&e.focus?(e.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=e,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"==typeof e.select}(e)&&e.select()):x(b()))}}function v(e){return setTimeout(e,0)}}]);
//# sourceMappingURL=renderer.js.map